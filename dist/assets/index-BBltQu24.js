(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function kk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var a=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,a.get?a:{enumerable:!0,get:function(){return t[i]}})}),n}var hg={exports:{}},Lu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mT;function Pk(){if(mT)return Lu;mT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(i,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:i,key:u,ref:a!==void 0?a:null,props:l}}return Lu.Fragment=e,Lu.jsx=n,Lu.jsxs=n,Lu}var pT;function Dk(){return pT||(pT=1,hg.exports=Pk()),hg.exports}var _=Dk(),dg={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gT;function Ok(){if(gT)return Ue;gT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function R(U,Q,oe){this.props=U,this.context=Q,this.refs=k,this.updater=oe||x}R.prototype.isReactComponent={},R.prototype.setState=function(U,Q){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,Q,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=R.prototype;function B(U,Q,oe){this.props=U,this.context=Q,this.refs=k,this.updater=oe||x}var O=B.prototype=new N;O.constructor=B,S(O,R.prototype),O.isPureReactComponent=!0;var G=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function D(U,Q,oe,se,ye,Te){return oe=Te.ref,{$$typeof:t,type:U,key:Q,ref:oe!==void 0?oe:null,props:Te}}function A(U,Q){return D(U.type,Q,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var Q={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(oe){return Q[oe]})}var F=/\/+/g;function q(U,Q){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):Q.toString(36)}function V(){}function ie(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(Q){U.status==="pending"&&(U.status="fulfilled",U.value=Q)},function(Q){U.status==="pending"&&(U.status="rejected",U.reason=Q)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function pe(U,Q,oe,se,ye){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(Te){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case t:case e:Ee=!0;break;case g:return Ee=U._init,pe(Ee(U._payload),Q,oe,se,ye)}}if(Ee)return ye=ye(U),Ee=se===""?"."+q(U,0):se,G(ye)?(oe="",Ee!=null&&(oe=Ee.replace(F,"$&/")+"/"),pe(ye,Q,oe,"",function(je){return je})):ye!=null&&(I(ye)&&(ye=A(ye,oe+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+Ee)),Q.push(ye)),1;Ee=0;var ct=se===""?".":se+":";if(G(U))for(var $e=0;$e<U.length;$e++)se=U[$e],Te=ct+q(se,$e),Ee+=pe(se,Q,oe,Te,ye);else if($e=w(U),typeof $e=="function")for(U=$e.call(U),$e=0;!(se=U.next()).done;)se=se.value,Te=ct+q(se,$e++),Ee+=pe(se,Q,oe,Te,ye);else if(Te==="object"){if(typeof U.then=="function")return pe(ie(U),Q,oe,se,ye);throw Q=String(U),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(U,Q,oe){if(U==null)return U;var se=[],ye=0;return pe(U,se,"","",function(Te){return Q.call(oe,Te,ye++)}),se}function re(U){if(U._status===-1){var Q=U._result;Q=Q(),Q.then(function(oe){(U._status===0||U._status===-1)&&(U._status=1,U._result=oe)},function(oe){(U._status===0||U._status===-1)&&(U._status=2,U._result=oe)}),U._status===-1&&(U._status=0,U._result=Q)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return Ue.Children={map:K,forEach:function(U,Q,oe){K(U,function(){Q.apply(this,arguments)},oe)},count:function(U){var Q=0;return K(U,function(){Q++}),Q},toArray:function(U){return K(U,function(Q){return Q})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=R,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=B,Ue.StrictMode=i,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(U){return H.H.useMemoCache(U)}},Ue.cache=function(U){return function(){return U.apply(null,arguments)}},Ue.cloneElement=function(U,Q,oe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var se=S({},U.props),ye=U.key,Te=void 0;if(Q!=null)for(Ee in Q.ref!==void 0&&(Te=void 0),Q.key!==void 0&&(ye=""+Q.key),Q)!M.call(Q,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&Q.ref===void 0||(se[Ee]=Q[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=oe;else if(1<Ee){for(var ct=Array(Ee),$e=0;$e<Ee;$e++)ct[$e]=arguments[$e+2];se.children=ct}return D(U.type,ye,void 0,void 0,Te,se)},Ue.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ue.createElement=function(U,Q,oe){var se,ye={},Te=null;if(Q!=null)for(se in Q.key!==void 0&&(Te=""+Q.key),Q)M.call(Q,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=Q[se]);var Ee=arguments.length-2;if(Ee===1)ye.children=oe;else if(1<Ee){for(var ct=Array(Ee),$e=0;$e<Ee;$e++)ct[$e]=arguments[$e+2];ye.children=ct}if(U&&U.defaultProps)for(se in Ee=U.defaultProps,Ee)ye[se]===void 0&&(ye[se]=Ee[se]);return D(U,Te,void 0,void 0,null,ye)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:h,render:U}},Ue.isValidElement=I,Ue.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:re}},Ue.memo=function(U,Q){return{$$typeof:m,type:U,compare:Q===void 0?null:Q}},Ue.startTransition=function(U){var Q=H.T,oe={};H.T=oe;try{var se=U(),ye=H.S;ye!==null&&ye(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(le,fe)}catch(Te){fe(Te)}finally{H.T=Q}},Ue.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ue.use=function(U){return H.H.use(U)},Ue.useActionState=function(U,Q,oe){return H.H.useActionState(U,Q,oe)},Ue.useCallback=function(U,Q){return H.H.useCallback(U,Q)},Ue.useContext=function(U){return H.H.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U,Q){return H.H.useDeferredValue(U,Q)},Ue.useEffect=function(U,Q,oe){var se=H.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(U,Q)},Ue.useId=function(){return H.H.useId()},Ue.useImperativeHandle=function(U,Q,oe){return H.H.useImperativeHandle(U,Q,oe)},Ue.useInsertionEffect=function(U,Q){return H.H.useInsertionEffect(U,Q)},Ue.useLayoutEffect=function(U,Q){return H.H.useLayoutEffect(U,Q)},Ue.useMemo=function(U,Q){return H.H.useMemo(U,Q)},Ue.useOptimistic=function(U,Q){return H.H.useOptimistic(U,Q)},Ue.useReducer=function(U,Q,oe){return H.H.useReducer(U,Q,oe)},Ue.useRef=function(U){return H.H.useRef(U)},Ue.useState=function(U){return H.H.useState(U)},Ue.useSyncExternalStore=function(U,Q,oe){return H.H.useSyncExternalStore(U,Q,oe)},Ue.useTransition=function(){return H.H.useTransition()},Ue.version="19.1.0",Ue}var yT;function vl(){return yT||(yT=1,dg.exports=Ok()),dg.exports}var L=vl();const iA=hv(L);var fg={exports:{}},Uu={},mg={exports:{}},pg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function Mk(){return vT||(vT=1,function(t){function e(K,re){var fe=K.length;K.push(re);e:for(;0<fe;){var le=fe-1>>>1,U=K[le];if(0<a(U,re))K[le]=re,K[fe]=U,fe=le;else break e}}function n(K){return K.length===0?null:K[0]}function i(K){if(K.length===0)return null;var re=K[0],fe=K.pop();if(fe!==re){K[0]=fe;e:for(var le=0,U=K.length,Q=U>>>1;le<Q;){var oe=2*(le+1)-1,se=K[oe],ye=oe+1,Te=K[ye];if(0>a(se,fe))ye<U&&0>a(Te,se)?(K[le]=Te,K[ye]=fe,le=ye):(K[le]=se,K[oe]=fe,le=oe);else if(ye<U&&0>a(Te,fe))K[le]=Te,K[ye]=fe,le=ye;else break e}}return re}function a(K,re){var fe=K.sortIndex-re.sortIndex;return fe!==0?fe:K.id-re.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],g=1,v=null,w=3,x=!1,S=!1,k=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var re=n(m);re!==null;){if(re.callback===null)i(m);else if(re.startTime<=K)i(m),re.sortIndex=re.expirationTime,e(d,re);else break;re=n(m)}}function H(K){if(k=!1,G(K),!S)if(n(d)!==null)S=!0,M||(M=!0,q());else{var re=n(m);re!==null&&pe(H,re.startTime-K)}}var M=!1,D=-1,A=5,I=-1;function j(){return R?!0:!(t.unstable_now()-I<A)}function F(){if(R=!1,M){var K=t.unstable_now();I=K;var re=!0;try{e:{S=!1,k&&(k=!1,B(D),D=-1),x=!0;var fe=w;try{t:{for(G(K),v=n(d);v!==null&&!(v.expirationTime>K&&j());){var le=v.callback;if(typeof le=="function"){v.callback=null,w=v.priorityLevel;var U=le(v.expirationTime<=K);if(K=t.unstable_now(),typeof U=="function"){v.callback=U,G(K),re=!0;break t}v===n(d)&&i(d),G(K)}else i(d);v=n(d)}if(v!==null)re=!0;else{var Q=n(m);Q!==null&&pe(H,Q.startTime-K),re=!1}}break e}finally{v=null,w=fe,x=!1}re=void 0}}finally{re?q():M=!1}}}var q;if(typeof O=="function")q=function(){O(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,ie=V.port2;V.port1.onmessage=F,q=function(){ie.postMessage(null)}}else q=function(){N(F,0)};function pe(K,re){D=N(function(){K(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var fe=w;w=re;try{return K()}finally{w=fe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,re){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return re()}finally{w=fe}},t.unstable_scheduleCallback=function(K,re,fe){var le=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?le+fe:le):fe=le,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,K={id:g++,callback:re,priorityLevel:K,startTime:fe,expirationTime:U,sortIndex:-1},fe>le?(K.sortIndex=fe,e(m,K),n(d)===null&&K===n(m)&&(k?(B(D),D=-1):k=!0,pe(H,fe-le))):(K.sortIndex=U,e(d,K),S||x||(S=!0,M||(M=!0,q()))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var re=w;return function(){var fe=w;w=re;try{return K.apply(this,arguments)}finally{w=fe}}}}(pg)),pg}var _T;function Vk(){return _T||(_T=1,mg.exports=Mk()),mg.exports}var gg={exports:{}},gn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function jk(){if(bT)return gn;bT=1;var t=vl();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var i={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return gn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,gn.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},gn.flushSync=function(d){var m=u.T,g=i.p;try{if(u.T=null,i.p=2,d)return d()}finally{u.T=m,i.p=g,i.d.f()}},gn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(d,m))},gn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},gn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?i.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:x}):g==="script"&&i.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},gn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);i.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(d)},gn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);i.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},gn.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);i.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(d)},gn.requestFormReset=function(d){i.d.r(d)},gn.unstable_batchedUpdates=function(d,m){return d(m)},gn.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},gn.useFormStatus=function(){return u.H.useHostTransitionStatus()},gn.version="19.1.0",gn}var wT;function Lk(){if(wT)return gg.exports;wT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gg.exports=jk(),gg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function Uk(){if(TT)return Uu;TT=1;var t=Vk(),e=vl(),n=Lk();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function l(r){var s=r,o=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(o=s.return),r=s.return;while(r)}return s.tag===3?o:null}function u(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function h(r){if(l(r)!==r)throw Error(i(188))}function d(r){var s=r.alternate;if(!s){if(s=l(r),s===null)throw Error(i(188));return s!==r?null:r}for(var o=r,c=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return h(p),r;if(y===c)return h(p),s;y=y.sibling}throw Error(i(188))}if(o.return!==c.return)o=p,c=y;else{for(var E=!1,C=p.child;C;){if(C===o){E=!0,o=p,c=y;break}if(C===c){E=!0,c=p,o=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===o){E=!0,o=y,c=p;break}if(C===c){E=!0,c=y,o=p;break}C=C.sibling}if(!E)throw Error(i(189))}}if(o.alternate!==c)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?r:s}function m(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=m(r),s!==null)return s;r=r.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),O=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(r){return r===null||typeof r!="object"?null:(r=F&&r[F]||r["@@iterator"],typeof r=="function"?r:null)}var V=Symbol.for("react.client.reference");function ie(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===V?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case S:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case x:return"Portal";case O:return(r.displayName||"Context")+".Provider";case B:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case D:return s=r.displayName||null,s!==null?s:ie(r.type)||"Memo";case A:s=r._payload,r=r._init;try{return ie(r(s))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},le=[],U=-1;function Q(r){return{current:r}}function oe(r){0>U||(r.current=le[U],le[U]=null,U--)}function se(r,s){U++,le[U]=r.current,r.current=s}var ye=Q(null),Te=Q(null),Ee=Q(null),ct=Q(null);function $e(r,s){switch(se(Ee,s),se(Te,r),se(ye,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?zw(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=zw(s),r=qw(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}oe(ye),se(ye,r)}function je(){oe(ye),oe(Te),oe(Ee)}function Xt(r){r.memoizedState!==null&&se(ct,r);var s=ye.current,o=qw(s,r.type);s!==o&&(se(Te,r),se(ye,o))}function xn(r){Te.current===r&&(oe(ye),oe(Te)),ct.current===r&&(oe(ct),Du._currentValue=fe)}var Sn=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,ze=t.unstable_shouldYield,et=t.unstable_requestPaint,me=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,it=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,Di=t.unstable_LowPriority,ea=t.unstable_IdlePriority,es=t.log,ta=t.unstable_setDisableYieldValue,St=null,ot=null;function Fn(r){if(typeof es=="function"&&ta(r),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(St,r)}catch{}}var mn=Math.clz32?Math.clz32:na,Yc=Math.log,dm=Math.LN2;function na(r){return r>>>=0,r===0?32:31-(Yc(r)/dm|0)|0}var ia=256,ra=4194304;function gi(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function so(r,s,o){var c=r.pendingLanes;if(c===0)return 0;var p=0,y=r.suspendedLanes,E=r.pingedLanes;r=r.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?p=gi(c):(E&=C,E!==0?p=gi(E):o||(o=C&~r,o!==0&&(p=gi(o))))):(C=c&~y,C!==0?p=gi(C):E!==0?p=gi(E):o||(o=c&~r,o!==0&&(p=gi(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function sa(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function Dl(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ol(){var r=ia;return ia<<=1,(ia&4194048)===0&&(ia=256),r}function Ml(){var r=ra;return ra<<=1,(ra&62914560)===0&&(ra=4194304),r}function cr(r){for(var s=[],o=0;31>o;o++)s.push(r);return s}function hr(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function Vl(r,s,o,c,p,y){var E=r.pendingLanes;r.pendingLanes=o,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=o,r.entangledLanes&=o,r.errorRecoveryDisabledLanes&=o,r.shellSuspendCounter=0;var C=r.entanglements,z=r.expirationTimes,Z=r.hiddenUpdates;for(o=E&~o;0<o;){var ae=31-mn(o),ce=1<<ae;C[ae]=0,z[ae]=-1;var J=Z[ae];if(J!==null)for(Z[ae]=null,ae=0;ae<J.length;ae++){var ee=J[ae];ee!==null&&(ee.lane&=-536870913)}o&=~ce}c!==0&&Oi(r,c,0),y!==0&&p===0&&r.tag!==0&&(r.suspendedLanes|=y&~(E&~s))}function Oi(r,s,o){r.pendingLanes|=s,r.suspendedLanes&=~s;var c=31-mn(s);r.entangledLanes|=s,r.entanglements[c]=r.entanglements[c]|1073741824|o&4194090}function jl(r,s){var o=r.entangledLanes|=s;for(r=r.entanglements;o;){var c=31-mn(o),p=1<<c;p&s|r[c]&s&&(r[c]|=s),o&=~p}}function ts(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function ao(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function ns(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:lT(r.type))}function Wc(r,s){var o=re.p;try{return re.p=r,s()}finally{re.p=o}}var vt=Math.random().toString(36).slice(2),Ht="__reactFiber$"+vt,jt="__reactProps$"+vt,ei="__reactContainer$"+vt,Ll="__reactEvents$"+vt,fm="__reactListeners$"+vt,is="__reactHandles$"+vt,Qc="__reactResources$"+vt,aa="__reactMarker$"+vt;function rs(r){delete r[Ht],delete r[jt],delete r[Ll],delete r[fm],delete r[is]}function dr(r){var s=r[Ht];if(s)return s;for(var o=r.parentNode;o;){if(s=o[ei]||o[Ht]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(r=Kw(r);r!==null;){if(o=r[Ht])return o;r=Kw(r)}return s}r=o,o=r.parentNode}return null}function Mi(r){if(r=r[Ht]||r[ei]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Vi(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function An(r){var s=r[Qc];return s||(s=r[Qc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(r){r[aa]=!0}var Ul=new Set,oo={};function yi(r,s){fr(r,s),fr(r+"Capture",s)}function fr(r,s){for(oo[r]=s,r=0;r<s.length;r++)Ul.add(s[r])}var Xc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},oa={};function Jc(r){return Sn.call(oa,r)?!0:Sn.call(Zc,r)?!1:Xc.test(r)?oa[r]=!0:(Zc[r]=!0,!1)}function ss(r,s,o){if(Jc(s))if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+o)}}function ji(r,s,o){if(o===null)r.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+o)}}function sn(r,s,o,c){if(c===null)r.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(o);return}r.setAttributeNS(s,o,""+c)}}var la,eh;function mr(r){if(la===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);la=s&&s[1]||"",eh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+r+eh}var lo=!1;function uo(r,s){if(!r||lo)return"";lo=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var J=ee}Reflect.construct(r,[],ce)}else{try{ce.call()}catch(ee){J=ee}r.call(ce.prototype)}}else{try{throw Error()}catch(ee){J=ee}(ce=r())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&J&&typeof ee.stack=="string")return[ee.stack,J.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var z=E.split(`
`),Z=C.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===Z.length)for(c=z.length-1,p=Z.length-1;1<=c&&0<=p&&z[c]!==Z[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==Z[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==Z[p]){var ae=`
`+z[c].replace(" at new "," at ");return r.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",r.displayName)),ae}while(1<=c&&0<=p);break}}}finally{lo=!1,Error.prepareStackTrace=o}return(o=r?r.displayName||r.name:"")?mr(o):""}function Bl(r){switch(r.tag){case 26:case 27:case 5:return mr(r.type);case 16:return mr("Lazy");case 13:return mr("Suspense");case 19:return mr("SuspenseList");case 0:case 15:return uo(r.type,!1);case 11:return uo(r.type.render,!1);case 1:return uo(r.type,!0);case 31:return mr("Activity");default:return""}}function co(r){try{var s="";do s+=Bl(r),r=r.return;while(r);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Fl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mm(r){var s=Fl(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),c=""+r[s];if(!r.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(r,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function ho(r){r._valueTracker||(r._valueTracker=mm(r))}function zl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return r&&(c=Fl(r)?r.checked?"true":"false":r.value),r=c,r!==o?(s.setValue(r),!0):!1}function ua(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var pm=/[\n"\\]/g;function Lt(r){return r.replace(pm,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zn(r,s,o,c,p,y,E,C){r.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?r.type=E:r.removeAttribute("type"),s!=null?E==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+Rn(s)):r.value!==""+Rn(s)&&(r.value=""+Rn(s)):E!=="submit"&&E!=="reset"||r.removeAttribute("value"),s!=null?as(r,E,Rn(s)):o!=null?as(r,E,Rn(o)):c!=null&&r.removeAttribute("value"),p==null&&y!=null&&(r.defaultChecked=!!y),p!=null&&(r.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?r.name=""+Rn(C):r.removeAttribute("name")}function ca(r,s,o,c,p,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(r.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Rn(o):"",s=s!=null?""+Rn(s):o,C||s===r.value||(r.value=s),r.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,r.checked=C?r.checked:!!c,r.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(r.name=E)}function as(r,s,o){s==="number"&&ua(r.ownerDocument)===r||r.defaultValue===""+o||(r.defaultValue=""+o)}function pr(r,s,o,c){if(r=r.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<r.length;o++)p=s.hasOwnProperty("$"+r[o].value),r[o].selected!==p&&(r[o].selected=p),p&&c&&(r[o].defaultSelected=!0)}else{for(o=""+Rn(o),s=null,p=0;p<r.length;p++){if(r[p].value===o){r[p].selected=!0,c&&(r[p].defaultSelected=!0);return}s!==null||r[p].disabled||(s=r[p])}s!==null&&(s.selected=!0)}}function ht(r,s,o){if(s!=null&&(s=""+Rn(s),s!==r.value&&(r.value=s),o==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=o!=null?""+Rn(o):""}function ha(r,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(i(92));if(pe(c)){if(1<c.length)throw Error(i(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Rn(s),r.defaultValue=o,c=r.textContent,c===o&&c!==""&&c!==null&&(r.value=c)}function ti(r,s){if(s){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=s;return}}r.textContent=s}var da=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function th(r,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":c?r.setProperty(s,o):typeof o!="number"||o===0||da.has(s)?s==="float"?r.cssFloat=o:r[s]=(""+o).trim():r[s]=o+"px"}function ql(r,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?r.setProperty(c,""):c==="float"?r.cssFloat="":r[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&th(r,p,c)}else for(var y in s)s.hasOwnProperty(y)&&th(r,y,s[y])}function Hl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ym=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fo(r){return ym.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var gr=null;function ni(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var yr=null,vr=null;function Gl(r){var s=Mi(r);if(s&&(r=s.stateNode)){var o=r[jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(zn(r,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==r&&c.form===r.form){var p=c[jt]||null;if(!p)throw Error(i(90));zn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===r.form&&zl(c)}break e;case"textarea":ht(r,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&pr(r,!!o.multiple,s,!1)}}}var Li=!1;function nh(r,s,o){if(Li)return r(s,o);Li=!0;try{var c=r(s);return c}finally{if(Li=!1,(yr!==null||vr!==null)&&(Wh(),yr&&(s=yr,r=vr,vr=yr=null,Gl(s),r)))for(s=0;s<r.length;s++)Gl(r[s])}}function fa(r,s){var o=r.stateNode;if(o===null)return null;var c=o[jt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ii=!1;if(vi)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){ii=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{ii=!1}var Ui=null,os=null,_r=null;function $l(){if(_r)return _r;var r,s=os,o=s.length,c,p="value"in Ui?Ui.value:Ui.textContent,y=p.length;for(r=0;r<o&&s[r]===p[r];r++);var E=o-r;for(c=1;c<=E&&s[o-c]===p[y-c];c++);return _r=p.slice(r,1<c?1-c:void 0)}function Bi(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Fi(){return!0}function Kl(){return!1}function Zt(r){function s(o,c,p,y,E){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in r)r.hasOwnProperty(C)&&(o=r[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fi:Kl,this.isPropagationStopped=Kl,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),s}var rt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mo=Zt(rt),pa=g({},rt,{view:0,detail:0}),ih=Zt(pa),po,go,zi,ga=g({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_a,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==zi&&(zi&&r.type==="mousemove"?(po=r.screenX-zi.screenX,go=r.screenY-zi.screenY):go=po=0,zi=r),po)},movementY:function(r){return"movementY"in r?r.movementY:go}}),ri=Zt(ga),rh=g({},ga,{dataTransfer:0}),vm=Zt(rh),ya=g({},pa,{relatedTarget:0}),yo=Zt(ya),Yl=g({},rt,{animationName:0,elapsedTime:0,pseudoElement:0}),vo=Zt(Yl),sh=g({},rt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_o=Zt(sh),_m=g({},rt,{data:0}),Wl=Zt(_m),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ah={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ql(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=oh[r])?!!s[r]:!1}function _a(){return Ql}var lh=g({},pa,{key:function(r){if(r.key){var s=va[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Bi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ah[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_a,charCode:function(r){return r.type==="keypress"?Bi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Bi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),bo=Zt(lh),uh=g({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xl=Zt(uh),br=g({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_a}),ch=Zt(br),hh=g({},rt,{propertyName:0,elapsedTime:0,pseudoElement:0}),dh=Zt(hh),fh=g({},ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),wo=Zt(fh),Cn=g({},rt,{newState:0,oldState:0}),mh=Zt(Cn),ph=[9,13,27,32],qi=vi&&"CompositionEvent"in window,f=null;vi&&"documentMode"in document&&(f=document.documentMode);var b=vi&&"TextEvent"in window&&!f,T=vi&&(!qi||f&&8<f&&11>=f),P=" ",W=!1;function te(r,s){switch(r){case"keyup":return ph.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var Qe=!1;function Gt(r,s){switch(r){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(W=!0,P);case"textInput":return r=s.data,r===P&&W?null:r;default:return null}}function Xe(r,s){if(Qe)return r==="compositionend"||!qi&&te(r,s)?(r=$l(),_r=os=Ui=null,Qe=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $t(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!Jt[r.type]:s==="textarea"}function wr(r,s,o,c){yr?vr?vr.push(c):vr=[c]:yr=c,s=td(s,"onChange"),0<s.length&&(o=new mo("onChange","change",null,o,c),r.push({event:o,listeners:s}))}var an=null,Hi=null;function Zl(r){jw(r,0)}function gh(r){var s=Vi(r);if(zl(s))return r}function r0(r,s){if(r==="change")return s}var s0=!1;if(vi){var bm;if(vi){var wm="oninput"in document;if(!wm){var a0=document.createElement("div");a0.setAttribute("oninput","return;"),wm=typeof a0.oninput=="function"}bm=wm}else bm=!1;s0=bm&&(!document.documentMode||9<document.documentMode)}function o0(){an&&(an.detachEvent("onpropertychange",l0),Hi=an=null)}function l0(r){if(r.propertyName==="value"&&gh(Hi)){var s=[];wr(s,Hi,r,ni(r)),nh(Zl,s)}}function oN(r,s,o){r==="focusin"?(o0(),an=s,Hi=o,an.attachEvent("onpropertychange",l0)):r==="focusout"&&o0()}function lN(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return gh(Hi)}function uN(r,s){if(r==="click")return gh(s)}function cN(r,s){if(r==="input"||r==="change")return gh(s)}function hN(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var qn=typeof Object.is=="function"?Object.is:hN;function Jl(r,s){if(qn(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var o=Object.keys(r),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Sn.call(s,p)||!qn(r[p],s[p]))return!1}return!0}function u0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function c0(r,s){var o=u0(r);r=0;for(var c;o;){if(o.nodeType===3){if(c=r+o.textContent.length,r<=s&&c>=s)return{node:o,offset:s-r};r=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=u0(o)}}function h0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?h0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function d0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ua(r.document);s instanceof r.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)r=s.contentWindow;else break;s=ua(r.document)}return s}function Tm(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var dN=vi&&"documentMode"in document&&11>=document.documentMode,To=null,Em=null,eu=null,xm=!1;function f0(r,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;xm||To==null||To!==ua(c)||(c=To,"selectionStart"in c&&Tm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),eu&&Jl(eu,c)||(eu=c,c=td(Em,"onSelect"),0<c.length&&(s=new mo("onSelect","select",null,s,o),r.push({event:s,listeners:c}),s.target=To)))}function ba(r,s){var o={};return o[r.toLowerCase()]=s.toLowerCase(),o["Webkit"+r]="webkit"+s,o["Moz"+r]="moz"+s,o}var Eo={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Sm={},m0={};vi&&(m0=document.createElement("div").style,"AnimationEvent"in window||(delete Eo.animationend.animation,delete Eo.animationiteration.animation,delete Eo.animationstart.animation),"TransitionEvent"in window||delete Eo.transitionend.transition);function wa(r){if(Sm[r])return Sm[r];if(!Eo[r])return r;var s=Eo[r],o;for(o in s)if(s.hasOwnProperty(o)&&o in m0)return Sm[r]=s[o];return r}var p0=wa("animationend"),g0=wa("animationiteration"),y0=wa("animationstart"),fN=wa("transitionrun"),mN=wa("transitionstart"),pN=wa("transitioncancel"),v0=wa("transitionend"),_0=new Map,Am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Am.push("scrollEnd");function _i(r,s){_0.set(r,s),yi(s,[r])}var b0=new WeakMap;function si(r,s){if(typeof r=="object"&&r!==null){var o=b0.get(r);return o!==void 0?o:(s={value:r,source:s,stack:co(s)},b0.set(r,s),s)}return{value:r,source:s,stack:co(s)}}var ai=[],xo=0,Rm=0;function yh(){for(var r=xo,s=Rm=xo=0;s<r;){var o=ai[s];ai[s++]=null;var c=ai[s];ai[s++]=null;var p=ai[s];ai[s++]=null;var y=ai[s];if(ai[s++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}y!==0&&w0(o,p,y)}}function vh(r,s,o,c){ai[xo++]=r,ai[xo++]=s,ai[xo++]=o,ai[xo++]=c,Rm|=c,r.lanes|=c,r=r.alternate,r!==null&&(r.lanes|=c)}function Cm(r,s,o,c){return vh(r,s,o,c),_h(r)}function So(r,s){return vh(r,null,null,s),_h(r)}function w0(r,s,o){r.lanes|=o;var c=r.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=r.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(r=y.stateNode,r===null||r._visibility&1||(p=!0)),r=y,y=y.return;return r.tag===3?(y=r.stateNode,p&&s!==null&&(p=31-mn(o),r=y.hiddenUpdates,c=r[p],c===null?r[p]=[s]:c.push(s),s.lane=o|536870912),y):null}function _h(r){if(50<Su)throw Su=0,Op=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var Ao={};function gN(r,s,o,c){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(r,s,o,c){return new gN(r,s,o,c)}function Im(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Tr(r,s){var o=r.alternate;return o===null?(o=Hn(r.tag,s,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=s,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&65011712,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,s=r.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o.refCleanup=r.refCleanup,o}function T0(r,s){r.flags&=65011714;var o=r.alternate;return o===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,s=o.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function bh(r,s,o,c,p,y){var E=0;if(c=r,typeof r=="function")Im(r)&&(E=1);else if(typeof r=="string")E=vk(r,o,ye.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case I:return r=Hn(31,o,s,p),r.elementType=I,r.lanes=y,r;case S:return Ta(o.children,p,y,s);case k:E=8,p|=24;break;case R:return r=Hn(12,o,s,p|2),r.elementType=R,r.lanes=y,r;case H:return r=Hn(13,o,s,p),r.elementType=H,r.lanes=y,r;case M:return r=Hn(19,o,s,p),r.elementType=M,r.lanes=y,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:case O:E=10;break e;case B:E=9;break e;case G:E=11;break e;case D:E=14;break e;case A:E=16,c=null;break e}E=29,o=Error(i(130,r===null?"null":typeof r,"")),c=null}return s=Hn(E,o,s,p),s.elementType=r,s.type=c,s.lanes=y,s}function Ta(r,s,o,c){return r=Hn(7,r,c,s),r.lanes=o,r}function Nm(r,s,o){return r=Hn(6,r,null,s),r.lanes=o,r}function km(r,s,o){return s=Hn(4,r.children!==null?r.children:[],r.key,s),s.lanes=o,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Ro=[],Co=0,wh=null,Th=0,oi=[],li=0,Ea=null,Er=1,xr="";function xa(r,s){Ro[Co++]=Th,Ro[Co++]=wh,wh=r,Th=s}function E0(r,s,o){oi[li++]=Er,oi[li++]=xr,oi[li++]=Ea,Ea=r;var c=Er;r=xr;var p=32-mn(c)-1;c&=~(1<<p),o+=1;var y=32-mn(s)+p;if(30<y){var E=p-p%5;y=(c&(1<<E)-1).toString(32),c>>=E,p-=E,Er=1<<32-mn(s)+p|o<<p|c,xr=y+r}else Er=1<<y|o<<p|c,xr=r}function Pm(r){r.return!==null&&(xa(r,1),E0(r,1,0))}function Dm(r){for(;r===wh;)wh=Ro[--Co],Ro[Co]=null,Th=Ro[--Co],Ro[Co]=null;for(;r===Ea;)Ea=oi[--li],oi[li]=null,xr=oi[--li],oi[li]=null,Er=oi[--li],oi[li]=null}var In=null,At=null,nt=!1,Sa=null,Gi=!1,Om=Error(i(519));function Aa(r){var s=Error(i(418,""));throw iu(si(s,r)),Om}function x0(r){var s=r.stateNode,o=r.type,c=r.memoizedProps;switch(s[Ht]=r,s[jt]=c,o){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(o=0;o<Ru.length;o++)Ge(Ru[o],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),ca(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ho(s);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),ha(s,c.value,c.defaultValue,c.children),ho(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Fw(s.textContent,o)?(c.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),c.onScroll!=null&&Ge("scroll",s),c.onScrollEnd!=null&&Ge("scrollend",s),c.onClick!=null&&(s.onclick=nd),s=!0):s=!1,s||Aa(r)}function S0(r){for(In=r.return;In;)switch(In.tag){case 5:case 13:Gi=!1;return;case 27:case 3:Gi=!0;return;default:In=In.return}}function tu(r){if(r!==In)return!1;if(!nt)return S0(r),nt=!0,!1;var s=r.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=r.type,o=!(o!=="form"&&o!=="button")||Qp(r.type,r.memoizedProps)),o=!o),o&&At&&Aa(r),S0(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(o=r.data,o==="/$"){if(s===0){At=wi(r.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;r=r.nextSibling}At=null}}else s===27?(s=At,Es(r.type)?(r=eg,eg=null,At=r):At=s):At=In?wi(r.stateNode.nextSibling):null;return!0}function nu(){At=In=null,nt=!1}function A0(){var r=Sa;return r!==null&&(On===null?On=r:On.push.apply(On,r),Sa=null),r}function iu(r){Sa===null?Sa=[r]:Sa.push(r)}var Mm=Q(null),Ra=null,Sr=null;function ls(r,s,o){se(Mm,s._currentValue),s._currentValue=o}function Ar(r){r._currentValue=Mm.current,oe(Mm)}function Vm(r,s,o){for(;r!==null;){var c=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),r===o)break;r=r.return}}function jm(r,s,o,c){var p=r.child;for(p!==null&&(p.return=r);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var z=0;z<s.length;z++)if(C.context===s[z]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Vm(y.return,o,r),c||(E=null);break e}y=C.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(i(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Vm(E,o,r),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===r){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function ru(r,s,o,c){r=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var C=p.type;qn(p.pendingProps.value,E.value)||(r!==null?r.push(C):r=[C])}}else if(p===ct.current){if(E=p.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(r!==null?r.push(Du):r=[Du])}p=p.return}r!==null&&jm(s,r,o,c),s.flags|=262144}function Eh(r){for(r=r.firstContext;r!==null;){if(!qn(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Ca(r){Ra=r,Sr=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function pn(r){return R0(Ra,r)}function xh(r,s){return Ra===null&&Ca(r),R0(r,s)}function R0(r,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Sr===null){if(r===null)throw Error(i(308));Sr=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else Sr=Sr.next=s;return o}var yN=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(o,c){r.push(c)}};this.abort=function(){s.aborted=!0,r.forEach(function(o){return o()})}},vN=t.unstable_scheduleCallback,_N=t.unstable_NormalPriority,Kt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Lm(){return{controller:new yN,data:new Map,refCount:0}}function su(r){r.refCount--,r.refCount===0&&vN(_N,function(){r.controller.abort()})}var au=null,Um=0,Io=0,No=null;function bN(r,s){if(au===null){var o=au=[];Um=0,Io=Fp(),No={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Um++,s.then(C0,C0),s}function C0(){if(--Um===0&&au!==null){No!==null&&(No.status="fulfilled");var r=au;au=null,Io=0,No=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function wN(r,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return r.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var I0=K.S;K.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&bN(r,s),I0!==null&&I0(r,s)};var Ia=Q(null);function Bm(){var r=Ia.current;return r!==null?r:gt.pooledCache}function Sh(r,s){s===null?se(Ia,Ia.current):se(Ia,s.pool)}function N0(){var r=Bm();return r===null?null:{parent:Kt._currentValue,pool:r}}var ou=Error(i(460)),k0=Error(i(474)),Ah=Error(i(542)),Fm={then:function(){}};function P0(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Rh(){}function D0(r,s,o){switch(o=r[o],o===void 0?r.push(s):o!==s&&(s.then(Rh,Rh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,M0(r),r;default:if(typeof s.status=="string")s.then(Rh,Rh);else{if(r=gt,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,M0(r),r}throw lu=s,ou}}var lu=null;function O0(){if(lu===null)throw Error(i(459));var r=lu;return lu=null,r}function M0(r){if(r===ou||r===Ah)throw Error(i(483))}var us=!1;function zm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qm(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function cs(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function hs(r,s,o){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=_h(r),w0(r,null,o),s}return vh(r,c,s,o),_h(r)}function uu(r,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,jl(r,o)}}function Hm(r,s){var o=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=s:r.next=s,o.lastBaseUpdate=s}var Gm=!1;function cu(){if(Gm){var r=No;if(r!==null)throw r}}function hu(r,s,o,c){Gm=!1;var p=r.updateQueue;us=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var z=C,Z=z.next;z.next=null,E===null?y=Z:E.next=Z,E=z;var ae=r.alternate;ae!==null&&(ae=ae.updateQueue,C=ae.lastBaseUpdate,C!==E&&(C===null?ae.firstBaseUpdate=Z:C.next=Z,ae.lastBaseUpdate=z))}if(y!==null){var ce=p.baseState;E=0,ae=Z=z=null,C=y;do{var J=C.lane&-536870913,ee=J!==C.lane;if(ee?(Ze&J)===J:(c&J)===J){J!==0&&J===Io&&(Gm=!0),ae!==null&&(ae=ae.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ke=r,Re=C;J=s;var mt=o;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){ce=ke.call(mt,ce,J);break e}ce=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,J=typeof ke=="function"?ke.call(mt,ce,J):ke,J==null)break e;ce=g({},ce,J);break e;case 2:us=!0}}J=C.callback,J!==null&&(r.flags|=64,ee&&(r.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[J]:ee.push(J))}else ee={lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ae===null?(Z=ae=ee,z=ce):ae=ae.next=ee,E|=J;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ae===null&&(z=ce),p.baseState=z,p.firstBaseUpdate=Z,p.lastBaseUpdate=ae,y===null&&(p.shared.lanes=0),_s|=E,r.lanes=E,r.memoizedState=ce}}function V0(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function j0(r,s){var o=r.callbacks;if(o!==null)for(r.callbacks=null,r=0;r<o.length;r++)V0(o[r],s)}var ko=Q(null),Ch=Q(0);function L0(r,s){r=Dr,se(Ch,r),se(ko,s),Dr=r|s.baseLanes}function $m(){se(Ch,Dr),se(ko,ko.current)}function Km(){Dr=Ch.current,oe(ko),oe(Ch)}var ds=0,Be=null,dt=null,Ut=null,Ih=!1,Po=!1,Na=!1,Nh=0,du=0,Do=null,TN=0;function Pt(){throw Error(i(321))}function Ym(r,s){if(s===null)return!1;for(var o=0;o<s.length&&o<r.length;o++)if(!qn(r[o],s[o]))return!1;return!0}function Wm(r,s,o,c,p,y){return ds=y,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=r===null||r.memoizedState===null?wb:Tb,Na=!1,y=o(c,p),Na=!1,Po&&(y=B0(s,o,c,p)),U0(r),y}function U0(r){K.H=Vh;var s=dt!==null&&dt.next!==null;if(ds=0,Ut=dt=Be=null,Ih=!1,du=0,Do=null,s)throw Error(i(300));r===null||en||(r=r.dependencies,r!==null&&Eh(r)&&(en=!0))}function B0(r,s,o,c){Be=r;var p=0;do{if(Po&&(Do=null),du=0,Po=!1,25<=p)throw Error(i(301));if(p+=1,Ut=dt=null,r.updateQueue!=null){var y=r.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=IN,y=s(o,c)}while(Po);return y}function EN(){var r=K.H,s=r.useState()[0];return s=typeof s.then=="function"?fu(s):s,r=r.useState()[0],(dt!==null?dt.memoizedState:null)!==r&&(Be.flags|=1024),s}function Qm(){var r=Nh!==0;return Nh=0,r}function Xm(r,s,o){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~o}function Zm(r){if(Ih){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Ih=!1}ds=0,Ut=dt=Be=null,Po=!1,du=Nh=0,Do=null}function Pn(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Be.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function Bt(){if(dt===null){var r=Be.alternate;r=r!==null?r.memoizedState:null}else r=dt.next;var s=Ut===null?Be.memoizedState:Ut.next;if(s!==null)Ut=s,dt=r;else{if(r===null)throw Be.alternate===null?Error(i(467)):Error(i(310));dt=r,r={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ut===null?Be.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function Jm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fu(r){var s=du;return du+=1,Do===null&&(Do=[]),r=D0(Do,r,s),s=Be,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?wb:Tb),r}function kh(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return fu(r);if(r.$$typeof===O)return pn(r)}throw Error(i(438,String(r)))}function ep(r){var s=null,o=Be.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Jm(),Be.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(r),c=0;c<r;c++)o[c]=j;return s.index++,o}function Rr(r,s){return typeof s=="function"?s(r):s}function Ph(r){var s=Bt();return tp(s,dt,r)}function tp(r,s,o){var c=r.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=o;var p=r.baseQueue,y=c.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,c.pending=null}if(y=r.baseState,p===null)r.memoizedState=y;else{s=p.next;var C=E=null,z=null,Z=s,ae=!1;do{var ce=Z.lane&-536870913;if(ce!==Z.lane?(Ze&ce)===ce:(ds&ce)===ce){var J=Z.revertLane;if(J===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),ce===Io&&(ae=!0);else if((ds&J)===J){Z=Z.next,J===Io&&(ae=!0);continue}else ce={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(C=z=ce,E=y):z=z.next=ce,Be.lanes|=J,_s|=J;ce=Z.action,Na&&o(y,ce),y=Z.hasEagerState?Z.eagerState:o(y,ce)}else J={lane:ce,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},z===null?(C=z=J,E=y):z=z.next=J,Be.lanes|=ce,_s|=ce;Z=Z.next}while(Z!==null&&Z!==s);if(z===null?E=y:z.next=C,!qn(y,r.memoizedState)&&(en=!0,ae&&(o=No,o!==null)))throw o;r.memoizedState=y,r.baseState=E,r.baseQueue=z,c.lastRenderedState=y}return p===null&&(c.lanes=0),[r.memoizedState,c.dispatch]}function np(r){var s=Bt(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=r;var c=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do y=r(y,E.action),E=E.next;while(E!==p);qn(y,s.memoizedState)||(en=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function F0(r,s,o){var c=Be,p=Bt(),y=nt;if(y){if(o===void 0)throw Error(i(407));o=o()}else o=s();var E=!qn((dt||p).memoizedState,o);E&&(p.memoizedState=o,en=!0),p=p.queue;var C=H0.bind(null,c,p,r);if(mu(2048,8,C,[r]),p.getSnapshot!==s||E||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Oo(9,Dh(),q0.bind(null,c,p,o,s),null),gt===null)throw Error(i(349));y||(ds&124)!==0||z0(c,s,o)}return o}function z0(r,s,o){r.flags|=16384,r={getSnapshot:s,value:o},s=Be.updateQueue,s===null?(s=Jm(),Be.updateQueue=s,s.stores=[r]):(o=s.stores,o===null?s.stores=[r]:o.push(r))}function q0(r,s,o,c){s.value=o,s.getSnapshot=c,G0(s)&&$0(r)}function H0(r,s,o){return o(function(){G0(s)&&$0(r)})}function G0(r){var s=r.getSnapshot;r=r.value;try{var o=s();return!qn(r,o)}catch{return!0}}function $0(r){var s=So(r,2);s!==null&&Wn(s,r,2)}function ip(r){var s=Pn();if(typeof r=="function"){var o=r;if(r=o(),Na){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:r},s}function K0(r,s,o,c){return r.baseState=o,tp(r,dt,typeof c=="function"?c:Rr)}function xN(r,s,o,c,p){if(Mh(r))throw Error(i(485));if(r=s.action,r!==null){var y={payload:p,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};K.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,Y0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function Y0(r,s){var o=s.action,c=s.payload,p=r.state;if(s.isTransition){var y=K.T,E={};K.T=E;try{var C=o(p,c),z=K.S;z!==null&&z(E,C),W0(r,s,C)}catch(Z){rp(r,s,Z)}finally{K.T=y}}else try{y=o(p,c),W0(r,s,y)}catch(Z){rp(r,s,Z)}}function W0(r,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Q0(r,s,c)},function(c){return rp(r,s,c)}):Q0(r,s,o)}function Q0(r,s,o){s.status="fulfilled",s.value=o,X0(s),r.state=o,s=r.pending,s!==null&&(o=s.next,o===s?r.pending=null:(o=o.next,s.next=o,Y0(r,o)))}function rp(r,s,o){var c=r.pending;if(r.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,X0(s),s=s.next;while(s!==c)}r.action=null}function X0(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Z0(r,s){return s}function J0(r,s){if(nt){var o=gt.formState;if(o!==null){e:{var c=Be;if(nt){if(At){t:{for(var p=At,y=Gi;p.nodeType!==8;){if(!y){p=null;break t}if(p=wi(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){At=wi(p.nextSibling),c=p.data==="F!";break e}}Aa(c)}c=!1}c&&(s=o[0])}}return o=Pn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Z0,lastRenderedState:s},o.queue=c,o=vb.bind(null,Be,c),c.dispatch=o,c=ip(!1),y=up.bind(null,Be,!1,c.queue),c=Pn(),p={state:s,dispatch:null,action:r,pending:null},c.queue=p,o=xN.bind(null,Be,p,y,o),p.dispatch=o,c.memoizedState=r,[s,o,!1]}function eb(r){var s=Bt();return tb(s,dt,r)}function tb(r,s,o){if(s=tp(r,s,Z0)[0],r=Ph(Rr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=fu(s)}catch(E){throw E===ou?Ah:E}else c=s;s=Bt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Be.flags|=2048,Oo(9,Dh(),SN.bind(null,p,o),null)),[c,y,r]}function SN(r,s){r.action=s}function nb(r){var s=Bt(),o=dt;if(o!==null)return tb(s,o,r);Bt(),s=s.memoizedState,o=Bt();var c=o.queue.dispatch;return o.memoizedState=r,[s,c,!1]}function Oo(r,s,o,c){return r={tag:r,create:o,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=Jm(),Be.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=r.next=r:(c=o.next,o.next=r,r.next=c,s.lastEffect=r),r}function Dh(){return{destroy:void 0,resource:void 0}}function ib(){return Bt().memoizedState}function Oh(r,s,o,c){var p=Pn();c=c===void 0?null:c,Be.flags|=r,p.memoizedState=Oo(1|s,Dh(),o,c)}function mu(r,s,o,c){var p=Bt();c=c===void 0?null:c;var y=p.memoizedState.inst;dt!==null&&c!==null&&Ym(c,dt.memoizedState.deps)?p.memoizedState=Oo(s,y,o,c):(Be.flags|=r,p.memoizedState=Oo(1|s,y,o,c))}function rb(r,s){Oh(8390656,8,r,s)}function sb(r,s){mu(2048,8,r,s)}function ab(r,s){return mu(4,2,r,s)}function ob(r,s){return mu(4,4,r,s)}function lb(r,s){if(typeof s=="function"){r=r();var o=s(r);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function ub(r,s,o){o=o!=null?o.concat([r]):null,mu(4,4,lb.bind(null,s,r),o)}function sp(){}function cb(r,s){var o=Bt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Ym(s,c[1])?c[0]:(o.memoizedState=[r,s],r)}function hb(r,s){var o=Bt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Ym(s,c[1]))return c[0];if(c=r(),Na){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[c,s],c}function ap(r,s,o){return o===void 0||(ds&1073741824)!==0?r.memoizedState=s:(r.memoizedState=o,r=mw(),Be.lanes|=r,_s|=r,o)}function db(r,s,o,c){return qn(o,s)?o:ko.current!==null?(r=ap(r,o,c),qn(r,s)||(en=!0),r):(ds&42)===0?(en=!0,r.memoizedState=o):(r=mw(),Be.lanes|=r,_s|=r,s)}function fb(r,s,o,c,p){var y=re.p;re.p=y!==0&&8>y?y:8;var E=K.T,C={};K.T=C,up(r,!1,s,o);try{var z=p(),Z=K.S;if(Z!==null&&Z(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=wN(z,c);pu(r,s,ae,Yn(r))}else pu(r,s,c,Yn(r))}catch(ce){pu(r,s,{then:function(){},status:"rejected",reason:ce},Yn())}finally{re.p=y,K.T=E}}function AN(){}function op(r,s,o,c){if(r.tag!==5)throw Error(i(476));var p=mb(r).queue;fb(r,p,s,fe,o===null?AN:function(){return pb(r),o(c)})}function mb(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Rr,lastRenderedState:o},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function pb(r){var s=mb(r).next.queue;pu(r,s,{},Yn())}function lp(){return pn(Du)}function gb(){return Bt().memoizedState}function yb(){return Bt().memoizedState}function RN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();r=cs(o);var c=hs(s,r,o);c!==null&&(Wn(c,s,o),uu(c,s,o)),s={cache:Lm()},r.payload=s;return}s=s.return}}function CN(r,s,o){var c=Yn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Mh(r)?_b(s,o):(o=Cm(r,s,o,c),o!==null&&(Wn(o,r,c),bb(o,s,c)))}function vb(r,s,o){var c=Yn();pu(r,s,o,c)}function pu(r,s,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Mh(r))_b(s,p);else{var y=r.alternate;if(r.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,o);if(p.hasEagerState=!0,p.eagerState=C,qn(C,E))return vh(r,s,p,0),gt===null&&yh(),!1}catch{}finally{}if(o=Cm(r,s,p,c),o!==null)return Wn(o,r,c),bb(o,s,c),!0}return!1}function up(r,s,o,c){if(c={lane:2,revertLane:Fp(),action:c,hasEagerState:!1,eagerState:null,next:null},Mh(r)){if(s)throw Error(i(479))}else s=Cm(r,o,c,2),s!==null&&Wn(s,r,2)}function Mh(r){var s=r.alternate;return r===Be||s!==null&&s===Be}function _b(r,s){Po=Ih=!0;var o=r.pending;o===null?s.next=s:(s.next=o.next,o.next=s),r.pending=s}function bb(r,s,o){if((o&4194048)!==0){var c=s.lanes;c&=r.pendingLanes,o|=c,s.lanes=o,jl(r,o)}}var Vh={readContext:pn,use:kh,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},wb={readContext:pn,use:kh,useCallback:function(r,s){return Pn().memoizedState=[r,s===void 0?null:s],r},useContext:pn,useEffect:rb,useImperativeHandle:function(r,s,o){o=o!=null?o.concat([r]):null,Oh(4194308,4,lb.bind(null,s,r),o)},useLayoutEffect:function(r,s){return Oh(4194308,4,r,s)},useInsertionEffect:function(r,s){Oh(4,2,r,s)},useMemo:function(r,s){var o=Pn();s=s===void 0?null:s;var c=r();if(Na){Fn(!0);try{r()}finally{Fn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(r,s,o){var c=Pn();if(o!==void 0){var p=o(s);if(Na){Fn(!0);try{o(s)}finally{Fn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:p},c.queue=r,r=r.dispatch=CN.bind(null,Be,r),[c.memoizedState,r]},useRef:function(r){var s=Pn();return r={current:r},s.memoizedState=r},useState:function(r){r=ip(r);var s=r.queue,o=vb.bind(null,Be,s);return s.dispatch=o,[r.memoizedState,o]},useDebugValue:sp,useDeferredValue:function(r,s){var o=Pn();return ap(o,r,s)},useTransition:function(){var r=ip(!1);return r=fb.bind(null,Be,r.queue,!0,!1),Pn().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,o){var c=Be,p=Pn();if(nt){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),gt===null)throw Error(i(349));(Ze&124)!==0||z0(c,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,rb(H0.bind(null,c,y,r),[r]),c.flags|=2048,Oo(9,Dh(),q0.bind(null,c,y,o,s),null),o},useId:function(){var r=Pn(),s=gt.identifierPrefix;if(nt){var o=xr,c=Er;o=(c&~(1<<32-mn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Nh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=TN++,s=""+s+"r"+o.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:lp,useFormState:J0,useActionState:J0,useOptimistic:function(r){var s=Pn();s.memoizedState=s.baseState=r;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=up.bind(null,Be,!0,o),o.dispatch=s,[r,s]},useMemoCache:ep,useCacheRefresh:function(){return Pn().memoizedState=RN.bind(null,Be)}},Tb={readContext:pn,use:kh,useCallback:cb,useContext:pn,useEffect:sb,useImperativeHandle:ub,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:hb,useReducer:Ph,useRef:ib,useState:function(){return Ph(Rr)},useDebugValue:sp,useDeferredValue:function(r,s){var o=Bt();return db(o,dt.memoizedState,r,s)},useTransition:function(){var r=Ph(Rr)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:F0,useId:gb,useHostTransitionStatus:lp,useFormState:eb,useActionState:eb,useOptimistic:function(r,s){var o=Bt();return K0(o,dt,r,s)},useMemoCache:ep,useCacheRefresh:yb},IN={readContext:pn,use:kh,useCallback:cb,useContext:pn,useEffect:sb,useImperativeHandle:ub,useInsertionEffect:ab,useLayoutEffect:ob,useMemo:hb,useReducer:np,useRef:ib,useState:function(){return np(Rr)},useDebugValue:sp,useDeferredValue:function(r,s){var o=Bt();return dt===null?ap(o,r,s):db(o,dt.memoizedState,r,s)},useTransition:function(){var r=np(Rr)[0],s=Bt().memoizedState;return[typeof r=="boolean"?r:fu(r),s]},useSyncExternalStore:F0,useId:gb,useHostTransitionStatus:lp,useFormState:nb,useActionState:nb,useOptimistic:function(r,s){var o=Bt();return dt!==null?K0(o,dt,r,s):(o.baseState=r,[r,o.queue.dispatch])},useMemoCache:ep,useCacheRefresh:yb},Mo=null,gu=0;function jh(r){var s=gu;return gu+=1,Mo===null&&(Mo=[]),D0(Mo,r,s)}function yu(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function Lh(r,s){throw s.$$typeof===v?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function Eb(r){var s=r._init;return s(r._payload)}function xb(r){function s(Y,$){if(r){var X=Y.deletions;X===null?(Y.deletions=[$],Y.flags|=16):X.push($)}}function o(Y,$){if(!r)return null;for(;$!==null;)s(Y,$),$=$.sibling;return null}function c(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function p(Y,$){return Y=Tr(Y,$),Y.index=0,Y.sibling=null,Y}function y(Y,$,X){return Y.index=X,r?(X=Y.alternate,X!==null?(X=X.index,X<$?(Y.flags|=67108866,$):X):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function E(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function C(Y,$,X,ue){return $===null||$.tag!==6?($=Nm(X,Y.mode,ue),$.return=Y,$):($=p($,X),$.return=Y,$)}function z(Y,$,X,ue){var we=X.type;return we===S?ae(Y,$,X.props.children,ue,X.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Eb(we)===$.type)?($=p($,X.props),yu($,X),$.return=Y,$):($=bh(X.type,X.key,X.props,null,Y.mode,ue),yu($,X),$.return=Y,$)}function Z(Y,$,X,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==X.containerInfo||$.stateNode.implementation!==X.implementation?($=km(X,Y.mode,ue),$.return=Y,$):($=p($,X.children||[]),$.return=Y,$)}function ae(Y,$,X,ue,we){return $===null||$.tag!==7?($=Ta(X,Y.mode,ue,we),$.return=Y,$):($=p($,X),$.return=Y,$)}function ce(Y,$,X){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Nm(""+$,Y.mode,X),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return X=bh($.type,$.key,$.props,null,Y.mode,X),yu(X,$),X.return=Y,X;case x:return $=km($,Y.mode,X),$.return=Y,$;case A:var ue=$._init;return $=ue($._payload),ce(Y,$,X)}if(pe($)||q($))return $=Ta($,Y.mode,X,null),$.return=Y,$;if(typeof $.then=="function")return ce(Y,jh($),X);if($.$$typeof===O)return ce(Y,xh(Y,$),X);Lh(Y,$)}return null}function J(Y,$,X,ue){var we=$!==null?$.key:null;if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return we!==null?null:C(Y,$,""+X,ue);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case w:return X.key===we?z(Y,$,X,ue):null;case x:return X.key===we?Z(Y,$,X,ue):null;case A:return we=X._init,X=we(X._payload),J(Y,$,X,ue)}if(pe(X)||q(X))return we!==null?null:ae(Y,$,X,ue,null);if(typeof X.then=="function")return J(Y,$,jh(X),ue);if(X.$$typeof===O)return J(Y,$,xh(Y,X),ue);Lh(Y,X)}return null}function ee(Y,$,X,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(X)||null,C($,Y,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Y=Y.get(ue.key===null?X:ue.key)||null,z($,Y,ue,we);case x:return Y=Y.get(ue.key===null?X:ue.key)||null,Z($,Y,ue,we);case A:var qe=ue._init;return ue=qe(ue._payload),ee(Y,$,X,ue,we)}if(pe(ue)||q(ue))return Y=Y.get(X)||null,ae($,Y,ue,we,null);if(typeof ue.then=="function")return ee(Y,$,X,jh(ue),we);if(ue.$$typeof===O)return ee(Y,$,X,xh($,ue),we);Lh($,ue)}return null}function ke(Y,$,X,ue){for(var we=null,qe=null,xe=$,Ce=$=0,nn=null;xe!==null&&Ce<X.length;Ce++){xe.index>Ce?(nn=xe,xe=null):nn=xe.sibling;var tt=J(Y,xe,X[Ce],ue);if(tt===null){xe===null&&(xe=nn);break}r&&xe&&tt.alternate===null&&s(Y,xe),$=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt,xe=nn}if(Ce===X.length)return o(Y,xe),nt&&xa(Y,Ce),we;if(xe===null){for(;Ce<X.length;Ce++)xe=ce(Y,X[Ce],ue),xe!==null&&($=y(xe,$,Ce),qe===null?we=xe:qe.sibling=xe,qe=xe);return nt&&xa(Y,Ce),we}for(xe=c(xe);Ce<X.length;Ce++)nn=ee(xe,Y,Ce,X[Ce],ue),nn!==null&&(r&&nn.alternate!==null&&xe.delete(nn.key===null?Ce:nn.key),$=y(nn,$,Ce),qe===null?we=nn:qe.sibling=nn,qe=nn);return r&&xe.forEach(function(Cs){return s(Y,Cs)}),nt&&xa(Y,Ce),we}function Re(Y,$,X,ue){if(X==null)throw Error(i(151));for(var we=null,qe=null,xe=$,Ce=$=0,nn=null,tt=X.next();xe!==null&&!tt.done;Ce++,tt=X.next()){xe.index>Ce?(nn=xe,xe=null):nn=xe.sibling;var Cs=J(Y,xe,tt.value,ue);if(Cs===null){xe===null&&(xe=nn);break}r&&xe&&Cs.alternate===null&&s(Y,xe),$=y(Cs,$,Ce),qe===null?we=Cs:qe.sibling=Cs,qe=Cs,xe=nn}if(tt.done)return o(Y,xe),nt&&xa(Y,Ce),we;if(xe===null){for(;!tt.done;Ce++,tt=X.next())tt=ce(Y,tt.value,ue),tt!==null&&($=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt);return nt&&xa(Y,Ce),we}for(xe=c(xe);!tt.done;Ce++,tt=X.next())tt=ee(xe,Y,Ce,tt.value,ue),tt!==null&&(r&&tt.alternate!==null&&xe.delete(tt.key===null?Ce:tt.key),$=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt);return r&&xe.forEach(function(Nk){return s(Y,Nk)}),nt&&xa(Y,Ce),we}function mt(Y,$,X,ue){if(typeof X=="object"&&X!==null&&X.type===S&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case w:e:{for(var we=X.key;$!==null;){if($.key===we){if(we=X.type,we===S){if($.tag===7){o(Y,$.sibling),ue=p($,X.props.children),ue.return=Y,Y=ue;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Eb(we)===$.type){o(Y,$.sibling),ue=p($,X.props),yu(ue,X),ue.return=Y,Y=ue;break e}o(Y,$);break}else s(Y,$);$=$.sibling}X.type===S?(ue=Ta(X.props.children,Y.mode,ue,X.key),ue.return=Y,Y=ue):(ue=bh(X.type,X.key,X.props,null,Y.mode,ue),yu(ue,X),ue.return=Y,Y=ue)}return E(Y);case x:e:{for(we=X.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===X.containerInfo&&$.stateNode.implementation===X.implementation){o(Y,$.sibling),ue=p($,X.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,$);break}else s(Y,$);$=$.sibling}ue=km(X,Y.mode,ue),ue.return=Y,Y=ue}return E(Y);case A:return we=X._init,X=we(X._payload),mt(Y,$,X,ue)}if(pe(X))return ke(Y,$,X,ue);if(q(X)){if(we=q(X),typeof we!="function")throw Error(i(150));return X=we.call(X),Re(Y,$,X,ue)}if(typeof X.then=="function")return mt(Y,$,jh(X),ue);if(X.$$typeof===O)return mt(Y,$,xh(Y,X),ue);Lh(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint"?(X=""+X,$!==null&&$.tag===6?(o(Y,$.sibling),ue=p($,X),ue.return=Y,Y=ue):(o(Y,$),ue=Nm(X,Y.mode,ue),ue.return=Y,Y=ue),E(Y)):o(Y,$)}return function(Y,$,X,ue){try{gu=0;var we=mt(Y,$,X,ue);return Mo=null,we}catch(xe){if(xe===ou||xe===Ah)throw xe;var qe=Hn(29,xe,null,Y.mode);return qe.lanes=ue,qe.return=Y,qe}finally{}}}var Vo=xb(!0),Sb=xb(!1),ui=Q(null),$i=null;function fs(r){var s=r.alternate;se(Yt,Yt.current&1),se(ui,r),$i===null&&(s===null||ko.current!==null||s.memoizedState!==null)&&($i=r)}function Ab(r){if(r.tag===22){if(se(Yt,Yt.current),se(ui,r),$i===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&($i=r)}}else ms()}function ms(){se(Yt,Yt.current),se(ui,ui.current)}function Cr(r){oe(ui),$i===r&&($i=null),oe(Yt)}var Yt=Q(0);function Uh(r){for(var s=r;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Jp(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function cp(r,s,o,c){s=r.memoizedState,o=o(c,s),o=o==null?s:g({},s,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var hp={enqueueSetState:function(r,s,o){r=r._reactInternals;var c=Yn(),p=cs(c);p.payload=s,o!=null&&(p.callback=o),s=hs(r,p,c),s!==null&&(Wn(s,r,c),uu(s,r,c))},enqueueReplaceState:function(r,s,o){r=r._reactInternals;var c=Yn(),p=cs(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=hs(r,p,c),s!==null&&(Wn(s,r,c),uu(s,r,c))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var o=Yn(),c=cs(o);c.tag=2,s!=null&&(c.callback=s),s=hs(r,c,o),s!==null&&(Wn(s,r,o),uu(s,r,o))}};function Rb(r,s,o,c,p,y,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,y,E):s.prototype&&s.prototype.isPureReactComponent?!Jl(o,c)||!Jl(p,y):!0}function Cb(r,s,o,c){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==r&&hp.enqueueReplaceState(s,s.state,null)}function ka(r,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(r=r.defaultProps){o===s&&(o=g({},o));for(var p in r)o[p]===void 0&&(o[p]=r[p])}return o}var Bh=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function Ib(r){Bh(r)}function Nb(r){console.error(r)}function kb(r){Bh(r)}function Fh(r,s){try{var o=r.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Pb(r,s,o){try{var c=r.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function dp(r,s,o){return o=cs(o),o.tag=3,o.payload={element:null},o.callback=function(){Fh(r,s)},o}function Db(r){return r=cs(r),r.tag=3,r}function Ob(r,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;r.payload=function(){return p(y)},r.callback=function(){Pb(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(r.callback=function(){Pb(s,o,c),typeof p!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function NN(r,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&ru(s,o,p,!0),o=ui.current,o!==null){switch(o.tag){case 13:return $i===null?Vp():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===Fm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Lp(r,c,p)),!1;case 22:return o.flags|=65536,c===Fm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Lp(r,c,p)),!1}throw Error(i(435,o.tag))}return Lp(r,c,p),Vp(),!1}if(nt)return s=ui.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Om&&(r=Error(i(422),{cause:c}),iu(si(r,o)))):(c!==Om&&(s=Error(i(423),{cause:c}),iu(si(s,o))),r=r.current.alternate,r.flags|=65536,p&=-p,r.lanes|=p,c=si(c,o),p=dp(r.stateNode,c,p),Hm(r,p),Rt!==4&&(Rt=2)),!1;var y=Error(i(520),{cause:c});if(y=si(y,o),xu===null?xu=[y]:xu.push(y),Rt!==4&&(Rt=2),s===null)return!0;c=si(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,r=p&-p,o.lanes|=r,r=dp(o.stateNode,c,r),Hm(o,r),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(bs===null||!bs.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=Db(p),Ob(p,r,o,c),Hm(o,p),!1}o=o.return}while(o!==null);return!1}var Mb=Error(i(461)),en=!1;function on(r,s,o,c){s.child=r===null?Sb(s,null,o,c):Vo(s,r.child,o,c)}function Vb(r,s,o,c,p){o=o.render;var y=s.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return Ca(s),c=Wm(r,s,o,E,y,p),C=Qm(),r!==null&&!en?(Xm(r,s,p),Ir(r,s,p)):(nt&&C&&Pm(s),s.flags|=1,on(r,s,c,p),s.child)}function jb(r,s,o,c,p){if(r===null){var y=o.type;return typeof y=="function"&&!Im(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,Lb(r,s,y,c,p)):(r=bh(o.type,null,c,s,s.mode,p),r.ref=s.ref,r.return=s,s.child=r)}if(y=r.child,!bp(r,p)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:Jl,o(E,c)&&r.ref===s.ref)return Ir(r,s,p)}return s.flags|=1,r=Tr(y,c),r.ref=s.ref,r.return=s,s.child=r}function Lb(r,s,o,c,p){if(r!==null){var y=r.memoizedProps;if(Jl(y,c)&&r.ref===s.ref)if(en=!1,s.pendingProps=c=y,bp(r,p))(r.flags&131072)!==0&&(en=!0);else return s.lanes=r.lanes,Ir(r,s,p)}return fp(r,s,o,c,p)}function Ub(r,s,o){var c=s.pendingProps,p=c.children,y=r!==null?r.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,r!==null){for(p=s.child=r.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return Bb(r,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Sh(s,y!==null?y.cachePool:null),y!==null?L0(s,y):$m(),Ab(s);else return s.lanes=s.childLanes=536870912,Bb(r,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Sh(s,y.cachePool),L0(s,y),ms(),s.memoizedState=null):(r!==null&&Sh(s,null),$m(),ms());return on(r,s,p,o),s.child}function Bb(r,s,o,c){var p=Bm();return p=p===null?null:{parent:Kt._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},r!==null&&Sh(s,null),$m(),Ab(s),r!==null&&ru(r,s,c,!0),null}function zh(r,s){var o=s.ref;if(o===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(r===null||r.ref!==o)&&(s.flags|=4194816)}}function fp(r,s,o,c,p){return Ca(s),o=Wm(r,s,o,c,void 0,p),c=Qm(),r!==null&&!en?(Xm(r,s,p),Ir(r,s,p)):(nt&&c&&Pm(s),s.flags|=1,on(r,s,o,p),s.child)}function Fb(r,s,o,c,p,y){return Ca(s),s.updateQueue=null,o=B0(s,c,o,p),U0(r),c=Qm(),r!==null&&!en?(Xm(r,s,y),Ir(r,s,y)):(nt&&c&&Pm(s),s.flags|=1,on(r,s,o,y),s.child)}function zb(r,s,o,c,p){if(Ca(s),s.stateNode===null){var y=Ao,E=o.contextType;typeof E=="object"&&E!==null&&(y=pn(E)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=hp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},zm(s),E=o.contextType,y.context=typeof E=="object"&&E!==null?pn(E):Ao,y.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(cp(s,o,E,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&hp.enqueueReplaceState(y,y.state,null),hu(s,c,y,p),cu(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(r===null){y=s.stateNode;var C=s.memoizedProps,z=ka(o,C);y.props=z;var Z=y.context,ae=o.contextType;E=Ao,typeof ae=="object"&&ae!==null&&(E=pn(ae));var ce=o.getDerivedStateFromProps;ae=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||Z!==E)&&Cb(s,y,c,E),us=!1;var J=s.memoizedState;y.state=J,hu(s,c,y,p),cu(),Z=s.memoizedState,C||J!==Z||us?(typeof ce=="function"&&(cp(s,o,ce,c),Z=s.memoizedState),(z=us||Rb(s,o,z,c,J,Z,E))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=Z),y.props=c,y.state=Z,y.context=E,c=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,qm(r,s),E=s.memoizedProps,ae=ka(o,E),y.props=ae,ce=s.pendingProps,J=y.context,Z=o.contextType,z=Ao,typeof Z=="object"&&Z!==null&&(z=pn(Z)),C=o.getDerivedStateFromProps,(Z=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ce||J!==z)&&Cb(s,y,c,z),us=!1,J=s.memoizedState,y.state=J,hu(s,c,y,p),cu();var ee=s.memoizedState;E!==ce||J!==ee||us||r!==null&&r.dependencies!==null&&Eh(r.dependencies)?(typeof C=="function"&&(cp(s,o,C,c),ee=s.memoizedState),(ae=us||Rb(s,o,ae,c,J,ee,z)||r!==null&&r.dependencies!==null&&Eh(r.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=z,c=ae):(typeof y.componentDidUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===r.memoizedProps&&J===r.memoizedState||(s.flags|=1024),c=!1)}return y=c,zh(r,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,r!==null&&c?(s.child=Vo(s,r.child,null,p),s.child=Vo(s,null,o,p)):on(r,s,o,p),s.memoizedState=y.state,r=s.child):r=Ir(r,s,p),r}function qb(r,s,o,c){return nu(),s.flags|=256,on(r,s,o,c),s.child}var mp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pp(r){return{baseLanes:r,cachePool:N0()}}function gp(r,s,o){return r=r!==null?r.childLanes&~o:0,s&&(r|=ci),r}function Hb(r,s,o){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=r!==null&&r.memoizedState===null?!1:(Yt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,r===null){if(nt){if(p?fs(s):ms(),nt){var C=At,z;if(z=C){e:{for(z=C,C=Gi;z.nodeType!==8;){if(!C){C=null;break e}if(z=wi(z.nextSibling),z===null){C=null;break e}}C=z}C!==null?(s.memoizedState={dehydrated:C,treeContext:Ea!==null?{id:Er,overflow:xr}:null,retryLane:536870912,hydrationErrors:null},z=Hn(18,null,null,0),z.stateNode=C,z.return=s,s.child=z,In=s,At=null,z=!0):z=!1}z||Aa(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return Jp(C)?s.lanes=32:s.lanes=536870912,null;Cr(s)}return C=c.children,c=c.fallback,p?(ms(),p=s.mode,C=qh({mode:"hidden",children:C},p),c=Ta(c,p,o,null),C.return=s,c.return=s,C.sibling=c,s.child=C,p=s.child,p.memoizedState=pp(o),p.childLanes=gp(r,E,o),s.memoizedState=mp,c):(fs(s),yp(s,C))}if(z=r.memoizedState,z!==null&&(C=z.dehydrated,C!==null)){if(y)s.flags&256?(fs(s),s.flags&=-257,s=vp(r,s,o)):s.memoizedState!==null?(ms(),s.child=r.child,s.flags|=128,s=null):(ms(),p=c.fallback,C=s.mode,c=qh({mode:"visible",children:c.children},C),p=Ta(p,C,o,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Vo(s,r.child,null,o),c=s.child,c.memoizedState=pp(o),c.childLanes=gp(r,E,o),s.memoizedState=mp,s=p);else if(fs(s),Jp(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var Z=E.dgst;E=Z,c=Error(i(419)),c.stack="",c.digest=E,iu({value:c,source:null,stack:null}),s=vp(r,s,o)}else if(en||ru(r,s,o,!1),E=(o&r.childLanes)!==0,en||E){if(E=gt,E!==null&&(c=o&-o,c=(c&42)!==0?1:ts(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,So(r,c),Wn(E,r,c),Mb;C.data==="$?"||Vp(),s=vp(r,s,o)}else C.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=z.treeContext,At=wi(C.nextSibling),In=s,nt=!0,Sa=null,Gi=!1,r!==null&&(oi[li++]=Er,oi[li++]=xr,oi[li++]=Ea,Er=r.id,xr=r.overflow,Ea=s),s=yp(s,c.children),s.flags|=4096);return s}return p?(ms(),p=c.fallback,C=s.mode,z=r.child,Z=z.sibling,c=Tr(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,Z!==null?p=Tr(Z,p):(p=Ta(p,C,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,C=r.child.memoizedState,C===null?C=pp(o):(z=C.cachePool,z!==null?(Z=Kt._currentValue,z=z.parent!==Z?{parent:Z,pool:Z}:z):z=N0(),C={baseLanes:C.baseLanes|o,cachePool:z}),p.memoizedState=C,p.childLanes=gp(r,E,o),s.memoizedState=mp,c):(fs(s),o=r.child,r=o.sibling,o=Tr(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,r!==null&&(E=s.deletions,E===null?(s.deletions=[r],s.flags|=16):E.push(r)),s.child=o,s.memoizedState=null,o)}function yp(r,s){return s=qh({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function qh(r,s){return r=Hn(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function vp(r,s,o){return Vo(s,r.child,null,o),r=yp(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Gb(r,s,o){r.lanes|=s;var c=r.alternate;c!==null&&(c.lanes|=s),Vm(r.return,s,o)}function _p(r,s,o,c,p){var y=r.memoizedState;y===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function $b(r,s,o){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(on(r,s,c.children,o),c=Yt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Gb(r,o,s);else if(r.tag===19)Gb(r,o,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}switch(se(Yt,c),p){case"forwards":for(o=s.child,p=null;o!==null;)r=o.alternate,r!==null&&Uh(r)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),_p(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(r=p.alternate,r!==null&&Uh(r)===null){s.child=p;break}r=p.sibling,p.sibling=o,o=p,p=r}_p(s,!0,o,null,y);break;case"together":_p(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ir(r,s,o){if(r!==null&&(s.dependencies=r.dependencies),_s|=s.lanes,(o&s.childLanes)===0)if(r!==null){if(ru(r,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,o=Tr(r,r.pendingProps),s.child=o,o.return=s;r.sibling!==null;)r=r.sibling,o=o.sibling=Tr(r,r.pendingProps),o.return=s;o.sibling=null}return s.child}function bp(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Eh(r)))}function kN(r,s,o){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),ls(s,Kt,r.memoizedState.cache),nu();break;case 27:case 5:Xt(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:ls(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(fs(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Hb(r,s,o):(fs(s),r=Ir(r,s,o),r!==null?r.sibling:null);fs(s);break;case 19:var p=(r.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(ru(r,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return $b(r,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Yt,Yt.current),c)break;return null;case 22:case 23:return s.lanes=0,Ub(r,s,o);case 24:ls(s,Kt,r.memoizedState.cache)}return Ir(r,s,o)}function Kb(r,s,o){if(r!==null)if(r.memoizedProps!==s.pendingProps)en=!0;else{if(!bp(r,o)&&(s.flags&128)===0)return en=!1,kN(r,s,o);en=(r.flags&131072)!==0}else en=!1,nt&&(s.flags&1048576)!==0&&E0(s,Th,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")Im(c)?(r=ka(c,r),s.tag=1,s=zb(null,s,c,r,o)):(s.tag=0,s=fp(null,s,c,r,o));else{if(c!=null){if(p=c.$$typeof,p===G){s.tag=11,s=Vb(null,s,c,r,o);break e}else if(p===D){s.tag=14,s=jb(null,s,c,r,o);break e}}throw s=ie(c)||c,Error(i(306,s,""))}}return s;case 0:return fp(r,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=ka(c,s.pendingProps),zb(r,s,c,p,o);case 3:e:{if($e(s,s.stateNode.containerInfo),r===null)throw Error(i(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,qm(r,s),hu(s,c,null,o);var E=s.memoizedState;if(c=E.cache,ls(s,Kt,c),c!==y.cache&&jm(s,[Kt],o,!0),cu(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=qb(r,s,c,o);break e}else if(c!==p){p=si(Error(i(424)),s),iu(p),s=qb(r,s,c,o);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(At=wi(r.firstChild),In=s,nt=!0,Sa=null,Gi=!0,o=Sb(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(nu(),c===p){s=Ir(r,s,o);break e}on(r,s,c,o)}s=s.child}return s;case 26:return zh(r,s),r===null?(o=Xw(s.type,null,s.pendingProps,null))?s.memoizedState=o:nt||(o=s.type,r=s.pendingProps,c=id(Ee.current).createElement(o),c[Ht]=s,c[jt]=r,un(c,o,r),kt(c),s.stateNode=c):s.memoizedState=Xw(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Xt(s),r===null&&nt&&(c=s.stateNode=Yw(s.type,s.pendingProps,Ee.current),In=s,Gi=!0,p=At,Es(s.type)?(eg=p,At=wi(c.firstChild)):At=p),on(r,s,s.pendingProps.children,o),zh(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&nt&&((p=c=At)&&(c=sk(c,s.type,s.pendingProps,Gi),c!==null?(s.stateNode=c,In=s,At=wi(c.firstChild),Gi=!1,p=!0):p=!1),p||Aa(s)),Xt(s),p=s.type,y=s.pendingProps,E=r!==null?r.memoizedProps:null,c=y.children,Qp(p,y)?c=null:E!==null&&Qp(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=Wm(r,s,EN,null,null,o),Du._currentValue=p),zh(r,s),on(r,s,c,o),s.child;case 6:return r===null&&nt&&((r=o=At)&&(o=ak(o,s.pendingProps,Gi),o!==null?(s.stateNode=o,In=s,At=null,r=!0):r=!1),r||Aa(s)),null;case 13:return Hb(r,s,o);case 4:return $e(s,s.stateNode.containerInfo),c=s.pendingProps,r===null?s.child=Vo(s,null,c,o):on(r,s,c,o),s.child;case 11:return Vb(r,s,s.type,s.pendingProps,o);case 7:return on(r,s,s.pendingProps,o),s.child;case 8:return on(r,s,s.pendingProps.children,o),s.child;case 12:return on(r,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,ls(s,s.type,c.value),on(r,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ca(s),p=pn(p),c=c(p),s.flags|=1,on(r,s,c,o),s.child;case 14:return jb(r,s,s.type,s.pendingProps,o);case 15:return Lb(r,s,s.type,s.pendingProps,o);case 19:return $b(r,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},r===null?(o=qh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Tr(r.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Ub(r,s,o);case 24:return Ca(s),c=pn(Kt),r===null?(p=Bm(),p===null&&(p=gt,y=Lm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:c,cache:p},zm(s),ls(s,Kt,p)):((r.lanes&o)!==0&&(qm(r,s),hu(s,null,null,o),cu()),p=r.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),ls(s,Kt,c)):(c=y.cache,ls(s,Kt,c),c!==p.cache&&jm(s,[Kt],o,!0))),on(r,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Nr(r){r.flags|=4}function Yb(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!nT(s)){if(s=ui.current,s!==null&&((Ze&4194048)===Ze?$i!==null:(Ze&62914560)!==Ze&&(Ze&536870912)===0||s!==$i))throw lu=Fm,k0;r.flags|=8192}}function Hh(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Ml():536870912,r.lanes|=s,Bo|=s)}function vu(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function wt(r){var s=r.alternate!==null&&r.alternate.child===r.child,o=0,c=0;if(s)for(var p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=r,p=p.sibling;else for(p=r.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=r,p=p.sibling;return r.subtreeFlags|=c,r.childLanes=o,s}function PN(r,s,o){var c=s.pendingProps;switch(Dm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,r!==null&&(c=r.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ar(Kt),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(r===null||r.child===null)&&(tu(s)?Nr(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,A0())),wt(s),null;case 26:return o=s.memoizedState,r===null?(Nr(s),o!==null?(wt(s),Yb(s,o)):(wt(s),s.flags&=-16777217)):o?o!==r.memoizedState?(Nr(s),wt(s),Yb(s,o)):(wt(s),s.flags&=-16777217):(r.memoizedProps!==c&&Nr(s),wt(s),s.flags&=-16777217),null;case 27:xn(s),o=Ee.current;var p=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Nr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return wt(s),null}r=ye.current,tu(s)?x0(s):(r=Yw(p,c,o),s.stateNode=r,Nr(s))}return wt(s),null;case 5:if(xn(s),o=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==c&&Nr(s);else{if(!c){if(s.stateNode===null)throw Error(i(166));return wt(s),null}if(r=ye.current,tu(s))x0(s);else{switch(p=id(Ee.current),r){case 1:r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":r=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":r=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":r=p.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?r.multiple=!0:c.size&&(r.size=c.size);break;default:r=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}r[Ht]=s,r[jt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)r.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=r;e:switch(un(r,o,c),o){case"button":case"input":case"select":case"textarea":r=!!c.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Nr(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==c&&Nr(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(i(166));if(r=Ee.current,tu(s)){if(r=s.stateNode,o=s.memoizedProps,c=null,p=In,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}r[Ht]=s,r=!!(r.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Fw(r.nodeValue,o)),r||Aa(s)}else r=id(r).createTextNode(c),r[Ht]=s,s.stateNode=r}return wt(s),null;case 13:if(c=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(p=tu(s),c!==null&&c.dehydrated!==null){if(r===null){if(!p)throw Error(i(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(i(317));p[Ht]=s}else nu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),p=!1}else p=A0(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Cr(s),s):(Cr(s),null)}if(Cr(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,r=r!==null&&r.memoizedState!==null,o){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==r&&o&&(s.child.flags|=8192),Hh(s,s.updateQueue),wt(s),null;case 4:return je(),r===null&&Gp(s.stateNode.containerInfo),wt(s),null;case 10:return Ar(s.type),wt(s),null;case 19:if(oe(Yt),p=s.memoizedState,p===null)return wt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)vu(p,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(y=Uh(r),y!==null){for(s.flags|=128,vu(p,!1),r=y.updateQueue,s.updateQueue=r,Hh(s,r),s.subtreeFlags=0,r=o,o=s.child;o!==null;)T0(o,r),o=o.sibling;return se(Yt,Yt.current&1|2),s.child}r=r.sibling}p.tail!==null&&me()>Kh&&(s.flags|=128,c=!0,vu(p,!1),s.lanes=4194304)}else{if(!c)if(r=Uh(y),r!==null){if(s.flags|=128,c=!0,r=r.updateQueue,s.updateQueue=r,Hh(s,r),vu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!nt)return wt(s),null}else 2*me()-p.renderingStartTime>Kh&&o!==536870912&&(s.flags|=128,c=!0,vu(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(r=p.last,r!==null?r.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=me(),s.sibling=null,r=Yt.current,se(Yt,c?r&1|2:r&1),s):(wt(s),null);case 22:case 23:return Cr(s),Km(),c=s.memoizedState!==null,r!==null?r.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&Hh(s,o.retryQueue),o=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),r!==null&&oe(Ia),null;case 24:return o=null,r!==null&&(o=r.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ar(Kt),wt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function DN(r,s){switch(Dm(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Ar(Kt),je(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return xn(s),null;case 13:if(Cr(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));nu()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return oe(Yt),null;case 4:return je(),null;case 10:return Ar(s.type),null;case 22:case 23:return Cr(s),Km(),r!==null&&oe(Ia),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Ar(Kt),null;case 25:return null;default:return null}}function Wb(r,s){switch(Dm(s),s.tag){case 3:Ar(Kt),je();break;case 26:case 27:case 5:xn(s);break;case 4:je();break;case 13:Cr(s);break;case 19:oe(Yt);break;case 10:Ar(s.type);break;case 22:case 23:Cr(s),Km(),r!==null&&oe(Ia);break;case 24:Ar(Kt)}}function _u(r,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&r)===r){c=void 0;var y=o.create,E=o.inst;c=y(),E.destroy=c}o=o.next}while(o!==p)}}catch(C){pt(s,s.return,C)}}function ps(r,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&r)===r){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,p=s;var z=o,Z=C;try{Z()}catch(ae){pt(p,z,ae)}}}c=c.next}while(c!==y)}}catch(ae){pt(s,s.return,ae)}}function Qb(r){var s=r.updateQueue;if(s!==null){var o=r.stateNode;try{j0(s,o)}catch(c){pt(r,r.return,c)}}}function Xb(r,s,o){o.props=ka(r.type,r.memoizedProps),o.state=r.memoizedState;try{o.componentWillUnmount()}catch(c){pt(r,s,c)}}function bu(r,s){try{var o=r.ref;if(o!==null){switch(r.tag){case 26:case 27:case 5:var c=r.stateNode;break;case 30:c=r.stateNode;break;default:c=r.stateNode}typeof o=="function"?r.refCleanup=o(c):o.current=c}}catch(p){pt(r,s,p)}}function Ki(r,s){var o=r.ref,c=r.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){pt(r,s,p)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){pt(r,s,p)}else o.current=null}function Zb(r){var s=r.type,o=r.memoizedProps,c=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){pt(r,r.return,p)}}function wp(r,s,o){try{var c=r.stateNode;ek(c,r.type,o,s),c[jt]=s}catch(p){pt(r,r.return,p)}}function Jb(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Es(r.type)||r.tag===4}function Tp(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Jb(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Es(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Ep(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(r,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(r),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=nd));else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode,s=null),r=r.child,r!==null))for(Ep(r,s,o),r=r.sibling;r!==null;)Ep(r,s,o),r=r.sibling}function Gh(r,s,o){var c=r.tag;if(c===5||c===6)r=r.stateNode,s?o.insertBefore(r,s):o.appendChild(r);else if(c!==4&&(c===27&&Es(r.type)&&(o=r.stateNode),r=r.child,r!==null))for(Gh(r,s,o),r=r.sibling;r!==null;)Gh(r,s,o),r=r.sibling}function ew(r){var s=r.stateNode,o=r.memoizedProps;try{for(var c=r.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);un(s,c,o),s[Ht]=r,s[jt]=o}catch(y){pt(r,r.return,y)}}var kr=!1,Dt=!1,xp=!1,tw=typeof WeakSet=="function"?WeakSet:Set,tn=null;function ON(r,s){if(r=r.containerInfo,Yp=ud,r=d0(r),Tm(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,C=-1,z=-1,Z=0,ae=0,ce=r,J=null;t:for(;;){for(var ee;ce!==o||p!==0&&ce.nodeType!==3||(C=E+p),ce!==y||c!==0&&ce.nodeType!==3||(z=E+c),ce.nodeType===3&&(E+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)J=ce,ce=ee;for(;;){if(ce===r)break t;if(J===o&&++Z===p&&(C=E),J===y&&++ae===c&&(z=E),(ee=ce.nextSibling)!==null)break;ce=J,J=ce.parentNode}ce=ee}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Wp={focusedElem:r,selectionRange:o},ud=!1,tn=s;tn!==null;)if(s=tn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,tn=r;else for(;tn!==null;){switch(s=tn,y=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&y!==null){r=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=ka(o.type,p,o.elementType===o.type);r=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=r}catch(Re){pt(o,o.return,Re)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,o=r.nodeType,o===9)Zp(r);else if(o===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":Zp(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,tn=r;break}tn=s.return}}function nw(r,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:gs(r,o),c&4&&_u(5,o);break;case 1:if(gs(r,o),c&4)if(r=o.stateNode,s===null)try{r.componentDidMount()}catch(E){pt(o,o.return,E)}else{var p=ka(o.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(p,s,r.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(o,o.return,E)}}c&64&&Qb(o),c&512&&bu(o,o.return);break;case 3:if(gs(r,o),c&64&&(r=o.updateQueue,r!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{j0(r,s)}catch(E){pt(o,o.return,E)}}break;case 27:s===null&&c&4&&ew(o);case 26:case 5:gs(r,o),s===null&&c&4&&Zb(o),c&512&&bu(o,o.return);break;case 12:gs(r,o);break;case 13:gs(r,o),c&4&&sw(r,o),c&64&&(r=o.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(o=qN.bind(null,o),ok(r,o))));break;case 22:if(c=o.memoizedState!==null||kr,!c){s=s!==null&&s.memoizedState!==null||Dt,p=kr;var y=Dt;kr=c,(Dt=s)&&!y?ys(r,o,(o.subtreeFlags&8772)!==0):gs(r,o),kr=p,Dt=y}break;case 30:break;default:gs(r,o)}}function iw(r){var s=r.alternate;s!==null&&(r.alternate=null,iw(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&rs(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var _t=null,Dn=!1;function Pr(r,s,o){for(o=o.child;o!==null;)rw(r,s,o),o=o.sibling}function rw(r,s,o){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(St,o)}catch{}switch(o.tag){case 26:Dt||Ki(o,s),Pr(r,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Ki(o,s);var c=_t,p=Dn;Es(o.type)&&(_t=o.stateNode,Dn=!1),Pr(r,s,o),Iu(o.stateNode),_t=c,Dn=p;break;case 5:Dt||Ki(o,s);case 6:if(c=_t,p=Dn,_t=null,Pr(r,s,o),_t=c,Dn=p,_t!==null)if(Dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(y){pt(o,s,y)}else try{_t.removeChild(o.stateNode)}catch(y){pt(o,s,y)}break;case 18:_t!==null&&(Dn?(r=_t,$w(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,o.stateNode),ju(r)):$w(_t,o.stateNode));break;case 4:c=_t,p=Dn,_t=o.stateNode.containerInfo,Dn=!0,Pr(r,s,o),_t=c,Dn=p;break;case 0:case 11:case 14:case 15:Dt||ps(2,o,s),Dt||ps(4,o,s),Pr(r,s,o);break;case 1:Dt||(Ki(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Xb(o,s,c)),Pr(r,s,o);break;case 21:Pr(r,s,o);break;case 22:Dt=(c=Dt)||o.memoizedState!==null,Pr(r,s,o),Dt=c;break;default:Pr(r,s,o)}}function sw(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{ju(r)}catch(o){pt(s,s.return,o)}}function MN(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new tw),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new tw),s;default:throw Error(i(435,r.tag))}}function Sp(r,s){var o=MN(r);s.forEach(function(c){var p=HN.bind(null,r,c);o.has(c)||(o.add(c),c.then(p,p))})}function Gn(r,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=r,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(Es(C.type)){_t=C.stateNode,Dn=!1;break e}break;case 5:_t=C.stateNode,Dn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,Dn=!0;break e}C=C.return}if(_t===null)throw Error(i(160));rw(y,E,p),_t=null,Dn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)aw(s,r),s=s.sibling}var bi=null;function aw(r,s){var o=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:Gn(s,r),$n(r),c&4&&(ps(3,r,r.return),_u(3,r),ps(5,r,r.return));break;case 1:Gn(s,r),$n(r),c&512&&(Dt||o===null||Ki(o,o.return)),c&64&&kr&&(r=r.updateQueue,r!==null&&(c=r.callbacks,c!==null&&(o=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=bi;if(Gn(s,r),$n(r),c&512&&(Dt||o===null||Ki(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=r.memoizedState,o===null)if(c===null)if(r.stateNode===null){e:{c=r.type,o=r.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[aa]||y[Ht]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),un(y,c,o),y[Ht]=r,kt(y),c=y;break e;case"link":var E=eT("link","href",p).get(c+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}y=p.createElement(c),un(y,c,o),p.head.appendChild(y);break;case"meta":if(E=eT("meta","content",p).get(c+(o.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}y=p.createElement(c),un(y,c,o),p.head.appendChild(y);break;default:throw Error(i(468,c))}y[Ht]=r,kt(y),c=y}r.stateNode=c}else tT(p,r.type,r.stateNode);else r.stateNode=Jw(p,c,r.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?tT(p,r.type,r.stateNode):Jw(p,c,r.memoizedProps)):c===null&&r.stateNode!==null&&wp(r,r.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,r),$n(r),c&512&&(Dt||o===null||Ki(o,o.return)),o!==null&&c&4&&wp(r,r.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,r),$n(r),c&512&&(Dt||o===null||Ki(o,o.return)),r.flags&32){p=r.stateNode;try{ti(p,"")}catch(ee){pt(r,r.return,ee)}}c&4&&r.stateNode!=null&&(p=r.memoizedProps,wp(r,p,o!==null?o.memoizedProps:p)),c&1024&&(xp=!0);break;case 6:if(Gn(s,r),$n(r),c&4){if(r.stateNode===null)throw Error(i(162));c=r.memoizedProps,o=r.stateNode;try{o.nodeValue=c}catch(ee){pt(r,r.return,ee)}}break;case 3:if(ad=null,p=bi,bi=rd(s.containerInfo),Gn(s,r),bi=p,$n(r),c&4&&o!==null&&o.memoizedState.isDehydrated)try{ju(s.containerInfo)}catch(ee){pt(r,r.return,ee)}xp&&(xp=!1,ow(r));break;case 4:c=bi,bi=rd(r.stateNode.containerInfo),Gn(s,r),$n(r),bi=c;break;case 12:Gn(s,r),$n(r);break;case 13:Gn(s,r),$n(r),r.child.flags&8192&&r.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kp=me()),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Sp(r,c)));break;case 22:p=r.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,Z=kr,ae=Dt;if(kr=Z||p,Dt=ae||z,Gn(s,r),Dt=ae,kr=Z,$n(r),c&8192)e:for(s=r.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||z||kr||Dt||Pa(r)),o=null,s=r;;){if(s.tag===5||s.tag===26){if(o===null){z=o=s;try{if(y=z.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=z.stateNode;var ce=z.memoizedProps.style,J=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(ee){pt(z,z.return,ee)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(ee){pt(z,z.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=r.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Sp(r,o))));break;case 19:Gn(s,r),$n(r),c&4&&(c=r.updateQueue,c!==null&&(r.updateQueue=null,Sp(r,c)));break;case 30:break;case 21:break;default:Gn(s,r),$n(r)}}function $n(r){var s=r.flags;if(s&2){try{for(var o,c=r.return;c!==null;){if(Jb(c)){o=c;break}c=c.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var p=o.stateNode,y=Tp(r);Gh(r,y,p);break;case 5:var E=o.stateNode;o.flags&32&&(ti(E,""),o.flags&=-33);var C=Tp(r);Gh(r,C,E);break;case 3:case 4:var z=o.stateNode.containerInfo,Z=Tp(r);Ep(r,Z,z);break;default:throw Error(i(161))}}catch(ae){pt(r,r.return,ae)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function ow(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;ow(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function gs(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)nw(r,s.alternate,s),s=s.sibling}function Pa(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:ps(4,s,s.return),Pa(s);break;case 1:Ki(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Xb(s,s.return,o),Pa(s);break;case 27:Iu(s.stateNode);case 26:case 5:Ki(s,s.return),Pa(s);break;case 22:s.memoizedState===null&&Pa(s);break;case 30:Pa(s);break;default:Pa(s)}r=r.sibling}}function ys(r,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=r,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:ys(p,y,o),_u(4,y);break;case 1:if(ys(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){pt(c,c.return,Z)}if(c=y,p=c.updateQueue,p!==null){var C=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)V0(z[p],C)}catch(Z){pt(c,c.return,Z)}}o&&E&64&&Qb(y),bu(y,y.return);break;case 27:ew(y);case 26:case 5:ys(p,y,o),o&&c===null&&E&4&&Zb(y),bu(y,y.return);break;case 12:ys(p,y,o);break;case 13:ys(p,y,o),o&&E&4&&sw(p,y);break;case 22:y.memoizedState===null&&ys(p,y,o),bu(y,y.return);break;case 30:break;default:ys(p,y,o)}s=s.sibling}}function Ap(r,s){var o=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==o&&(r!=null&&r.refCount++,o!=null&&su(o))}function Rp(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r))}function Yi(r,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)lw(r,s,o,c),s=s.sibling}function lw(r,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(r,s,o,c),p&2048&&_u(9,s);break;case 1:Yi(r,s,o,c);break;case 3:Yi(r,s,o,c),p&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&su(r)));break;case 12:if(p&2048){Yi(r,s,o,c),r=s.stateNode;try{var y=s.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(z){pt(s,s.return,z)}}else Yi(r,s,o,c);break;case 13:Yi(r,s,o,c);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Yi(r,s,o,c):wu(r,s):y._visibility&2?Yi(r,s,o,c):(y._visibility|=2,jo(r,s,o,c,(s.subtreeFlags&10256)!==0)),p&2048&&Ap(E,s);break;case 24:Yi(r,s,o,c),p&2048&&Rp(s.alternate,s);break;default:Yi(r,s,o,c)}}function jo(r,s,o,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=r,E=s,C=o,z=c,Z=E.flags;switch(E.tag){case 0:case 11:case 15:jo(y,E,C,z,p),_u(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?jo(y,E,C,z,p):wu(y,E):(ae._visibility|=2,jo(y,E,C,z,p)),p&&Z&2048&&Ap(E.alternate,E);break;case 24:jo(y,E,C,z,p),p&&Z&2048&&Rp(E.alternate,E);break;default:jo(y,E,C,z,p)}s=s.sibling}}function wu(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=r,c=s,p=c.flags;switch(c.tag){case 22:wu(o,c),p&2048&&Ap(c.alternate,c);break;case 24:wu(o,c),p&2048&&Rp(c.alternate,c);break;default:wu(o,c)}s=s.sibling}}var Tu=8192;function Lo(r){if(r.subtreeFlags&Tu)for(r=r.child;r!==null;)uw(r),r=r.sibling}function uw(r){switch(r.tag){case 26:Lo(r),r.flags&Tu&&r.memoizedState!==null&&bk(bi,r.memoizedState,r.memoizedProps);break;case 5:Lo(r);break;case 3:case 4:var s=bi;bi=rd(r.stateNode.containerInfo),Lo(r),bi=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=Tu,Tu=16777216,Lo(r),Tu=s):Lo(r));break;default:Lo(r)}}function cw(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function Eu(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];tn=c,dw(c,r)}cw(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)hw(r),r=r.sibling}function hw(r){switch(r.tag){case 0:case 11:case 15:Eu(r),r.flags&2048&&ps(9,r,r.return);break;case 3:Eu(r);break;case 12:Eu(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,$h(r)):Eu(r);break;default:Eu(r)}}function $h(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];tn=c,dw(c,r)}cw(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:ps(8,s,s.return),$h(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,$h(s));break;default:$h(s)}r=r.sibling}}function dw(r,s){for(;tn!==null;){var o=tn;switch(o.tag){case 0:case 11:case 15:ps(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:su(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,tn=c;else e:for(o=r;tn!==null;){c=tn;var p=c.sibling,y=c.return;if(iw(c),c===o){tn=null;break e}if(p!==null){p.return=y,tn=p;break e}tn=y}}}var VN={getCacheForType:function(r){var s=pn(Kt),o=s.data.get(r);return o===void 0&&(o=r(),s.data.set(r,o)),o}},jN=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,He=null,Ze=0,ut=0,Kn=null,vs=!1,Uo=!1,Cp=!1,Dr=0,Rt=0,_s=0,Da=0,Ip=0,ci=0,Bo=0,xu=null,On=null,Np=!1,kp=0,Kh=1/0,Yh=null,bs=null,ln=0,ws=null,Fo=null,zo=0,Pp=0,Dp=null,fw=null,Su=0,Op=null;function Yn(){if((lt&2)!==0&&Ze!==0)return Ze&-Ze;if(K.T!==null){var r=Io;return r!==0?r:Fp()}return ns()}function mw(){ci===0&&(ci=(Ze&536870912)===0||nt?Ol():536870912);var r=ui.current;return r!==null&&(r.flags|=32),ci}function Wn(r,s,o){(r===gt&&(ut===2||ut===9)||r.cancelPendingCommit!==null)&&(qo(r,0),Ts(r,Ze,ci,!1)),hr(r,o),((lt&2)===0||r!==gt)&&(r===gt&&((lt&2)===0&&(Da|=o),Rt===4&&Ts(r,Ze,ci,!1)),Wi(r))}function pw(r,s,o){if((lt&6)!==0)throw Error(i(327));var c=!o&&(s&124)===0&&(s&r.expiredLanes)===0||sa(r,s),p=c?BN(r,s):jp(r,s,!0),y=c;do{if(p===0){Uo&&!c&&Ts(r,s,0,!1);break}else{if(o=r.current.alternate,y&&!LN(o)){p=jp(r,s,!1),y=!1;continue}if(p===2){if(y=s,r.errorRecoveryDisabledLanes&y)var E=0;else E=r.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=r;p=xu;var z=C.current.memoizedState.isDehydrated;if(z&&(qo(C,E).flags|=256),E=jp(C,E,!1),E!==2){if(Cp&&!z){C.errorRecoveryDisabledLanes|=y,Da|=y,p=4;break e}y=On,On=p,y!==null&&(On===null?On=y:On.push.apply(On,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){qo(r,0),Ts(r,s,0,!0);break}e:{switch(c=r,y=p,y){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ts(c,s,ci,!vs);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(p=kp+300-me(),10<p)){if(Ts(c,s,ci,!vs),so(c,0,!0)!==0)break e;c.timeoutHandle=Hw(gw.bind(null,c,o,On,Yh,Np,s,ci,Da,Bo,vs,y,2,-0,0),p);break e}gw(c,o,On,Yh,Np,s,ci,Da,Bo,vs,y,0,-0,0)}}break}while(!0);Wi(r)}function gw(r,s,o,c,p,y,E,C,z,Z,ae,ce,J,ee){if(r.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Pu={stylesheets:null,count:0,unsuspend:_k},uw(s),ce=wk(),ce!==null)){r.cancelPendingCommit=ce(Ew.bind(null,r,s,y,o,c,p,E,C,z,ae,1,J,ee)),Ts(r,y,E,!Z);return}Ew(r,s,y,o,c,p,E,C,z)}function LN(r){for(var s=r;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ts(r,s,o,c){s&=~Ip,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,c&&(r.warmLanes|=s),c=r.expirationTimes;for(var p=s;0<p;){var y=31-mn(p),E=1<<y;c[y]=-1,p&=~E}o!==0&&Oi(r,o,s)}function Wh(){return(lt&6)===0?(Au(0),!1):!0}function Mp(){if(He!==null){if(ut===0)var r=He.return;else r=He,Sr=Ra=null,Zm(r),Mo=null,gu=0,r=He;for(;r!==null;)Wb(r.alternate,r),r=r.return;He=null}}function qo(r,s){var o=r.timeoutHandle;o!==-1&&(r.timeoutHandle=-1,nk(o)),o=r.cancelPendingCommit,o!==null&&(r.cancelPendingCommit=null,o()),Mp(),gt=r,He=o=Tr(r.current,null),Ze=s,ut=0,Kn=null,vs=!1,Uo=sa(r,s),Cp=!1,Bo=ci=Ip=Da=_s=Rt=0,On=xu=null,Np=!1,(s&8)!==0&&(s|=s&32);var c=r.entangledLanes;if(c!==0)for(r=r.entanglements,c&=s;0<c;){var p=31-mn(c),y=1<<p;s|=r[p],c&=~y}return Dr=s,yh(),o}function yw(r,s){Be=null,K.H=Vh,s===ou||s===Ah?(s=O0(),ut=3):s===k0?(s=O0(),ut=4):ut=s===Mb?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,He===null&&(Rt=1,Fh(r,si(s,r.current)))}function vw(){var r=K.H;return K.H=Vh,r===null?Vh:r}function _w(){var r=K.A;return K.A=VN,r}function Vp(){Rt=4,vs||(Ze&4194048)!==Ze&&ui.current!==null||(Uo=!0),(_s&134217727)===0&&(Da&134217727)===0||gt===null||Ts(gt,Ze,ci,!1)}function jp(r,s,o){var c=lt;lt|=2;var p=vw(),y=_w();(gt!==r||Ze!==s)&&(Yh=null,qo(r,s)),s=!1;var E=Rt;e:do try{if(ut!==0&&He!==null){var C=He,z=Kn;switch(ut){case 8:Mp(),E=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(s=!0);var Z=ut;if(ut=0,Kn=null,Ho(r,C,z,Z),o&&Uo){E=0;break e}break;default:Z=ut,ut=0,Kn=null,Ho(r,C,z,Z)}}UN(),E=Rt;break}catch(ae){yw(r,ae)}while(!0);return s&&r.shellSuspendCounter++,Sr=Ra=null,lt=c,K.H=p,K.A=y,He===null&&(gt=null,Ze=0,yh()),E}function UN(){for(;He!==null;)bw(He)}function BN(r,s){var o=lt;lt|=2;var c=vw(),p=_w();gt!==r||Ze!==s?(Yh=null,Kh=me()+500,qo(r,s)):Uo=sa(r,s);e:do try{if(ut!==0&&He!==null){s=He;var y=Kn;t:switch(ut){case 1:ut=0,Kn=null,Ho(r,s,y,1);break;case 2:case 9:if(P0(y)){ut=0,Kn=null,ww(s);break}s=function(){ut!==2&&ut!==9||gt!==r||(ut=7),Wi(r)},y.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:P0(y)?(ut=0,Kn=null,ww(s)):(ut=0,Kn=null,Ho(r,s,y,7));break;case 5:var E=null;switch(He.tag){case 26:E=He.memoizedState;case 5:case 27:var C=He;if(!E||nT(E)){ut=0,Kn=null;var z=C.sibling;if(z!==null)He=z;else{var Z=C.return;Z!==null?(He=Z,Qh(Z)):He=null}break t}}ut=0,Kn=null,Ho(r,s,y,5);break;case 6:ut=0,Kn=null,Ho(r,s,y,6);break;case 8:Mp(),Rt=6;break e;default:throw Error(i(462))}}FN();break}catch(ae){yw(r,ae)}while(!0);return Sr=Ra=null,K.H=c,K.A=p,lt=o,He!==null?0:(gt=null,Ze=0,yh(),Rt)}function FN(){for(;He!==null&&!ze();)bw(He)}function bw(r){var s=Kb(r.alternate,r,Dr);r.memoizedProps=r.pendingProps,s===null?Qh(r):He=s}function ww(r){var s=r,o=s.alternate;switch(s.tag){case 15:case 0:s=Fb(o,s,s.pendingProps,s.type,void 0,Ze);break;case 11:s=Fb(o,s,s.pendingProps,s.type.render,s.ref,Ze);break;case 5:Zm(s);default:Wb(o,s),s=He=T0(s,Dr),s=Kb(o,s,Dr)}r.memoizedProps=r.pendingProps,s===null?Qh(r):He=s}function Ho(r,s,o,c){Sr=Ra=null,Zm(s),Mo=null,gu=0;var p=s.return;try{if(NN(r,p,s,o,Ze)){Rt=1,Fh(r,si(o,r.current)),He=null;return}}catch(y){if(p!==null)throw He=p,y;Rt=1,Fh(r,si(o,r.current)),He=null;return}s.flags&32768?(nt||c===1?r=!0:Uo||(Ze&536870912)!==0?r=!1:(vs=r=!0,(c===2||c===9||c===3||c===6)&&(c=ui.current,c!==null&&c.tag===13&&(c.flags|=16384))),Tw(s,r)):Qh(s)}function Qh(r){var s=r;do{if((s.flags&32768)!==0){Tw(s,vs);return}r=s.return;var o=PN(s.alternate,s,Dr);if(o!==null){He=o;return}if(s=s.sibling,s!==null){He=s;return}He=s=r}while(s!==null);Rt===0&&(Rt=5)}function Tw(r,s){do{var o=DN(r.alternate,r);if(o!==null){o.flags&=32767,He=o;return}if(o=r.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(r=r.sibling,r!==null)){He=r;return}He=r=o}while(r!==null);Rt=6,He=null}function Ew(r,s,o,c,p,y,E,C,z){r.cancelPendingCommit=null;do Xh();while(ln!==0);if((lt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(y=s.lanes|s.childLanes,y|=Rm,Vl(r,o,y,E,C,z),r===gt&&(He=gt=null,Ze=0),Fo=s,ws=r,zo=o,Pp=y,Dp=p,fw=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,GN(at,function(){return Cw(),null})):(r.callbackNode=null,r.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=re.p,re.p=2,E=lt,lt|=4;try{ON(r,s,o)}finally{lt=E,re.p=p,K.T=c}}ln=1,xw(),Sw(),Aw()}}function xw(){if(ln===1){ln=0;var r=ws,s=Fo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=re.p;re.p=2;var p=lt;lt|=4;try{aw(s,r);var y=Wp,E=d0(r.containerInfo),C=y.focusedElem,z=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&h0(C.ownerDocument.documentElement,C)){if(z!==null&&Tm(C)){var Z=z.start,ae=z.end;if(ae===void 0&&(ae=Z),"selectionStart"in C)C.selectionStart=Z,C.selectionEnd=Math.min(ae,C.value.length);else{var ce=C.ownerDocument||document,J=ce&&ce.defaultView||window;if(J.getSelection){var ee=J.getSelection(),ke=C.textContent.length,Re=Math.min(z.start,ke),mt=z.end===void 0?Re:Math.min(z.end,ke);!ee.extend&&Re>mt&&(E=mt,mt=Re,Re=E);var Y=c0(C,Re),$=c0(C,mt);if(Y&&$&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var X=ce.createRange();X.setStart(Y.node,Y.offset),ee.removeAllRanges(),Re>mt?(ee.addRange(X),ee.extend($.node,$.offset)):(X.setEnd($.node,$.offset),ee.addRange(X))}}}}for(ce=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var ue=ce[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}ud=!!Yp,Wp=Yp=null}finally{lt=p,re.p=c,K.T=o}}r.current=s,ln=2}}function Sw(){if(ln===2){ln=0;var r=ws,s=Fo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=re.p;re.p=2;var p=lt;lt|=4;try{nw(r,s.alternate,s)}finally{lt=p,re.p=c,K.T=o}}ln=3}}function Aw(){if(ln===4||ln===3){ln=0,et();var r=ws,s=Fo,o=zo,c=fw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?ln=5:(ln=0,Fo=ws=null,Rw(r,r.pendingLanes));var p=r.pendingLanes;if(p===0&&(bs=null),ao(o),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(St,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,p=re.p,re.p=2,K.T=null;try{for(var y=r.onRecoverableError,E=0;E<c.length;E++){var C=c[E];y(C.value,{componentStack:C.stack})}}finally{K.T=s,re.p=p}}(zo&3)!==0&&Xh(),Wi(r),p=r.pendingLanes,(o&4194090)!==0&&(p&42)!==0?r===Op?Su++:(Su=0,Op=r):Su=0,Au(0)}}function Rw(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,su(s)))}function Xh(r){return xw(),Sw(),Aw(),Cw()}function Cw(){if(ln!==5)return!1;var r=ws,s=Pp;Pp=0;var o=ao(zo),c=K.T,p=re.p;try{re.p=32>o?32:o,K.T=null,o=Dp,Dp=null;var y=ws,E=zo;if(ln=0,Fo=ws=null,zo=0,(lt&6)!==0)throw Error(i(331));var C=lt;if(lt|=4,hw(y.current),lw(y,y.current,E,o),lt=C,Au(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(St,y)}catch{}return!0}finally{re.p=p,K.T=c,Rw(r,s)}}function Iw(r,s,o){s=si(o,s),s=dp(r.stateNode,s,2),r=hs(r,s,2),r!==null&&(hr(r,2),Wi(r))}function pt(r,s,o){if(r.tag===3)Iw(r,r,o);else for(;s!==null;){if(s.tag===3){Iw(s,r,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bs===null||!bs.has(c))){r=si(o,r),o=Db(2),c=hs(s,o,2),c!==null&&(Ob(o,c,s,r),hr(c,2),Wi(c));break}}s=s.return}}function Lp(r,s,o){var c=r.pingCache;if(c===null){c=r.pingCache=new jN;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(Cp=!0,p.add(o),r=zN.bind(null,r,s,o),s.then(r,r))}function zN(r,s,o){var c=r.pingCache;c!==null&&c.delete(s),r.pingedLanes|=r.suspendedLanes&o,r.warmLanes&=~o,gt===r&&(Ze&o)===o&&(Rt===4||Rt===3&&(Ze&62914560)===Ze&&300>me()-kp?(lt&2)===0&&qo(r,0):Ip|=o,Bo===Ze&&(Bo=0)),Wi(r)}function Nw(r,s){s===0&&(s=Ml()),r=So(r,s),r!==null&&(hr(r,s),Wi(r))}function qN(r){var s=r.memoizedState,o=0;s!==null&&(o=s.retryLane),Nw(r,o)}function HN(r,s){var o=0;switch(r.tag){case 13:var c=r.stateNode,p=r.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=r.stateNode;break;case 22:c=r.stateNode._retryCache;break;default:throw Error(i(314))}c!==null&&c.delete(s),Nw(r,o)}function GN(r,s){return Se(r,s)}var Zh=null,Go=null,Up=!1,Jh=!1,Bp=!1,Oa=0;function Wi(r){r!==Go&&r.next===null&&(Go===null?Zh=Go=r:Go=Go.next=r),Jh=!0,Up||(Up=!0,KN())}function Au(r,s){if(!Bp&&Jh){Bp=!0;do for(var o=!1,c=Zh;c!==null;){if(r!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var E=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-mn(42|r)+1)-1,y&=p&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Ow(c,y))}else y=Ze,y=so(c,c===gt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||sa(c,y)||(o=!0,Ow(c,y));c=c.next}while(o);Bp=!1}}function $N(){kw()}function kw(){Jh=Up=!1;var r=0;Oa!==0&&(tk()&&(r=Oa),Oa=0);for(var s=me(),o=null,c=Zh;c!==null;){var p=c.next,y=Pw(c,s);y===0?(c.next=null,o===null?Zh=p:o.next=p,p===null&&(Go=o)):(o=c,(r!==0||(y&3)!==0)&&(Jh=!0)),c=p}Au(r)}function Pw(r,s){for(var o=r.suspendedLanes,c=r.pingedLanes,p=r.expirationTimes,y=r.pendingLanes&-62914561;0<y;){var E=31-mn(y),C=1<<E,z=p[E];z===-1?((C&o)===0||(C&c)!==0)&&(p[E]=Dl(C,s)):z<=s&&(r.expiredLanes|=C),y&=~C}if(s=gt,o=Ze,o=so(r,r===s?o:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c=r.callbackNode,o===0||r===s&&(ut===2||ut===9)||r.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),r.callbackNode=null,r.callbackPriority=0;if((o&3)===0||sa(r,o)){if(s=o&-o,s===r.callbackPriority)return s;switch(c!==null&&We(c),ao(o)){case 2:case 8:o=it;break;case 32:o=at;break;case 268435456:o=ea;break;default:o=at}return c=Dw.bind(null,r),o=Se(o,c),r.callbackPriority=s,r.callbackNode=o,s}return c!==null&&c!==null&&We(c),r.callbackPriority=2,r.callbackNode=null,2}function Dw(r,s){if(ln!==0&&ln!==5)return r.callbackNode=null,r.callbackPriority=0,null;var o=r.callbackNode;if(Xh()&&r.callbackNode!==o)return null;var c=Ze;return c=so(r,r===gt?c:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),c===0?null:(pw(r,c,s),Pw(r,me()),r.callbackNode!=null&&r.callbackNode===o?Dw.bind(null,r):null)}function Ow(r,s){if(Xh())return null;pw(r,s,!0)}function KN(){ik(function(){(lt&6)!==0?Se(Ve,$N):kw()})}function Fp(){return Oa===0&&(Oa=Ol()),Oa}function Mw(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:fo(""+r)}function Vw(r,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,r.id&&o.setAttribute("form",r.id),s.parentNode.insertBefore(o,s),r=new FormData(r),o.parentNode.removeChild(o),r}function YN(r,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var y=Mw((p[jt]||null).action),E=c.submitter;E&&(s=(s=E[jt]||null)?Mw(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var C=new mo("action","action",null,c,p);r.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Oa!==0){var z=E?Vw(p,E):new FormData(p);op(o,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(C.preventDefault(),z=E?Vw(p,E):new FormData(p),op(o,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var zp=0;zp<Am.length;zp++){var qp=Am[zp],WN=qp.toLowerCase(),QN=qp[0].toUpperCase()+qp.slice(1);_i(WN,"on"+QN)}_i(p0,"onAnimationEnd"),_i(g0,"onAnimationIteration"),_i(y0,"onAnimationStart"),_i("dblclick","onDoubleClick"),_i("focusin","onFocus"),_i("focusout","onBlur"),_i(fN,"onTransitionRun"),_i(mN,"onTransitionStart"),_i(pN,"onTransitionCancel"),_i(v0,"onTransitionEnd"),fr("onMouseEnter",["mouseout","mouseover"]),fr("onMouseLeave",["mouseout","mouseover"]),fr("onPointerEnter",["pointerout","pointerover"]),fr("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function jw(r,s){s=(s&4)!==0;for(var o=0;o<r.length;o++){var c=r[o],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var E=c.length-1;0<=E;E--){var C=c[E],z=C.instance,Z=C.currentTarget;if(C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=Z;try{y(p)}catch(ae){Bh(ae)}p.currentTarget=null,y=z}else for(E=0;E<c.length;E++){if(C=c[E],z=C.instance,Z=C.currentTarget,C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=Z;try{y(p)}catch(ae){Bh(ae)}p.currentTarget=null,y=z}}}}function Ge(r,s){var o=s[Ll];o===void 0&&(o=s[Ll]=new Set);var c=r+"__bubble";o.has(c)||(Lw(s,r,2,!1),o.add(c))}function Hp(r,s,o){var c=0;s&&(c|=4),Lw(o,r,c,s)}var ed="_reactListening"+Math.random().toString(36).slice(2);function Gp(r){if(!r[ed]){r[ed]=!0,Ul.forEach(function(o){o!=="selectionchange"&&(XN.has(o)||Hp(o,!1,r),Hp(o,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[ed]||(s[ed]=!0,Hp("selectionchange",!1,s))}}function Lw(r,s,o,c){switch(lT(s)){case 2:var p=xk;break;case 8:p=Sk;break;default:p=sg}o=p.bind(null,s,o,r),p=void 0,!ii||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?r.addEventListener(s,o,{capture:!0,passive:p}):r.addEventListener(s,o,!0):p!==void 0?r.addEventListener(s,o,{passive:p}):r.addEventListener(s,o,!1)}function $p(r,s,o,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===p)break;if(E===4)for(E=c.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;C!==null;){if(E=dr(C),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){c=y=E;continue e}C=C.parentNode}}c=c.return}nh(function(){var Z=y,ae=ni(o),ce=[];e:{var J=_0.get(r);if(J!==void 0){var ee=mo,ke=r;switch(r){case"keypress":if(Bi(o)===0)break e;case"keydown":case"keyup":ee=bo;break;case"focusin":ke="focus",ee=yo;break;case"focusout":ke="blur",ee=yo;break;case"beforeblur":case"afterblur":ee=yo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ri;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=vm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=ch;break;case p0:case g0:case y0:ee=vo;break;case v0:ee=dh;break;case"scroll":case"scrollend":ee=ih;break;case"wheel":ee=wo;break;case"copy":case"cut":case"paste":ee=_o;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Xl;break;case"toggle":case"beforetoggle":ee=mh}var Re=(s&4)!==0,mt=!Re&&(r==="scroll"||r==="scrollend"),Y=Re?J!==null?J+"Capture":null:J;Re=[];for(var $=Z,X;$!==null;){var ue=$;if(X=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||X===null||Y===null||(ue=fa($,Y),ue!=null&&Re.push(Cu($,ue,X))),mt)break;$=$.return}0<Re.length&&(J=new ee(J,ke,null,o,ae),ce.push({event:J,listeners:Re}))}}if((s&7)===0){e:{if(J=r==="mouseover"||r==="pointerover",ee=r==="mouseout"||r==="pointerout",J&&o!==gr&&(ke=o.relatedTarget||o.fromElement)&&(dr(ke)||ke[ei]))break e;if((ee||J)&&(J=ae.window===ae?ae:(J=ae.ownerDocument)?J.defaultView||J.parentWindow:window,ee?(ke=o.relatedTarget||o.toElement,ee=Z,ke=ke?dr(ke):null,ke!==null&&(mt=l(ke),Re=ke.tag,ke!==mt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(ee=null,ke=Z),ee!==ke)){if(Re=ri,ue="onMouseLeave",Y="onMouseEnter",$="mouse",(r==="pointerout"||r==="pointerover")&&(Re=Xl,ue="onPointerLeave",Y="onPointerEnter",$="pointer"),mt=ee==null?J:Vi(ee),X=ke==null?J:Vi(ke),J=new Re(ue,$+"leave",ee,o,ae),J.target=mt,J.relatedTarget=X,ue=null,dr(ae)===Z&&(Re=new Re(Y,$+"enter",ke,o,ae),Re.target=X,Re.relatedTarget=mt,ue=Re),mt=ue,ee&&ke)t:{for(Re=ee,Y=ke,$=0,X=Re;X;X=$o(X))$++;for(X=0,ue=Y;ue;ue=$o(ue))X++;for(;0<$-X;)Re=$o(Re),$--;for(;0<X-$;)Y=$o(Y),X--;for(;$--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=$o(Re),Y=$o(Y)}Re=null}else Re=null;ee!==null&&Uw(ce,J,ee,Re,!1),ke!==null&&mt!==null&&Uw(ce,mt,ke,Re,!0)}}e:{if(J=Z?Vi(Z):window,ee=J.nodeName&&J.nodeName.toLowerCase(),ee==="select"||ee==="input"&&J.type==="file")var we=r0;else if($t(J))if(s0)we=cN;else{we=lN;var qe=oN}else ee=J.nodeName,!ee||ee.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Z&&Hl(Z.elementType)&&(we=r0):we=uN;if(we&&(we=we(r,Z))){wr(ce,we,o,ae);break e}qe&&qe(r,J,Z),r==="focusout"&&Z&&J.type==="number"&&Z.memoizedProps.value!=null&&as(J,"number",J.value)}switch(qe=Z?Vi(Z):window,r){case"focusin":($t(qe)||qe.contentEditable==="true")&&(To=qe,Em=Z,eu=null);break;case"focusout":eu=Em=To=null;break;case"mousedown":xm=!0;break;case"contextmenu":case"mouseup":case"dragend":xm=!1,f0(ce,o,ae);break;case"selectionchange":if(dN)break;case"keydown":case"keyup":f0(ce,o,ae)}var xe;if(qi)e:{switch(r){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Qe?te(r,o)&&(Ce="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(T&&o.locale!=="ko"&&(Qe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Qe&&(xe=$l()):(Ui=ae,os="value"in Ui?Ui.value:Ui.textContent,Qe=!0)),qe=td(Z,Ce),0<qe.length&&(Ce=new Wl(Ce,r,null,o,ae),ce.push({event:Ce,listeners:qe}),xe?Ce.data=xe:(xe=ge(o),xe!==null&&(Ce.data=xe)))),(xe=b?Gt(r,o):Xe(r,o))&&(Ce=td(Z,"onBeforeInput"),0<Ce.length&&(qe=new Wl("onBeforeInput","beforeinput",null,o,ae),ce.push({event:qe,listeners:Ce}),qe.data=xe)),YN(ce,r,Z,o,ae)}jw(ce,s)})}function Cu(r,s,o){return{instance:r,listener:s,currentTarget:o}}function td(r,s){for(var o=s+"Capture",c=[];r!==null;){var p=r,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=fa(r,o),p!=null&&c.unshift(Cu(r,p,y)),p=fa(r,s),p!=null&&c.push(Cu(r,p,y))),r.tag===3)return c;r=r.return}return[]}function $o(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function Uw(r,s,o,c,p){for(var y=s._reactName,E=[];o!==null&&o!==c;){var C=o,z=C.alternate,Z=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||Z===null||(z=Z,p?(Z=fa(o,y),Z!=null&&E.unshift(Cu(o,Z,z))):p||(Z=fa(o,y),Z!=null&&E.push(Cu(o,Z,z)))),o=o.return}E.length!==0&&r.push({event:s,listeners:E})}var ZN=/\r\n?/g,JN=/\u0000|\uFFFD/g;function Bw(r){return(typeof r=="string"?r:""+r).replace(ZN,`
`).replace(JN,"")}function Fw(r,s){return s=Bw(s),Bw(r)===s}function nd(){}function ft(r,s,o,c,p,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||ti(r,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&ti(r,""+c);break;case"className":ji(r,"class",c);break;case"tabIndex":ji(r,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":ji(r,o,c);break;case"style":ql(r,c,y);break;case"data":if(s!=="object"){ji(r,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){r.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=fo(""+c),r.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){r.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ft(r,s,"name",p.name,p,null),ft(r,s,"formEncType",p.formEncType,p,null),ft(r,s,"formMethod",p.formMethod,p,null),ft(r,s,"formTarget",p.formTarget,p,null)):(ft(r,s,"encType",p.encType,p,null),ft(r,s,"method",p.method,p,null),ft(r,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){r.removeAttribute(o);break}c=fo(""+c),r.setAttribute(o,c);break;case"onClick":c!=null&&(r.onclick=nd);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"multiple":r.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":r.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){r.removeAttribute("xlink:href");break}o=fo(""+c),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""+c):r.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,""):r.removeAttribute(o);break;case"capture":case"download":c===!0?r.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?r.setAttribute(o,c):r.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?r.setAttribute(o,c):r.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?r.removeAttribute(o):r.setAttribute(o,c);break;case"popover":Ge("beforetoggle",r),Ge("toggle",r),ss(r,"popover",c);break;case"xlinkActuate":sn(r,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":sn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":sn(r,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":sn(r,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":sn(r,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":sn(r,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":sn(r,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":sn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":sn(r,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ss(r,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=gm.get(o)||o,ss(r,o,c))}}function Kp(r,s,o,c,p,y){switch(o){case"style":ql(r,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(i(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(i(60));r.innerHTML=o}}break;case"children":typeof c=="string"?ti(r,c):(typeof c=="number"||typeof c=="bigint")&&ti(r,""+c);break;case"onScroll":c!=null&&Ge("scroll",r);break;case"onScrollEnd":c!=null&&Ge("scrollend",r);break;case"onClick":c!=null&&(r.onclick=nd);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!oo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=r[jt]||null,y=y!=null?y[o]:null,typeof y=="function"&&r.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in r?r[o]=null:r.hasAttribute(o)&&r.removeAttribute(o)),r.addEventListener(s,c,p);break e}o in r?r[o]=c:c===!0?r.setAttribute(o,""):ss(r,o,c)}}}function un(r,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",r),Ge("load",r);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(r,s,y,E,o,null)}}p&&ft(r,s,"srcSet",o.srcSet,o,null),c&&ft(r,s,"src",o.src,o,null);return;case"input":Ge("invalid",r);var C=y=E=p=null,z=null,Z=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":E=ae;break;case"checked":z=ae;break;case"defaultChecked":Z=ae;break;case"value":y=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,s));break;default:ft(r,s,c,ae,o,null)}}ca(r,y,C,z,Z,E,p,!1),ho(r);return;case"select":Ge("invalid",r),c=E=y=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:ft(r,s,p,C,o,null)}s=y,o=E,r.multiple=!!c,s!=null?pr(r,!!c,s,!1):o!=null&&pr(r,!!c,o,!0);return;case"textarea":Ge("invalid",r),y=p=c=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(i(91));break;default:ft(r,s,E,C,o,null)}ha(r,c,p,y),ho(r);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":r.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(r,s,z,c,o,null)}return;case"dialog":Ge("beforetoggle",r),Ge("toggle",r),Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":Ge("load",r);break;case"video":case"audio":for(c=0;c<Ru.length;c++)Ge(Ru[c],r);break;case"image":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"embed":case"source":case"link":Ge("error",r),Ge("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in o)if(o.hasOwnProperty(Z)&&(c=o[Z],c!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ft(r,s,Z,c,o,null)}return;default:if(Hl(s)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Kp(r,s,ae,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&ft(r,s,C,c,o,null))}function ek(r,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,C=null,z=null,Z=null,ae=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=ce;default:c.hasOwnProperty(ee)||ft(r,s,ee,null,c,ce)}}for(var J in c){var ee=c[J];if(ce=o[J],c.hasOwnProperty(J)&&(ee!=null||ce!=null))switch(J){case"type":y=ee;break;case"name":p=ee;break;case"checked":Z=ee;break;case"defaultChecked":ae=ee;break;case"value":E=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(i(137,s));break;default:ee!==ce&&ft(r,s,J,ee,c,ce)}}zn(r,E,C,z,Z,ae,y,p);return;case"select":ee=E=C=J=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ee=z;default:c.hasOwnProperty(y)||ft(r,s,y,null,c,z)}for(p in c)if(y=c[p],z=o[p],c.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":J=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==z&&ft(r,s,p,y,c,z)}s=C,o=E,c=ee,J!=null?pr(r,!!o,J,!1):!!c!=!!o&&(s!=null?pr(r,!!o,s,!0):pr(r,!!o,o?[]:"",!1));return;case"textarea":ee=J=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ft(r,s,C,null,c,p)}for(E in c)if(p=c[E],y=o[E],c.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":J=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(i(91));break;default:p!==y&&ft(r,s,E,p,c,y)}ht(r,J,ee);return;case"option":for(var ke in o)if(J=o[ke],o.hasOwnProperty(ke)&&J!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":r.selected=!1;break;default:ft(r,s,ke,null,c,J)}for(z in c)if(J=c[z],ee=o[z],c.hasOwnProperty(z)&&J!==ee&&(J!=null||ee!=null))switch(z){case"selected":r.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ft(r,s,z,J,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)J=o[Re],o.hasOwnProperty(Re)&&J!=null&&!c.hasOwnProperty(Re)&&ft(r,s,Re,null,c,J);for(Z in c)if(J=c[Z],ee=o[Z],c.hasOwnProperty(Z)&&J!==ee&&(J!=null||ee!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,s));break;default:ft(r,s,Z,J,c,ee)}return;default:if(Hl(s)){for(var mt in o)J=o[mt],o.hasOwnProperty(mt)&&J!==void 0&&!c.hasOwnProperty(mt)&&Kp(r,s,mt,void 0,c,J);for(ae in c)J=c[ae],ee=o[ae],!c.hasOwnProperty(ae)||J===ee||J===void 0&&ee===void 0||Kp(r,s,ae,J,c,ee);return}}for(var Y in o)J=o[Y],o.hasOwnProperty(Y)&&J!=null&&!c.hasOwnProperty(Y)&&ft(r,s,Y,null,c,J);for(ce in c)J=c[ce],ee=o[ce],!c.hasOwnProperty(ce)||J===ee||J==null&&ee==null||ft(r,s,ce,J,c,ee)}var Yp=null,Wp=null;function id(r){return r.nodeType===9?r:r.ownerDocument}function zw(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function qw(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Qp(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Xp=null;function tk(){var r=window.event;return r&&r.type==="popstate"?r===Xp?!1:(Xp=r,!0):(Xp=null,!1)}var Hw=typeof setTimeout=="function"?setTimeout:void 0,nk=typeof clearTimeout=="function"?clearTimeout:void 0,Gw=typeof Promise=="function"?Promise:void 0,ik=typeof queueMicrotask=="function"?queueMicrotask:typeof Gw<"u"?function(r){return Gw.resolve(null).then(r).catch(rk)}:Hw;function rk(r){setTimeout(function(){throw r})}function Es(r){return r==="head"}function $w(r,s){var o=s,c=0,p=0;do{var y=o.nextSibling;if(r.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var E=r.ownerDocument;if(o&1&&Iu(E.documentElement),o&2&&Iu(E.body),o&4)for(o=E.head,Iu(o),E=o.firstChild;E;){var C=E.nextSibling,z=E.nodeName;E[aa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=C}}if(p===0){r.removeChild(y),ju(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);ju(s)}function Zp(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Zp(o),rs(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}r.removeChild(o)}}function sk(r,s,o,c){for(;r.nodeType===1;){var p=o;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(c){if(!r[aa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(y=r.getAttribute("rel"),y==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(y!==p.rel||r.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||r.getAttribute("title")!==(p.title==null?null:p.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(y=r.getAttribute("src"),(y!==(p.src==null?null:p.src)||r.getAttribute("type")!==(p.type==null?null:p.type)||r.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&r.getAttribute("name")===y)return r}else return r;if(r=wi(r.nextSibling),r===null)break}return null}function ak(r,s,o){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!o||(r=wi(r.nextSibling),r===null))return null;return r}function Jp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function ok(r,s){var o=r.ownerDocument;if(r.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),r._reactRetry=c}}function wi(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var eg=null;function Kw(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return r;s--}else o==="/$"&&s++}r=r.previousSibling}return null}function Yw(r,s,o){switch(s=id(o),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function Iu(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);rs(r)}var hi=new Map,Ww=new Set;function rd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Or=re.d;re.d={f:lk,r:uk,D:ck,C:hk,L:dk,m:fk,X:pk,S:mk,M:gk};function lk(){var r=Or.f(),s=Wh();return r||s}function uk(r){var s=Mi(r);s!==null&&s.tag===5&&s.type==="form"?pb(s):Or.r(r)}var Ko=typeof document>"u"?null:document;function Qw(r,s,o){var c=Ko;if(c&&typeof s=="string"&&s){var p=Lt(s);p='link[rel="'+r+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Ww.has(p)||(Ww.add(p),r={rel:r,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),un(s,"link",r),kt(s),c.head.appendChild(s)))}}function ck(r){Or.D(r),Qw("dns-prefetch",r,null)}function hk(r,s){Or.C(r,s),Qw("preconnect",r,s)}function dk(r,s,o){Or.L(r,s,o);var c=Ko;if(c&&r&&s){var p='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Lt(o.imageSizes)+'"]')):p+='[href="'+Lt(r)+'"]';var y=p;switch(s){case"style":y=Yo(r);break;case"script":y=Wo(r)}hi.has(y)||(r=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:r,as:s},o),hi.set(y,r),c.querySelector(p)!==null||s==="style"&&c.querySelector(Nu(y))||s==="script"&&c.querySelector(ku(y))||(s=c.createElement("link"),un(s,"link",r),kt(s),c.head.appendChild(s)))}}function fk(r,s){Or.m(r,s);var o=Ko;if(o&&r){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(r)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Wo(r)}if(!hi.has(y)&&(r=g({rel:"modulepreload",href:r},s),hi.set(y,r),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(ku(y)))return}c=o.createElement("link"),un(c,"link",r),kt(c),o.head.appendChild(c)}}}function mk(r,s,o){Or.S(r,s,o);var c=Ko;if(c&&r){var p=An(c).hoistableStyles,y=Yo(r);s=s||"default";var E=p.get(y);if(!E){var C={loading:0,preload:null};if(E=c.querySelector(Nu(y)))C.loading=5;else{r=g({rel:"stylesheet",href:r,"data-precedence":s},o),(o=hi.get(y))&&tg(r,o);var z=E=c.createElement("link");kt(z),un(z,"link",r),z._p=new Promise(function(Z,ae){z.onload=Z,z.onerror=ae}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,sd(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:C},p.set(y,E)}}}function pk(r,s){Or.X(r,s);var o=Ko;if(o&&r){var c=An(o).hoistableScripts,p=Wo(r),y=c.get(p);y||(y=o.querySelector(ku(p)),y||(r=g({src:r,async:!0},s),(s=hi.get(p))&&ng(r,s),y=o.createElement("script"),kt(y),un(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function gk(r,s){Or.M(r,s);var o=Ko;if(o&&r){var c=An(o).hoistableScripts,p=Wo(r),y=c.get(p);y||(y=o.querySelector(ku(p)),y||(r=g({src:r,async:!0,type:"module"},s),(s=hi.get(p))&&ng(r,s),y=o.createElement("script"),kt(y),un(y,"link",r),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function Xw(r,s,o,c){var p=(p=Ee.current)?rd(p):null;if(!p)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Yo(o.href),o=An(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){r=Yo(o.href);var y=An(p).hoistableStyles,E=y.get(r);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(r,E),(y=p.querySelector(Nu(r)))&&!y._p&&(E.instance=y,E.state.loading=5),hi.has(r)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hi.set(r,o),y||yk(p,r,o,E.state))),s&&c===null)throw Error(i(528,""));return E}if(s&&c!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Wo(o),o=An(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function Yo(r){return'href="'+Lt(r)+'"'}function Nu(r){return'link[rel="stylesheet"]['+r+"]"}function Zw(r){return g({},r,{"data-precedence":r.precedence,precedence:null})}function yk(r,s,o,c){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=r.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),un(s,"link",o),kt(s),r.head.appendChild(s))}function Wo(r){return'[src="'+Lt(r)+'"]'}function ku(r){return"script[async]"+r}function Jw(r,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=r.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(r.ownerDocument||r).createElement("style"),kt(c),un(c,"style",p),sd(c,o.precedence,r),s.instance=c;case"stylesheet":p=Yo(o.href);var y=r.querySelector(Nu(p));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;c=Zw(o),(p=hi.get(p))&&tg(c,p),y=(r.ownerDocument||r).createElement("link"),kt(y);var E=y;return E._p=new Promise(function(C,z){E.onload=C,E.onerror=z}),un(y,"link",c),s.state.loading|=4,sd(y,o.precedence,r),s.instance=y;case"script":return y=Wo(o.src),(p=r.querySelector(ku(y)))?(s.instance=p,kt(p),p):(c=o,(p=hi.get(y))&&(c=g({},o),ng(c,p)),r=r.ownerDocument||r,p=r.createElement("script"),kt(p),un(p,"link",c),r.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,sd(c,o.precedence,r));return s.instance}function sd(r,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===s)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(r,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(r,s.firstChild))}function tg(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function ng(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var ad=null;function eT(r,s,o){if(ad===null){var c=new Map,p=ad=new Map;p.set(o,c)}else p=ad,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(r))return c;for(c.set(r,null),o=o.getElementsByTagName(r),p=0;p<o.length;p++){var y=o[p];if(!(y[aa]||y[Ht]||r==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=r+E;var C=c.get(E);C?C.push(y):c.set(E,[y])}}return c}function tT(r,s,o){r=r.ownerDocument||r,r.head.insertBefore(o,s==="title"?r.querySelector("head > title"):null)}function vk(r,s,o){if(o===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function nT(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var Pu=null;function _k(){}function bk(r,s,o){if(Pu===null)throw Error(i(475));var c=Pu;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Yo(o.href),y=r.querySelector(Nu(p));if(y){r=y._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(c.count++,c=od.bind(c),r.then(c,c)),s.state.loading|=4,s.instance=y,kt(y);return}y=r.ownerDocument||r,o=Zw(o),(p=hi.get(p))&&tg(o,p),y=y.createElement("link"),kt(y);var E=y;E._p=new Promise(function(C,z){E.onload=C,E.onerror=z}),un(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=od.bind(c),r.addEventListener("load",s),r.addEventListener("error",s))}}function wk(){if(Pu===null)throw Error(i(475));var r=Pu;return r.stylesheets&&r.count===0&&ig(r,r.stylesheets),0<r.count?function(s){var o=setTimeout(function(){if(r.stylesheets&&ig(r,r.stylesheets),r.unsuspend){var c=r.unsuspend;r.unsuspend=null,c()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(o)}}:null}function od(){if(this.count--,this.count===0){if(this.stylesheets)ig(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var ld=null;function ig(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,ld=new Map,s.forEach(Tk,r),ld=null,od.call(r))}function Tk(r,s){if(!(s.state.loading&4)){var o=ld.get(r);if(o)var c=o.get(null);else{o=new Map,ld.set(r,o);for(var p=r.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}p=s.instance,E=p.getAttribute("data-precedence"),y=o.get(E)||c,y===c&&o.set(null,p),o.set(E,p),this.count++,c=od.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(p,r.firstChild)),s.state.loading|=4}}var Du={$$typeof:O,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Ek(r,s,o,c,p,y,E,C){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=cr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cr(0),this.hiddenUpdates=cr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function iT(r,s,o,c,p,y,E,C,z,Z,ae,ce){return r=new Ek(r,s,o,E,C,z,Z,ce),s=1,y===!0&&(s|=24),y=Hn(3,null,null,s),r.current=y,y.stateNode=r,s=Lm(),s.refCount++,r.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},zm(y),r}function rT(r){return r?(r=Ao,r):Ao}function sT(r,s,o,c,p,y){p=rT(p),c.context===null?c.context=p:c.pendingContext=p,c=cs(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=hs(r,c,s),o!==null&&(Wn(o,r,s),uu(o,r,s))}function aT(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<s?o:s}}function rg(r,s){aT(r,s),(r=r.alternate)&&aT(r,s)}function oT(r){if(r.tag===13){var s=So(r,67108864);s!==null&&Wn(s,r,67108864),rg(r,67108864)}}var ud=!0;function xk(r,s,o,c){var p=K.T;K.T=null;var y=re.p;try{re.p=2,sg(r,s,o,c)}finally{re.p=y,K.T=p}}function Sk(r,s,o,c){var p=K.T;K.T=null;var y=re.p;try{re.p=8,sg(r,s,o,c)}finally{re.p=y,K.T=p}}function sg(r,s,o,c){if(ud){var p=ag(c);if(p===null)$p(r,s,c,cd,o),uT(r,c);else if(Rk(p,r,s,o,c))c.stopPropagation();else if(uT(r,c),s&4&&-1<Ak.indexOf(r)){for(;p!==null;){var y=Mi(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=gi(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var z=1<<31-mn(E);C.entanglements[1]|=z,E&=~z}Wi(y),(lt&6)===0&&(Kh=me()+500,Au(0))}}break;case 13:C=So(y,2),C!==null&&Wn(C,y,2),Wh(),rg(y,2)}if(y=ag(c),y===null&&$p(r,s,c,cd,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else $p(r,s,c,null,o)}}function ag(r){return r=ni(r),og(r)}var cd=null;function og(r){if(cd=null,r=dr(r),r!==null){var s=l(r);if(s===null)r=null;else{var o=s.tag;if(o===13){if(r=u(s),r!==null)return r;r=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return cd=r,null}function lT(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ve:return 2;case it:return 8;case at:case Di:return 32;case ea:return 268435456;default:return 32}default:return 32}}var lg=!1,xs=null,Ss=null,As=null,Ou=new Map,Mu=new Map,Rs=[],Ak="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function uT(r,s){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Ou.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mu.delete(s.pointerId)}}function Vu(r,s,o,c,p,y){return r===null||r.nativeEvent!==y?(r={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Mi(s),s!==null&&oT(s)),r):(r.eventSystemFlags|=c,s=r.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),r)}function Rk(r,s,o,c,p){switch(s){case"focusin":return xs=Vu(xs,r,s,o,c,p),!0;case"dragenter":return Ss=Vu(Ss,r,s,o,c,p),!0;case"mouseover":return As=Vu(As,r,s,o,c,p),!0;case"pointerover":var y=p.pointerId;return Ou.set(y,Vu(Ou.get(y)||null,r,s,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,Mu.set(y,Vu(Mu.get(y)||null,r,s,o,c,p)),!0}return!1}function cT(r){var s=dr(r.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){r.blockedOn=s,Wc(r.priority,function(){if(o.tag===13){var c=Yn();c=ts(c);var p=So(o,c);p!==null&&Wn(p,o,c),rg(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function hd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var o=ag(r.nativeEvent);if(o===null){o=r.nativeEvent;var c=new o.constructor(o.type,o);gr=c,o.target.dispatchEvent(c),gr=null}else return s=Mi(o),s!==null&&oT(s),r.blockedOn=o,!1;s.shift()}return!0}function hT(r,s,o){hd(r)&&o.delete(s)}function Ck(){lg=!1,xs!==null&&hd(xs)&&(xs=null),Ss!==null&&hd(Ss)&&(Ss=null),As!==null&&hd(As)&&(As=null),Ou.forEach(hT),Mu.forEach(hT)}function dd(r,s){r.blockedOn===s&&(r.blockedOn=null,lg||(lg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ck)))}var fd=null;function dT(r){fd!==r&&(fd=r,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){fd===r&&(fd=null);for(var s=0;s<r.length;s+=3){var o=r[s],c=r[s+1],p=r[s+2];if(typeof c!="function"){if(og(c||o)===null)continue;break}var y=Mi(o);y!==null&&(r.splice(s,3),s-=3,op(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function ju(r){function s(z){return dd(z,r)}xs!==null&&dd(xs,r),Ss!==null&&dd(Ss,r),As!==null&&dd(As,r),Ou.forEach(s),Mu.forEach(s);for(var o=0;o<Rs.length;o++){var c=Rs[o];c.blockedOn===r&&(c.blockedOn=null)}for(;0<Rs.length&&(o=Rs[0],o.blockedOn===null);)cT(o),o.blockedOn===null&&Rs.shift();if(o=(r.ownerDocument||r).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],E=p[jt]||null;if(typeof y=="function")E||dT(o);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[jt]||null)C=E.formAction;else if(og(p)!==null)continue}else C=E.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),dT(o)}}}function ug(r){this._internalRoot=r}md.prototype.render=ug.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,c=Yn();sT(o,c,r,s,null,null)},md.prototype.unmount=ug.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;sT(r.current,2,null,r,null,null),Wh(),s[ei]=null}};function md(r){this._internalRoot=r}md.prototype.unstable_scheduleHydration=function(r){if(r){var s=ns();r={blockedOn:null,target:r,priority:s};for(var o=0;o<Rs.length&&s!==0&&s<Rs[o].priority;o++);Rs.splice(o,0,r),o===0&&cT(r)}};var fT=e.version;if(fT!=="19.1.0")throw Error(i(527,fT,"19.1.0"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=d(s),r=r!==null?m(r):null,r=r===null?null:r.stateNode,r};var Ik={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pd.isDisabled&&pd.supportsFiber)try{St=pd.inject(Ik),ot=pd}catch{}}return Uu.createRoot=function(r,s){if(!a(r))throw Error(i(299));var o=!1,c="",p=Ib,y=Nb,E=kb,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=iT(r,1,!1,null,null,o,c,p,y,E,C,null),r[ei]=s.current,Gp(r),new ug(s)},Uu.hydrateRoot=function(r,s,o){if(!a(r))throw Error(i(299));var c=!1,p="",y=Ib,E=Nb,C=kb,z=null,Z=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(Z=o.formState)),s=iT(r,1,!0,s,o??null,c,p,y,E,C,z,Z),s.context=rT(null),o=s.current,c=Yn(),c=ts(c),p=cs(c),p.callback=null,hs(o,p,c),o=c,s.current.lanes=o,hr(s,o),Wi(s),r[ei]=s.current,Gp(r),new md(s)},Uu.version="19.1.0",Uu}var ET;function Bk(){if(ET)return fg.exports;ET=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),fg.exports=Uk(),fg.exports}var Fk=Bk();const zk=hv(Fk);var Bu={},xT;function qk(){if(xT)return Bu;xT=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.parse=u,Bu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,x){const S=new l,k=w.length;if(k<2)return S;const R=(x==null?void 0:x.decode)||g;let N=0;do{const B=w.indexOf("=",N);if(B===-1)break;const O=w.indexOf(";",N),G=O===-1?k:O;if(B>G){N=w.lastIndexOf(";",B-1)+1;continue}const H=h(w,N,B),M=d(w,B,H),D=w.slice(H,M);if(S[D]===void 0){let A=h(w,B+1,G),I=d(w,G,A);const j=R(w.slice(A,I));S[D]=j}N=G+1}while(N<k);return S}function h(w,x,S){do{const k=w.charCodeAt(x);if(k!==32&&k!==9)return x}while(++x<S);return S}function d(w,x,S){for(;x>S;){const k=w.charCodeAt(--x);if(k!==32&&k!==9)return x+1}return S}function m(w,x,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=k(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let N=w+"="+R;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!i.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return Bu}qk();var ST="popstate";function Hk(t={}){function e(i,a){let{pathname:l,search:u,hash:h}=i.location;return cy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(i,a){return typeof a=="string"?a:uc(a)}return $k(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ci(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Gk(){return Math.random().toString(36).substring(2,10)}function AT(t,e){return{usr:t.state,key:t.key,idx:e}}function cy(t,e,n=null,i){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?_l(e):e,state:n,key:e&&e.key||i||Gk()}}function uc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substring(i),t=t.substring(0,i)),t&&(e.pathname=t)}return e}function $k(t,e,n,i={}){let{window:a=document.defaultView,v5Compat:l=!1}=i,u=a.history,h="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let R=g(),N=R==null?null:R-m;m=R,d&&d({action:h,location:k.location,delta:N})}function w(R,N){h="PUSH";let B=cy(k.location,R,N);m=g()+1;let O=AT(B,m),G=k.createHref(B);try{u.pushState(O,"",G)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(G)}l&&d&&d({action:h,location:k.location,delta:1})}function x(R,N){h="REPLACE";let B=cy(k.location,R,N);m=g();let O=AT(B,m),G=k.createHref(B);u.replaceState(O,"",G),l&&d&&d({action:h,location:k.location,delta:0})}function S(R){return Kk(R)}let k={get action(){return h},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(ST,v),d=R,()=>{a.removeEventListener(ST,v),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let N=S(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(R){return u.go(R)}};return k}function Kk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let i=typeof t=="string"?t:uc(t);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=n+i),new URL(i,n)}function rA(t,e,n="/"){return Yk(t,e,n,!1)}function Yk(t,e,n,i){let a=typeof e=="string"?_l(e):e,l=Hr(a.pathname||"/",n);if(l==null)return null;let u=sA(t);Wk(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=a2(l);h=r2(u[d],m,i)}return h}function sA(t,e=[],n=[],i=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(i),`Absolute route path "${d.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(i.length));let m=Fr([i,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),sA(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:n2(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let d of aA(l.path))a(l,u,d)}),e}function aA(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(i.length===0)return a?[l,""]:[l];let u=aA(i.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Wk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:i2(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}var Qk=/^:[\w-]+$/,Xk=3,Zk=2,Jk=1,e2=10,t2=-2,RT=t=>t==="*";function n2(t,e){let n=t.split("/"),i=n.length;return n.some(RT)&&(i+=t2),e&&(i+=Zk),n.filter(a=>!RT(a)).reduce((a,l)=>a+(Qk.test(l)?Xk:l===""?Jk:e2),i)}function i2(t,e){return t.length===e.length&&t.slice(0,-1).every((i,a)=>i===e[a])?t[t.length-1]-e[e.length-1]:0}function r2(t,e,n=!1){let{routesMeta:i}=t,a={},l="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],m=h===i.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Kd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!v&&m&&n&&!i[i.length-1].route.index&&(v=Kd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:Fr([l,v.pathname]),pathnameBase:c2(Fr([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=Fr([l,v.pathnameBase]))}return u}function Kd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=s2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((m,{paramName:g,isOptional:v},w)=>{if(g==="*"){let S=h[w]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[w];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function s2(t,e=!1,n=!0){Ci(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let i=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),i]}function a2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ci(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Hr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function o2(t,e="/"){let{pathname:n,search:i="",hash:a=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:l2(n,e):e,search:h2(i),hash:d2(a)}}function l2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function yg(t,e,n,i){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function u2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function dv(t){let e=u2(t);return e.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase)}function fv(t,e,n,i=!1){let a;typeof t=="string"?a=_l(t):(a={...t},bt(!a.pathname||!a.pathname.includes("?"),yg("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),yg("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),yg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=o2(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var Fr=t=>t.join("/").replace(/\/\/+/g,"/"),c2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function f2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var oA=["POST","PUT","PATCH","DELETE"];new Set(oA);var m2=["GET",...oA];new Set(m2);var bl=L.createContext(null);bl.displayName="DataRouter";var Af=L.createContext(null);Af.displayName="DataRouterState";var lA=L.createContext({isTransitioning:!1});lA.displayName="ViewTransition";var p2=L.createContext(new Map);p2.displayName="Fetchers";var g2=L.createContext(null);g2.displayName="Await";var Ni=L.createContext(null);Ni.displayName="Navigation";var Ic=L.createContext(null);Ic.displayName="Location";var ki=L.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var mv=L.createContext(null);mv.displayName="RouteError";function y2(t,{relative:e}={}){bt(wl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=L.useContext(Ni),{hash:a,pathname:l,search:u}=Nc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:Fr([n,l])),i.createHref({pathname:h,search:u,hash:a})}function wl(){return L.useContext(Ic)!=null}function Jn(){return bt(wl(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Ic).location}var uA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function cA(t){L.useContext(Ni).static||L.useLayoutEffect(t)}function Xr(){let{isDataRoute:t}=L.useContext(ki);return t?N2():v2()}function v2(){bt(wl(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(bl),{basename:e,navigator:n}=L.useContext(Ni),{matches:i}=L.useContext(ki),{pathname:a}=Jn(),l=JSON.stringify(dv(i)),u=L.useRef(!1);return cA(()=>{u.current=!0}),L.useCallback((d,m={})=>{if(Ci(u.current,uA),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=fv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Fr([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}L.createContext(null);function pv(){let{matches:t}=L.useContext(ki),e=t[t.length-1];return e?e.params:{}}function Nc(t,{relative:e}={}){let{matches:n}=L.useContext(ki),{pathname:i}=Jn(),a=JSON.stringify(dv(n));return L.useMemo(()=>fv(t,JSON.parse(a),i,e==="path"),[t,a,i,e])}function _2(t,e){return hA(t,e)}function hA(t,e,n,i){var N;bt(wl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Ni),{matches:l}=L.useContext(ki),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let B=g&&g.path||"";dA(d,!g||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=Jn(),w;if(e){let B=typeof e=="string"?_l(e):e;bt(m==="/"||((N=B.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=v;let x=w.pathname||"/",S=x;if(m!=="/"){let B=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=rA(t,{pathname:S});Ci(g||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Ci(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=x2(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:Fr([m,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:Fr([m,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,i);return e&&R?L.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function b2(){let t=I2(),e=f2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},l={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var w2=L.createElement(b2,null),T2=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(ki.Provider,{value:this.props.routeContext},L.createElement(mv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function E2({routeContext:t,match:e,children:n}){let i=L.useContext(bl);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ki.Provider,{value:t},n)}function x2(t,e=[],n=null,i=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:v}=n,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let v,w=!1,x=null,S=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||w2,u&&(h<0&&g===0?(dA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===g&&(w=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,g+1)),R=()=>{let N;return v?N=x:w?N=S:m.route.Component?N=L.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,L.createElement(E2,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(T2,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function gv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function S2(t){let e=L.useContext(bl);return bt(e,gv(t)),e}function A2(t){let e=L.useContext(Af);return bt(e,gv(t)),e}function R2(t){let e=L.useContext(ki);return bt(e,gv(t)),e}function yv(t){let e=R2(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function C2(){return yv("useRouteId")}function I2(){var i;let t=L.useContext(mv),e=A2("useRouteError"),n=yv("useRouteError");return t!==void 0?t:(i=e.errors)==null?void 0:i[n]}function N2(){let{router:t}=S2("useNavigate"),e=yv("useNavigate"),n=L.useRef(!1);return cA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{Ci(n.current,uA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var CT={};function dA(t,e,n){!e&&!CT[t]&&(CT[t]=!0,Ci(!1,n))}L.memo(k2);function k2({routes:t,future:e,state:n}){return hA(t,void 0,n,e)}function Mr({to:t,replace:e,state:n,relative:i}){bt(wl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(Ni);Ci(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(ki),{pathname:u}=Jn(),h=Xr(),d=fv(t,dv(l),u,i==="path"),m=JSON.stringify(d);return L.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:i})},[h,m,i,e,n]),null}function Ti(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function P2({basename:t="/",children:e=null,location:n,navigationType:i="POP",navigator:a,static:l=!1}){bt(!wl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=_l(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:w="default"}=n,x=L.useMemo(()=>{let S=Hr(d,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:w},navigationType:i}},[u,d,m,g,v,w,i]);return Ci(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Ni.Provider,{value:h},L.createElement(Ic.Provider,{children:e,value:x}))}function D2({children:t,location:e}){return _2(hy(t),e)}function hy(t,e=[]){let n=[];return L.Children.forEach(t,(i,a)=>{if(!L.isValidElement(i))return;let l=[...e,a];if(i.type===L.Fragment){n.push.apply(n,hy(i.props.children,l));return}bt(i.type===Ti,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=hy(i.props.children,l)),n.push(u)}),n}var Cd="get",Id="application/x-www-form-urlencoded";function Rf(t){return t!=null&&typeof t.tagName=="string"}function O2(t){return Rf(t)&&t.tagName.toLowerCase()==="button"}function M2(t){return Rf(t)&&t.tagName.toLowerCase()==="form"}function V2(t){return Rf(t)&&t.tagName.toLowerCase()==="input"}function j2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function L2(t,e){return t.button===0&&(!e||e==="_self")&&!j2(t)}var gd=null;function U2(){if(gd===null)try{new FormData(document.createElement("form"),0),gd=!1}catch{gd=!0}return gd}var B2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vg(t){return t!=null&&!B2.has(t)?(Ci(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Id}"`),null):t}function F2(t,e){let n,i,a,l,u;if(M2(t)){let h=t.getAttribute("action");i=h?Hr(h,e):null,n=t.getAttribute("method")||Cd,a=vg(t.getAttribute("enctype"))||Id,l=new FormData(t)}else if(O2(t)||V2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(i=d?Hr(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Cd,a=vg(t.getAttribute("formenctype"))||vg(h.getAttribute("enctype"))||Id,l=new FormData(h,t),!U2()){let{name:m,type:g,value:v}=t;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,v)}}else{if(Rf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Cd,i=null,a=Id,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:i,method:n.toLowerCase(),encType:a,formData:l,body:u}}function vv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function z2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function q2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function H2(t,e,n){let i=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await z2(l,n);return u.links?u.links():[]}return[]}));return Y2(i.flat(1).filter(q2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function IT(t,e,n,i,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{var v;let g=i.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function G2(t,e,{includeHydrateFallback:n}={}){return $2(t.map(i=>{let a=e.routes[i.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function $2(t){return[...new Set(t)]}function K2(t){let e={},n=Object.keys(t).sort();for(let i of n)e[i]=t[i];return e}function Y2(t,e){let n=new Set;return new Set(e),t.reduce((i,a)=>{let l=JSON.stringify(K2(a));return n.has(l)||(n.add(l),i.push({key:l,link:a})),i},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var W2=new Set([100,101,204,205]);function Q2(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function fA(){let t=L.useContext(bl);return vv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function X2(){let t=L.useContext(Af);return vv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var _v=L.createContext(void 0);_v.displayName="FrameworkContext";function mA(){let t=L.useContext(_v);return vv(t,"You must render this element inside a <HydratedRouter> element"),t}function Z2(t,e){let n=L.useContext(_v),[i,a]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=N=>{N.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),L.useEffect(()=>{if(i){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[i]);let x=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:Fu(h,x),onBlur:Fu(d,S),onMouseEnter:Fu(m,x),onMouseLeave:Fu(g,S),onTouchStart:Fu(v,x)}]:[!1,w,{}]}function Fu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function J2({page:t,...e}){let{router:n}=fA(),i=L.useMemo(()=>rA(n.routes,t,n.basename),[n.routes,t,n.basename]);return i?L.createElement(tP,{page:t,matches:i,...e}):null}function eP(t){let{manifest:e,routeModules:n}=mA(),[i,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return H2(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),i}function tP({page:t,matches:e,...n}){let i=Jn(),{manifest:a,routeModules:l}=mA(),{basename:u}=fA(),{loaderData:h,matches:d}=X2(),m=L.useMemo(()=>IT(t,e,d,a,i,"data"),[t,e,d,a,i]),g=L.useMemo(()=>IT(t,e,d,a,i,"assets"),[t,e,d,a,i]),v=L.useMemo(()=>{if(t===i.pathname+i.search+i.hash)return[];let S=new Set,k=!1;if(e.forEach(N=>{var O;let B=a.routes[N.route.id];!B||!B.hasLoader||(!m.some(G=>G.route.id===N.route.id)&&N.route.id in h&&((O=l[N.route.id])!=null&&O.shouldRevalidate)||B.hasClientLoader?k=!0:S.add(N.route.id))}),S.size===0)return[];let R=Q2(t,u);return k&&S.size>0&&R.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[u,h,i,a,m,e,t,l]),w=L.useMemo(()=>G2(g,a),[g,a]),x=eP(g);return L.createElement(L.Fragment,null,v.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:k})=>L.createElement("link",{key:S,...k})))}function nP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pA&&(window.__reactRouterVersion="7.6.2")}catch{}function iP({basename:t,children:e,window:n}){let i=L.useRef();i.current==null&&(i.current=Hk({window:n,v5Compat:!0}));let a=i.current,[l,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(P2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var gA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yA=L.forwardRef(function({onClick:e,discover:n="render",prefetch:i="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,...w},x){let{basename:S}=L.useContext(Ni),k=typeof m=="string"&&gA.test(m),R,N=!1;if(typeof m=="string"&&k&&(R=m,pA))try{let I=new URL(window.location.href),j=m.startsWith("//")?new URL(I.protocol+m):new URL(m),F=Hr(j.pathname,S);j.origin===I.origin&&F!=null?m=F+j.search+j.hash:N=!0}catch{Ci(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=y2(m,{relative:a}),[O,G,H]=Z2(i,w),M=oP(m,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v});function D(I){e&&e(I),I.defaultPrevented||M(I)}let A=L.createElement("a",{...w,...H,href:R||B,onClick:N||l?e:D,ref:nP(x,G),target:d,"data-discover":!k&&n==="render"?"true":void 0});return O&&!k?L.createElement(L.Fragment,null,A,L.createElement(J2,{page:B})):A});yA.displayName="Link";var rP=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:i="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...m},g){let v=Nc(u,{relative:m.relative}),w=Jn(),x=L.useContext(Af),{navigator:S,basename:k}=L.useContext(Ni),R=x!=null&&dP(v)&&h===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=w.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(B=B.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&k&&(O=Hr(O,k)||O);const G=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let H=B===N||!a&&B.startsWith(N)&&B.charAt(G)==="/",M=O!=null&&(O===N||!a&&O.startsWith(N)&&O.charAt(N.length)==="/"),D={isActive:H,isPending:M,isTransitioning:R},A=H?e:void 0,I;typeof i=="function"?I=i(D):I=[i,H?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(D):l;return L.createElement(yA,{...m,"aria-current":A,className:I,ref:g,style:j,to:u,viewTransition:h},typeof d=="function"?d(D):d)});rP.displayName="NavLink";var sP=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:i,replace:a,state:l,method:u=Cd,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,...w},x)=>{let S=cP(),k=hP(h,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&gA.test(h),B=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let G=O.nativeEvent.submitter,H=(G==null?void 0:G.getAttribute("formmethod"))||u;S(G||O.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:x,method:R,action:k,onSubmit:i?d:B,...w,"data-discover":!N&&t==="render"?"true":void 0})});sP.displayName="Form";function aP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vA(t){let e=L.useContext(bl);return bt(e,aP(t)),e}function oP(t,{target:e,replace:n,state:i,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Xr(),d=Jn(),m=Nc(t,{relative:l});return L.useCallback(g=>{if(L2(g,e)){g.preventDefault();let v=n!==void 0?n:uc(d)===uc(m);h(t,{replace:v,state:i,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,m,n,i,e,t,a,l,u])}var lP=0,uP=()=>`__${String(++lP)}__`;function cP(){let{router:t}=vA("useSubmit"),{basename:e}=L.useContext(Ni),n=C2();return L.useCallback(async(i,a={})=>{let{action:l,method:u,encType:h,formData:d,body:m}=F2(i,e);if(a.navigate===!1){let g=a.fetcherKey||uP();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function hP(t,{relative:e}={}){let{basename:n}=L.useContext(Ni),i=L.useContext(ki);bt(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),l={...Nc(t||".",{relative:e})},u=Jn();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Fr([n,l.pathname])),uc(l)}function dP(t,e={}){let n=L.useContext(lA);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=vA("useViewTransitionState"),a=Nc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Hr(n.currentLocation.pathname,i)||n.currentLocation.pathname,u=Hr(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Kd(a.pathname,u)!=null||Kd(a.pathname,l)!=null}[...W2];function fP(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i}=t,[a,l]=L.useState(!1),u=L.useRef(n);u.current=n;const h=L.useRef(i);return h.current=i,L.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=e,d.onload=()=>{var m;l(!0),(m=u.current)===null||m===void 0||m.call(u)},d.onerror=()=>{var m;l(!1),(m=h.current)===null||m===void 0||m.call(h)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[e]),a}const mP=L.createContext(null);function pP({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i,children:a}){const l=fP({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:i}),u=L.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:l}),[t,l]);return iA.createElement(mP.Provider,{value:u},a)}const gP=()=>{};var NT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _A=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let a=t.charCodeAt(i);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},yP=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const a=t[n++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},bA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,x=m&63;d||(x=64,u||(w=64)),i.push(n[g],n[v],n[w],n[x])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_A(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new vP;const w=l<<2|h>>4;if(i.push(w),m!==64){const x=h<<4&240|m>>2;if(i.push(x),v!==64){const S=m<<6&192|v;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _P=function(t){const e=_A(t);return bA.encodeByteArray(e,!0)},Yd=function(t){return _P(t).replace(/\./g,"")},wA=function(t){try{return bA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wP=()=>bP().__FIREBASE_DEFAULTS__,TP=()=>{if(typeof process>"u"||typeof NT>"u")return;const t=NT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},EP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wA(t[1]);return e&&JSON.parse(e)},Cf=()=>{try{return gP()||wP()||TP()||EP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},TA=t=>{var e,n;return(n=(e=Cf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},EA=t=>{const e=TA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},xA=()=>{var t;return(t=Cf())===null||t===void 0?void 0:t.config},SA=t=>{var e;return(e=Cf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){return t.endsWith(".cloudworkstations.dev")}async function bv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Yd(JSON.stringify(n)),Yd(JSON.stringify(u)),""].join(".")}const Xu={};function SP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Xu))Xu[e]?t.emulator.push(e):t.prod.push(e);return t}function AP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let kT=!1;function wv(t,e){if(typeof window>"u"||typeof document>"u"||!eo(window.location.host)||Xu[t]===e||Xu[t]||kT)return;Xu[t]=e;function n(w){return`__firebase__banner__${w}`}const i="__firebase__banner",l=SP().prod.length>0;function u(){const w=document.getElementById(i);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kT=!0,u()},w}function g(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=AP(i),x=n("text"),S=document.getElementById(x)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),N=n("preprendIcon"),B=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const O=w.element;h(O),g(R,k);const G=m();d(B,N),O.append(B,S,R,G),document.body.appendChild(O)}l?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function RP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function CP(){var t;const e=(t=Cf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function IP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PP(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function DP(){return!CP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OP(){try{return typeof indexedDB=="object"}catch{return!1}}function MP(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP="FirebaseError";class lr extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=VP,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kc.prototype.create)}}class kc{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?jP(l,i):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new lr(a,h,i)}}function jP(t,e){return t.replace(LP,(n,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const LP=/\{\$([^}]+)}/g;function UP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function $a(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const a of n){if(!i.includes(a))return!1;const l=t[a],u=e[a];if(PT(l)&&PT(u)){if(!$a(l,u))return!1}else if(l!==u)return!1}for(const a of i)if(!n.includes(a))return!1;return!0}function PT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,l]=i.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Gu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BP(t,e){const n=new FP(t,e);return n.subscribe.bind(n)}class FP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let a;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");zP(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:i},a.next===void 0&&(a.next=_g),a.error===void 0&&(a.error=_g),a.complete===void 0&&(a.complete=_g);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _g(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Us{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Va="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new xP;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GP(e))try{this.getOrInitializeService({instanceIdentifier:Va})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=Va){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Va){return this.instances.has(e)}getOptions(e=Va){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);i===h&&u.resolve(a)}return a}onInit(e,n){var i;const a=this.normalizeInstanceIdentifier(n),l=(i=this.onInitCallbacks.get(a))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const a of i)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:HP(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Va){return this.component?this.component.multipleInstances?e:Va:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HP(t){return t===Va?void 0:t}function GP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const KP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},YP=Ke.INFO,WP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},QP=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),a=WP[e];if(a)console[a](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Tv{constructor(e){this.name=e,this._logLevel=YP,this._logHandler=QP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const XP=(t,e)=>e.some(n=>t instanceof n);let DT,OT;function ZP(){return DT||(DT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JP(){return OT||(OT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RA=new WeakMap,dy=new WeakMap,CA=new WeakMap,bg=new WeakMap,Ev=new WeakMap;function eD(t){const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Ms(t.result)),a()},u=()=>{i(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&RA.set(n,t)}).catch(()=>{}),Ev.set(e,t),e}function tD(t){if(dy.has(t))return;const e=new Promise((n,i)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{i(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});dy.set(t,e)}let fy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||CA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ms(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function nD(t){fy=t(fy)}function iD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(wg(this),e,...n);return CA.set(i,e.sort?e.sort():[e]),Ms(i)}:JP().includes(t)?function(...e){return t.apply(wg(this),e),Ms(RA.get(this))}:function(...e){return Ms(t.apply(wg(this),e))}}function rD(t){return typeof t=="function"?iD(t):(t instanceof IDBTransaction&&tD(t),XP(t,ZP())?new Proxy(t,fy):t)}function Ms(t){if(t instanceof IDBRequest)return eD(t);if(bg.has(t))return bg.get(t);const e=rD(t);return e!==t&&(bg.set(t,e),Ev.set(e,t)),e}const wg=t=>Ev.get(t);function sD(t,e,{blocked:n,upgrade:i,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Ms(u);return i&&u.addEventListener("upgradeneeded",d=>{i(Ms(u.result),d.oldVersion,d.newVersion,Ms(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const aD=["get","getKey","getAll","getAllKeys","count"],oD=["put","add","delete","clear"],Tg=new Map;function MT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Tg.get(e))return Tg.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,a=oD.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(a||aD.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return Tg.set(e,l),l}nD(t=>({...t,get:(e,n,i)=>MT(e,n)||t.get(e,n,i),has:(e,n)=>!!MT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uD(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function uD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const my="@firebase/app",VT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Tv("@firebase/app"),cD="@firebase/app-compat",hD="@firebase/analytics-compat",dD="@firebase/analytics",fD="@firebase/app-check-compat",mD="@firebase/app-check",pD="@firebase/auth",gD="@firebase/auth-compat",yD="@firebase/database",vD="@firebase/data-connect",_D="@firebase/database-compat",bD="@firebase/functions",wD="@firebase/functions-compat",TD="@firebase/installations",ED="@firebase/installations-compat",xD="@firebase/messaging",SD="@firebase/messaging-compat",AD="@firebase/performance",RD="@firebase/performance-compat",CD="@firebase/remote-config",ID="@firebase/remote-config-compat",ND="@firebase/storage",kD="@firebase/storage-compat",PD="@firebase/firestore",DD="@firebase/ai",OD="@firebase/firestore-compat",MD="firebase",VD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const py="[DEFAULT]",jD={[my]:"fire-core",[cD]:"fire-core-compat",[dD]:"fire-analytics",[hD]:"fire-analytics-compat",[mD]:"fire-app-check",[fD]:"fire-app-check-compat",[pD]:"fire-auth",[gD]:"fire-auth-compat",[yD]:"fire-rtdb",[vD]:"fire-data-connect",[_D]:"fire-rtdb-compat",[bD]:"fire-fn",[wD]:"fire-fn-compat",[TD]:"fire-iid",[ED]:"fire-iid-compat",[xD]:"fire-fcm",[SD]:"fire-fcm-compat",[AD]:"fire-perf",[RD]:"fire-perf-compat",[CD]:"fire-rc",[ID]:"fire-rc-compat",[ND]:"fire-gcs",[kD]:"fire-gcs-compat",[PD]:"fire-fst",[OD]:"fire-fst-compat",[DD]:"fire-vertex","fire-js":"fire-js",[MD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd=new Map,LD=new Map,gy=new Map;function jT(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ka(t){const e=t.name;if(gy.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;gy.set(e,t);for(const n of Wd.values())jT(n,t);for(const n of LD.values())jT(n,t);return!0}function If(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new kc("app","Firebase",UD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=VD;function IA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:py,automaticDataCollectionEnabled:!0},e),a=i.name;if(typeof a!="string"||!a)throw Vs.create("bad-app-name",{appName:String(a)});if(n||(n=xA()),!n)throw Vs.create("no-options");const l=Wd.get(a);if(l){if($a(n,l.options)&&$a(i,l.config))return l;throw Vs.create("duplicate-app",{appName:a})}const u=new $P(a);for(const d of gy.values())u.addComponent(d);const h=new BD(n,i,u);return Wd.set(a,h),h}function xv(t=py){const e=Wd.get(t);if(!e&&t===py&&xA())return IA();if(!e)throw Vs.create("no-app",{appName:t});return e}function Zi(t,e,n){var i;let a=(i=jD[t])!==null&&i!==void 0?i:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(h.join(" "));return}Ka(new Us(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="firebase-heartbeat-database",zD=1,cc="firebase-heartbeat-store";let Eg=null;function NA(){return Eg||(Eg=sD(FD,zD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(cc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),Eg}async function qD(t){try{const n=(await NA()).transaction(cc),i=await n.objectStore(cc).get(kA(t));return await n.done,i}catch(e){if(e instanceof lr)Gr.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function LT(t,e){try{const i=(await NA()).transaction(cc,"readwrite");await i.objectStore(cc).put(e,kA(t)),await i.done}catch(n){if(n instanceof lr)Gr.warn(n.message);else{const i=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(i.message)}}}function kA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HD=1024,GD=30;class $D{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YD(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=UT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>GD){const u=WD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Gr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=UT(),{heartbeatsToSend:i,unsentEntries:a}=KD(this._heartbeatsCache.heartbeats),l=Yd(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return Gr.warn(n),""}}}function UT(){return new Date().toISOString().substring(0,10)}function KD(t,e=HD){const n=[];let i=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),BT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),BT(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class YD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OP()?MP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await qD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return LT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return LT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function BT(t){return Yd(JSON.stringify({version:2,heartbeats:t})).length}function WD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let i=1;i<t.length;i++)t[i].date<n&&(n=t[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QD(t){Ka(new Us("platform-logger",e=>new lD(e),"PRIVATE")),Ka(new Us("heartbeat",e=>new $D(e),"PRIVATE")),Zi(my,VT,t),Zi(my,VT,"esm2017"),Zi("fire-js","")}QD("");var XD="firebase",ZD="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(XD,ZD,"app");function Sv(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,i=Object.getOwnPropertySymbols(t);a<i.length;a++)e.indexOf(i[a])<0&&Object.prototype.propertyIsEnumerable.call(t,i[a])&&(n[i[a]]=t[i[a]]);return n}function PA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JD=PA,DA=new kc("auth","Firebase",PA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd=new Tv("@firebase/auth");function eO(t,...e){Qd.logLevel<=Ke.WARN&&Qd.warn(`Auth (${to}): ${t}`,...e)}function Nd(t,...e){Qd.logLevel<=Ke.ERROR&&Qd.error(`Auth (${to}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(t,...e){throw Rv(t,...e)}function Ai(t,...e){return Rv(t,...e)}function Av(t,e,n){const i=Object.assign(Object.assign({},JD()),{[e]:n});return new kc("auth","Firebase",i).create(e,{appName:t.name})}function zr(t){return Av(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tO(t,e,n){const i=n;if(!(e instanceof i))throw i.name!==e.constructor.name&&pi(t,"argument-error"),Av(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Rv(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return DA.create(t,...e)}function Ie(t,e,...n){if(!t)throw Rv(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Nd(e),new Error(e)}function $r(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OA(){return FT()==="http:"||FT()==="https:"}function FT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OA()||NP()||"connection"in navigator)?navigator.onLine:!0}function iO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,$r(n>e,"Short delay should be less than long delay!"),this.isMobile=RP()||kP()}get(){return nO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cv(t,e){$r(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],aO=new Dc(3e4,6e4);function Zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Jr(t,e,n,i,a={}){return VA(t,a,async()=>{let l={},u={};i&&(e==="GET"?u=i:l={body:JSON.stringify(i)});const h=Pc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},l);return IP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&eo(t.emulatorConfig.host)&&(m.credentials="include"),MA.fetch()(await jA(t,t.config.apiHost,n,h),m)})}async function VA(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},rO),e);try{const a=new lO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw yd(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw yd(t,"user-disabled",u);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Av(t,g,m);pi(t,g)}}catch(a){if(a instanceof lr)throw a;pi(t,"network-request-failed",{message:String(a)})}}async function Oc(t,e,n,i,a={}){const l=await Jr(t,e,n,i,a);return"mfaPendingCredential"in l&&pi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function jA(t,e,n,i){const a=`${e}${n}?${i}`,l=t,u=l.config.emulator?Cv(t.config,a):`${t.config.apiScheme}://${a}`;return sO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function oO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(Ai(this.auth,"network-request-failed")),aO.get())})}}function yd(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const a=Ai(t,e,i);return a.customData._tokenResponse=n,a}function zT(t){return t!==void 0&&t.enterprise!==void 0}class uO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return oO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cO(t,e){return Jr(t,"GET","/v2/recaptchaConfig",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(t,e){return Jr(t,"POST","/v1/accounts:delete",e)}async function Zd(t,e){return Jr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dO(t,e=!1){const n=Nt(t),i=await n.getIdToken(e),a=Iv(i);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:i,authTime:Zu(xg(a.auth_time)),issuedAtTime:Zu(xg(a.iat)),expirationTime:Zu(xg(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function xg(t){return Number(t)*1e3}function Iv(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Nd("JWT malformed, contained fewer than 3 sections"),null;try{const a=wA(n);return a?JSON.parse(a):(Nd("Failed to decode base64 JWT payload"),null)}catch(a){return Nd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function qT(t){const e=Iv(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof lr&&fO(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function fO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zu(this.lastLoginAt),this.creationTime=Zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jd(t){var e;const n=t.auth,i=await t.getIdToken(),a=await hc(t,Zd(n,{idToken:i}));Ie(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?LA(l.providerUserInfo):[],h=gO(t.providerData,u),d=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new yy(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function pO(t){const e=Nt(t);await Jd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gO(t,e){return[...t.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function LA(t){return t.map(e=>{var{providerId:n}=e,i=Sv(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(t,e){const n=await VA(t,{},async()=>{const i=Pc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await jA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:i};return t.emulatorConfig&&eo(t.emulatorConfig.host)&&(d.credentials="include"),MA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vO(t,e){return Jr(t,"POST","/v2/accounts:revokeToken",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):qT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=qT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:a,expiresIn:l}=await yO(e,n);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:a,expirationTime:l}=n,u=new sl;return i&&(Ie(typeof i=="string","internal-error",{appName:e}),u.refreshToken=i),a&&(Ie(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new sl,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:i,stsTokenManager:a}=e,l=Sv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new yy(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dO(this,e)}reload(){return pO(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Jd(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(zr(this.auth));const e=await this.getIdToken();return await hc(this,hO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,a,l,u,h,d,m,g;const v=(i=n.displayName)!==null&&i!==void 0?i:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,k=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,B=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:G,isAnonymous:H,providerData:M,stsTokenManager:D}=n;Ie(O&&D,e,"internal-error");const A=sl.fromJSON(this.name,D);Ie(typeof O=="string",e,"internal-error"),Is(v,e.name),Is(w,e.name),Ie(typeof G=="boolean",e,"internal-error"),Ie(typeof H=="boolean",e,"internal-error"),Is(x,e.name),Is(S,e.name),Is(k,e.name),Is(R,e.name),Is(N,e.name),Is(B,e.name);const I=new xi({uid:O,auth:e,email:w,emailVerified:G,displayName:v,isAnonymous:H,photoURL:S,phoneNumber:x,tenantId:k,stsTokenManager:A,createdAt:N,lastLoginAt:B});return M&&Array.isArray(M)&&(I.providerData=M.map(j=>Object.assign({},j))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,i=!1){const a=new sl;a.updateFromServerResponse(n);const l=new xi({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Jd(l),l}static async _fromGetAccountInfoResponse(e,n,i){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?LA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new sl;h.updateFromIdToken(i);const d=new xi({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new yy(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=new Map;function Br(t){$r(t instanceof Function,"Expected a class definition");let e=HT.get(t);return e?($r(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,HT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}UA.type="NONE";const GT=UA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kd(t,e,n){return`firebase:${t}:${e}:${n}`}class al{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=kd(this.userKey,a.apiKey,l),this.fullPersistenceKey=kd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Zd(this.auth,{idToken:e}).catch(()=>{});return n?xi._fromGetAccountInfoResponse(this.auth,n,e):null}return xi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new al(Br(GT),e,i);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Br(GT);const u=kd(i,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){let v;if(typeof g=="string"){const w=await Zd(e,{idToken:g}).catch(()=>{});if(!w)break;v=await xi._fromGetAccountInfoResponse(e,w,g)}else v=xi._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new al(l,e,i):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new al(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(BA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GA(e))return"Blackberry";if($A(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||zA(e))&&!e.includes("edge/"))return"Chrome";if(HA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function BA(t=En()){return/firefox\//i.test(t)}function FA(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zA(t=En()){return/crios\//i.test(t)}function qA(t=En()){return/iemobile/i.test(t)}function HA(t=En()){return/android/i.test(t)}function GA(t=En()){return/blackberry/i.test(t)}function $A(t=En()){return/webos/i.test(t)}function Nv(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function _O(t=En()){var e;return Nv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function bO(){return PP()&&document.documentMode===10}function KA(t=En()){return Nv(t)||HA(t)||$A(t)||GA(t)||/windows phone/i.test(t)||qA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(t,e=[]){let n;switch(t){case"Browser":n=$T(En());break;case"Worker":n=`${$T(En())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});i.onAbort=n,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TO(t,e={}){return Jr(t,"GET","/v2/passwordPolicy",Zr(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=6;class xO{constructor(e){var n,i,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:EO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n,i,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KT(this),this.idTokenSubscription=new KT(this),this.beforeStateQueue=new wO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var i,a,l;if(!this._deleted&&(this.persistenceManager=await al.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Zd(this,{idToken:e}),i=await xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Jd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(zr(this));const n=e?Nt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TO(this),n=new xO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new kc("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await vO(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await al.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=YA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ws(t){return Nt(t)}class KT{constructor(e){this.auth=e,this.observer=null,this.addObserver=BP(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AO(t){Nf=t}function WA(t){return Nf.loadJS(t)}function RO(){return Nf.recaptchaEnterpriseScript}function CO(){return Nf.gapiScript}function IO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class NO{constructor(){this.enterprise=new kO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class kO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const PO="recaptcha-enterprise",QA="NO_RECAPTCHA";class DO{constructor(e){this.type=PO,this.auth=Ws(e)}async verify(e="verify",n=!1){async function i(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{cO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new uO(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;zT(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(QA)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{i(this.auth).then(h=>{if(!n&&zT(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=RO();d.length!==0&&(d+=h),WA(d).then(()=>{a(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function YT(t,e,n,i=!1,a=!1){const l=new DO(t);let u;if(a)u=QA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function vy(t,e,n,i,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await YT(t,e,n,n==="getOobCode");return i(t,u)}else return i(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await YT(t,e,n,n==="getOobCode");return i(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(t,e){const n=If(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if($a(l,e??{}))return a;pi(a,"already-initialized")}return n.initialize({options:e})}function MO(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function VO(t,e,n){const i=Ws(t);Ie(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=XA(e),{host:u,port:h}=jO(e),d=h===null?"":`:${h}`,m={url:`${l}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ie(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ie($a(m,i.config.emulator)&&$a(g,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=g,i.settings.appVerificationDisabledForTesting=!0,eo(u)?(bv(`${l}//${u}${d}`),wv("Auth",!0)):LO()}function XA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function jO(t){const e=XA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:WT(i.substr(l.length+1))}}else{const[l,u]=i.split(":");return{host:l,port:WT(u)}}}function WT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function UO(t,e){return Jr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BO(t,e){return Oc(t,"POST","/v1/accounts:signInWithPassword",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}async function zO(t,e){return Oc(t,"POST","/v1/accounts:signInWithEmailLink",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends kv{constructor(e,n,i,a=null){super("password",i),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new dc(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,n,"signInWithPassword",BO);case"emailLink":return FO(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return vy(e,i,"signUpPassword",UO);case"emailLink":return zO(e,{idToken:n,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ol(t,e){return Oc(t,"POST","/v1/accounts:signInWithIdp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qO="http://localhost";class Ya extends kv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a}=n,l=Sv(n,["providerId","signInMethod"]);if(!i||!a)return null;const u=new Ya(i,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ol(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,ol(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ol(e,n)}buildRequest(){const e={requestUri:qO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Pc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GO(t){const e=Hu(Gu(t)).link,n=e?Hu(Gu(e)).deep_link_id:null,i=Hu(Gu(t)).deep_link_id;return(i?Hu(Gu(i)).link:null)||i||n||e||t}class Pv{constructor(e){var n,i,a,l,u,h;const d=Hu(Gu(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(i=d.oobCode)!==null&&i!==void 0?i:null,v=HO((a=d.mode)!==null&&a!==void 0?a:null);Ie(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=GO(e);try{return new Pv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(){this.providerId=Tl.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=Pv.parseLink(n);return Ie(i,"argument-error"),dc._fromEmailAndCode(e,i.code,i.tenantId)}}Tl.PROVIDER_ID="password";Tl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Tl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc extends Dv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends Mc{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ks.credential(e.oauthAccessToken)}catch{return null}}}ks.FACEBOOK_SIGN_IN_METHOD="facebook.com";ks.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lr extends Mc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:Lr.PROVIDER_ID,signInMethod:Lr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Lr.credentialFromTaggedObject(e)}static credentialFromError(e){return Lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return Lr.credential(n,i)}catch{return null}}}Lr.GOOGLE_SIGN_IN_METHOD="google.com";Lr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends Mc{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.GITHUB_SIGN_IN_METHOD="github.com";Ps.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Mc{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return Ds.credential(n,i)}catch{return null}}}Ds.TWITTER_SIGN_IN_METHOD="twitter.com";Ds.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O(t,e){return Oc(t,"POST","/v1/accounts:signUp",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,a=!1){const l=await xi._fromIdTokenResponse(e,i,a),u=QT(i);return new Wa({user:l,providerId:u,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const a=QT(i);return new Wa({user:e,providerId:a,_tokenResponse:i,operationType:n})}}function QT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef extends lr{constructor(e,n,i,a){var l;super(n.code,n.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,ef.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,a){return new ef(e,n,i,a)}}function ZA(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?ef._fromErrorAndOperation(t,l,e,i):l})}async function KO(t,e,n=!1){const i=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Wa._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e,n=!1){const{auth:i}=t;if(Vn(i.app))return Promise.reject(zr(i));const a="reauthenticate";try{const l=await hc(t,ZA(i,a,e,t),n);Ie(l.idToken,i,"internal-error");const u=Iv(l.idToken);Ie(u,i,"internal-error");const{sub:h}=u;return Ie(t.uid===h,i,"user-mismatch"),Wa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pi(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e,n=!1){if(Vn(t.app))return Promise.reject(zr(t));const i="signIn",a=await ZA(t,i,e),l=await Wa._fromIdTokenResponse(t,i,a);return n||await t._updateCurrentUser(l.user),l}async function WO(t,e){return JA(Ws(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e1(t){const e=Ws(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function XT(t,e,n){if(Vn(t.app))return Promise.reject(zr(t));const i=Ws(t),u=await vy(i,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",$O).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&e1(t),d}),h=await Wa._fromIdTokenResponse(i,"signIn",u);return await i._updateCurrentUser(h.user),h}function Sg(t,e,n){return Vn(t.app)?Promise.reject(zr(t)):WO(Nt(t),Tl.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&e1(t),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return Jr(t,"POST","/v1/accounts:createAuthUri",Zr(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XO(t,e){const n=OA()?Xd():"http://localhost",i={identifier:e,continueUri:n},{signinMethods:a}=await QO(Nt(t),i);return a||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(t,e){return Nt(t).setPersistence(e)}function JO(t,e,n,i){return Nt(t).onIdTokenChanged(e,n,i)}function eM(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function t1(t,e,n,i){return Nt(t).onAuthStateChanged(e,n,i)}function n1(t){return Nt(t).signOut()}const tf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(tf,"1"),this.storage.removeItem(tf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=1e3,nM=10;class r1 extends i1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=KA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),a=this.localCache[n];i!==a&&e(n,a,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const i=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},l=this.storage.getItem(i);bO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,nM):a()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},tM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}r1.type="LOCAL";const s1=r1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1 extends i1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}a1.type="SESSION";const o1=a1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const i=new kf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,l)),d=await iM(h);n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const m=Ov("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},i);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(){return window}function sM(t){Ji().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function aM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function oM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function lM(){return l1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="firebaseLocalStorageDb",uM=1,nf="firebaseLocalStorage",c1="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Pf(t,e){return t.transaction([nf],e?"readwrite":"readonly").objectStore(nf)}function cM(){const t=indexedDB.deleteDatabase(u1);return new Vc(t).toPromise()}function _y(){const t=indexedDB.open(u1,uM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(nf,{keyPath:c1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(nf)?e(i):(i.close(),await cM(),e(await _y()))})})}async function ZT(t,e,n){const i=Pf(t,!0).put({[c1]:e,value:n});return new Vc(i).toPromise()}async function hM(t,e){const n=Pf(t,!1).get(e),i=await new Vc(n).toPromise();return i===void 0?null:i.value}function JT(t,e){const n=Pf(t,!0).delete(e);return new Vc(n).toPromise()}const dM=800,fM=3;class h1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _y(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>fM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return l1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kf._getInstance(lM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await aM(),!this.activeServiceWorker)return;this.sender=new rM(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||oM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await _y();return await ZT(e,tf,"1"),await JT(e,tf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>ZT(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>hM(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>JT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Pf(a,!1).getAll();return new Vc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),dM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}h1.type="LOCAL";const mM=h1;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(t,e){return e?Br(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends kv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ol(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ol(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ol(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pM(t){return JA(t.auth,new Mv(t),t.bypassAuthState)}function gM(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),YO(n,new Mv(t),t.bypassAuthState)}async function yM(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),KO(n,new Mv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pM;case"linkViaPopup":case"linkViaRedirect":return yM;case"reauthViaPopup":case"reauthViaRedirect":return gM;default:pi(this.auth,"internal-error")}}resolve(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vM=new Dc(2e3,1e4);async function _M(t,e,n){if(Vn(t.app))return Promise.reject(Ai(t,"operation-not-supported-in-this-environment"));const i=Ws(t);tO(t,e,Dv);const a=d1(i,n);return new La(i,"signInViaPopup",e,a).executeNotNull()}class La extends f1{constructor(e,n,i,a,l){super(e,n,a,l),this.provider=i,this.authWindow=null,this.pollId=null,La.currentPopupAction&&La.currentPopupAction.cancel(),La.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){$r(this.filter.length===1,"Popup operations only handle one event");const e=Ov();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,La.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vM.get())};e()}}La.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bM="pendingRedirect",Pd=new Map;class wM extends f1{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=Pd.get(this.auth._key());if(!e){try{const i=await TM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}Pd.set(this.auth._key(),e)}return this.bypassAuthState||Pd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TM(t,e){const n=SM(e),i=xM(t);if(!await i._isAvailable())return!1;const a=await i._get(n)==="true";return await i._remove(n),a}function EM(t,e){Pd.set(t._key(),e)}function xM(t){return Br(t._redirectPersistence)}function SM(t){return kd(bM,t.config.apiKey,t.name)}async function AM(t,e,n=!1){if(Vn(t.app))return Promise.reject(zr(t));const i=Ws(t),a=d1(i,e),u=await new wM(i,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await i._persistUserIfCurrent(u.user),await i._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=10*60*1e3;class CM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!m1(e)){const a=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RM&&this.cachedEventUids.clear(),this.cachedEventUids.has(eE(e))}saveEventToCache(e){this.cachedEventUids.add(eE(e)),this.lastProcessedEventTime=Date.now()}}function eE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function m1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return m1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NM(t,e={}){return Jr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,PM=/^https?/;async function DM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await NM(t);for(const n of e)try{if(OM(n))return}catch{}pi(t,"unauthorized-domain")}function OM(t){const e=Xd(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===i}if(!PM.test(n))return!1;if(kM.test(t))return i===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=new Dc(3e4,6e4);function tE(){const t=Ji().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VM(t){return new Promise((e,n)=>{var i,a,l;function u(){tE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tE(),n(Ai(t,"network-request-failed"))},timeout:MM.get()})}if(!((a=(i=Ji().gapi)===null||i===void 0?void 0:i.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=Ji().gapi)===null||l===void 0)&&l.load)u();else{const h=IO("iframefcb");return Ji()[h]=()=>{gapi.load?u():n(Ai(t,"network-request-failed"))},WA(`${CO()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Dd=null,e})}let Dd=null;function jM(t){return Dd=Dd||VM(t),Dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM=new Dc(5e3,15e3),UM="__/auth/iframe",BM="emulator/auth/iframe",FM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qM(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Cv(e,BM):`https://${t.config.authDomain}/${UM}`,i={apiKey:e.apiKey,appName:t.name,v:to},a=zM.get(t.config.apiHost);a&&(i.eid=a);const l=t._getFrameworks();return l.length&&(i.fw=l.join(",")),`${n}?${Pc(i).slice(1)}`}async function HM(t){const e=await jM(t),n=Ji().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:qM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FM,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const u=Ai(t,"network-request-failed"),h=Ji().setTimeout(()=>{l(u)},LM.get());function d(){Ji().clearTimeout(h),a(i)}i.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$M=500,KM=600,YM="_blank",WM="http://localhost";class nE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QM(t,e,n,i=$M,a=KM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const d=Object.assign(Object.assign({},GM),{width:i.toString(),height:a.toString(),top:l,left:u}),m=En().toLowerCase();n&&(h=zA(m)?YM:n),BA(m)&&(e=e||WM,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[x,S])=>`${w}${x}=${S},`,"");if(_O(m)&&h!=="_self")return XM(e||"",h),new nE(null);const v=window.open(e||"",h,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new nE(v)}function XM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM="__/auth/handler",JM="emulator/auth/handler",e4=encodeURIComponent("fac");async function iE(t,e,n,i,a,l){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:to,eventId:a};if(e instanceof Dv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",UP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof Mc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${e4}=${encodeURIComponent(d)}`:"";return`${t4(t)}?${Pc(h).slice(1)}${m}`}function t4({config:t}){return t.emulator?Cv(t,JM):`https://${t.authDomain}/${ZM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="webStorageSupport";class n4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=o1,this._completeRedirectFn=AM,this._overrideRedirectResult=EM}async _openPopup(e,n,i,a){var l;$r((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await iE(e,n,i,Xd(),a);return QM(e,u,Ov())}async _openRedirect(e,n,i,a){await this._originValidation(e);const l=await iE(e,n,i,Xd(),a);return sM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):($r(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await HM(e),i=new CM(e);return n.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ag,{type:Ag},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Ag];u!==void 0&&n(!!u),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=DM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return KA()||FA()||Nv()}}const i4=n4;var rE="@firebase/auth",sE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function a4(t){Ka(new Us("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=i.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:YA(t)},m=new SO(i,a,l,d);return MO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),Ka(new Us("auth-internal",e=>{const n=Ws(e.getProvider("auth").getImmediate());return(i=>new r4(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(rE,sE,s4(t)),Zi(rE,sE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=5*60,l4=SA("authIdTokenMaxAge")||o4;let aE=null;const u4=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>l4)return;const a=n==null?void 0:n.token;aE!==a&&(aE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function p1(t=xv()){const e=If(t,"auth");if(e.isInitialized())return e.getImmediate();const n=OO(t,{popupRedirectResolver:i4,persistence:[mM,s1,o1]}),i=SA("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const u=u4(l.toString());eM(n,u,()=>u(n.currentUser)),JO(n,h=>u(h))}}const a=TA("auth");return a&&VO(n,`http://${a}`),n}function c4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}AO({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=a=>{const l=Ai("internal-error");l.customData=a,n(l)},i.type="text/javascript",i.charset="UTF-8",c4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});a4("Browser");var oE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,g1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(j,F,q){for(var V=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)V[ie-2]=arguments[ie];return A.prototype[F].apply(j,V)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,I){I||(I=0);var j=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)j[F]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(F=0;16>F;++F)j[F]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],F=D.g[2];var q=D.g[3],V=A+(q^I&(F^q))+j[0]+3614090360&4294967295;A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[1]+3905402710&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[2]+606105819&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[3]+3250441966&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[5]+1200080426&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[6]+2821735955&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[7]+4249261313&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[9]+2336552879&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[10]+4294925233&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[11]+2304563134&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[13]+4254626195&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[14]+2792965006&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[15]+1236535329&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(F^q&(I^F))+j[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[6]+3225465664&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[11]+643717713&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[0]+3921069994&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[10]+38016083&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[15]+3634488961&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[4]+3889429448&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[14]+3275163606&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[3]+4107603335&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[8]+1163531501&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[2]+4243563512&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[7]+1735328473&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[12]+2368359562&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(I^F^q)+j[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[8]+2272392833&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[11]+1839030562&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[14]+4259657740&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[4]+1272893353&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[7]+4139469664&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[10]+3200236656&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[0]+3936430074&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[3]+3572445317&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[6]+76029189&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[12]+3873151461&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[15]+530742520&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[2]+3299628645&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(F^(I|~q))+j[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[7]+1126891415&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[14]+2878612391&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[5]+4237533241&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[3]+2399980690&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[10]+4293915773&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[1]+2240044497&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[15]+4264355552&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[6]+2734768916&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[13]+1309151649&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[11]+3174756917&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[2]+718787259&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+q&4294967295}i.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,j=this.B,F=this.h,q=0;q<A;){if(F==0)for(;q<=I;)a(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<A;)if(j[F++]=D.charCodeAt(q++),F==this.blockSize){a(this,j),F=0;break}}else for(;q<A;)if(j[F++]=D[q++],F==this.blockSize){a(this,j),F=0;break}}this.h=F,this.o+=A},i.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var j=0;32>j;j+=8)D[I++]=this.g[A]>>>j&255;return D};function l(D,A){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function u(D,A){this.h=A;for(var I=[],j=!0,F=D.length-1;0<=F;F--){var q=D[F]|0;j&&q==A||(I[F]=q,j=!1)}this.g=I}var h={};function d(D){return-128<=D&&128>D?l(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return R(m(-D));for(var A=[],I=1,j=0;D>=I;j++)A[j]=D/I|0,I*=4294967296;return new u(A,0)}function g(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return R(g(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(A,8)),j=v,F=0;F<D.length;F+=8){var q=Math.min(8,D.length-F),V=parseInt(D.substring(F,F+q),A);8>q?(q=m(Math.pow(A,q)),j=j.j(q).add(m(V))):(j=j.j(I),j=j.add(m(V)))}return j}var v=d(0),w=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(k(this))return-R(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var j=this.i(I);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(k(this))return"-"+R(this).toString(D);for(var A=m(Math.pow(D,6)),I=this,j="";;){var F=G(I,A).g;I=N(I,F.j(A));var q=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=F,S(I))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=N(this,D),k(D)?-1:S(D)?0:1};function R(D){for(var A=D.g.length,I=[],j=0;j<A;j++)I[j]=~D.g[j];return new u(I,~D.h).add(w)}t.abs=function(){return k(this)?R(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0,F=0;F<=A;F++){var q=j+(this.i(F)&65535)+(D.i(F)&65535),V=(q>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);j=V>>>16,q&=65535,V&=65535,I[F]=V<<16|q}return new u(I,I[I.length-1]&-2147483648?-1:0)};function N(D,A){return D.add(R(A))}t.j=function(D){if(S(this)||S(D))return v;if(k(this))return k(D)?R(this).j(R(D)):R(R(this).j(D));if(k(D))return R(this.j(R(D)));if(0>this.l(x)&&0>D.l(x))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],j=0;j<2*A;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<D.g.length;F++){var q=this.i(j)>>>16,V=this.i(j)&65535,ie=D.i(F)>>>16,pe=D.i(F)&65535;I[2*j+2*F]+=V*pe,B(I,2*j+2*F),I[2*j+2*F+1]+=q*pe,B(I,2*j+2*F+1),I[2*j+2*F+1]+=V*ie,B(I,2*j+2*F+1),I[2*j+2*F+2]+=q*ie,B(I,2*j+2*F+2)}for(j=0;j<A;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=A;j<2*A;j++)I[j]=0;return new u(I,0)};function B(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function O(D,A){this.g=D,this.h=A}function G(D,A){if(S(A))throw Error("division by zero");if(S(D))return new O(v,v);if(k(D))return A=G(R(D),A),new O(R(A.g),R(A.h));if(k(A))return A=G(D,R(A)),new O(R(A.g),A.h);if(30<D.g.length){if(k(D)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,j=A;0>=j.l(D);)I=H(I),j=H(j);var F=M(I,1),q=M(j,1);for(j=M(j,2),I=M(I,2);!S(j);){var V=q.add(j);0>=V.l(D)&&(F=F.add(I),q=V),j=M(j,1),I=M(I,1)}return A=N(D,F.j(A)),new O(F,A)}for(F=v;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),q=m(I),V=q.j(A);k(V)||0<V.l(D);)I-=j,q=m(I),V=q.j(A);S(q)&&(q=w),F=F.add(q),D=N(D,V)}return new O(F,D)}t.A=function(D){return G(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)&D.i(j);return new u(I,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)|D.i(j);return new u(I,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)^D.i(j);return new u(I,this.h^D.h)};function H(D){for(var A=D.g.length+1,I=[],j=0;j<A;j++)I[j]=D.i(j)<<1|D.i(j-1)>>>31;return new u(I,D.h)}function M(D,A){var I=A>>5;A%=32;for(var j=D.g.length-I,F=[],q=0;q<j;q++)F[q]=0<A?D.i(q+I)>>>A|D.i(q+I+1)<<32-A:D.i(q+I);return new u(F,D.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,g1=i,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,js=u}).apply(typeof oE<"u"?oE:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y1,$u,v1,Od,by,_1,b1,w1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=n(this);function a(f,b){if(b)e:{var T=i;f=f.split(".");for(var P=0;P<f.length-1;P++){var W=f[P];if(!(W in T))break e;T=T[W]}f=f[f.length-1],P=T[f],b=b(P),b!=P&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var T=0,P=!1,W={next:function(){if(!P&&T<f.length){var te=T++;return{value:b(te,f[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return l(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function m(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,T){return f.call.apply(f.bind,arguments)}function v(f,b,T){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),f.apply(b,W)}}return function(){return f.apply(b,arguments)}}function w(f,b,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function x(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function S(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(P,W,te){for(var ge=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ge[Qe-2]=arguments[Qe];return b.prototype[W].apply(P,ge)}}function k(f){const b=f.length;if(0<b){const T=Array(b);for(let P=0;P<b;P++)T[P]=f[P];return T}return[]}function R(f,b){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(d(P)){const W=f.length||0,te=P.length||0;f.length=W+te;for(let ge=0;ge<te;ge++)f[W+ge]=P[ge]}else f.push(P)}}class N{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function B(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var H=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function M(f,b,T){for(const P in f)b.call(T,f[P],P,f)}function D(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function A(f){const b={};for(const T in f)b[T]=f[T];return b}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,b){let T,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(T in P)f[T]=P[T];for(let te=0;te<I.length;te++)T=I[te],Object.prototype.hasOwnProperty.call(P,T)&&(f[T]=P[T])}}function F(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function q(f){h.setTimeout(()=>{throw f},0)}function V(){var f=le;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class ie{constructor(){this.h=this.g=null}add(b,T){const P=pe.get();P.set(b,T),this.h?this.h.next=P:this.g=P,this.h=P}}var pe=new N(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let re,fe=!1,le=new ie,U=()=>{const f=h.Promise.resolve(void 0);re=()=>{f.then(Q)}};var Q=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(T){q(T)}var b=pe;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}fe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,b),h.removeEventListener("test",T,b)}catch{}return f}();function Te(f,b){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(H){e:{try{G(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}S(Te,se);var Ee={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),$e=0;function je(f,b,T,P,W){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!P,this.ha=W,this.key=++$e,this.da=this.fa=!1}function Xt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xn(f){this.src=f,this.g={},this.h=0}xn.prototype.add=function(f,b,T,P,W){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var ge=Se(f,b,P,W);return-1<ge?(b=f[ge],T||(b.fa=!1)):(b=new je(b,this.src,te,!!P,W),b.fa=T,f.push(b)),b};function Sn(f,b){var T=b.type;if(T in f.g){var P=f.g[T],W=Array.prototype.indexOf.call(P,b,void 0),te;(te=0<=W)&&Array.prototype.splice.call(P,W,1),te&&(Xt(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Se(f,b,T,P){for(var W=0;W<f.length;++W){var te=f[W];if(!te.da&&te.listener==b&&te.capture==!!T&&te.ha==P)return W}return-1}var We="closure_lm_"+(1e6*Math.random()|0),ze={};function et(f,b,T,P,W){if(Array.isArray(b)){for(var te=0;te<b.length;te++)et(f,b[te],T,P,W);return null}return T=ta(T),f&&f[ct]?f.K(b,T,m(P)?!!P.capture:!1,W):me(f,b,T,!1,P,W)}function me(f,b,T,P,W,te){if(!b)throw Error("Invalid event type");var ge=m(W)?!!W.capture:!!W,Qe=ea(f);if(Qe||(f[We]=Qe=new xn(f)),T=Qe.add(b,T,P,ge,te),T.proxy)return T;if(P=be(),T.proxy=P,P.src=f,P.listener=T,f.addEventListener)ye||(W=ge),W===void 0&&(W=!1),f.addEventListener(b.toString(),P,W);else if(f.attachEvent)f.attachEvent(at(b.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function be(){function f(T){return b.call(f.src,f.listener,T)}const b=Di;return f}function Ve(f,b,T,P,W){if(Array.isArray(b))for(var te=0;te<b.length;te++)Ve(f,b[te],T,P,W);else P=m(P)?!!P.capture:!!P,T=ta(T),f&&f[ct]?(f=f.i,b=String(b).toString(),b in f.g&&(te=f.g[b],T=Se(te,T,P,W),-1<T&&(Xt(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete f.g[b],f.h--)))):f&&(f=ea(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Se(b,T,P,W)),(T=-1<f?b[f]:null)&&it(T))}function it(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ct])Sn(b.i,f);else{var T=f.type,P=f.proxy;b.removeEventListener?b.removeEventListener(T,P,f.capture):b.detachEvent?b.detachEvent(at(T),P):b.addListener&&b.removeListener&&b.removeListener(P),(T=ea(b))?(Sn(T,f),T.h==0&&(T.src=null,b[We]=null)):Xt(f)}}}function at(f){return f in ze?ze[f]:ze[f]="on"+f}function Di(f,b){if(f.da)f=!0;else{b=new Te(b,this);var T=f.listener,P=f.ha||f.src;f.fa&&it(f),f=T.call(P,b)}return f}function ea(f){return f=f[We],f instanceof xn?f:null}var es="__closure_events_fn_"+(1e9*Math.random()>>>0);function ta(f){return typeof f=="function"?f:(f[es]||(f[es]=function(b){return f.handleEvent(b)}),f[es])}function St(){oe.call(this),this.i=new xn(this),this.M=this,this.F=null}S(St,oe),St.prototype[ct]=!0,St.prototype.removeEventListener=function(f,b,T,P){Ve(this,f,b,T,P)};function ot(f,b){var T,P=f.F;if(P)for(T=[];P;P=P.F)T.push(P);if(f=f.M,P=b.type||b,typeof b=="string")b=new se(b,f);else if(b instanceof se)b.target=b.target||f;else{var W=b;b=new se(P,f),j(b,W)}if(W=!0,T)for(var te=T.length-1;0<=te;te--){var ge=b.g=T[te];W=Fn(ge,P,!0,b)&&W}if(ge=b.g=f,W=Fn(ge,P,!0,b)&&W,W=Fn(ge,P,!1,b)&&W,T)for(te=0;te<T.length;te++)ge=b.g=T[te],W=Fn(ge,P,!1,b)&&W}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],P=0;P<T.length;P++)Xt(T[P]);delete f.g[b],f.h--}}this.F=null},St.prototype.K=function(f,b,T,P){return this.i.add(String(f),b,!1,T,P)},St.prototype.L=function(f,b,T,P){return this.i.add(String(f),b,!0,T,P)};function Fn(f,b,T,P){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,te=0;te<b.length;++te){var ge=b[te];if(ge&&!ge.da&&ge.capture==T){var Qe=ge.listener,Gt=ge.ha||ge.src;ge.fa&&Sn(f.i,ge),W=Qe.call(Gt,P)!==!1&&W}}return W&&!P.defaultPrevented}function mn(f,b,T){if(typeof f=="function")T&&(f=w(f,T));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(f,b||0)}function Yc(f){f.g=mn(()=>{f.g=null,f.i&&(f.i=!1,Yc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class dm extends oe{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Yc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(f){oe.call(this),this.h=f,this.g={}}S(na,oe);var ia=[];function ra(f){M(f.g,function(b,T){this.g.hasOwnProperty(T)&&it(b)},f),f.g={}}na.prototype.N=function(){na.aa.N.call(this),ra(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=h.JSON.stringify,so=h.JSON.parse,sa=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Dl(){}Dl.prototype.h=null;function Ol(f){return f.h||(f.h=f.i())}function Ml(){}var cr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){se.call(this,"d")}S(hr,se);function Vl(){se.call(this,"c")}S(Vl,se);var Oi={},jl=null;function ts(){return jl=jl||new St}Oi.La="serverreachability";function ao(f){se.call(this,Oi.La,f)}S(ao,se);function ns(f){const b=ts();ot(b,new ao(b))}Oi.STAT_EVENT="statevent";function Wc(f,b){se.call(this,Oi.STAT_EVENT,f),this.stat=b}S(Wc,se);function vt(f){const b=ts();ot(b,new Wc(b,f))}Oi.Ma="timingevent";function Ht(f,b){se.call(this,Oi.Ma,f),this.size=b}S(Ht,se);function jt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function ei(){this.g=!0}ei.prototype.xa=function(){this.g=!1};function Ll(f,b,T,P,W,te){f.info(function(){if(f.g)if(te)for(var ge="",Qe=te.split("&"),Gt=0;Gt<Qe.length;Gt++){var Xe=Qe[Gt].split("=");if(1<Xe.length){var Jt=Xe[0];Xe=Xe[1];var $t=Jt.split("_");ge=2<=$t.length&&$t[1]=="type"?ge+(Jt+"="+Xe+"&"):ge+(Jt+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+b+`
`+T+`
`+ge})}function fm(f,b,T,P,W,te,ge){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+b+`
`+T+`
`+te+" "+ge})}function is(f,b,T,P){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+aa(f,T)+(P?" "+P:"")})}function Qc(f,b){f.info(function(){return"TIMEOUT: "+b})}ei.prototype.info=function(){};function aa(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var P=T[f];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var te=W[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<W.length;ge++)W[ge]=""}}}}return gi(T)}catch{return b}}var rs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},dr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mi;function Vi(){}S(Vi,Dl),Vi.prototype.g=function(){return new XMLHttpRequest},Vi.prototype.i=function(){return{}},Mi=new Vi;function An(f,b,T,P){this.j=f,this.i=b,this.l=T,this.R=P||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Ul={},oo={};function yi(f,b,T){f.L=1,f.v=ha(zn(b)),f.m=T,f.P=!0,fr(f,null)}function fr(f,b){f.F=Date.now(),oa(f),f.A=zn(f.v);var T=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),Gl(T.i,"t",P),f.C=0,T=f.j.J,f.h=new kt,f.g=dh(f.j,T?b:null,!f.m),0<f.O&&(f.M=new dm(w(f.Y,f,f.g),f.O)),b=f.U,T=f.g,P=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(ia[0]=W.toString()),W=ia);for(var te=0;te<W.length;te++){var ge=et(T,W[te],P||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),ns(),Ll(f.i,f.u,f.A,f.l,f.R,f.m)}An.prototype.ca=function(f){f=f.target;const b=this.M;b&&ri(f)==3?b.j():this.Y(f)},An.prototype.Y=function(f){try{if(f==this.g)e:{const $t=ri(this.g);var b=this.g.Ba();const wr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||rh(this.g)))){this.J||$t!=4||b==7||(b==8||0>=wr?ns(3):ns(2)),ss(this);var T=this.g.Z();this.X=T;t:if(Xc(this)){var P=rh(this.g);f="";var W=P.length,te=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){sn(this),ji(this);var ge="";break t}this.h.i=new h.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,f+=this.h.i.decode(P[b],{stream:!(te&&b==W-1)});P.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=T==200,fm(this.i,this.u,this.A,this.l,this.R,$t,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Gt=this.g;if((Qe=Gt.g?Gt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Qe)){var Xe=Qe;break t}}Xe=null}if(T=Xe)is(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,T);else{this.o=!1,this.s=3,vt(12),sn(this),ji(this);break e}}if(this.P){T=!0;let an;for(;!this.J&&this.C<ge.length;)if(an=Zc(this,ge),an==oo){$t==4&&(this.s=4,vt(14),T=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(an==Ul){this.s=4,vt(15),is(this.i,this.l,ge,"[Invalid Chunk]"),T=!1;break}else is(this.i,this.l,an,null),la(this,an);if(Xc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||ge.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)is(this.i,this.l,ge,"[Invalid Chunked Response]"),sn(this),ji(this);else if(0<ge.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),_a(Jt),Jt.M=!0,vt(11))}}else is(this.i,this.l,ge,null),la(this,ge);$t==4&&sn(this),this.o&&!this.J&&($t==4?uh(this.j,this):(this.o=!1,oa(this)))}else vm(this.g),T==400&&0<ge.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),sn(this),ji(this)}}}catch{}finally{}};function Xc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function Zc(f,b){var T=f.C,P=b.indexOf(`
`,T);return P==-1?oo:(T=Number(b.substring(T,P)),isNaN(T)?Ul:(P+=1,P+T>b.length?oo:(b=b.slice(P,P+T),f.C=P+T,b)))}An.prototype.cancel=function(){this.J=!0,sn(this)};function oa(f){f.S=Date.now()+f.I,Jc(f,f.I)}function Jc(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jt(w(f.ba,f),b)}function ss(f){f.B&&(h.clearTimeout(f.B),f.B=null)}An.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Qc(this.i,this.A),this.L!=2&&(ns(),vt(17)),sn(this),this.s=2,ji(this)):Jc(this,this.S-f)};function ji(f){f.j.G==0||f.J||uh(f.j,f)}function sn(f){ss(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,ra(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function la(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||Bl(T.h,f))){if(!f.K&&Bl(T.h,f)&&T.G==3){try{var P=T.Da.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)bo(T),vo(T);else break e;Ql(T),vt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=jt(w(T.Za,T),6e3));if(1>=uo(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else br(T,11)}else if((f.K||T.g==f)&&bo(T),!B(b))for(W=T.Da.g.parse(b),b=0;b<W.length;b++){let Xe=W[b];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Jt=Xe[3];Jt!=null&&(T.la=Jt,T.j.info("VER="+T.la));const $t=Xe[4];$t!=null&&(T.Aa=$t,T.j.info("SVER="+T.Aa));const wr=Xe[5];wr!=null&&typeof wr=="number"&&0<wr&&(P=1.5*wr,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const an=f.g;if(an){const Hi=an.g?an.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hi){var te=P.h;te.g||Hi.indexOf("spdy")==-1&&Hi.indexOf("quic")==-1&&Hi.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(co(te,te.h),te.h=null))}if(P.D){const Zl=an.g?an.g.getResponseHeader("X-HTTP-Session-Id"):null;Zl&&(P.ya=Zl,ht(P.I,P.D,Zl))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ge=f;if(P.qa=hh(P,P.J?P.ia:null,P.W),ge.K){Rn(P.h,ge);var Qe=ge,Gt=P.L;Gt&&(Qe.I=Gt),Qe.B&&(ss(Qe),oa(Qe)),P.g=ge}else oh(P);0<T.i.length&&_o(T)}else Xe[0]!="stop"&&Xe[0]!="close"||br(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?br(T,7):Yl(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}ns(4)}catch{}}var eh=class{constructor(f,b){this.g=f,this.map=b}};function mr(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function lo(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function uo(f){return f.h?1:f.g?f.g.size:0}function Bl(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function co(f,b){f.g?f.g.add(b):f.h=b}function Rn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}mr.prototype.cancel=function(){if(this.i=Fl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function Fl(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return k(f.i)}function mm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var b=[],T=f.length,P=0;P<T;P++)b.push(f[P]);return b}b=[],T=0;for(P in f)b[T++]=f[P];return b}function ho(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const P in f)b[T++]=P;return b}}}function zl(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=ho(f),P=mm(f),W=P.length,te=0;te<W;te++)b.call(void 0,P[te],T&&T[te],f)}var ua=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pm(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var P=f[T].indexOf("="),W=null;if(0<=P){var te=f[T].substring(0,P);W=f[T].substring(P+1)}else te=f[T];b(te,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Lt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Lt){this.h=f.h,ca(this,f.j),this.o=f.o,this.g=f.g,as(this,f.s),this.l=f.l;var b=f.i,T=new gr;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),pr(this,T),this.m=f.m}else f&&(b=String(f).match(ua))?(this.h=!1,ca(this,b[1]||"",!0),this.o=ti(b[2]||""),this.g=ti(b[3]||"",!0),as(this,b[4]),this.l=ti(b[5]||"",!0),pr(this,b[6]||"",!0),this.m=ti(b[7]||"")):(this.h=!1,this.i=new gr(null,this.h))}Lt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(da(b,ql,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(da(b,ql,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(da(T,T.charAt(0)=="/"?gm:Hl,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",da(T,fo)),f.join("")};function zn(f){return new Lt(f)}function ca(f,b,T){f.j=T?ti(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function as(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function pr(f,b,T){b instanceof gr?(f.i=b,nh(f.i,f.h)):(T||(b=da(b,ym)),f.i=new gr(b,f.h))}function ht(f,b,T){f.i.set(b,T)}function ha(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function ti(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function da(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,th),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function th(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var ql=/[#\/\?@]/g,Hl=/[#\?:]/g,gm=/[#\?]/g,ym=/[#\?@]/g,fo=/#/g;function gr(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function ni(f){f.g||(f.g=new Map,f.h=0,f.i&&pm(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=gr.prototype,t.add=function(f,b){ni(this),this.i=null,f=Li(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function yr(f,b){ni(f),b=Li(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function vr(f,b){return ni(f),b=Li(f,b),f.g.has(b)}t.forEach=function(f,b){ni(this),this.g.forEach(function(T,P){T.forEach(function(W){f.call(b,W,P,this)},this)},this)},t.na=function(){ni(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let P=0;P<b.length;P++){const W=f[P];for(let te=0;te<W.length;te++)T.push(b[P])}return T},t.V=function(f){ni(this);let b=[];if(typeof f=="string")vr(this,f)&&(b=b.concat(this.g.get(Li(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},t.set=function(f,b){return ni(this),this.i=null,f=Li(this,f),vr(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Gl(f,b,T){yr(f,b),0<T.length&&(f.i=null,f.g.set(Li(f,b),k(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var P=b[T];const te=encodeURIComponent(String(P)),ge=this.V(P);for(P=0;P<ge.length;P++){var W=te;ge[P]!==""&&(W+="="+encodeURIComponent(String(ge[P]))),f.push(W)}}return this.i=f.join("&")};function Li(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function nh(f,b){b&&!f.j&&(ni(f),f.i=null,f.g.forEach(function(T,P){var W=P.toLowerCase();P!=W&&(yr(this,P),Gl(this,W,T))},f)),f.j=b}function fa(f,b){const T=new ei;if(h.Image){const P=new Image;P.onload=x(ii,T,"TestLoadImage: loaded",!0,b,P),P.onerror=x(ii,T,"TestLoadImage: error",!1,b,P),P.onabort=x(ii,T,"TestLoadImage: abort",!1,b,P),P.ontimeout=x(ii,T,"TestLoadImage: timeout",!1,b,P),h.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else b(!1)}function vi(f,b){const T=new ei,P=new AbortController,W=setTimeout(()=>{P.abort(),ii(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:P.signal}).then(te=>{clearTimeout(W),te.ok?ii(T,"TestPingServer: ok",!0,b):ii(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),ii(T,"TestPingServer: error",!1,b)})}function ii(f,b,T,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(T)}catch{}}function ma(){this.g=new sa}function Ui(f,b,T){const P=T||"";try{zl(f,function(W,te){let ge=W;m(W)&&(ge=gi(W)),b.push(P+te+"="+encodeURIComponent(ge))})}catch(W){throw b.push(P+"type="+encodeURIComponent("_badmap")),W}}function os(f){this.l=f.Ub||null,this.j=f.eb||!1}S(os,Dl),os.prototype.g=function(){return new _r(this.l,this.j)},os.prototype.i=function(f){return function(){return f}}({});function _r(f,b){St.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(_r,St),t=_r.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Fi(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bi(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fi(this)),this.g&&(this.readyState=3,Fi(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Bi(this):Fi(this),this.readyState==3&&$l(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Bi(this))},t.Qa=function(f){this.g&&(this.response=f,Bi(this))},t.ga=function(){this.g&&Bi(this)};function Bi(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fi(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Fi(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Kl(f){let b="";return M(f,function(T,P){b+=P,b+=":",b+=T,b+=`\r
`}),b}function Zt(f,b,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Kl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):ht(f,b,T))}function rt(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(rt,St);var mo=/^https?$/i,pa=["POST","PUT"];t=rt.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mi.g(),this.v=this.o?Ol(this.o):Ol(Mi),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(te){ih(this,te);return}if(f=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)T.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())T.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),W=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(pa,b,void 0))||P||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of T)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){ih(this,te)}};function ih(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,po(f),zi(f)}function po(f){f.A||(f.A=!0,ot(f,"complete"),ot(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ot(this,"complete"),ot(this,"abort"),zi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zi(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?go(this):this.bb())},t.bb=function(){go(this)};function go(f){if(f.h&&typeof u<"u"&&(!f.v[1]||ri(f)!=4||f.Z()!=2)){if(f.u&&ri(f)==4)mn(f.Ea,0,f);else if(ot(f,"readystatechange"),ri(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var P;if(P=ge===0){var W=String(f.D).match(ua)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),P=!mo.test(W?W.toLowerCase():"")}T=P}if(T)ot(f,"complete"),ot(f,"success");else{f.m=6;try{var te=2<ri(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",po(f)}}finally{zi(f)}}}}function zi(f,b){if(f.g){ga(f);const T=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ot(f,"ready");try{T.onreadystatechange=P}catch{}}}function ga(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ri(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),so(b)}};function rh(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function vm(f){const b={};f=(f.g&&2<=ri(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(B(f[P]))continue;var T=F(f[P]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=b[W]||[];b[W]=te,te.push(T)}D(b,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function yo(f){this.Aa=0,this.i=[],this.j=new ei,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,f),this.cb=ya("retryDelaySeedMs",1e4,f),this.Wa=ya("forwardChannelMaxRetries",2,f),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new mr(f&&f.concurrentRequestLimit),this.Da=new ma,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yo.prototype,t.la=8,t.G=1,t.connect=function(f,b,T,P){vt(0),this.W=f,this.H=b||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=hh(this,null,this.W),_o(this)};function Yl(f){if(sh(f),f.G==3){var b=f.U++,T=zn(f.I);if(ht(T,"SID",f.K),ht(T,"RID",b),ht(T,"TYPE","terminate"),va(f,T),b=new An(f,f.j,b),b.L=2,b.v=ha(zn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=b.v,T=!0),T||(b.g=dh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),oa(b)}ch(f)}function vo(f){f.g&&(_a(f),f.g.cancel(),f.g=null)}function sh(f){vo(f),f.u&&(h.clearTimeout(f.u),f.u=null),bo(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function _o(f){if(!lo(f.h)&&!f.s){f.s=!0;var b=f.Ga;re||U(),fe||(re(),fe=!0),le.add(b,f),f.B=0}}function _m(f,b){return uo(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jt(w(f.Ga,f,b),Xl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new An(this,this.j,f);let te=this.o;if(this.S&&(te?(te=A(te),j(te,this.S)):te=this.S),this.m!==null||this.O||(W.H=te,te=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=ah(this,W,b),T=zn(this.I),ht(T,"RID",f),ht(T,"CVER",22),this.D&&ht(T,"X-HTTP-Session-Id",this.D),va(this,T),te&&(this.O?b="headers="+encodeURIComponent(String(Kl(te)))+"&"+b:this.m&&Zt(T,this.m,te)),co(this.h,W),this.Ua&&ht(T,"TYPE","init"),this.P?(ht(T,"$req",b),ht(T,"SID","null"),W.T=!0,yi(W,T,null)):yi(W,T,b),this.G=2}}else this.G==3&&(f?Wl(this,f):this.i.length==0||lo(this.h)||Wl(this))};function Wl(f,b){var T;b?T=b.l:T=f.U++;const P=zn(f.I);ht(P,"SID",f.K),ht(P,"RID",T),ht(P,"AID",f.T),va(f,P),f.m&&f.o&&Zt(P,f.m,f.o),T=new An(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=ah(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),co(f.h,T),yi(T,P,b)}function va(f,b){f.H&&M(f.H,function(T,P){ht(b,P,T)}),f.l&&zl({},function(T,P){ht(b,P,T)})}function ah(f,b,T){T=Math.min(f.i.length,T);var P=f.l?w(f.l.Na,f.l,f):null;e:{var W=f.i;let te=-1;for(;;){const ge=["count="+T];te==-1?0<T?(te=W[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let Qe=!0;for(let Gt=0;Gt<T;Gt++){let Xe=W[Gt].g;const Jt=W[Gt].map;if(Xe-=te,0>Xe)te=Math.max(0,W[Gt].g-100),Qe=!1;else try{Ui(Jt,ge,"req"+Xe+"_")}catch{P&&P(Jt)}}if(Qe){P=ge.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,P}function oh(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;re||U(),fe||(re(),fe=!0),le.add(b,f),f.v=0}}function Ql(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jt(w(f.Fa,f),Xl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,lh(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jt(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),vo(this),lh(this))};function _a(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function lh(f){f.g=new An(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=zn(f.qa);ht(b,"RID","rpc"),ht(b,"SID",f.K),ht(b,"AID",f.T),ht(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(b,"TO",f.ja),ht(b,"TYPE","xmlhttp"),va(f,b),f.m&&f.o&&Zt(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=ha(zn(b)),T.m=null,T.P=!0,fr(T,f)}t.Za=function(){this.C!=null&&(this.C=null,vo(this),Ql(this),vt(19))};function bo(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function uh(f,b){var T=null;if(f.g==b){bo(f),_a(f),f.g=null;var P=2}else if(Bl(f.h,b))T=b.D,Rn(f.h,b),P=1;else return;if(f.G!=0){if(b.o)if(P==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var W=f.B;P=ts(),ot(P,new Ht(P,T)),_o(f)}else oh(f);else if(W=b.s,W==3||W==0&&0<b.X||!(P==1&&_m(f,b)||P==2&&Ql(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),W){case 1:br(f,5);break;case 4:br(f,10);break;case 3:br(f,6);break;default:br(f,2)}}}function Xl(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function br(f,b){if(f.j.info("Error code "+b),b==2){var T=w(f.fb,f),P=f.Xa;const W=!P;P=new Lt(P||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ca(P,"https"),ha(P),W?fa(P.toString(),T):vi(P.toString(),T)}else vt(2);f.G=0,f.l&&f.l.sa(b),ch(f),sh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ch(f){if(f.G=0,f.ka=[],f.l){const b=Fl(f.h);(b.length!=0||f.i.length!=0)&&(R(f.ka,b),R(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function hh(f,b,T){var P=T instanceof Lt?zn(T):new Lt(T);if(P.g!="")b&&(P.g=b+"."+P.g),as(P,P.s);else{var W=h.location;P=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var te=new Lt(null);P&&ca(te,P),b&&(te.g=b),W&&as(te,W),T&&(te.l=T),P=te}return T=f.D,b=f.ya,T&&b&&ht(P,T,b),ht(P,"VER",f.la),va(f,P),P}function dh(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new rt(new os({eb:T})):new rt(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fh(){}t=fh.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wo(){}wo.prototype.g=function(f,b){return new Cn(f,b)};function Cn(f,b){St.call(this),this.g=new yo(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!B(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!B(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new qi(this)}S(Cn,St),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Yl(this.g)},Cn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=gi(f),f=T);b.i.push(new eh(b.Ya++,f)),b.G==3&&_o(b)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Yl(this.g),delete this.g,Cn.aa.N.call(this)};function mh(f){hr.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}S(mh,hr);function ph(){Vl.call(this),this.status=1}S(ph,Vl);function qi(f){this.g=f}S(qi,fh),qi.prototype.ua=function(){ot(this.g,"a")},qi.prototype.ta=function(f){ot(this.g,new mh(f))},qi.prototype.sa=function(f){ot(this.g,new ph)},qi.prototype.ra=function(){ot(this.g,"b")},wo.prototype.createWebChannel=wo.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,w1=function(){return new wo},b1=function(){return ts()},_1=Oi,by={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rs.NO_ERROR=0,rs.TIMEOUT=8,rs.HTTP_ERROR=6,Od=rs,dr.COMPLETE="complete",v1=dr,Ml.EventType=cr,cr.OPEN="a",cr.CLOSE="b",cr.ERROR="c",cr.MESSAGE="d",St.prototype.listen=St.prototype.K,$u=Ml,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,y1=rt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});const lE="@firebase/firestore",uE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let El="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Tv("@firebase/firestore");function Qo(){return Qa.logLevel}function ve(t,...e){if(Qa.logLevel<=Ke.DEBUG){const n=e.map(Vv);Qa.debug(`Firestore (${El}): ${t}`,...n)}}function Kr(t,...e){if(Qa.logLevel<=Ke.ERROR){const n=e.map(Vv);Qa.error(`Firestore (${El}): ${t}`,...n)}}function ul(t,...e){if(Qa.logLevel<=Ke.WARN){const n=e.map(Vv);Qa.warn(`Firestore (${El}): ${t}`,...n)}}function Vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let i="Unexpected state";typeof e=="string"?i=e:n=e,T1(t,i,n)}function T1(t,e,n){let i=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{i+=" CONTEXT: "+JSON.stringify(n)}catch{i+=" CONTEXT: "+n}throw Kr(i),new Error(i)}function st(t,e,n,i){let a="Unexpected state";typeof n=="string"?a=n:i=n,t||T1(e,a,i)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class h4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class d4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f4{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let i=this.i;const a=d=>this.i!==i?(i=this.i,n(d)):Promise.resolve();let l=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new qr,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new qr)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(st(typeof i.accessToken=="string",31837,{l:i}),new E1(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class m4{constructor(e,n,i){this.P=e,this.T=n,this.I=i,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class p4{constructor(e,n,i){this.P=e,this.T=n,this.I=i}getToken(){return Promise.resolve(new m4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const i=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>i(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new cE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new cE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=y4(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<n&&(i+=e.charAt(a[l]%62))}return i}}function Fe(t,e){return t<e?-1:t>e?1:0}function wy(t,e){let n=0;for(;n<t.length&&n<e.length;){const i=t.codePointAt(n),a=e.codePointAt(n);if(i!==a){if(i<128&&a<128)return Fe(i,a);{const l=x1(),u=v4(l.encode(hE(t,n)),l.encode(hE(e,n)));return u!==0?u:Fe(i,a)}}n+=i>65535?2:1}return Fe(t.length,e.length)}function hE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function v4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Fe(t[n],e[n]);return Fe(t.length,e.length)}function cl(t,e,n){return t.length===e.length&&t.every((i,a)=>n(i,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=-62135596800,fE=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor((e-1e3*n)*fE);return new Wt(n,i)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dE)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Wt(0,0))}static max(){return new Oe(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__name__";class Xi{constructor(e,n,i){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),i===void 0?i=e.length-n:i>e.length-n&&Ne(1746,{length:i,range:e.length-n}),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return Xi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xi?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let a=0;a<i;a++){const l=Xi.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const i=Xi.isNumericId(e),a=Xi.isNumericId(n);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(e).compare(Xi.extractNumericId(n)):wy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class yt extends Xi{construct(e,n,i){return new yt(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(a=>a.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const _4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Xi{construct(e,n,i){return new dn(e,n,i)}static isValidIdentifier(e){return _4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===mE}static keyField(){return new dn([mE])}static fromServerFormat(e){const n=[];let i="",a=0;const l=()=>{if(i.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(i+=h,a++):(l(),a++)}if(l(),u)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dn(n)}static emptyPath(){return new dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(yt.fromString(e))}static fromName(e){return new Ae(yt.fromString(e).popFirst(5))}static empty(){return new Ae(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=-1;function b4(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(i===1e9?new Wt(n+1,0):new Wt(n,i));return new Bs(a,Ae.empty(),e)}function w4(t){return new Bs(t.readTime,t.key,fc)}class Bs{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Bs(Oe.min(),Ae.empty(),fc)}static max(){return new Bs(Oe.max(),Ae.empty(),fc)}}function T4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==E4)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(i,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,i)=>{n(e)})}static reject(e){return new de((n,i)=>{i(e)})}static waitFor(e){return new de((n,i)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>i(d))}),u=!0,l===a&&n()})}static or(e){let n=de.resolve(!1);for(const i of e)n=n.next(a=>a?de.resolve(a):i());return n}static forEach(e,n){const i=[];return e.forEach((a,l)=>{i.push(n.call(this,a,l))}),this.waitFor(i)}static mapArray(e,n){return new de((i,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next(g=>{u[m]=g,++h,h===l&&i(u)},g=>a(g))}})}static doWhile(e,n){return new de((i,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):i()};l()})}}function S4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Sl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>n.writeSequenceNumber(i))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Df.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv=-1;function Of(t){return t==null}function rf(t){return t===0&&1/t==-1/0}function A4(t){return typeof t=="number"&&Number.isInteger(t)&&!rf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="";function R4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=pE(e)),e=C4(t.get(n),e);return pE(e)}function C4(t,e){let n=e;const i=t.length;for(let a=0;a<i;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case A1:n+="";break;default:n+=l}}return n}function pE(t){return t+A1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function R1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||hn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,hn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,hn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return n+i.left.size;a<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new _d(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new _d(this.root,e,this.comparator,!1)}getReverseIterator(){return new _d(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new _d(this.root,e,this.comparator,!0)}}class _d{constructor(e,n,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?i(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class hn{constructor(e,n,i,a,l){this.key=e,this.value=n,this.color=i??hn.RED,this.left=a??hn.EMPTY,this.right=l??hn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,a,l){return new hn(e??this.key,n??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,i),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return hn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return hn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,hn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,hn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}hn.EMPTY=null,hn.RED=!0,hn.BLACK=!1;hn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,i,a,l){return this}insert(e,n,i){return new hn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new yE(this.data.getIterator())}getIteratorFrom(e){return new yE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof Qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Qt(this.comparator);return n.data=e,n}}class yE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(dn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Qt(dn.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new C1("Invalid base64 string: "+l):l}}(e);return new fn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new fn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let a=0;a<n.length;a++)i[a]=n.charCodeAt(a);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fn.EMPTY_BYTE_STRING=new fn("");const I4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fs(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=I4.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zs(t){return typeof t=="string"?fn.fromBase64String(t):fn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="server_timestamp",N1="__type__",k1="__previous_value__",P1="__local_write_time__";function Lv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[N1])===null||n===void 0?void 0:n.stringValue)===I1}function Mf(t){const e=t.mapValue.fields[k1];return Lv(e)?Mf(e):e}function mc(t){const e=Fs(t.mapValue.fields[P1].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N4{constructor(e,n,i,a,l,u,h,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const sf="(default)";class pc{constructor(e,n){this.projectId=e,this.database=n||sf}static empty(){return new pc("","")}get isDefaultDatabase(){return this.database===sf}isEqual(e){return e instanceof pc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="__type__",k4="__max__",bd={mapValue:{}},O1="__vector__",af="value";function qs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lv(t)?4:D4(t)?9007199254740991:P4(t)?10:11:Ne(28295,{value:t})}function sr(t,e){if(t===e)return!0;const n=qs(t);if(n!==qs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Fs(a.timestampValue),h=Fs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return zs(a.bytesValue).isEqual(zs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?rf(u)===rf(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(gE(u)!==gE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!sr(u[d],h[d])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function gc(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function hl(t,e){if(t===e)return 0;const n=qs(t),i=qs(e);if(n!==i)return Fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Mt(l.integerValue||l.doubleValue),d=Mt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return vE(t.timestampValue,e.timestampValue);case 4:return vE(mc(t),mc(e));case 5:return wy(t.stringValue,e.stringValue);case 6:return function(l,u){const h=zs(l),d=zs(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Fe(h[m],d[m]);if(g!==0)return g}return Fe(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Fe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:Fe(Mt(l.longitude),Mt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return _E(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,m,g;const v=l.fields||{},w=u.fields||{},x=(h=v[af])===null||h===void 0?void 0:h.arrayValue,S=(d=w[af])===null||d===void 0?void 0:d.arrayValue,k=Fe(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:_E(x,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===bd.mapValue&&u===bd.mapValue)return 0;if(l===bd.mapValue)return 1;if(u===bd.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=wy(d[v],g[v]);if(w!==0)return w;const x=hl(h[d[v]],m[g[v]]);if(x!==0)return x}return Fe(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{Pe:n})}}function vE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=Fs(t),i=Fs(e),a=Fe(n.seconds,i.seconds);return a!==0?a:Fe(n.nanos,i.nanos)}function _E(t,e){const n=t.values||[],i=e.values||[];for(let a=0;a<n.length&&a<i.length;++a){const l=hl(n[a],i[a]);if(l)return l}return Fe(n.length,i.length)}function dl(t){return Ty(t)}function Ty(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Fs(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",a=!0;for(const l of n.values||[])a?a=!1:i+=",",i+=Ty(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of i)l?l=!1:a+=",",a+=`${u}:${Ty(n.fields[u])}`;return a+"}"}(t.mapValue):Ne(61005,{value:t})}function Md(t){switch(qs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mf(t);return e?16+Md(e):16;case 5:return 2*t.stringValue.length;case 6:return zs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((a,l)=>a+Md(l),0)}(t.arrayValue);case 10:case 11:return function(i){let a=0;return Qs(i.fields,(l,u)=>{a+=l.length+Md(u)}),a}(t.mapValue);default:throw Ne(13486,{value:t})}}function bE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ey(t){return!!t&&"integerValue"in t}function Uv(t){return!!t&&"arrayValue"in t}function wE(t){return!!t&&"nullValue"in t}function TE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Vd(t){return!!t&&"mapValue"in t}function P4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[D1])===null||n===void 0?void 0:n.stringValue)===O1}function Ju(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Qs(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=Ju(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ju(t.arrayValue.values[n]);return e}return Object.assign({},t)}function D4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===k4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Vd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ju(n)}setAll(e){let n=dn.emptyPath(),i={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,i,a),i={},a=[],n=h.popLast()}u?i[h.lastSegment()]=Ju(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,i,a)}delete(e){const n=this.field(e.popLast());Vd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=n.mapValue.fields[e.get(i)];Vd(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,i){Qs(n,(a,l)=>e[a]=l);for(const a of i)delete e[a]}clone(){return new jn(Ju(this.value))}}function M1(t){const e=[];return Qs(t.fields,(n,i)=>{const a=new dn([n]);if(Vd(i)){const l=M1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,i,a,l,u,h){this.key=e,this.documentType=n,this.version=i,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),jn.empty(),0)}static newFoundDocument(e,n,i,a){return new _n(e,1,n,Oe.min(),i,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Oe.min(),Oe.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Oe.min(),Oe.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,n){this.position=e,this.inclusive=n}}function EE(t,e,n){let i=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?i=Ae.comparator(Ae.fromName(u.referenceValue),n.key):i=hl(u,n.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function xE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n="asc"){this.field=e,this.dir=n}}function O4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{}class qt extends V1{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new V4(e,n,i):n==="array-contains"?new U4(e,i):n==="in"?new B4(e,i):n==="not-in"?new F4(e,i):n==="array-contains-any"?new z4(e,i):new qt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new j4(e,i):new L4(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hl(n,this.value)):n!==null&&qs(this.value)===qs(n)&&this.matchesComparison(hl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends V1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ii(e,n)}matches(e){return j1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function j1(t){return t.op==="and"}function L1(t){return M4(t)&&j1(t)}function M4(t){for(const e of t.filters)if(e instanceof Ii)return!1;return!0}function xy(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+dl(t.value);if(L1(t))return t.filters.map(e=>xy(e)).join(",");{const e=t.filters.map(n=>xy(n)).join(",");return`${t.op}(${e})`}}function U1(t,e){return t instanceof qt?function(i,a){return a instanceof qt&&i.op===a.op&&i.field.isEqual(a.field)&&sr(i.value,a.value)}(t,e):t instanceof Ii?function(i,a){return a instanceof Ii&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce((l,u,h)=>l&&U1(u,a.filters[h]),!0):!1}(t,e):void Ne(19439)}function B1(t){return t instanceof qt?function(n){return`${n.field.canonicalString()} ${n.op} ${dl(n.value)}`}(t):t instanceof Ii?function(n){return n.op.toString()+" {"+n.getFilters().map(B1).join(" ,")+"}"}(t):"Filter"}class V4 extends qt{constructor(e,n,i){super(e,n,i),this.key=Ae.fromName(i.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class j4 extends qt{constructor(e,n){super(e,"in",n),this.keys=F1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class L4 extends qt{constructor(e,n){super(e,"not-in",n),this.keys=F1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>Ae.fromName(i.referenceValue))}class U4 extends qt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Uv(n)&&gc(n.arrayValue,this.value)}}class B4 extends qt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&gc(this.value.arrayValue,n)}}class F4 extends qt{constructor(e,n){super(e,"not-in",n)}matches(e){if(gc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!gc(this.value.arrayValue,n)}}class z4 extends qt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Uv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>gc(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q4{constructor(e,n=null,i=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function SE(t,e=null,n=[],i=[],a=null,l=null,u=null){return new q4(t,e,n,i,a,l,u)}function Bv(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>xy(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(l){return l.field.canonicalString()+l.dir}(i)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>dl(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>dl(i)).join(",")),e.Ie=n}return e.Ie}function Fv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!O4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!U1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!xE(t.startAt,e.startAt)&&xE(t.endAt,e.endAt)}function Sy(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n=null,i=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function H4(t,e,n,i,a,l,u,h){return new Al(t,e,n,i,a,l,u,h)}function Vf(t){return new Al(t)}function AE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function z1(t){return t.collectionGroup!==null}function ec(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Qt(dn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new yc(l,i))}),n.has(dn.keyField().canonicalString())||e.Ee.push(new yc(dn.keyField(),i))}return e.Ee}function er(t){const e=Me(t);return e.de||(e.de=G4(e,ec(t))),e.de}function G4(t,e){if(t.limitType==="F")return SE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new yc(a.field,l)});const n=t.endAt?new of(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new of(t.startAt.position,t.startAt.inclusive):null;return SE(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function Ay(t,e){const n=t.filters.concat([e]);return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Ry(t,e,n){return new Al(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function jf(t,e){return Fv(er(t),er(e))&&t.limitType===e.limitType}function q1(t){return`${Bv(er(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(a=>B1(a)).join(", ")}]`),Of(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(a=>dl(a)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(a=>dl(a)).join(",")),`Target(${i})`}(er(t))}; limitType=${t.limitType})`}function Lf(t,e){return e.isFoundDocument()&&function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):Ae.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)}(t,e)&&function(i,a){for(const l of ec(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(i,a){return!(i.startAt&&!function(u,h,d){const m=EE(u,h,d);return u.inclusive?m<=0:m<0}(i.startAt,ec(i),a)||i.endAt&&!function(u,h,d){const m=EE(u,h,d);return u.inclusive?m>=0:m>0}(i.endAt,ec(i),a))}(t,e)}function $4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function H1(t){return(e,n)=>{let i=!1;for(const a of ec(t)){const l=K4(a,e,n);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function K4(t,e,n){const i=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?hl(d,m):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[n]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Qs(this.inner,(n,i)=>{for(const[a,l]of i)e(a,l)})}isEmpty(){return R1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4=new xt(Ae.comparator);function Yr(){return Y4}const G1=new xt(Ae.comparator);function Ku(...t){let e=G1;for(const n of t)e=e.insert(n.key,n);return e}function $1(t){let e=G1;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function Ua(){return tc()}function K1(){return tc()}function tc(){return new no(t=>t.toString(),(t,e)=>t.isEqual(e))}const W4=new xt(Ae.comparator),Q4=new Qt(Ae.comparator);function Ye(...t){let e=Q4;for(const n of t)e=e.add(n);return e}const X4=new Qt(Fe);function Z4(){return X4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rf(e)?"-0":e}}function Y1(t){return{integerValue:""+t}}function J4(t,e){return A4(e)?Y1(e):zv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(){this._=void 0}}function eV(t,e,n){return t instanceof vc?function(a,l){const u={fields:{[N1]:{stringValue:I1},[P1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Lv(l)&&(l=Mf(l)),l&&(u.fields[k1]=l),{mapValue:u}}(n,e):t instanceof _c?Q1(t,e):t instanceof bc?X1(t,e):function(a,l){const u=W1(a,l),h=RE(u)+RE(a.Re);return Ey(u)&&Ey(a.Re)?Y1(h):zv(a.serializer,h)}(t,e)}function tV(t,e,n){return t instanceof _c?Q1(t,e):t instanceof bc?X1(t,e):n}function W1(t,e){return t instanceof lf?function(i){return Ey(i)||function(l){return!!l&&"doubleValue"in l}(i)}(e)?e:{integerValue:0}:null}class vc extends Uf{}class _c extends Uf{constructor(e){super(),this.elements=e}}function Q1(t,e){const n=Z1(e);for(const i of t.elements)n.some(a=>sr(a,i))||n.push(i);return{arrayValue:{values:n}}}class bc extends Uf{constructor(e){super(),this.elements=e}}function X1(t,e){let n=Z1(e);for(const i of t.elements)n=n.filter(a=>!sr(a,i));return{arrayValue:{values:n}}}class lf extends Uf{constructor(e,n){super(),this.serializer=e,this.Re=n}}function RE(t){return Mt(t.integerValue||t.doubleValue)}function Z1(t){return Uv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e,n){this.field=e,this.transform=n}}function iV(t,e){return t.field.isEqual(e.field)&&function(i,a){return i instanceof _c&&a instanceof _c||i instanceof bc&&a instanceof bc?cl(i.elements,a.elements,sr):i instanceof lf&&a instanceof lf?sr(i.Re,a.Re):i instanceof vc&&a instanceof vc}(t.transform,e.transform)}class rV{constructor(e,n){this.version=e,this.transformResults=n}}class Ri{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ri}static exists(e){return new Ri(void 0,e)}static updateTime(e){return new Ri(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Bf{}function J1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tR(t.key,Ri.none()):new jc(t.key,t.data,Ri.none());{const n=t.data,i=jn.empty();let a=new Qt(dn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?i.delete(l):i.set(l,u),a=a.add(l)}return new Xs(t.key,i,new Qn(a.toArray()),Ri.none())}}function sV(t,e,n){t instanceof jc?function(a,l,u){const h=a.value.clone(),d=IE(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(a,l,u){if(!jd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=IE(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(eR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function nc(t,e,n,i){return t instanceof jc?function(l,u,h,d){if(!jd(l.precondition,u))return h;const m=l.value.clone(),g=NE(l.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,i):t instanceof Xs?function(l,u,h,d){if(!jd(l.precondition,u))return h;const m=NE(l.fieldTransforms,d,u),g=u.data;return g.setAll(eR(l)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,i):function(l,u,h){return jd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function aV(t,e){let n=null;for(const i of t.fieldTransforms){const a=e.data.field(i.field),l=W1(i.transform,a||null);l!=null&&(n===null&&(n=jn.empty()),n.set(i.field,l))}return n||null}function CE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&cl(i,a,(l,u)=>iV(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class jc extends Bf{constructor(e,n,i,a=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Xs extends Bf{constructor(e,n,i,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function eR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function IE(t,e,n){const i=new Map;st(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);i.set(l.field,tV(u,h,n[a]))}return i}function NE(t,e,n){const i=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);i.set(a.field,eV(l,u,e))}return i}class tR extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oV extends Bf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n,i,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&sV(l,e,i[a])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=nc(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=nc(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=K1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=J1(u,h);d!==null&&i.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,(n,i)=>CE(n,i))&&cl(this.baseMutations,e.baseMutations,(n,i)=>CE(n,i))}}class qv{constructor(e,n,i,a){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=a}static from(e,n,i){st(e.mutations.length===i.length,58842,{fe:e.mutations.length,ge:i.length});let a=function(){return W4}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,i[u].version);return new qv(e,n,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Je;function hV(t){switch(t){case he.OK:return Ne(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function nR(t){if(t===void 0)return Kr("GRPC error has no .code"),he.UNKNOWN;switch(t){case Ft.OK:return he.OK;case Ft.CANCELLED:return he.CANCELLED;case Ft.UNKNOWN:return he.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return he.INTERNAL;case Ft.UNAVAILABLE:return he.UNAVAILABLE;case Ft.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ft.NOT_FOUND:return he.NOT_FOUND;case Ft.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ft.ABORTED:return he.ABORTED;case Ft.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ft.DATA_LOSS:return he.DATA_LOSS;default:return Ne(39323,{code:t})}}(Je=Ft||(Ft={}))[Je.OK=0]="OK",Je[Je.CANCELLED=1]="CANCELLED",Je[Je.UNKNOWN=2]="UNKNOWN",Je[Je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Je[Je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Je[Je.NOT_FOUND=5]="NOT_FOUND",Je[Je.ALREADY_EXISTS=6]="ALREADY_EXISTS",Je[Je.PERMISSION_DENIED=7]="PERMISSION_DENIED",Je[Je.UNAUTHENTICATED=16]="UNAUTHENTICATED",Je[Je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Je[Je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Je[Je.ABORTED=10]="ABORTED",Je[Je.OUT_OF_RANGE=11]="OUT_OF_RANGE",Je[Je.UNIMPLEMENTED=12]="UNIMPLEMENTED",Je[Je.INTERNAL=13]="INTERNAL",Je[Je.UNAVAILABLE=14]="UNAVAILABLE",Je[Je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new js([4294967295,4294967295],0);function kE(t){const e=x1().encode(t),n=new g1;return n.update(e),new Uint8Array(n.digest())}function PE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new js([n,i],0),new js([a,l],0)]}class Hv{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new Yu(`Invalid padding: ${n}`);if(i<0)throw new Yu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Yu(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new Yu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=js.fromNumber(this.pe)}we(e,n,i){let a=e.add(n.multiply(js.fromNumber(i)));return a.compare(dV)===1&&(a=new js([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=kE(e),[i,a]=PE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);if(!this.be(u))return!1}return!0}static create(e,n,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new Hv(l,a,n);return i.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=kE(e),[i,a]=PE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(i,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class Yu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(e,n,i,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const a=new Map;return a.set(e,Lc.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Ff(Oe.min(),a,new xt(Fe),Yr(),Ye())}}class Lc{constructor(e,n,i,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new Lc(i,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n,i,a){this.De=e,this.removedTargetIds=n,this.key=i,this.ve=a}}class iR{constructor(e,n){this.targetId=e,this.Ce=n}}class rR{constructor(e,n,i=fn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=a}}class DE{constructor(){this.Fe=0,this.Me=OE(),this.xe=fn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),n=Ye(),i=Ye();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:i=i.add(a);break;default:Ne(38017,{changeType:l})}}),new Lc(this.xe,this.Oe,e,n,i)}Qe(){this.Ne=!1,this.Me=OE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,st(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class fV{constructor(e){this.ze=e,this.je=new Map,this.He=Yr(),this.Je=wd(),this.Ye=wd(),this.Ze=new xt(Fe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const i=this.rt(n);switch(e.state){case 0:this.it(n)&&i.ke(e.resumeToken);break;case 1:i.We(),i.Be||i.Qe(),i.ke(e.resumeToken);break;case 2:i.We(),i.Be||this.removeTarget(n);break;case 3:this.it(n)&&(i.Ge(),i.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),i.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((i,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,i=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(Sy(l))if(i===0){const u=new Ae(l.path);this.tt(n,u,_n.newNoDocument(u,Oe.min()))}else st(i===1,20013,{expectedCount:i});else{const u=this.ut(n);if(u!==i){const h=this.ct(e),d=h?this.lt(h,e,u):1;if(d!==0){this.st(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=zs(i).toUint8Array()}catch(d){if(d instanceof C1)return ul("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new Hv(u,a,l)}catch(d){return ul(d instanceof Yu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,i){return n.Ce.count===i-this.Tt(e,n.targetId)?0:2}Tt(e,n){const i=this.ze.getRemoteKeysForTarget(n);let a=0;return i.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&Sy(h.target)){const d=new Ae(h.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,_n.newNoDocument(d,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let i=Ye();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(i=i.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new Ff(e,n,this.Ze,this.He,i);return this.He=Yr(),this.Je=wd(),this.Ye=wd(),this.Ze=new xt(Fe),a}et(e,n){if(!this.it(e))return;const i=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,i),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,i){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),i&&(this.He=this.He.insert(n,i))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new DE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Qt(Fe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Qt(Fe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new DE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function wd(){return new xt(Ae.comparator)}function OE(){return new xt(Ae.comparator)}const mV={asc:"ASCENDING",desc:"DESCENDING"},pV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gV={and:"AND",or:"OR"};class yV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cy(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function uf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vV(t,e){return uf(t,e.toTimestamp())}function tr(t){return st(!!t,49232),Oe.fromTimestamp(function(n){const i=Fs(n);return new Wt(i.seconds,i.nanos)}(t))}function Gv(t,e){return Iy(t,e).canonicalString()}function Iy(t,e){const n=function(a){return new yt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function aR(t){const e=yt.fromString(t);return st(hR(e),10190,{key:e.toString()}),e}function Ny(t,e){return Gv(t.databaseId,e.path)}function Rg(t,e){const n=aR(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(lR(n))}function oR(t,e){return Gv(t.databaseId,e)}function _V(t){const e=aR(t);return e.length===4?yt.emptyPath():lR(e)}function ky(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lR(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function ME(t,e,n){return{name:Ny(t,e),fields:n.value.mapValue.fields}}function bV(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,g){return m.useProto3Json?(st(g===void 0||typeof g=="string",58123),fn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),fn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?he.UNKNOWN:nR(m.code);return new _e(g,m.message||"")}(u);n=new rR(i,a,l,h||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Rg(t,i.document.name),l=tr(i.document.updateTime),u=i.document.createTime?tr(i.document.createTime):Oe.min(),h=new jn({mapValue:{fields:i.document.fields}}),d=_n.newFoundDocument(a,l,u,h),m=i.targetIds||[],g=i.removedTargetIds||[];n=new Ld(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Rg(t,i.document),l=i.readTime?tr(i.readTime):Oe.min(),u=_n.newNoDocument(a,l),h=i.removedTargetIds||[];n=new Ld([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Rg(t,i.document),l=i.removedTargetIds||[];n=new Ld([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,u=new cV(a,l),h=i.targetId;n=new iR(h,u)}}return n}function wV(t,e){let n;if(e instanceof jc)n={update:ME(t,e.key,e.value)};else if(e instanceof tR)n={delete:Ny(t,e.key)};else if(e instanceof Xs)n={update:ME(t,e.key,e.data),updateMask:NV(e.fieldMask)};else{if(!(e instanceof oV))return Ne(16599,{ft:e.type});n={verify:Ny(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(l,u){const h=u.transform;if(h instanceof vc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof _c)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof bc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof lf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ne(20930,{transform:u.transform})}(0,i))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:vV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)}(t,e.precondition)),n}function TV(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?tr(a.updateTime):tr(l);return u.isEqual(Oe.min())&&(u=tr(l)),new rV(u,a.transformResults||[])}(n,e))):[]}function EV(t,e){return{documents:[oR(t,e.path)]}}function xV(t,e){const n={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=oR(t,a);const l=function(m){if(m.length!==0)return cR(Ii.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(g=>function(w){return{field:Zo(w.field),direction:RV(w.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Cy(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:a}}function SV(t){let e=_V(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let a=null;if(i>0){st(i===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(v){const w=uR(v);return w instanceof Ii&&L1(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(w=>function(S){return new yc(Jo(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,Of(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(v){const w=!!v.before,x=v.values||[];return new of(x,w)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const w=!v.before,x=v.values||[];return new of(x,w)}(n.endAt)),H4(e,a,u,l,h,"F",d,m)}function AV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Jo(n.unaryFilter.field);return qt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Jo(n.unaryFilter.field);return qt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Jo(n.unaryFilter.field);return qt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Jo(n.unaryFilter.field);return qt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return qt.create(Jo(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ii.create(n.compositeFilter.filters.map(i=>uR(i)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function RV(t){return mV[t]}function CV(t){return pV[t]}function IV(t){return gV[t]}function Zo(t){return{fieldPath:t.canonicalString()}}function Jo(t){return dn.fromServerFormat(t.fieldPath)}function cR(t){return t instanceof qt?function(n){if(n.op==="=="){if(TE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NAN"}};if(wE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NAN"}};if(wE(n.value))return{unaryFilter:{field:Zo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zo(n.field),op:CV(n.op),value:n.value}}}(t):t instanceof Ii?function(n){const i=n.getFilters().map(a=>cR(a));return i.length===1?i[0]:{compositeFilter:{op:IV(n.op),filters:i}}}(t):Ne(54877,{filter:t})}function NV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e,n,i,a,l=Oe.min(),u=Oe.min(),h=fn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Os(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.wt=e}}function PV(t){const e=SV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ry(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DV{constructor(){this.Cn=new OV}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Bs.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Bs.min())}updateCollectionGroup(e,n,i){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class OV{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n]||new Qt(yt.comparator),l=!a.has(i);return this.index[n]=a.add(i),l}has(e){const n=e.lastSegment(),i=e.popLast(),a=this.index[n];return a&&a.has(i)}getEntries(e){return(this.index[e]||new Qt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dR=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(dR,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new fl(0)}static lr(){return new fl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jE="LruGarbageCollector",MV=1048576;function LE([t,e],[n,i]){const a=Fe(t,n);return a===0?Fe(e,i):a}class VV{constructor(e){this.Er=e,this.buffer=new Qt(LE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();LE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jV{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(jE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Sl(n)?ve(jE,"Ignoring IndexedDB error during garbage collection: ",n):await xl(n)}await this.mr(3e5)})}}class LV{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Df.le);const i=new VV(n);return this.gr.forEachTarget(e,a=>i.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>i.Rr(a))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.gr.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(VE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),VE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let i,a,l,u,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(i=v,h=Date.now(),this.removeTargets(e,i,n))).next(v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,i))).next(v=>(m=Date.now(),Qo()<=Ke.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function UV(t,e){return new LV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(){this.changes=new no(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?de.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,i,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(i=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(i!==null&&nc(i.mutation,a,Qn.empty(),Wt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,Ye()).next(()=>i))}getLocalViewOfDocuments(e,n,i=Ye()){const a=Ua();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,i).next(l=>{let u=Ku();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const i=Ua();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,Ye()))}populateOverlays(e,n,i){const a=[];return i.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,i,a){let l=Yr();const u=tc(),h=function(){return tc()}();return n.forEach((d,m)=>{const g=i.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Xs)?l=l.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),nc(g.mutation,m,g.mutation.getFieldMask(),Wt.now())):u.set(m.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var v;return h.set(m,new FV(g,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const i=tc();let a=new xt((u,h)=>u-h),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let g=i.get(d)||Qn.empty();g=h.applyToLocalView(m,g),i.set(d,g);const v=(a.get(h.batchId)||Ye()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=K1();g.forEach(w=>{if(!l.has(w)){const x=J1(n.get(w),i.get(w));x!==null&&v.set(w,x),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return de.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,a){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):z1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,a):this.getDocumentsMatchingCollectionQuery(e,n,i,a)}getNextDocuments(e,n,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,a-l.size):de.resolve(Ua());let h=fc,d=l;return u.next(m=>de.forEach(m,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,d,m,Ye())).next(g=>({batchId:h,changes:$1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(i=>{let a=Ku();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,i,a){const l=n.collectionGroup;let u=Ku();return this.indexManager.getCollectionParents(e,l).next(h=>de.forEach(h,d=>{const m=function(v,w){return new Al(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,i,a).next(g=>{g.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,l,a))).next(u=>{l.forEach((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,_n.newInvalidDocument(g)))});let h=Ku();return u.forEach((d,m)=>{const g=l.get(d);g!==void 0&&nc(g.mutation,m,Qn.empty(),Wt.now()),Lf(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:tr(a.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:PV(a.bundledQuery),readTime:tr(a.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.overlays=new xt(Ae.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const i=Ua();return de.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&i.set(a,l)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((a,l)=>{this.St(e,n,l)}),de.resolve()}removeOverlaysForBatchId(e,n,i){const a=this.Qr.get(i);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(i)),de.resolve()}getOverlaysForCollection(e,n,i){const a=Ua(),l=n.length+1,u=new Ae(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>i&&a.set(d.getKey(),d)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,i,a){let l=new xt((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>i){let g=l.get(m.largestBatchId);g===null&&(g=Ua(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Ua(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=a)););return de.resolve(h)}St(e,n,i){const a=this.overlays.get(i.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(i.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new uV(n,i));let l=this.Qr.get(n);l===void 0&&(l=Ye(),this.Qr.set(n,l)),this.Qr.set(n,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(){this.sessionToken=fn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(){this.$r=new Qt(rn.Ur),this.Kr=new Qt(rn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const i=new rn(e,n);this.$r=this.$r.add(i),this.Kr=this.Kr.add(i)}Gr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.zr(new rn(e,n))}jr(e,n){e.forEach(i=>this.removeReference(i,n))}Hr(e){const n=new Ae(new yt([])),i=new rn(n,e),a=new rn(n,e+1),l=[];return this.Kr.forEachInRange([i,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ae(new yt([])),i=new rn(n,e),a=new rn(n,e+1);let l=Ye();return this.Kr.forEachInRange([i,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new rn(e,0),i=this.$r.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class rn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ae.comparator(e.key,n.key)||Fe(e.Zr,n.Zr)}static Wr(e,n){return Fe(e.Zr,n.Zr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Qt(rn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new lV(l,n,i,a);this.mutationQueue.push(u);for(const h of a)this.Xr=this.Xr.add(new rn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,a=this.ti(i),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?jv:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new rn(n,0),a=new rn(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([i,a],u=>{const h=this.ei(u.Zr);l.push(h)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new Qt(Fe);return n.forEach(a=>{const l=new rn(a,0),u=new rn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],h=>{i=i.add(h.Zr)})}),de.resolve(this.ni(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,a=i.length+1;let l=i;Ae.isDocumentKey(l)||(l=l.child(""));const u=new rn(new Ae(l),0);let h=new Qt(Fe);return this.Xr.forEachWhile(d=>{const m=d.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Zr)),!0)},u),de.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(i=>{const a=this.ei(i);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){st(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Xr;return de.forEach(n.mutations,a=>{const l=new rn(a.key,n.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=i})}sr(e){}containsKey(e,n){const i=new rn(n,0),a=this.Xr.firstAfterOrEqual(i);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.ii=e,this.docs=function(){return new xt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,a=this.docs.get(i),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return de.resolve(i?i.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let i=Yr();return n.forEach(a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))}),de.resolve(i)}getDocumentsMatchingQuery(e,n,i,a){let l=Yr();const u=n.path,h=new Ae(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||T4(w4(g),i)<=0||(a.has(g.key)||Lf(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,i,a){Ne(9500)}si(e,n){return de.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new YV(this)}getSize(e){return de.resolve(this.size)}}class YV extends BV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((i,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(i)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.persistence=e,this.oi=new no(n=>Bv(n),Fv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new $v,this.targetCount=0,this.ui=fl.cr()}forEachTarget(e,n){return this.oi.forEach((i,a)=>n(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new fl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,i){let a=0;const l=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&i.get(h.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const i=this.oi.get(n)||null;return de.resolve(i)}addMatchingKeys(e,n,i){return this.ai.Gr(n,i),de.resolve()}removeMatchingKeys(e,n,i){this.ai.jr(n,i);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const i=this.ai.Yr(n);return de.resolve(i)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n){this.ci={},this.overlays={},this.li=new Df(0),this.hi=!1,this.hi=!0,this.Pi=new GV,this.referenceDelegate=e(this),this.Ti=new WV(this),this.indexManager=new DV,this.remoteDocumentCache=function(a){return new KV(a)}(i=>this.referenceDelegate.Ii(i)),this.serializer=new kV(n),this.Ei=new qV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new HV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.ci[e.toKey()];return i||(i=new $V(n,this.referenceDelegate),this.ci[e.toKey()]=i),i}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,i){ve("MemoryPersistence","Starting transaction:",e);const a=new QV(this.li.next());return this.referenceDelegate.di(),i(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return de.or(Object.values(this.ci).map(i=>()=>i.containsKey(e,n)))}}class QV extends x4{constructor(e){super(),this.currentSequenceNumber=e}}class Kv{constructor(e){this.persistence=e,this.Vi=new $v,this.mi=null}static fi(e){return new Kv(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,n,i){return this.Vi.addReference(i,n),this.gi.delete(i.toString()),de.resolve()}removeReference(e,n,i){return this.Vi.removeReference(i,n),this.gi.add(i.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>i.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,i=>{const a=Ae.fromPath(i);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(i=>{i?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class cf{constructor(e,n){this.persistence=e,this.yi=new no(i=>R4(i.path),(i,a)=>i.isEqual(a)),this.garbageCollector=UV(this,n)}static fi(e,n){return new cf(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(a=>i+a))}br(e){let n=0;return this.yr(e,i=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(i,a)=>this.Dr(e,i,a).next(l=>l?de.resolve():n(a)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(h=>{h||(i++,l.removeEntry(u,Oe.min()))})).next(()=>l.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}removeReference(e,n,i){return this.yi.set(i,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Md(e.data.value)),n}Dr(e,n,i){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return de.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(e,n,i,a){this.targetId=e,this.fromCache=n,this.ds=i,this.As=a}static Rs(e,n){let i=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Yv(e,n.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return DP()?8:S4(En())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,i,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,n,a,i).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new XV;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>l.result)}Ds(e,n,i,a){return i.documentReadCount<this.gs?(Qo()<=Ke.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Qo()<=Ke.DEBUG&&ve("QueryEngine","Query:",Xo(n),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ps*a?(Qo()<=Ke.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,er(n))):de.resolve())}ws(e,n){if(AE(n))return de.resolve(null);let i=er(n);return this.indexManager.getIndexType(e,i).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Ry(n,null,"F"),i=er(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(l=>{const u=Ye(...l);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,i).next(d=>{const m=this.vs(n,h);return this.Cs(n,m,u,d.readTime)?this.ws(e,Ry(n,null,"F")):this.Fs(e,m,n,d)}))})))}bs(e,n,i,a){return AE(n)||a.isEqual(Oe.min())?de.resolve(null):this.ys.getDocuments(e,i).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,i,a)?de.resolve(null):(Qo()<=Ke.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Xo(n)),this.Fs(e,u,n,b4(a,fc)).next(h=>h))})}vs(e,n){let i=new Qt(H1(e));return n.forEach((a,l)=>{Lf(e,l)&&(i=i.add(l))}),i}Cs(e,n,i,a){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,i){return Qo()<=Ke.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.ys.getDocumentsMatchingQuery(e,n,Bs.min(),i)}Fs(e,n,i,a){return this.ys.getDocumentsMatchingQuery(e,i,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="LocalStore",JV=3e8;class ej{constructor(e,n,i,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new xt(Fe),this.Os=new no(l=>Bv(l),Fv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(i)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zV(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function tj(t,e,n,i){return new ej(t,e,n,i)}async function mR(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let a;return n.mutationQueue.getAllMutationBatches(i).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(i))).next(l=>{const u=[],h=[];let d=Ye();for(const m of a){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(i,d).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:h}))})})}function nj(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,g){const v=m.batch,w=v.keys();let x=de.resolve();return w.forEach(S=>{x=x.next(()=>g.getEntry(d,S)).next(k=>{const R=m.docVersions.get(S);st(R!==null,48541),k.version.compareTo(R)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),g.addEntry(k)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(n,i,e,l).next(()=>l.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(h){let d=Ye();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(i,a))})}function pR(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function ij(t,e){const n=Me(t),i=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const h=[];e.targetChanges.forEach((g,v)=>{const w=a.get(v);if(!w)return;h.push(n.Ti.removeMatchingKeys(l,g.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(l,g.addedDocuments,v)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(fn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,i)),a=a.insert(v,x),function(k,R,N){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=JV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,x,g)&&h.push(n.Ti.updateTargetData(l,x))});let d=Yr(),m=Ye();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),h.push(rj(l,u,e.documentUpdates).next(g=>{d=g.qs,m=g.Qs})),!i.isEqual(Oe.min())){const g=n.Ti.getLastRemoteSnapshotVersion(l).next(v=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,i));h.push(g)}return de.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,m)).next(()=>d)}).then(l=>(n.xs=a,l))}function rj(t,e,n){let i=Ye(),a=Ye();return n.forEach(l=>i=i.add(l)),e.getEntries(t,i).next(l=>{let u=Yr();return n.forEach((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Oe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ve(Wv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function sj(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=jv),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aj(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let a;return n.Ti.getTargetData(i,e).next(l=>l?(a=l,de.resolve(a)):n.Ti.allocateTargetId(i).next(u=>(a=new Os(e,u,"TargetPurposeListen",i.currentSequenceNumber),n.Ti.addTargetData(i,a).next(()=>a))))}).then(i=>{const a=n.xs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(i.targetId,i),n.Os.set(e,i.targetId)),i})}async function Py(t,e,n){const i=Me(t),a=i.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",l,u=>i.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Sl(u))throw u;ve(Wv,`Failed to update sequence numbers for target ${e}: ${u}`)}i.xs=i.xs.remove(e),i.Os.delete(a.target)}function UE(t,e,n){const i=Me(t);let a=Oe.min(),l=Ye();return i.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,g){const v=Me(d),w=v.Os.get(g);return w!==void 0?de.resolve(v.xs.get(w)):v.Ti.getTargetData(m,g)}(i,u,er(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Ti.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>i.Ms.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:Ye())).next(h=>(oj(i,$4(e),h),{documents:h,$s:l})))}function oj(t,e,n){let i=t.Ns.get(e)||Oe.min();n.forEach((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)}),t.Ns.set(e,i)}class BE{constructor(){this.activeTargetIds=Z4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lj{constructor(){this.xo=new BE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,i){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new BE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="ConnectivityMonitor";class zE{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(FE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(FE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Td=null;function Dy(){return Td===null?Td=function(){return 268435456+Math.round(2147483648*Math.random())}():Td++,"0x"+Td.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="RestConnection",cj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${i}/databases/${a}`,this.Go=this.databaseId.database===sf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}zo(e,n,i,a,l){const u=Dy(),h=this.jo(e,n.toUriEncodedString());ve(Cg,`Sending RPC '${e}' ${u}:`,h,i);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,l);const{host:m}=new URL(h),g=eo(m);return this.Jo(e,h,d,i,g).then(v=>(ve(Cg,`Received RPC '${e}' ${u}: `,v),v),v=>{throw ul(Cg,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",i),v})}Yo(e,n,i,a,l,u){return this.zo(e,n,i,a,l)}Ho(e,n,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+El}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),i&&i.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const i=cj[e];return`${this.Ko}/v1/${n}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class fj extends hj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,i,a,l){const u=Dy();return new Promise((h,d)=>{const m=new y1;m.setWithCredentials(!0),m.listenOnce(v1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Od.NO_ERROR:const v=m.getResponseJson();ve(yn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Od.TIMEOUT:ve(yn,`RPC '${e}' ${u} timed out`),d(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case Od.HTTP_ERROR:const w=m.getStatus();if(ve(yn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const k=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(B)>=0?B:he.UNKNOWN}(S.status);d(new _e(k,S.message))}else d(new _e(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{ve(yn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(a);ve(yn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",g,i,15)})}I_(e,n,i){const a=Dy(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=w1(),h=b1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,i),d.encodeInitMessageHeaders=!0;const g=l.join("");ve(yn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=u.createWebChannel(g,d);this.E_(v);let w=!1,x=!1;const S=new dj({Zo:R=>{x?ve(yn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(w||(ve(yn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),ve(yn,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Xo:()=>v.close()}),k=(R,N,B)=>{R.listen(N,O=>{try{B(O)}catch(G){setTimeout(()=>{throw G},0)}})};return k(v,$u.EventType.OPEN,()=>{x||(ve(yn,`RPC '${e}' stream ${a} transport opened.`),S.__())}),k(v,$u.EventType.CLOSE,()=>{x||(x=!0,ve(yn,`RPC '${e}' stream ${a} transport closed`),S.u_(),this.d_(v))}),k(v,$u.EventType.ERROR,R=>{x||(x=!0,ul(yn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),S.u_(new _e(he.UNAVAILABLE,"The operation could not be completed")))}),k(v,$u.EventType.MESSAGE,R=>{var N;if(!x){const B=R.data[0];st(!!B,16349);const O=B,G=(O==null?void 0:O.error)||((N=O[0])===null||N===void 0?void 0:N.error);if(G){ve(yn,`RPC '${e}' stream ${a} received error:`,G);const H=G.status;let M=function(I){const j=Ft[I];if(j!==void 0)return nR(j)}(H),D=G.message;M===void 0&&(M=he.INTERNAL,D="Unknown error status: "+H+" with message "+G.message),x=!0,S.u_(new _e(M,D)),v.close()}else ve(yn,`RPC '${e}' stream ${a} received:`,B),S.c_(B)}}),k(h,_1.STAT_EVENT,R=>{R.stat===by.PROXY?ve(yn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===by.NOPROXY&&ve(yn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(t){return new yV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,i=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=i,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),i=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-i);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="PersistentStream";class yR{constructor(e,n,i,a,l,u,h,d){this.xi=e,this.S_=i,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gR(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Kr(n.toString()),Kr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,a])=>{this.v_===n&&this.z_(i,a)},i=>{e(()=>{const a=new _e(he.UNKNOWN,"Fetching auth token failed: "+i.message);return this.j_(a)})})}z_(e,n){const i=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{i(()=>this.listener.e_())}),this.stream.n_(()=>{i(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{i(()=>this.j_(a))}),this.stream.onMessage(a=>{i(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(qE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ve(qE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mj extends yR{constructor(e,n,i,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=bV(this.serializer,e),i=function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?tr(u.readTime):Oe.min()}(e);return this.listener.Y_(n,i)}Z_(e){const n={};n.database=ky(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=Sy(d)?{documents:EV(l,d)}:{query:xV(l,d).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=sR(l,u.resumeToken);const m=Cy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=uf(l,u.snapshotVersion.toTimestamp());const m=Cy(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const i=AV(this.serializer,e);i&&(n.labels=i),this.Q_(n)}X_(e){const n={};n.database=ky(this.serializer),n.removeTarget=e,this.Q_(n)}}class pj extends yR{constructor(e,n,i,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=TV(e.writeResults,e.commitTime),i=tr(e.commitTime);return this.listener.ra(i,n)}ia(){const e={};e.database=ky(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>wV(this.serializer,i))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{}class yj extends gj{constructor(e,n,i,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,i,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,Iy(n,i),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(he.UNKNOWN,l.toString())})}Yo(e,n,i,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Iy(n,i),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class vj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Kr(n),this.ua=!1):ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xa="RemoteStore";class _j{constructor(e,n,i,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{i.enqueueAndForget(async()=>{io(this)&&(ve(Xa,"Restarting streams for network reachability change."),await async function(d){const m=Me(d);m.da.add(4),await Uc(m),m.Va.set("Unknown"),m.da.delete(4),await qf(m)}(this))})}),this.Va=new vj(i,a)}}async function qf(t){if(io(t))for(const e of t.Aa)await e(!0)}async function Uc(t){for(const e of t.Aa)await e(!1)}function vR(t,e){const n=Me(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Jv(n)?Zv(n):Rl(n).N_()&&Xv(n,e))}function Qv(t,e){const n=Me(t),i=Rl(n);n.Ea.delete(e),i.N_()&&_R(n,e),n.Ea.size===0&&(i.N_()?i.k_():io(n)&&n.Va.set("Unknown"))}function Xv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rl(t).Z_(e)}function _R(t,e){t.ma.Ke(e),Rl(t).X_(e)}function Zv(t){t.ma=new fV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Rl(t).start(),t.Va.ca()}function Jv(t){return io(t)&&!Rl(t).O_()&&t.Ea.size>0}function io(t){return Me(t).da.size===0}function bR(t){t.ma=void 0}async function bj(t){t.Va.set("Online")}async function wj(t){t.Ea.forEach((e,n)=>{Xv(t,e)})}async function Tj(t,e){bR(t),Jv(t)?(t.Va.Pa(e),Zv(t)):t.Va.set("Unknown")}async function Ej(t,e,n){if(t.Va.set("Online"),e instanceof rR&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ea.delete(h),a.ma.removeTarget(h))}(t,e)}catch(i){ve(Xa,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await hf(t,i)}else if(e instanceof Ld?t.ma.Xe(e):e instanceof iR?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Oe.min()))try{const i=await pR(t.localStore);n.compareTo(i)>=0&&await function(l,u){const h=l.ma.It(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ea.get(m);g&&l.Ea.set(m,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const g=l.Ea.get(d);if(!g)return;l.Ea.set(d,g.withResumeToken(fn.EMPTY_BYTE_STRING,g.snapshotVersion)),_R(l,d);const v=new Os(g.target,d,m,g.sequenceNumber);Xv(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(i){ve(Xa,"Failed to raise snapshot:",i),await hf(t,i)}}async function hf(t,e,n){if(!Sl(e))throw e;t.da.add(1),await Uc(t),t.Va.set("Offline"),n||(n=()=>pR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Xa,"Retrying IndexedDB access"),await n(),t.da.delete(1),await qf(t)})}function wR(t,e){return e().catch(n=>hf(t,n,e))}async function Hf(t){const e=Me(t),n=Hs(e);let i=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:jv;for(;xj(e);)try{const a=await sj(e.localStore,i);if(a===null){e.Ia.length===0&&n.k_();break}i=a.batchId,Sj(e,a)}catch(a){await hf(e,a)}TR(e)&&ER(e)}function xj(t){return io(t)&&t.Ia.length<10}function Sj(t,e){t.Ia.push(e);const n=Hs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function TR(t){return io(t)&&!Hs(t).O_()&&t.Ia.length>0}function ER(t){Hs(t).start()}async function Aj(t){Hs(t).ia()}async function Rj(t){const e=Hs(t);for(const n of t.Ia)e.ta(n.mutations)}async function Cj(t,e,n){const i=t.Ia.shift(),a=qv.from(i,e,n);await wR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await Hf(t)}async function Ij(t,e){e&&Hs(t).ea&&await async function(i,a){if(function(u){return hV(u)&&u!==he.ABORTED}(a.code)){const l=i.Ia.shift();Hs(i).L_(),await wR(i,()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a)),await Hf(i)}}(t,e),TR(t)&&ER(t)}async function HE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ve(Xa,"RemoteStore received new credentials");const i=io(n);n.da.add(3),await Uc(n),i&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await qf(n)}async function Nj(t,e){const n=Me(t);e?(n.da.delete(2),await qf(n)):e||(n.da.add(2),await Uc(n),n.Va.set("Unknown"))}function Rl(t){return t.fa||(t.fa=function(n,i,a){const l=Me(n);return l.oa(),new mj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:bj.bind(null,t),n_:wj.bind(null,t),i_:Tj.bind(null,t),Y_:Ej.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Jv(t)?Zv(t):t.Va.set("Unknown")):(await t.fa.stop(),bR(t))})),t.fa}function Hs(t){return t.ga||(t.ga=function(n,i,a){const l=Me(n);return l.oa(),new pj(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Aj.bind(null,t),i_:Ij.bind(null,t),na:Rj.bind(null,t),ra:Cj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Hf(t)):(await t.ga.stop(),t.Ia.length>0&&(ve(Xa,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_{constructor(e,n,i,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,a,l){const u=Date.now()+i,h=new e_(e,n,u,a,l);return h.start(i),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function t_(t,e){if(Kr("AsyncQueue",`${e}: ${t}`),Sl(t))return new _e(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{static emptySet(e){return new ll(e.comparator)}constructor(e){this.comparator=e?(n,i)=>e(n,i)||Ae.comparator(n.key,i.key):(n,i)=>Ae.comparator(n.key,i.key),this.keyedMap=Ku(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ll)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new ll;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.pa=new xt(Ae.comparator)}track(e){const n=e.doc.key,i=this.pa.get(n);i?e.type!==0&&i.type===3?this.pa=this.pa.insert(n,e):e.type===3&&i.type!==1?this.pa=this.pa.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.pa=this.pa.remove(n):e.type===1&&i.type===2?this.pa=this.pa.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:i}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,i)=>{e.push(i)}),e}}class ml{constructor(e,n,i,a,l,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,i,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new ml(e,n,ll.emptySet(n),u,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==i[a].type||!n[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Pj{constructor(){this.queries=$E(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,i){const a=Me(n),l=a.queries;a.queries=$E(),l.forEach((u,h)=>{for(const d of h.Sa)d.onError(i)})})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function $E(){return new no(t=>q1(t),jf)}async function n_(t,e){const n=Me(t);let i=3;const a=e.query;let l=n.queries.get(a);l?!l.Da()&&e.va()&&(i=2):(l=new kj,i=e.va()?0:1);try{switch(i){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=t_(u,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&r_(n)}async function i_(t,e){const n=Me(t),i=e.query;let a=3;const l=n.queries.get(i);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function Dj(t,e){const n=Me(t);let i=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Ma(a)&&(i=!0);u.ba=a}}i&&r_(n)}function Oj(t,e,n){const i=Me(t),a=i.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);i.queries.delete(e)}function r_(t){t.Ca.forEach(e=>{e.next()})}var Oy,KE;(KE=Oy||(Oy={})).xa="default",KE.Cache="cache";class s_{constructor(e,n,i){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=i||{}}Ma(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new ml(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const i=n!=="Offline";return(!this.options.Qa||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Oy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e){this.key=e}}class SR{constructor(e){this.key=e}}class Mj{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=H1(e),this.Xa=new ll(this.Za)}get eu(){return this.Ha}tu(e,n){const i=n?n.nu:new GE,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const w=a.get(g),x=Lf(this.query,v)?v:null,S=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;w&&x?w.data.isEqual(x.data)?S!==k&&(i.track({type:3,doc:x}),R=!0):this.ru(w,x)||(i.track({type:2,doc:x}),R=!0,(d&&this.Za(x,d)>0||m&&this.Za(x,m)<0)&&(h=!0)):!w&&x?(i.track({type:0,doc:x}),R=!0):w&&!x&&(i.track({type:1,doc:w}),R=!0,(d||m)&&(h=!0)),R&&(x?(u=u.add(x),l=k?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),i.track({type:1,doc:g})}return{Xa:u,nu:i,Cs:h,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((g,v)=>function(x,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:R})}};return k(x)-k(S)}(g.type,v.type)||this.Za(g.doc,v.doc)),this.iu(i),a=a!=null&&a;const h=n&&!a?this.su():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Ja;return this.Ja=d,u.length!==0||m?{snapshot:new ml(this.query,e.Xa,l,u,e.mutatedKeys,d===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new GE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(i=>{this._u(i.key)&&(this.Ya=this.Ya.add(i.key))});const n=[];return e.forEach(i=>{this.Ya.has(i)||n.push(new SR(i))}),this.Ya.forEach(i=>{e.has(i)||n.push(new xR(i))}),n}au(e){this.Ha=e.$s,this.Ya=Ye();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return ml.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const a_="SyncEngine";class Vj{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class jj{constructor(e){this.key=e,this.cu=!1}}class Lj{constructor(e,n,i,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new no(h=>q1(h),jf),this.Pu=new Map,this.Tu=new Set,this.Iu=new xt(Ae.comparator),this.Eu=new Map,this.du=new $v,this.Au={},this.Ru=new Map,this.Vu=fl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function Uj(t,e,n=!0){const i=kR(t);let a;const l=i.hu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await AR(i,e,n,!0),a}async function Bj(t,e){const n=kR(t);await AR(n,e,!0,!1)}async function AR(t,e,n,i){const a=await aj(t.localStore,er(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return i&&(h=await Fj(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&vR(t.remoteStore,a),h}async function Fj(t,e,n,i,a){t.fu=(v,w,x)=>async function(k,R,N,B){let O=R.view.tu(N);O.Cs&&(O=await UE(k.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,O)));const G=B&&B.targetChanges.get(R.targetId),H=B&&B.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(O,k.isPrimaryClient,G,H);return WE(k,R.targetId,M.ou),M.snapshot}(t,v,w,x);const l=await UE(t.localStore,e,!0),u=new Mj(e,l.$s),h=u.tu(l.documents),d=Lc.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);WE(t,n,m.ou);const g=new Vj(e,n,u);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function zj(t,e,n){const i=Me(t),a=i.hu.get(e),l=i.Pu.get(a.targetId);if(l.length>1)return i.Pu.set(a.targetId,l.filter(u=>!jf(u,e))),void i.hu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Py(i.localStore,a.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(a.targetId),n&&Qv(i.remoteStore,a.targetId),My(i,a.targetId)}).catch(xl)):(My(i,a.targetId),await Py(i.localStore,a.targetId,!0))}async function qj(t,e){const n=Me(t),i=n.hu.get(e),a=n.Pu.get(i.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Qv(n.remoteStore,i.targetId))}async function Hj(t,e,n){const i=Xj(t);try{const a=await function(u,h){const d=Me(u),m=Wt.now(),g=h.reduce((x,S)=>x.add(S.key),Ye());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Yr(),k=Ye();return d.Bs.getEntries(x,g).next(R=>{S=R,S.forEach((N,B)=>{B.isValidDocument()||(k=k.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,S)).next(R=>{v=R;const N=[];for(const B of h){const O=aV(B,v.get(B.key).overlayedDocument);O!=null&&N.push(new Xs(B.key,O,M1(O.value.mapValue),Ri.exists(!0)))}return d.mutationQueue.addMutationBatch(x,m,N,h)}).next(R=>{w=R;const N=R.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(x,R.batchId,N)})}).then(()=>({batchId:w.batchId,changes:$1(v)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Au[u.currentUser.toKey()];m||(m=new xt(Fe)),m=m.insert(h,d),u.Au[u.currentUser.toKey()]=m}(i,a.batchId,n),await Bc(i,a.changes),await Hf(i.remoteStore)}catch(a){const l=t_(a,"Failed to persist write");n.reject(l)}}async function RR(t,e){const n=Me(t);try{const i=await ij(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Eu.get(l);u&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?st(u.cu,14607):a.removedDocuments.size>0&&(st(u.cu,42227),u.cu=!1))}),await Bc(n,i,e)}catch(i){await xl(i)}}function YE(t,e,n){const i=Me(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const a=[];i.hu.forEach((l,u)=>{const h=u.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Me(u);d.onlineState=h;let m=!1;d.queries.forEach((g,v)=>{for(const w of v.Sa)w.Fa(h)&&(m=!0)}),m&&r_(d)}(i.eventManager,e),a.length&&i.lu.Y_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function Gj(t,e,n){const i=Me(t);i.sharedClientState.updateQueryState(e,"rejected",n);const a=i.Eu.get(e),l=a&&a.key;if(l){let u=new xt(Ae.comparator);u=u.insert(l,_n.newNoDocument(l,Oe.min()));const h=Ye().add(l),d=new Ff(Oe.min(),new Map,new xt(Fe),u,h);await RR(i,d),i.Iu=i.Iu.remove(l),i.Eu.delete(e),o_(i)}else await Py(i.localStore,e,!1).then(()=>My(i,e,n)).catch(xl)}async function $j(t,e){const n=Me(t),i=e.batch.batchId;try{const a=await nj(n.localStore,e);IR(n,i,null),CR(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Bc(n,a)}catch(a){await xl(a)}}async function Kj(t,e,n){const i=Me(t);try{const a=await function(u,h){const d=Me(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(st(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>d.localDocuments.getDocuments(m,g))})}(i.localStore,e);IR(i,e,n),CR(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Bc(i,a)}catch(a){await xl(a)}}function CR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function IR(t,e,n){const i=Me(t);let a=i.Au[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),i.Au[i.currentUser.toKey()]=a}}function My(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Pu.get(e))t.hu.delete(i),n&&t.lu.gu(i,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(i=>{t.du.containsKey(i)||NR(t,i)})}function NR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Qv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),o_(t))}function WE(t,e,n){for(const i of n)i instanceof xR?(t.du.addReference(i.key,e),Yj(t,i)):i instanceof SR?(ve(a_,"Document no longer in limbo: "+i.key),t.du.removeReference(i.key,e),t.du.containsKey(i.key)||NR(t,i.key)):Ne(19791,{pu:i})}function Yj(t,e){const n=e.key,i=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(i)||(ve(a_,"New document in limbo: "+n),t.Tu.add(i),o_(t))}function o_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ae(yt.fromString(e)),i=t.Vu.next();t.Eu.set(i,new jj(n)),t.Iu=t.Iu.insert(n,i),vR(t.remoteStore,new Os(er(Vf(n.path)),i,"TargetPurposeLimboResolution",Df.le))}}async function Bc(t,e,n){const i=Me(t),a=[],l=[],u=[];i.hu.isEmpty()||(i.hu.forEach((h,d)=>{u.push(i.fu(d,e,n).then(m=>{var g;if((m||n)&&i.isPrimaryClient){const v=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;i.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){a.push(m);const v=Yv.Rs(d.targetId,m);l.push(v)}}))}),await Promise.all(u),i.lu.Y_(a),await async function(d,m){const g=Me(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(m,w=>de.forEach(w.ds,x=>g.persistence.referenceDelegate.addReference(v,w.targetId,x)).next(()=>de.forEach(w.As,x=>g.persistence.referenceDelegate.removeReference(v,w.targetId,x)))))}catch(v){if(!Sl(v))throw v;ve(Wv,"Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const x=g.xs.get(w),S=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(S);g.xs=g.xs.insert(w,k)}}}(i.localStore,l))}async function Wj(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ve(a_,"User change. New user:",e.toKey());const i=await mR(n.localStore,e);n.currentUser=e,function(l,u){l.Ru.forEach(h=>{h.forEach(d=>{d.reject(new _e(he.CANCELLED,u))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Bc(n,i.ks)}}function Qj(t,e){const n=Me(t),i=n.Eu.get(e);if(i&&i.cu)return Ye().add(i.key);{let a=Ye();const l=n.Pu.get(e);if(!l)return a;for(const u of l){const h=n.hu.get(u);a=a.unionWith(h.view.eu)}return a}}function kR(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=RR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Gj.bind(null,e),e.lu.Y_=Dj.bind(null,e.eventManager),e.lu.gu=Oj.bind(null,e.eventManager),e}function Xj(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Kj.bind(null,e),e}class df{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return tj(this.persistence,new ZV,e.initialUser,this.serializer)}Su(e){return new fR(Kv.fi,this.serializer)}bu(e){return new lj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}df.provider={build:()=>new df};class Zj extends df{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){st(this.persistence.referenceDelegate instanceof cf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new jV(i,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new fR(i=>cf.fi(i,n),this.serializer)}}class Vy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>YE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Wj.bind(null,this.syncEngine),await Nj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Pj}()}createDatastore(e){const n=zf(e.databaseInfo.databaseId),i=function(l){return new fj(l)}(e.databaseInfo);return function(l,u,h,d){return new yj(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,a,l,u,h){return new _j(i,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>YE(this.syncEngine,n,0),function(){return zE.C()?new zE:new uj}())}createSyncEngine(e,n){return function(a,l,u,h,d,m,g){const v=new Lj(a,l,u,h,d,m);return g&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Me(a);ve(Xa,"RemoteStore shutting down."),l.da.add(5),await Uc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Vy.provider={build:()=>new Vy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Kr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="FirestoreClient";class Jj{constructor(e,n,i,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=S1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,async u=>{ve(Gs,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(i,u=>(ve(Gs,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=t_(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Ng(t,e){t.asyncQueue.verifyOperationInProgress(),ve(Gs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async a=>{i.isEqual(a)||(await mR(e.localStore,a),i=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function QE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await eL(t);ve(Gs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>HE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>HE(e.remoteStore,a)),t._onlineComponents=e}async function eL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve(Gs,"Using user provided OfflineComponentProvider");try{await Ng(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await Ng(t,new df)}}else ve(Gs,"Using default OfflineComponentProvider"),await Ng(t,new Zj(void 0));return t._offlineComponents}async function PR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve(Gs,"Using user provided OnlineComponentProvider"),await QE(t,t._uninitializedComponentsProvider._online)):(ve(Gs,"Using default OnlineComponentProvider"),await QE(t,new Vy))),t._onlineComponents}function tL(t){return PR(t).then(e=>e.syncEngine)}async function ff(t){const e=await PR(t),n=e.eventManager;return n.onListen=Uj.bind(null,e.syncEngine),n.onUnlisten=zj.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=qj.bind(null,e.syncEngine),n}function nL(t,e,n={}){const i=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,m){const g=new l_({next:w=>{g.xu(),u.enqueueAndForget(()=>i_(l,v));const x=w.docs.has(h);!x&&w.fromCache?m.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&d&&d.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new s_(Vf(h.path),g,{includeMetadataChanges:!0,Qa:!0});return n_(l,v)}(await ff(t),t.asyncQueue,e,n,i)),i.promise}function iL(t,e,n={}){const i=new qr;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,m){const g=new l_({next:w=>{g.xu(),u.enqueueAndForget(()=>i_(l,v)),w.fromCache&&d.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new s_(h,g,{includeMetadataChanges:!0,Qa:!0});return n_(l,v)}(await ff(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e,n){if(!n)throw new _e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rL(t,e,n,i){if(e===!0&&i===!0)throw new _e(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ZE(t){if(!Ae.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function JE(t){if(Ae.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gf(t);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR="firestore.googleapis.com",ex=!0;class tx{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=MR,this.ssl=ex}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ex;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<MV)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DR((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,a){return i.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $f{constructor(e,n,i,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new tx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new tx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new h4;switch(i.type){case"firstParty":return new p4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=XE.get(n);i&&(ve("ComponentProvider","Removing Datastore"),XE.delete(n),i.terminate())}(this),Promise.resolve()}}function sL(t,e,n,i={}){var a;t=Xn(t,$f);const l=eo(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l&&(bv(`https://${d}`),wv("Firestore",!0)),u.host!==MR&&u.host!==d&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:l,emulatorOptions:i});if(!$a(m,h)&&(t._setSettings(m),i.mockUserToken)){let g,v;if(typeof i.mockUserToken=="string")g=i.mockUserToken,v=vn.MOCK_USER;else{g=AA(i.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const w=i.mockUserToken.sub||i.mockUserToken.user_id;if(!w)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(w)}t._authCredentials=new d4(new E1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Tn{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Ls extends Zs{constructor(e,n,i){super(e,n,Vf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ae(e))}withConverter(e){return new Ls(this.firestore,e,this._path)}}function mf(t,e,...n){if(t=Nt(t),OR("collection","path",e),t instanceof $f){const i=yt.fromString(e,...n);return JE(i),new Ls(t,null,i)}{if(!(t instanceof Tn||t instanceof Ls))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yt.fromString(e,...n));return JE(i),new Ls(t.firestore,null,i)}}function ar(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=S1.newId()),OR("doc","path",e),t instanceof $f){const i=yt.fromString(e,...n);return ZE(i),new Tn(t,null,new Ae(i))}{if(!(t instanceof Tn||t instanceof Ls))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(yt.fromString(e,...n));return ZE(i),new Tn(t.firestore,t instanceof Ls?t.converter:null,new Ae(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="AsyncQueue";class ix{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gR(this,"async_queue_retry"),this.rc=()=>{const i=Ig();i&&ve(nx,"Visibility state changed to "+i.visibilityState),this.x_.b_()},this.sc=e;const n=Ig();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new qr;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Sl(e))throw e;ve(nx,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(i=>{throw this.Xu=i,this.ec=!1,Kr("INTERNAL UNHANDLED ERROR: ",rx(i)),i}).then(i=>(this.ec=!1,i))));return this.sc=n,n}enqueueAfterDelay(e,n,i){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=e_.createAndSchedule(this,e,n,i,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ne(47125,{cc:rx(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function rx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(t){return function(n,i){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class $s extends $f{constructor(e,n,i,a){super(e,n,i,a),this.type="firestore",this._queue=new ix,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ix(e),this._firestoreClient=void 0,await e}}}function aL(t,e){const n=typeof t=="object"?t:xv(),i=typeof t=="string"?t:sf,a=If(n,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=EA("firestore");l&&sL(a,...l)}return a}function Kf(t){if(t._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||oL(t),t._firestoreClient}function oL(t){var e,n,i;const a=t._freezeSettings(),l=function(h,d,m,g){return new N4(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,DR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=a.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new Jj(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new pl(fn.fromBase64String(e))}catch(n){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new pl(fn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lL=/^__.*__$/;class uL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new jc(e,this.data,n,this.fieldTransforms)}}class VR{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function jR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:t})}}class h_{constructor(e,n,i,a,l,u){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new h_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:i,Rc:!1});return a.Vc(e),a}mc(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:i,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return pf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(jR(this.Ic)&&lL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class cL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||zf(e)}bc(e,n,i,a=!1){return new h_({Ic:e,methodName:n,wc:i,path:dn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qf(t){const e=t._freezeSettings(),n=zf(t._databaseId);return new cL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function LR(t,e,n,i,a,l={}){const u=t.bc(l.merge||l.mergeFields?2:0,e,n,a);f_("Data must be an object, but it was:",u,i);const h=UR(i,u);let d,m;if(l.merge)d=new Qn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const w=jy(e,v,n);if(!u.contains(w))throw new _e(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);FR(g,w)||g.push(w)}d=new Qn(g),m=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=u.fieldTransforms;return new uL(new jn(h),d,m)}class Xf extends Wf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xf}}class d_ extends Wf{_toFieldTransform(e){return new nV(e.path,new vc)}isEqual(e){return e instanceof d_}}function hL(t,e,n,i){const a=t.bc(1,e,n);f_("Data must be an object, but it was:",a,i);const l=[],u=jn.empty();Qs(i,(d,m)=>{const g=m_(e,d,n);m=Nt(m);const v=a.mc(g);if(m instanceof Xf)l.push(g);else{const w=Fc(m,v);w!=null&&(l.push(g),u.set(g,w))}});const h=new Qn(l);return new VR(u,h,a.fieldTransforms)}function dL(t,e,n,i,a,l){const u=t.bc(1,e,n),h=[jy(e,i,n)],d=[a];if(l.length%2!=0)throw new _e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(jy(e,l[w])),d.push(l[w+1]);const m=[],g=jn.empty();for(let w=h.length-1;w>=0;--w)if(!FR(m,h[w])){const x=h[w];let S=d[w];S=Nt(S);const k=u.mc(x);if(S instanceof Xf)m.push(x);else{const R=Fc(S,k);R!=null&&(m.push(x),g.set(x,R))}}const v=new Qn(m);return new VR(g,v,u.fieldTransforms)}function fL(t,e,n,i=!1){return Fc(n,t.bc(i?4:3,e))}function Fc(t,e){if(BR(t=Nt(t)))return f_("Unsupported field value:",e,t),UR(t,e);if(t instanceof Wf)return function(i,a){if(!jR(a.Ic))throw a.gc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(i,a){const l=[];let u=0;for(const h of i){let d=Fc(h,a.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(i,a){if((i=Nt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return J4(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Wt.fromDate(i);return{timestampValue:uf(a.serializer,l)}}if(i instanceof Wt){const l=new Wt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:uf(a.serializer,l)}}if(i instanceof u_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof pl)return{bytesValue:sR(a.serializer,i._byteString)};if(i instanceof Tn){const l=a.databaseId,u=i.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Gv(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof c_)return function(u,h){return{mapValue:{fields:{[D1]:{stringValue:O1},[af]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return zv(h.serializer,m)})}}}}}}(i,a);throw a.gc(`Unsupported field value: ${Gf(i)}`)}(t,e)}function UR(t,e){const n={};return R1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qs(t,(i,a)=>{const l=Fc(a,e.Ac(i));l!=null&&(n[i]=l)}),{mapValue:{fields:n}}}function BR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof u_||t instanceof pl||t instanceof Tn||t instanceof Wf||t instanceof c_)}function f_(t,e,n){if(!BR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const i=Gf(n);throw i==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+i)}}function jy(t,e,n){if((e=Nt(e))instanceof Yf)return e._internalPath;if(typeof e=="string")return m_(t,e);throw pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const mL=new RegExp("[~\\*/\\[\\]]");function m_(t,e,n){if(e.search(mL)>=0)throw pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Yf(...e.split("."))._internalPath}catch{throw pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pf(t,e,n,i,a){const l=i&&!i.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${i}`),u&&(d+=` in document ${a}`),d+=")"),new _e(he.INVALID_ARGUMENT,h+t+d)}function FR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(e,n,i,a,l){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Zf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pL extends zR{data(){return super.data()}}function Zf(t,e){return typeof e=="string"?m_(t,e):e instanceof Yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p_{}class HR extends p_{}function gf(t,e,...n){let i=[];e instanceof p_&&i.push(e),i=i.concat(n),function(l){const u=l.filter(d=>d instanceof g_).length,h=l.filter(d=>d instanceof Jf).length;if(u>1||u>0&&h>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const a of i)t=a._apply(t);return t}class Jf extends HR{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new Jf(e,n,i)}_apply(e){const n=this._parse(e);return GR(e._query,n),new Zs(e.firestore,e.converter,Ay(e._query,n))}_parse(e){const n=Qf(e.firestore);return function(l,u,h,d,m,g,v){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){ox(v,g);const S=[];for(const k of v)S.push(ax(d,l,k));w={arrayValue:{values:S}}}else w=ax(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||ox(v,g),w=fL(h,u,v,g==="in"||g==="not-in");return qt.create(m,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function ic(t,e,n){const i=e,a=Zf("where",t);return Jf._create(a,i,n)}class g_ extends p_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new g_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ii.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)GR(u,d),u=Ay(u,d)}(e._query,n),new Zs(e.firestore,e.converter,Ay(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class y_ extends HR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new y_(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new _e(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new yc(l,u)}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Al(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function gL(t,e="asc"){const n=e,i=Zf("orderBy",t);return y_._create(i,n)}function ax(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!z1(e)&&n.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(yt.fromString(n));if(!Ae.isDocumentKey(i))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return bE(t,new Ae(i))}if(n instanceof Tn)return bE(t,n._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gf(n)}.`)}function ox(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GR(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yL{convertValue(e,n="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return Qs(e,(a,l)=>{i[a]=this.convertValue(l,n)}),i}convertVectorValue(e){var n,i,a;const l=(a=(i=(n=e.fields)===null||n===void 0?void 0:n[af].arrayValue)===null||i===void 0?void 0:i.values)===null||a===void 0?void 0:a.map(u=>Mt(u.doubleValue));return new c_(l)}convertGeoPoint(e){return new u_(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Mf(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(mc(e));default:return null}}convertTimestamp(e){const n=Fs(e);return new Wt(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=yt.fromString(e);st(hR(i),9688,{name:e});const a=new pc(i.get(1),i.get(3)),l=new Ae(i.popFirst(5));return a.isEqual(n)||Kr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class KR extends zR{constructor(e,n,i,a,l,u){super(e,n,i,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(Zf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class Ud extends KR{data(e={}){return super.data(e)}}class YR{constructor(e,n,i,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Wu(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new Ud(this._firestore,this._userDataWriter,i.key,i,new Wu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Wu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Ud(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Wu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:vL(h.type),doc:d,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(t){t=Xn(t,Tn);const e=Xn(t.firestore,$s);return nL(Kf(e),t._key).then(n=>QR(e,t,n))}class v_ extends yL{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function _L(t){t=Xn(t,Zs);const e=Xn(t.firestore,$s),n=Kf(e),i=new v_(e);return qR(t._query),iL(n,t._query).then(a=>new YR(e,i,t,a))}function WR(t,e,n){t=Xn(t,Tn);const i=Xn(t.firestore,$s),a=$R(t.converter,e,n);return __(i,[LR(Qf(i),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Ri.none())])}function bL(t,e,n,...i){t=Xn(t,Tn);const a=Xn(t.firestore,$s),l=Qf(a);let u;return u=typeof(e=Nt(e))=="string"||e instanceof Yf?dL(l,"updateDoc",t._key,e,n,i):hL(l,"updateDoc",t._key,e),__(a,[u.toMutation(t._key,Ri.exists(!0))])}function wL(t,e){const n=Xn(t.firestore,$s),i=ar(t),a=$R(t.converter,e);return __(n,[LR(Qf(t.firestore),"addDoc",i._key,a,t.converter!==null,{}).toMutation(i._key,Ri.exists(!1))]).then(()=>i)}function Ly(t,...e){var n,i,a;t=Nt(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||sx(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(sx(e[u])){const v=e[u];e[u]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[u+1]=(i=v.error)===null||i===void 0?void 0:i.bind(v),e[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let d,m,g;if(t instanceof Tn)m=Xn(t.firestore,$s),g=Vf(t._key.path),d={next:v=>{e[u]&&e[u](QR(m,t,v))},error:e[u+1],complete:e[u+2]};else{const v=Xn(t,Zs);m=Xn(v.firestore,$s),g=v._query;const w=new v_(m);d={next:x=>{e[u]&&e[u](new YR(m,w,v,x))},error:e[u+1],complete:e[u+2]},qR(t._query)}return function(w,x,S,k){const R=new l_(k),N=new s_(x,R,S);return w.asyncQueue.enqueueAndForget(async()=>n_(await ff(w),N)),()=>{R.xu(),w.asyncQueue.enqueueAndForget(async()=>i_(await ff(w),N))}}(Kf(m),g,h,d)}function __(t,e){return function(i,a){const l=new qr;return i.asyncQueue.enqueueAndForget(async()=>Hj(await tL(i),a,l)),l.promise}(Kf(t),e)}function QR(t,e,n){const i=n.docs.get(e._key),a=new v_(t);return new KR(t,a,e._key,i,new Wu(n.hasPendingWrites,n.fromCache),e.converter)}function XR(){return new d_("serverTimestamp")}(function(e,n=!0){(function(a){El=a})(to),Ka(new Us("firestore",(i,{instanceIdentifier:a,options:l})=>{const u=i.getProvider("app").getImmediate(),h=new $s(new f4(i.getProvider("auth-internal")),new g4(u,i.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pc(m.options.projectId,g)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Zi(lE,uE,e),Zi(lE,uE,"esm2017")})();const TL={apiKey:"AIzaSyDzSL34p5-nUEdPET7smaiydRe64ieTM7g",authDomain:"fitngro-dda45.firebaseapp.com",projectId:"fitngro-dda45",storageBucket:"fitngro-dda45.firebasestorage.app",messagingSenderId:"402250344414",appId:"1:402250344414:web:60fb137f35239d0ca05f4f"},ZR=IA(TL),Ct=p1(ZR),Zn=aL(ZR),EL=new Lr;ZO(Ct,s1).then(()=>console.log("Local persistence enabled")).catch(t=>console.error("Persistence error:",t));const b_=L.createContext({});function w_(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const T_=typeof window<"u",JR=T_?L.useLayoutEffect:L.useEffect,em=L.createContext(null);function E_(t,e){t.indexOf(e)===-1&&t.push(e)}function x_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Wr=(t,e,n)=>n>e?e:n<t?t:n;let S_=()=>{};const Qr={},eC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function tC(t){return typeof t=="object"&&t!==null}const nC=t=>/^0[^.\s]+$/u.test(t);function A_(t){let e;return()=>(e===void 0&&(e=t()),e)}const mi=t=>t,xL=(t,e)=>n=>e(t(n)),zc=(...t)=>t.reduce(xL),wc=(t,e,n)=>{const i=e-t;return i===0?1:(n-t)/i};class R_{constructor(){this.subscriptions=[]}add(e){return E_(this.subscriptions,e),()=>x_(this.subscriptions,e)}notify(e,n,i){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,i);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const nr=t=>t*1e3,ir=t=>t/1e3;function iC(t,e){return e?t*(1e3/e):0}const rC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SL=1e-7,AL=12;function RL(t,e,n,i,a){let l,u,h=0;do u=e+(n-e)/2,l=rC(u,i,a)-t,l>0?n=u:e=u;while(Math.abs(l)>SL&&++h<AL);return u}function qc(t,e,n,i){if(t===e&&n===i)return mi;const a=l=>RL(l,0,1,t,n);return l=>l===0||l===1?l:rC(a(l),e,i)}const sC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aC=t=>e=>1-t(1-e),oC=qc(.33,1.53,.69,.99),C_=aC(oC),lC=sC(C_),uC=t=>(t*=2)<1?.5*C_(t):.5*(2-Math.pow(2,-10*(t-1))),I_=t=>1-Math.sin(Math.acos(t)),cC=aC(I_),hC=sC(I_),CL=qc(.42,0,1,1),IL=qc(0,0,.58,1),dC=qc(.42,0,.58,1),NL=t=>Array.isArray(t)&&typeof t[0]!="number",fC=t=>Array.isArray(t)&&typeof t[0]=="number",kL={linear:mi,easeIn:CL,easeInOut:dC,easeOut:IL,circIn:I_,circInOut:hC,circOut:cC,backIn:C_,backInOut:lC,backOut:oC,anticipate:uC},PL=t=>typeof t=="string",lx=t=>{if(fC(t)){S_(t.length===4);const[e,n,i,a]=t;return qc(e,n,i,a)}else if(PL(t))return kL[t];return t},Ed=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],ux={value:null};function DL(t,e){let n=new Set,i=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function m(v){u.has(v)&&(g.schedule(v),t()),d++,v(h)}const g={schedule:(v,w=!1,x=!1)=>{const k=x&&a?n:i;return w&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{i.delete(v),u.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,i]=[i,n],n.forEach(m),e&&ux.value&&ux.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const OL=40;function mC(t,e){let n=!1,i=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Ed.reduce((O,G)=>(O[G]=DL(l,e?G:void 0),O),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:w,render:x,postRender:S}=u,k=()=>{const O=Qr.useManualTiming?a.timestamp:performance.now();n=!1,Qr.useManualTiming||(a.delta=i?1e3/60:Math.max(Math.min(O-a.timestamp,OL),1)),a.timestamp=O,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),w.process(a),x.process(a),S.process(a),a.isProcessing=!1,n&&e&&(i=!1,t(k))},R=()=>{n=!0,i=!0,a.isProcessing||t(k)};return{schedule:Ed.reduce((O,G)=>{const H=u[G];return O[G]=(M,D=!1,A=!1)=>(n||R(),H.schedule(M,D,A)),O},{}),cancel:O=>{for(let G=0;G<Ed.length;G++)u[Ed[G]].cancel(O)},state:a,steps:u}}const{schedule:Et,cancel:Ks,state:cn,steps:kg}=mC(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let Bd;function ML(){Bd=void 0}const Ln={now:()=>(Bd===void 0&&Ln.set(cn.isProcessing||Qr.useManualTiming?cn.timestamp:performance.now()),Bd),set:t=>{Bd=t,queueMicrotask(ML)}},pC=t=>e=>typeof e=="string"&&e.startsWith(t),N_=pC("--"),VL=pC("var(--"),k_=t=>VL(t)?jL.test(t.split("/*")[0].trim()):!1,jL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Cl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Tc={...Cl,transform:t=>Wr(0,1,t)},xd={...Cl,default:1},rc=t=>Math.round(t*1e5)/1e5,P_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function LL(t){return t==null}const UL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,D_=(t,e)=>n=>!!(typeof n=="string"&&UL.test(n)&&n.startsWith(t)||e&&!LL(n)&&Object.prototype.hasOwnProperty.call(n,e)),gC=(t,e,n)=>i=>{if(typeof i!="string")return i;const[a,l,u,h]=i.match(P_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},BL=t=>Wr(0,255,t),Pg={...Cl,transform:t=>Math.round(BL(t))},Ba={test:D_("rgb","red"),parse:gC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:i=1})=>"rgba("+Pg.transform(t)+", "+Pg.transform(e)+", "+Pg.transform(n)+", "+rc(Tc.transform(i))+")"};function FL(t){let e="",n="",i="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),i=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),i=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,i+=i,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(i,16),alpha:a?parseInt(a,16)/255:1}}const Uy={test:D_("#"),parse:FL,transform:Ba.transform},Hc=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Ns=Hc("deg"),rr=Hc("%"),Pe=Hc("px"),zL=Hc("vh"),qL=Hc("vw"),cx={...rr,parse:t=>rr.parse(t)/100,transform:t=>rr.transform(t*100)},el={test:D_("hsl","hue"),parse:gC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:i=1})=>"hsla("+Math.round(t)+", "+rr.transform(rc(e))+", "+rr.transform(rc(n))+", "+rc(Tc.transform(i))+")"},zt={test:t=>Ba.test(t)||Uy.test(t)||el.test(t),parse:t=>Ba.test(t)?Ba.parse(t):el.test(t)?el.parse(t):Uy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ba.transform(t):el.transform(t),getAnimatableNone:t=>{const e=zt.parse(t);return e.alpha=0,zt.transform(e)}},HL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(P_))==null?void 0:e.length)||0)+(((n=t.match(HL))==null?void 0:n.length)||0)>0}const yC="number",vC="color",$L="var",KL="var(",hx="${}",YL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Ec(t){const e=t.toString(),n=[],i={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(YL,d=>(zt.test(d)?(i.color.push(l),a.push(vC),n.push(zt.parse(d))):d.startsWith(KL)?(i.var.push(l),a.push($L),n.push(d)):(i.number.push(l),a.push(yC),n.push(parseFloat(d))),++l,hx)).split(hx);return{values:n,split:h,indexes:i,types:a}}function _C(t){return Ec(t).values}function bC(t){const{split:e,types:n}=Ec(t),i=e.length;return a=>{let l="";for(let u=0;u<i;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===yC?l+=rc(a[u]):h===vC?l+=zt.transform(a[u]):l+=a[u]}return l}}const WL=t=>typeof t=="number"?0:zt.test(t)?zt.getAnimatableNone(t):t;function QL(t){const e=_C(t);return bC(t)(e.map(WL))}const Ys={test:GL,parse:_C,createTransformer:bC,getAnimatableNone:QL};function Dg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function XL({hue:t,saturation:e,lightness:n,alpha:i}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Dg(d,h,t+1/3),l=Dg(d,h,t),u=Dg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:i}}function yf(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,Og=(t,e,n)=>{const i=t*t,a=n*(e*e-i)+i;return a<0?0:Math.sqrt(a)},ZL=[Uy,Ba,el],JL=t=>ZL.find(e=>e.test(t));function dx(t){const e=JL(t);if(!e)return!1;let n=e.parse(t);return e===el&&(n=XL(n)),n}const fx=(t,e)=>{const n=dx(t),i=dx(e);if(!n||!i)return yf(t,e);const a={...n};return l=>(a.red=Og(n.red,i.red,l),a.green=Og(n.green,i.green,l),a.blue=Og(n.blue,i.blue,l),a.alpha=Tt(n.alpha,i.alpha,l),Ba.transform(a))},By=new Set(["none","hidden"]);function e3(t,e){return By.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function t3(t,e){return n=>Tt(t,e,n)}function O_(t){return typeof t=="number"?t3:typeof t=="string"?k_(t)?yf:zt.test(t)?fx:r3:Array.isArray(t)?wC:typeof t=="object"?zt.test(t)?fx:n3:yf}function wC(t,e){const n=[...t],i=n.length,a=t.map((l,u)=>O_(l)(l,e[u]));return l=>{for(let u=0;u<i;u++)n[u]=a[u](l);return n}}function n3(t,e){const n={...t,...e},i={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(i[a]=O_(t[a])(t[a],e[a]));return a=>{for(const l in i)n[l]=i[l](a);return n}}function i3(t,e){const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][i[l]],h=t.values[u]??0;n[a]=h,i[l]++}return n}const r3=(t,e)=>{const n=Ys.createTransformer(e),i=Ec(t),a=Ec(e);return i.indexes.var.length===a.indexes.var.length&&i.indexes.color.length===a.indexes.color.length&&i.indexes.number.length>=a.indexes.number.length?By.has(t)&&!a.values.length||By.has(e)&&!i.values.length?e3(t,e):zc(wC(i3(i,a),a.values),n):yf(t,e)};function TC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):O_(t)(t,e)}const s3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>Ks(e),now:()=>cn.isProcessing?cn.timestamp:Ln.now()}},EC=(t,e,n=10)=>{let i="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)i+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},vf=2e4;function M_(t){let e=0;const n=50;let i=t.next(e);for(;!i.done&&e<vf;)e+=n,i=t.next(e);return e>=vf?1/0:e}function a3(t,e=100,n){const i=n({...t,keyframes:[0,e]}),a=Math.min(M_(i),vf);return{type:"keyframes",ease:l=>i.next(a*l).value/e,duration:ir(a)}}const o3=5;function xC(t,e,n){const i=Math.max(e-o3,0);return iC(n-t(i),e-i)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Mg=.001;function l3({duration:t=It.duration,bounce:e=It.bounce,velocity:n=It.velocity,mass:i=It.mass}){let a,l,u=1-e;u=Wr(It.minDamping,It.maxDamping,u),t=Wr(It.minDuration,It.maxDuration,ir(t)),u<1?(a=m=>{const g=m*u,v=g*t,w=g-n,x=Fy(m,u),S=Math.exp(-v);return Mg-w/x*S},l=m=>{const v=m*u*t,w=v*n+n,x=Math.pow(u,2)*Math.pow(m,2)*t,S=Math.exp(-v),k=Fy(Math.pow(m,2),u);return(-a(m)+Mg>0?-1:1)*((w-x)*S)/k}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-Mg+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=c3(a,l,h);if(t=nr(t),isNaN(d))return{stiffness:It.stiffness,damping:It.damping,duration:t};{const m=Math.pow(d,2)*i;return{stiffness:m,damping:u*2*Math.sqrt(i*m),duration:t}}}const u3=12;function c3(t,e,n){let i=n;for(let a=1;a<u3;a++)i=i-t(i)/e(i);return i}function Fy(t,e){return t*Math.sqrt(1-e*e)}const h3=["duration","bounce"],d3=["stiffness","damping","mass"];function mx(t,e){return e.some(n=>t[n]!==void 0)}function f3(t){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...t};if(!mx(t,d3)&&mx(t,h3))if(t.visualDuration){const n=t.visualDuration,i=2*Math.PI/(n*1.2),a=i*i,l=2*Wr(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:It.mass,stiffness:a,damping:l}}else{const n=l3(t);e={...e,...n,mass:It.mass},e.isResolvedFromDuration=!0}return e}function _f(t=It.visualDuration,e=It.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:w,isResolvedFromDuration:x}=f3({...n,velocity:-ir(n.velocity||0)}),S=w||0,k=m/(2*Math.sqrt(d*g)),R=u-l,N=ir(Math.sqrt(d/g)),B=Math.abs(R)<5;i||(i=B?It.restSpeed.granular:It.restSpeed.default),a||(a=B?It.restDelta.granular:It.restDelta.default);let O;if(k<1){const H=Fy(N,k);O=M=>{const D=Math.exp(-k*N*M);return u-D*((S+k*N*R)/H*Math.sin(H*M)+R*Math.cos(H*M))}}else if(k===1)O=H=>u-Math.exp(-N*H)*(R+(S+N*R)*H);else{const H=N*Math.sqrt(k*k-1);O=M=>{const D=Math.exp(-k*N*M),A=Math.min(H*M,300);return u-D*((S+k*N*R)*Math.sinh(A)+H*R*Math.cosh(A))/H}}const G={calculatedDuration:x&&v||null,next:H=>{const M=O(H);if(x)h.done=H>=v;else{let D=H===0?S:0;k<1&&(D=H===0?nr(S):xC(O,H,M));const A=Math.abs(D)<=i,I=Math.abs(u-M)<=a;h.done=A&&I}return h.value=h.done?u:M,h},toString:()=>{const H=Math.min(M_(G),vf),M=EC(D=>G.next(H*D).value,H,30);return H+"ms "+M},toTransition:()=>{}};return G}_f.applyToOptions=t=>{const e=a3(t,100,_f);return t.ease=e.ease,t.duration=nr(e.duration),t.type="keyframes",t};function zy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:i=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},x=A=>h!==void 0&&A<h||d!==void 0&&A>d,S=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let k=n*e;const R=v+k,N=u===void 0?R:u(R);N!==R&&(k=N-v);const B=A=>-k*Math.exp(-A/i),O=A=>N+B(A),G=A=>{const I=B(A),j=O(A);w.done=Math.abs(I)<=m,w.value=w.done?N:j};let H,M;const D=A=>{x(w.value)&&(H=A,M=_f({keyframes:[w.value,S(w.value)],velocity:xC(O,A,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:A=>{let I=!1;return!M&&H===void 0&&(I=!0,G(A),D(A)),H!==void 0&&A>=H?M.next(A-H):(!I&&G(A),w)}}}function m3(t,e,n){const i=[],a=n||Qr.mix||TC,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||mi:e;h=zc(d,h)}i.push(h)}return i}function p3(t,e,{clamp:n=!0,ease:i,mixer:a}={}){const l=t.length;if(S_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=m3(e,i,a),d=h.length,m=g=>{if(u&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=wc(t[v],t[v+1],g);return h[v](w)};return n?g=>m(Wr(t[0],t[l-1],g)):m}function g3(t,e){const n=t[t.length-1];for(let i=1;i<=e;i++){const a=wc(0,e,i);t.push(Tt(n,1,a))}}function y3(t){const e=[0];return g3(e,t.length-1),e}function v3(t,e){return t.map(n=>n*e)}function _3(t,e){return t.map(()=>e||dC).splice(0,t.length-1)}function sc({duration:t=300,keyframes:e,times:n,ease:i="easeInOut"}){const a=NL(i)?i.map(lx):lx(i),l={done:!1,value:e[0]},u=v3(n&&n.length===e.length?n:y3(e),t),h=p3(u,e,{ease:Array.isArray(a)?a:_3(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const b3=t=>t!==null;function V_(t,{repeat:e,repeatType:n="loop"},i,a=1){const l=t.filter(b3),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||i===void 0?l[h]:i}const w3={decay:zy,inertia:zy,tween:sc,keyframes:sc,spring:_f};function SC(t){typeof t.type=="string"&&(t.type=w3[t.type])}class j_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const T3=t=>t/100;class L_ extends j_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var i,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(i=this.options).onStop)==null||a.call(i))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;SC(e);const{type:n=sc,repeat:i=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||sc;d!==sc&&typeof h[0]!="number"&&(this.mixKeyframes=zc(T3,TC(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=M_(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(i+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:i,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return i.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:x,type:S,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,G=i;if(v){const A=Math.min(this.currentTime,a)/h;let I=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(w==="reverse"?(j=1-j,x&&(j-=x/h)):w==="mirror"&&(G=u)),O=Wr(0,1,j)*h}const H=B?{done:!1,value:g[0]}:G.next(O);l&&(H.value=l(H.value));let{done:M}=H;!B&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&S!==zy&&(H.value=V_(g,this.options,R,this.speed)),k&&k(H.value),D&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return ir(this.calculatedDuration)}get time(){return ir(this.currentTime)}set time(e){var n;e=nr(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ir(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=s3,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=n??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function E3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Fa=t=>t*180/Math.PI,qy=t=>{const e=Fa(Math.atan2(t[1],t[0]));return Hy(e)},x3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:qy,rotateZ:qy,skewX:t=>Fa(Math.atan(t[1])),skewY:t=>Fa(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Hy=t=>(t=t%360,t<0&&(t+=360),t),px=qy,gx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:gx,scaleY:yx,scale:t=>(gx(t)+yx(t))/2,rotateX:t=>Hy(Fa(Math.atan2(t[6],t[5]))),rotateY:t=>Hy(Fa(Math.atan2(-t[2],t[0]))),rotateZ:px,rotate:px,skewX:t=>Fa(Math.atan(t[4])),skewY:t=>Fa(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Gy(t){return t.includes("scale")?1:0}function $y(t,e){if(!t||t==="none")return Gy(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,a;if(n)i=S3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=x3,a=h}if(!a)return Gy(e);const l=i[e],u=a[1].split(",").map(R3);return typeof l=="function"?l(u):u[l]}const A3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return $y(n,e)};function R3(t){return parseFloat(t.trim())}const Il=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nl=new Set(Il),vx=t=>t===Cl||t===Pe,C3=new Set(["x","y","z"]),I3=Il.filter(t=>!C3.has(t));function N3(t){const e=[];return I3.forEach(n=>{const i=t.getValue(n);i!==void 0&&(e.push([n,i.get()]),i.set(n.startsWith("scale")?1:0))}),e}const qa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>$y(e,"x"),y:(t,{transform:e})=>$y(e,"y")};qa.translateX=qa.x;qa.translateY=qa.y;const Ha=new Set;let Ky=!1,Yy=!1,Wy=!1;function AC(){if(Yy){const t=Array.from(Ha).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),n=new Map;e.forEach(i=>{const a=N3(i);a.length&&(n.set(i,a),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const a=n.get(i);a&&a.forEach(([l,u])=>{var h;(h=i.getValue(l))==null||h.set(u)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}Yy=!1,Ky=!1,Ha.forEach(t=>t.complete(Wy)),Ha.clear()}function RC(){Ha.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Yy=!0)})}function k3(){Wy=!0,RC(),AC(),Wy=!1}class U_{constructor(e,n,i,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=i,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Ha.add(this),Ky||(Ky=!0,Et.read(RC),Et.resolveKeyframes(AC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:i,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(i&&n){const h=i.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}E3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Ha.delete(this)}cancel(){this.state==="scheduled"&&(Ha.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const P3=t=>t.startsWith("--");function D3(t,e,n){P3(e)?t.style.setProperty(e,n):t.style[e]=n}const O3=A_(()=>window.ScrollTimeline!==void 0),M3={};function V3(t,e){const n=A_(t);return()=>M3[e]??n()}const CC=V3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Qu=([t,e,n,i])=>`cubic-bezier(${t}, ${e}, ${n}, ${i})`,_x={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Qu([0,.65,.55,1]),circOut:Qu([.55,0,1,.45]),backIn:Qu([.31,.01,.66,-.59]),backOut:Qu([.33,1.53,.69,.99])};function IC(t,e){if(t)return typeof t=="function"?CC()?EC(t,e):"ease-out":fC(t)?Qu(t):Array.isArray(t)?t.map(n=>IC(n,e)||_x.easeOut):_x[t]}function j3(t,e,n,{delay:i=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=IC(h,a);Array.isArray(v)&&(g.easing=v);const w={delay:i,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(g,w)}function NC(t){return typeof t=="function"&&"applyToOptions"in t}function L3({type:t,...e}){return NC(t)&&CC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class U3 extends j_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:i,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,S_(typeof e.type!="string");const m=L3(e);this.animation=j3(n,i,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=V_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):D3(n,i,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,i;const e=((i=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:i.call(n).duration)||0;return ir(Number(e))}get time(){return ir(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=nr(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var i;return this.allowFlatten&&((i=this.animation.effect)==null||i.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&O3()?(this.animation.timeline=e,mi):n(this)}}const kC={anticipate:uC,backInOut:lC,circInOut:hC};function B3(t){return t in kC}function F3(t){typeof t.ease=="string"&&B3(t.ease)&&(t.ease=kC[t.ease])}const bx=10;class z3 extends U3{constructor(e){F3(e),SC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:i,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new L_({...u,autoplay:!1}),d=nr(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-bx).value,h.sample(d).value,bx),h.stop()}}const wx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ys.test(t)||t==="0")&&!t.startsWith("url("));function q3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function H3(t,e,n,i){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=wx(a,e),h=wx(l,e);return!u||!h?!1:q3(t)||(n==="spring"||NC(n))&&i}function B_(t){return tC(t)&&"offsetHeight"in t}const G3=new Set(["opacity","clipPath","filter","transform"]),$3=A_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K3(t){var m;const{motionValue:e,name:n,repeatDelay:i,repeatType:a,damping:l,type:u}=t;if(!B_((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return $3()&&n&&G3.has(n)&&(n!=="transform"||!d)&&!h&&!i&&a!=="mirror"&&l!==0&&u!=="inertia"}const Y3=40;class W3 extends j_{constructor({autoplay:e=!0,delay:n=0,type:i="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){var S;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Ln.now();const w={autoplay:e,delay:n,type:i,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:g,...v},x=(g==null?void 0:g.KeyframeResolver)||U_;this.keyframeResolver=new x(h,(k,R,N)=>this.onKeyframesResolved(k,R,w,!N),d,m,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,i,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:g}=i;this.resolvedAt=Ln.now(),H3(e,l,u,h)||((Qr.instantAnimations||!d)&&(g==null||g(V_(e,i,n))),e[0]=e[e.length-1],i.duration=0,i.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>Y3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...i,keyframes:e},x=!m&&K3(w)?new z3({...w,element:w.motionValue.owner.current}):new L_(w);x.finished.then(()=>this.notifyFinished()).catch(mi),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),k3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Q3=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function X3(t){const e=Q3.exec(t);if(!e)return[,];const[,n,i,a]=e;return[`--${n??i}`,a]}function PC(t,e,n=1){const[i,a]=X3(t);if(!i)return;const l=window.getComputedStyle(e).getPropertyValue(i);if(l){const u=l.trim();return eC(u)?parseFloat(u):u}return k_(a)?PC(a,e,n+1):a}function F_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const DC=new Set(["width","height","top","left","right","bottom",...Il]),Z3={test:t=>t==="auto",parse:t=>t},OC=t=>e=>e.test(t),MC=[Cl,Pe,rr,Ns,qL,zL,Z3],Tx=t=>MC.find(OC(t));function J3(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||nC(t):!0}const e6=new Set(["brightness","contrast","saturate","opacity"]);function t6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=n.match(P_)||[];if(!i)return t;const a=n.replace(i,"");let l=e6.has(e)?1:0;return i!==n&&(l*=100),e+"("+l+a+")"}const n6=/\b([a-z-]*)\(.*?\)/gu,Qy={...Ys,getAnimatableNone:t=>{const e=t.match(n6);return e?e.map(t6).join(" "):t}},Ex={...Cl,transform:Math.round},i6={rotate:Ns,rotateX:Ns,rotateY:Ns,rotateZ:Ns,scale:xd,scaleX:xd,scaleY:xd,scaleZ:xd,skew:Ns,skewX:Ns,skewY:Ns,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Tc,originX:cx,originY:cx,originZ:Pe},z_={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...i6,zIndex:Ex,fillOpacity:Tc,strokeOpacity:Tc,numOctaves:Ex},r6={...z_,color:zt,backgroundColor:zt,outlineColor:zt,fill:zt,stroke:zt,borderColor:zt,borderTopColor:zt,borderRightColor:zt,borderBottomColor:zt,borderLeftColor:zt,filter:Qy,WebkitFilter:Qy},VC=t=>r6[t];function jC(t,e){let n=VC(t);return n!==Qy&&(n=Ys),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const s6=new Set(["auto","none","0"]);function a6(t,e,n){let i=0,a;for(;i<t.length&&!a;){const l=t[i];typeof l=="string"&&!s6.has(l)&&Ec(l).values.length&&(a=t[i]),i++}if(a&&n)for(const l of e)t[l]=jC(n,a)}class o6 extends U_{constructor(e,n,i,a,l){super(e,n,i,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:i}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),k_(m))){const g=PC(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!DC.has(i)||e.length!==2)return;const[a,l]=e,u=Tx(a),h=Tx(l);if(u!==h)if(vx(u)&&vx(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else qa[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,i=[];for(let a=0;a<e.length;a++)(e[a]===null||J3(e[a]))&&i.push(a);i.length&&a6(e,i,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qa[i](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(i,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=i.length-1,u=i[l];i[l]=qa[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function l6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const a=(n==null?void 0:n[t])??i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const LC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xx=30,u6=t=>!isNaN(parseFloat(t));class c6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(i,a=!0)=>{var u,h;const l=Ln.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=u6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new R_);const i=this.events[e].add(n);return e==="change"?()=>{i(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,i){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xx);return iC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function gl(t,e){return new c6(t,e)}const{schedule:q_}=mC(queueMicrotask,!1),Ei={x:!1,y:!1};function UC(){return Ei.x||Ei.y}function h6(t){return t==="x"||t==="y"?Ei[t]?null:(Ei[t]=!0,()=>{Ei[t]=!1}):Ei.x||Ei.y?null:(Ei.x=Ei.y=!0,()=>{Ei.x=Ei.y=!1})}function BC(t,e){const n=l6(t),i=new AbortController,a={passive:!0,...e,signal:i.signal};return[n,a,()=>i.abort()]}function Sx(t){return!(t.pointerType==="touch"||UC())}function d6(t,e,n={}){const[i,a,l]=BC(t,n),u=h=>{if(!Sx(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{Sx(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return i.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const FC=(t,e)=>e?t===e?!0:FC(t,e.parentElement):!1,H_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,f6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function m6(t){return f6.has(t.tagName)||t.tabIndex!==-1}const Fd=new WeakSet;function Ax(t){return e=>{e.key==="Enter"&&t(e)}}function Vg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const p6=(t,e)=>{const n=t.currentTarget;if(!n)return;const i=Ax(()=>{if(Fd.has(n))return;Vg(n,"down");const a=Ax(()=>{Vg(n,"up")}),l=()=>Vg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",i,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",i),e)};function Rx(t){return H_(t)&&!UC()}function g6(t,e,n={}){const[i,a,l]=BC(t,n),u=h=>{const d=h.currentTarget;if(!Rx(h))return;Fd.add(d);const m=e(d,h),g=(x,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),Fd.has(d)&&Fd.delete(d),Rx(x)&&typeof m=="function"&&m(x,{success:S})},v=x=>{g(x,d===window||d===document||n.useGlobalTarget||FC(d,x.target))},w=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return i.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),B_(h)&&(h.addEventListener("focus",m=>p6(m,a)),!m6(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function zC(t){return tC(t)&&"ownerSVGElement"in t}function y6(t){return zC(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),v6=[...MC,zt,Ys],_6=t=>v6.find(OC(t)),G_=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class b6 extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const i=n.offsetParent,a=B_(i)&&i.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function w6({children:t,isPresent:e,anchorX:n}){const i=L.useId(),a=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=L.useContext(G_);return L.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:g,right:v}=l.current;if(e||!a.current||!h||!d)return;const w=n==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=i;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),_.jsx(b6,{isPresent:e,childRef:a,sizeRef:l,children:L.cloneElement(t,{ref:a})})}const T6=({children:t,initial:e,isPresent:n,onExitComplete:i,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const d=w_(E6),m=L.useId();let g=!0,v=L.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:a,onExitComplete:w=>{d.set(w,!0);for(const x of d.values())if(!x)return;i&&i()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[n,d,i]);return l&&g&&(v={...v}),L.useMemo(()=>{d.forEach((w,x)=>d.set(x,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&i&&i()},[n]),u==="popLayout"&&(t=_.jsx(w6,{isPresent:n,anchorX:h,children:t})),_.jsx(em.Provider,{value:v,children:t})};function E6(){return new Map}function qC(t=!0){const e=L.useContext(em);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:i,register:a}=e,l=L.useId();L.useEffect(()=>{if(t)return a(l)},[t]);const u=L.useCallback(()=>t&&i&&i(l),[l,i,t]);return!n&&i?[!1,u]:[!0]}const Sd=t=>t.key||"";function Cx(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const x6=({children:t,custom:e,initial:n=!0,onExitComplete:i,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,m]=qC(u),g=L.useMemo(()=>Cx(t),[t]),v=u&&!d?[]:g.map(Sd),w=L.useRef(!0),x=L.useRef(g),S=w_(()=>new Map),[k,R]=L.useState(g),[N,B]=L.useState(g);JR(()=>{w.current=!1,x.current=g;for(let H=0;H<N.length;H++){const M=Sd(N[H]);v.includes(M)?S.delete(M):S.get(M)!==!0&&S.set(M,!1)}},[N,v.length,v.join("-")]);const O=[];if(g!==k){let H=[...g];for(let M=0;M<N.length;M++){const D=N[M],A=Sd(D);v.includes(A)||(H.splice(M,0,D),O.push(D))}return l==="wait"&&O.length&&(H=O),B(Cx(H)),R(g),null}const{forceRender:G}=L.useContext(b_);return _.jsx(_.Fragment,{children:N.map(H=>{const M=Sd(H),D=u&&!d?!1:g===N||v.includes(M),A=()=>{if(S.has(M))S.set(M,!0);else return;let I=!0;S.forEach(j=>{j||(I=!1)}),I&&(G==null||G(),B(x.current),u&&(m==null||m()),i&&i())};return _.jsx(T6,{isPresent:D,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:D?void 0:A,anchorX:h,children:H},M)})})},HC=L.createContext({strict:!1}),Ix={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yl={};for(const t in Ix)yl[t]={isEnabled:e=>Ix[t].some(n=>!!e[n])};function S6(t){for(const e in t)yl[e]={...yl[e],...t[e]}}const A6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function bf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||A6.has(t)}let GC=t=>!bf(t);function R6(t){typeof t=="function"&&(GC=e=>e.startsWith("on")?!bf(e):t(e))}try{R6(require("@emotion/is-prop-valid").default)}catch{}function C6(t,e,n){const i={};for(const a in t)a==="values"&&typeof t.values=="object"||(GC(a)||n===!0&&bf(a)||!e&&!bf(a)||t.draggable&&a.startsWith("onDrag"))&&(i[a]=t[a]);return i}function I6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...i)=>t(...i);return new Proxy(n,{get:(i,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const tm=L.createContext({});function nm(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function xc(t){return typeof t=="string"||Array.isArray(t)}const $_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],K_=["initial",...$_];function im(t){return nm(t.animate)||K_.some(e=>xc(t[e]))}function $C(t){return!!(im(t)||t.variants)}function N6(t,e){if(im(t)){const{initial:n,animate:i}=t;return{initial:n===!1||xc(n)?n:void 0,animate:xc(i)?i:void 0}}return t.inherit!==!1?e:{}}function k6(t){const{initial:e,animate:n}=N6(t,L.useContext(tm));return L.useMemo(()=>({initial:e,animate:n}),[Nx(e),Nx(n)])}function Nx(t){return Array.isArray(t)?t.join(" "):t}const P6=Symbol.for("motionComponentSymbol");function tl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D6(t,e,n){return L.useCallback(i=>{i&&t.onMount&&t.onMount(i),e&&(i?e.mount(i):e.unmount()),n&&(typeof n=="function"?n(i):tl(n)&&(n.current=i))},[e])}const Y_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),O6="framerAppearId",KC="data-"+Y_(O6),YC=L.createContext({});function M6(t,e,n,i,a){var k,R;const{visualElement:l}=L.useContext(tm),u=L.useContext(HC),h=L.useContext(em),d=L.useContext(G_).reducedMotion,m=L.useRef(null);i=i||u.renderer,!m.current&&i&&(m.current=i(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,v=L.useContext(YC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&V6(m.current,n,a,v);const w=L.useRef(!1);L.useInsertionEffect(()=>{g&&w.current&&g.update(n,h)});const x=n[KC],S=L.useRef(!!x&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return JR(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),q_.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),L.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),S.current=!1))}),g}function V6(t,e,n,i){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:WC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&tl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:d,layoutRoot:m})}function WC(t){if(t)return t.options.allowProjection!==!1?t.projection:WC(t.parent)}function j6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:i,Component:a}){t&&S6(t);function l(h,d){let m;const g={...L.useContext(G_),...h,layoutId:L6(h)},{isStatic:v}=g,w=k6(h),x=i(h,v);if(!v&&T_){U6();const S=B6(g);m=S.MeasureLayout,w.visualElement=M6(a,x,g,e,S.ProjectionNode)}return _.jsxs(tm.Provider,{value:w,children:[m&&w.visualElement?_.jsx(m,{visualElement:w.visualElement,...g}):null,n(a,h,D6(x,w.visualElement,d),x,v,w.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=L.forwardRef(l);return u[P6]=a,u}function L6({layoutId:t}){const e=L.useContext(b_).id;return e&&t!==void 0?e+"-"+t:t}function U6(t,e){L.useContext(HC).strict}function B6(t){const{drag:e,layout:n}=yl;if(!e&&!n)return{};const i={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?i.MeasureLayout:void 0,ProjectionNode:i.ProjectionNode}}const Sc={};function F6(t){for(const e in t)Sc[e]=t[e],N_(e)&&(Sc[e].isCSSVariable=!0)}function QC(t,{layout:e,layoutId:n}){return Nl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Sc[t]||t==="opacity")}const z6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},q6=Il.length;function H6(t,e,n){let i="",a=!0;for(let l=0;l<q6;l++){const u=Il[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=LC(h,z_[u]);if(!d){a=!1;const g=z6[u]||u;i+=`${g}(${m}) `}n&&(e[u]=m)}}return i=i.trim(),n?i=n(e,a?"":i):a&&(i="none"),i}function W_(t,e,n){const{style:i,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(Nl.has(d)){u=!0;continue}else if(N_(d)){a[d]=m;continue}else{const g=LC(m,z_[d]);d.startsWith("origin")?(h=!0,l[d]=g):i[d]=g}}if(e.transform||(u||n?i.transform=H6(e,t.transform,n):i.transform&&(i.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;i.transformOrigin=`${d} ${m} ${g}`}}const Q_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function XC(t,e,n){for(const i in e)!wn(e[i])&&!QC(i,n)&&(t[i]=e[i])}function G6({transformTemplate:t},e){return L.useMemo(()=>{const n=Q_();return W_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function $6(t,e){const n=t.style||{},i={};return XC(i,n,t),Object.assign(i,G6(t,e)),i}function K6(t,e){const n={},i=$6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Y6={offset:"stroke-dashoffset",array:"stroke-dasharray"},W6={offset:"strokeDashoffset",array:"strokeDasharray"};function Q6(t,e,n=1,i=0,a=!0){t.pathLength=1;const l=a?Y6:W6;t[l.offset]=Pe.transform(-i);const u=Pe.transform(e),h=Pe.transform(n);t[l.array]=`${u} ${h}`}function ZC(t,{attrX:e,attrY:n,attrScale:i,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,m,g){if(W_(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),i!==void 0&&(v.scale=i),a!==void 0&&Q6(v,a,l,u,!1)}const JC=()=>({...Q_(),attrs:{}}),eI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function X6(t,e,n,i){const a=L.useMemo(()=>{const l=JC();return ZC(l,e,eI(i),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};XC(l,t.style,t),a.style={...l,...a.style}}return a}const Z6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X_(t){return typeof t!="string"||t.includes("-")?!1:!!(Z6.indexOf(t)>-1||/[A-Z]/u.test(t))}function J6(t=!1){return(n,i,a,{latestValues:l},u)=>{const d=(X_(n)?X6:K6)(i,l,u,n),m=C6(i,typeof n=="string",t),g=n!==L.Fragment?{...m,...d,ref:a}:{},{children:v}=i,w=L.useMemo(()=>wn(v)?v.get():v,[v]);return L.createElement(n,{...g,children:w})}}function kx(t){const e=[{},{}];return t==null||t.values.forEach((n,i)=>{e[0][i]=n.get(),e[1][i]=n.getVelocity()}),e}function Z_(t,e,n,i){if(typeof e=="function"){const[a,l]=kx(i);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=kx(i);e=e(n!==void 0?n:t.custom,a,l)}return e}function zd(t){return wn(t)?t.get():t}function eU({scrapeMotionValuesFromProps:t,createRenderState:e},n,i,a){return{latestValues:tU(n,i,a,t),renderState:e()}}const tI=t=>(e,n)=>{const i=L.useContext(tm),a=L.useContext(em),l=()=>eU(t,e,i,a);return n?l():w_(l)};function tU(t,e,n,i){const a={},l=i(t,{});for(const w in l)a[w]=zd(l[w]);let{initial:u,animate:h}=t;const d=im(t),m=$C(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!nm(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const S=Z_(t,w[x]);if(S){const{transitionEnd:k,transition:R,...N}=S;for(const B in N){let O=N[B];if(Array.isArray(O)){const G=g?O.length-1:0;O=O[G]}O!==null&&(a[B]=O)}for(const B in k)a[B]=k[B]}}}return a}function J_(t,e,n){var l;const{style:i}=t,a={};for(const u in i)(wn(i[u])||e.style&&wn(e.style[u])||QC(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=i[u]);return a}const nU={useVisualState:tI({scrapeMotionValuesFromProps:J_,createRenderState:Q_})};function nI(t,e,n){const i=J_(t,e,n);for(const a in t)if(wn(t[a])||wn(e[a])){const l=Il.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;i[l]=t[a]}return i}const iU={useVisualState:tI({scrapeMotionValuesFromProps:nI,createRenderState:JC})};function rU(t,e){return function(i,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...X_(i)?iU:nU,preloadedFeatures:t,useRender:J6(a),createVisualElement:e,Component:i};return j6(u)}}function Ac(t,e,n){const i=t.getProps();return Z_(i,e,n!==void 0?n:i.custom,t)}const Xy=t=>Array.isArray(t);function sU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gl(n))}function aU(t){return Xy(t)?t[t.length-1]||0:t}function oU(t,e){const n=Ac(t,e);let{transitionEnd:i={},transition:a={},...l}=n||{};l={...l,...i};for(const u in l){const h=aU(l[u]);sU(t,u,h)}}function lU(t){return!!(wn(t)&&t.add)}function Zy(t,e){const n=t.getValue("willChange");if(lU(n))return n.add(e);if(!n&&Qr.WillChange){const i=new Qr.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function iI(t){return t.props[KC]}const uU=t=>t!==null;function cU(t,{repeat:e,repeatType:n="loop"},i){const a=t.filter(uU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const hU={type:"spring",stiffness:500,damping:25,restSpeed:10},dU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fU={type:"keyframes",duration:.8},mU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},pU=(t,{keyframes:e})=>e.length>2?fU:Nl.has(t)?t.startsWith("scale")?dU(e[1]):hU:mU;function gU({when:t,delay:e,delayChildren:n,staggerChildren:i,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const e0=(t,e,n,i={},a,l)=>u=>{const h=F_(i,t)||{},d=h.delay||i.delay||0;let{elapsed:m=0}=i;m=m-nr(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};gU(h)||Object.assign(g,pU(t,g)),g.duration&&(g.duration=nr(g.duration)),g.repeatDelay&&(g.repeatDelay=nr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(Qr.instantAnimations||Qr.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=cU(g.keyframes,h);if(w!==void 0){Et.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new L_(g):new W3(g)};function yU({protectedKeys:t,needsAnimating:e},n){const i=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,i}function rI(t,e,{delay:n=0,transitionOverride:i,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;i&&(l=i);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||m&&yU(m,g))continue;const x={delay:n,...F_(l||{},g)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===S&&!x.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=iI(t);if(N){const B=window.MotionHandoffAnimation(N,g,Et);B!==null&&(x.startTime=B,k=!0)}}Zy(t,g),v.start(e0(g,v,w,t.shouldReduceMotion&&DC.has(g)?{type:!1}:x,t,k));const R=v.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{Et.update(()=>{u&&oU(t,u)})}),d}function Jy(t,e,n={}){var d;const i=Ac(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(a=n.transitionOverride);const l=i?()=>Promise.all(rI(t,i,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=a;return vU(t,e,g+m,v,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function vU(t,e,n=0,i=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*i,d=a===1?(m=0)=>m*i:(m=0)=>h-m*i;return Array.from(t.variantChildren).sort(_U).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(Jy(m,e,{...l,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function _U(t,e){return t.sortNodePosition(e)}function bU(t,e,n={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const a=e.map(l=>Jy(t,l,n));i=Promise.all(a)}else if(typeof e=="string")i=Jy(t,e,n);else{const a=typeof e=="function"?Ac(t,e,n.custom):e;i=Promise.all(rI(t,a,n))}return i.then(()=>{t.notify("AnimationComplete",e)})}function sI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}const wU=K_.length;function aI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?aI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<wU;n++){const i=K_[n],a=t.props[i];(xc(a)||a===!1)&&(e[i]=a)}return e}const TU=[...$_].reverse(),EU=$_.length;function xU(t){return e=>Promise.all(e.map(({animation:n,options:i})=>bU(t,n,i)))}function SU(t){let e=xU(t),n=Px(),i=!0;const a=d=>(m,g)=>{var w;const v=Ac(t,g,d==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:x,transitionEnd:S,...k}=v;m={...m,...k,...S}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,g=aI(t.parent)||{},v=[],w=new Set;let x={},S=1/0;for(let R=0;R<EU;R++){const N=TU[R],B=n[N],O=m[N]!==void 0?m[N]:g[N],G=xc(O),H=N===d?B.isActive:null;H===!1&&(S=R);let M=O===g[N]&&O!==m[N]&&G;if(M&&i&&t.manuallyAnimateOnMount&&(M=!1),B.protectedKeys={...x},!B.isActive&&H===null||!O&&!B.prevProp||nm(O)||typeof O=="boolean")continue;const D=AU(B.prevProp,O);let A=D||N===d&&B.isActive&&!M&&G||R>S&&G,I=!1;const j=Array.isArray(O)?O:[O];let F=j.reduce(a(N),{});H===!1&&(F={});const{prevResolvedValues:q={}}=B,V={...q,...F},ie=re=>{A=!0,w.has(re)&&(I=!0,w.delete(re)),B.needsAnimating[re]=!0;const fe=t.getValue(re);fe&&(fe.liveStyle=!1)};for(const re in V){const fe=F[re],le=q[re];if(x.hasOwnProperty(re))continue;let U=!1;Xy(fe)&&Xy(le)?U=!sI(fe,le):U=fe!==le,U?fe!=null?ie(re):w.add(re):fe!==void 0&&w.has(re)?ie(re):B.protectedKeys[re]=!0}B.prevProp=O,B.prevResolvedValues=F,B.isActive&&(x={...x,...F}),i&&t.blockInitialAnimation&&(A=!1),A&&(!(M&&D)||I)&&v.push(...j.map(re=>({animation:re,options:{type:N}})))}if(w.size){const R={};if(typeof m.initial!="boolean"){const N=Ac(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(R.transition=N.transition)}w.forEach(N=>{const B=t.getBaseTarget(N),O=t.getValue(N);O&&(O.liveStyle=!0),R[N]=B??null}),v.push({animation:R})}let k=!!v.length;return i&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(k=!1),i=!1,k?e(v):Promise.resolve()}function h(d,m){var v;if(n[d].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(d,m)}),n[d].isActive=m;const g=u(d);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Px(),i=!0}}}function AU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sI(e,t):!1}function Ma(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Px(){return{animate:Ma(!0),whileInView:Ma(),whileHover:Ma(),whileTap:Ma(),whileDrag:Ma(),whileFocus:Ma(),exit:Ma()}}class Js{constructor(e){this.isMounted=!1,this.node=e}update(){}}class RU extends Js{constructor(e){super(e),e.animationState||(e.animationState=SU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();nm(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let CU=0;class IU extends Js{constructor(){super(...arguments),this.id=CU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const NU={animation:{Feature:RU},exit:{Feature:IU}};function Rc(t,e,n,i={passive:!0}){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n)}function Gc(t){return{point:{x:t.pageX,y:t.pageY}}}const kU=t=>e=>H_(e)&&t(e,Gc(e));function ac(t,e,n,i){return Rc(t,e,kU(n),i)}function oI({top:t,left:e,right:n,bottom:i}){return{x:{min:e,max:n},y:{min:t,max:i}}}function PU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function DU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:i.y,right:i.x}}const lI=1e-4,OU=1-lI,MU=1+lI,uI=.01,VU=0-uI,jU=0+uI;function kn(t){return t.max-t.min}function LU(t,e,n){return Math.abs(t-e)<=n}function Dx(t,e,n,i=.5){t.origin=i,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=OU&&t.scale<=MU||isNaN(t.scale))&&(t.scale=1),(t.translate>=VU&&t.translate<=jU||isNaN(t.translate))&&(t.translate=0)}function oc(t,e,n,i){Dx(t.x,e.x,n.x,i?i.originX:void 0),Dx(t.y,e.y,n.y,i?i.originY:void 0)}function Ox(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function UU(t,e,n){Ox(t.x,e.x,n.x),Ox(t.y,e.y,n.y)}function Mx(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function lc(t,e,n){Mx(t.x,e.x,n.x),Mx(t.y,e.y,n.y)}const Vx=()=>({translate:0,scale:1,origin:0,originPoint:0}),nl=()=>({x:Vx(),y:Vx()}),jx=()=>({min:0,max:0}),Ot=()=>({x:jx(),y:jx()});function fi(t){return[t("x"),t("y")]}function jg(t){return t===void 0||t===1}function ev({scale:t,scaleX:e,scaleY:n}){return!jg(t)||!jg(e)||!jg(n)}function ja(t){return ev(t)||cI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function cI(t){return Lx(t.x)||Lx(t.y)}function Lx(t){return t&&t!=="0%"}function wf(t,e,n){const i=t-n,a=e*i;return n+a}function Ux(t,e,n,i,a){return a!==void 0&&(t=wf(t,a,i)),wf(t,n,i)+e}function tv(t,e=0,n=1,i,a){t.min=Ux(t.min,e,n,i,a),t.max=Ux(t.max,e,n,i,a)}function hI(t,{x:e,y:n}){tv(t.x,e.translate,e.scale,e.originPoint),tv(t.y,n.translate,n.scale,n.originPoint)}const Bx=.999999999999,Fx=1.0000000000001;function BU(t,e,n,i=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(i&&l.options.layoutScroll&&l.scroll&&l!==l.root&&rl(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,hI(t,u)),i&&ja(l.latestValues)&&rl(t,l.latestValues))}e.x<Fx&&e.x>Bx&&(e.x=1),e.y<Fx&&e.y>Bx&&(e.y=1)}function il(t,e){t.min=t.min+e,t.max=t.max+e}function zx(t,e,n,i,a=.5){const l=Tt(t.min,t.max,a);tv(t,e,n,l,i)}function rl(t,e){zx(t.x,e.x,e.scaleX,e.scale,e.originX),zx(t.y,e.y,e.scaleY,e.scale,e.originY)}function dI(t,e){return oI(DU(t.getBoundingClientRect(),e))}function FU(t,e,n){const i=dI(t,n),{scroll:a}=e;return a&&(il(i.x,a.offset.x),il(i.y,a.offset.y)),i}const fI=({current:t})=>t?t.ownerDocument.defaultView:null,qx=(t,e)=>Math.abs(t-e);function zU(t,e){const n=qx(t.x,e.x),i=qx(t.y,e.y);return Math.sqrt(n**2+i**2)}class mI{constructor(e,n,{transformPagePoint:i,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Ug(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=zU(v.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:S}=v,{timestamp:k}=cn;this.history.push({...S,timestamp:k});const{onStart:R,onMove:N}=this.handlers;w||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Lg(w,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Ug(v.type==="pointercancel"?this.lastMoveEventInfo:Lg(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,R),S&&S(v,R)},!H_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=i,this.contextWindow=a||window;const u=Gc(e),h=Lg(u,this.transformPagePoint),{point:d}=h,{timestamp:m}=cn;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Ug(h,this.history)),this.removeListeners=zc(ac(this.contextWindow,"pointermove",this.handlePointerMove),ac(this.contextWindow,"pointerup",this.handlePointerUp),ac(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ks(this.updatePoint)}}function Lg(t,e){return e?{point:e(t.point)}:t}function Hx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ug({point:t},e){return{point:t,delta:Hx(t,pI(e)),offset:Hx(t,qU(e)),velocity:HU(e,.1)}}function qU(t){return t[0]}function pI(t){return t[t.length-1]}function HU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,i=null;const a=pI(t);for(;n>=0&&(i=t[n],!(a.timestamp-i.timestamp>nr(e)));)n--;if(!i)return{x:0,y:0};const l=ir(a.timestamp-i.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-i.x)/l,y:(a.y-i.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function GU(t,{min:e,max:n},i){return e!==void 0&&t<e?t=i?Tt(e,t,i.min):Math.max(t,e):n!==void 0&&t>n&&(t=i?Tt(n,t,i.max):Math.min(t,n)),t}function Gx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function $U(t,{top:e,left:n,bottom:i,right:a}){return{x:Gx(t.x,n,a),y:Gx(t.y,e,i)}}function $x(t,e){let n=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,i]=[i,n]),{min:n,max:i}}function KU(t,e){return{x:$x(t.x,e.x),y:$x(t.y,e.y)}}function YU(t,e){let n=.5;const i=kn(t),a=kn(e);return a>i?n=wc(e.min,e.max-i,t.min):i>a&&(n=wc(t.min,t.max-a,e.min)),Wr(0,1,n)}function WU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const nv=.35;function QU(t=nv){return t===!1?t=0:t===!0&&(t=nv),{x:Kx(t,"left","right"),y:Kx(t,"top","bottom")}}function Kx(t,e,n){return{min:Yx(t,e),max:Yx(t,n)}}function Yx(t,e){return typeof t=="number"?t:t[e]||0}const XU=new WeakMap;class ZU{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Gc(g).point)},l=(g,v)=>{const{drag:w,dragPropagation:x,onDragStart:S}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=h6(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fi(R=>{let N=this.getAxisMotionValue(R).get()||0;if(rr.test(N)){const{projection:B}=this.visualElement;if(B&&B.layout){const O=B.layout.layoutBox[R];O&&(N=kn(O)*(parseFloat(N)/100))}}this.originPoint[R]=N}),S&&Et.postRender(()=>S(g,v)),Zy(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:S,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=v;if(x&&this.currentDirection===null){this.currentDirection=JU(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),k&&k(g,v)},h=(g,v)=>this.stop(g,v),d=()=>fi(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new mI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:fI(this.visualElement)})}stop(e,n){const i=this.isDragging;if(this.cancel(),!i)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Et.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,i){const{drag:a}=this.getProps();if(!i||!Ad(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(u=GU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&tl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=$U(i.layoutBox,e):this.constraints=!1,this.elastic=QU(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&fi(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=WU(i.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!tl(e))return!1;const i=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=FU(i,a.root,this.visualElement.getTransformPagePoint());let u=KU(a.layout.layoutBox,l);if(n){const h=n(PU(u));this.hasMutatedConstraints=!!h,h&&(u=oI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:i,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=fi(g=>{if(!Ad(g,n,this.currentDirection))return;let v=d&&d[g]||{};u&&(v={min:0,max:0});const w=a?200:1e6,x=a?40:1e7,S={type:"inertia",velocity:i?e[g]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const i=this.getAxisMotionValue(e);return Zy(this.visualElement,e),i.start(e0(e,i,0,n,this.visualElement,!1))}stopAnimation(){fi(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fi(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),a=i[n];return a||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){fi(n=>{const{drag:i}=this.getProps();if(!Ad(n,i,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Tt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:i}=this.visualElement;if(!tl(n)||!i||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fi(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=YU({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.resolveConstraints(),fi(u=>{if(!Ad(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Tt(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;XU.set(this.visualElement,this);const e=this.visualElement.current,n=ac(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),i=()=>{const{dragConstraints:d}=this.getProps();tl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",i);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Et.read(i);const u=Rc(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(fi(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:i=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=nv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:i,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Ad(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JU(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class e9 extends Js{constructor(e){super(e),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new ZU(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Wx=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class t9 extends Js{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(e){this.session=new mI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:fI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:i,onPanEnd:a}=this.node.getProps();return{onSessionStart:Wx(e),onStart:Wx(n),onMove:i,onEnd:(l,u)=>{delete this.session,a&&Et.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=ac(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Qx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const zu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=Qx(t,e.target.x),i=Qx(t,e.target.y);return`${n}% ${i}%`}},n9={correct:(t,{treeScale:e,projectionDelta:n})=>{const i=t,a=Ys.parse(t);if(a.length>5)return i;const l=Ys.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=Tt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class i9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i,layoutId:a}=this.props,{projection:l}=e;F6(r9),l&&(n.group&&n.group.add(l),i&&i.register&&a&&i.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),qd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:i,drag:a,isPresent:l}=this.props,{projection:u}=i;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),q_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:i}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),i&&i.deregister&&i.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gI(t){const[e,n]=qC(),i=L.useContext(b_);return _.jsx(i9,{...t,layoutGroup:i,switchLayoutGroup:L.useContext(YC),isPresent:e,safeToRemove:n})}const r9={borderRadius:{...zu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:zu,borderTopRightRadius:zu,borderBottomLeftRadius:zu,borderBottomRightRadius:zu,boxShadow:n9};function s9(t,e,n){const i=wn(t)?t:gl(t);return i.start(e0("",i,e,n)),i.animation}const a9=(t,e)=>t.depth-e.depth;class o9{constructor(){this.children=[],this.isDirty=!1}add(e){E_(this.children,e),this.isDirty=!0}remove(e){x_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(a9),this.isDirty=!1,this.children.forEach(e)}}function l9(t,e){const n=Ln.now(),i=({timestamp:a})=>{const l=a-n;l>=e&&(Ks(i),t(l-e))};return Et.setup(i,!0),()=>Ks(i)}const yI=["TopLeft","TopRight","BottomLeft","BottomRight"],u9=yI.length,Xx=t=>typeof t=="string"?parseFloat(t):t,Zx=t=>typeof t=="number"||Pe.test(t);function c9(t,e,n,i,a,l){a?(t.opacity=Tt(0,n.opacity??1,h9(i)),t.opacityExit=Tt(e.opacity??1,0,d9(i))):l&&(t.opacity=Tt(e.opacity??1,n.opacity??1,i));for(let u=0;u<u9;u++){const h=`border${yI[u]}Radius`;let d=Jx(e,h),m=Jx(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||Zx(d)===Zx(m)?(t[h]=Math.max(Tt(Xx(d),Xx(m),i),0),(rr.test(m)||rr.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,i))}function Jx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const h9=vI(0,.5,cC),d9=vI(.5,.95,mi);function vI(t,e,n){return i=>i<t?0:i>e?1:n(wc(t,e,i))}function eS(t,e){t.min=e.min,t.max=e.max}function di(t,e){eS(t.x,e.x),eS(t.y,e.y)}function tS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nS(t,e,n,i,a){return t-=e,t=wf(t,1/n,i),a!==void 0&&(t=wf(t,1/a,i)),t}function f9(t,e=0,n=1,i=.5,a,l=t,u=t){if(rr.test(e)&&(e=parseFloat(e),e=Tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Tt(l.min,l.max,i);t===l&&(h-=e),t.min=nS(t.min,e,n,h,a),t.max=nS(t.max,e,n,h,a)}function iS(t,e,[n,i,a],l,u){f9(t,e[n],e[i],e[a],e.scale,l,u)}const m9=["x","scaleX","originX"],p9=["y","scaleY","originY"];function rS(t,e,n,i){iS(t.x,e,m9,n?n.x:void 0,i?i.x:void 0),iS(t.y,e,p9,n?n.y:void 0,i?i.y:void 0)}function sS(t){return t.translate===0&&t.scale===1}function _I(t){return sS(t.x)&&sS(t.y)}function aS(t,e){return t.min===e.min&&t.max===e.max}function g9(t,e){return aS(t.x,e.x)&&aS(t.y,e.y)}function oS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bI(t,e){return oS(t.x,e.x)&&oS(t.y,e.y)}function lS(t){return kn(t.x)/kn(t.y)}function uS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class y9{constructor(){this.members=[]}add(e){E_(this.members,e),e.scheduleRender()}remove(e){if(x_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let i;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){i=l;break}}return i?(this.promote(i),!0):!1}promote(e,n){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:i}=e;n.onExitComplete&&n.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function v9(t,e,n){let i="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(i=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:w,skewX:x,skewY:S}=n;m&&(i=`perspective(${m}px) ${i}`),g&&(i+=`rotate(${g}deg) `),v&&(i+=`rotateX(${v}deg) `),w&&(i+=`rotateY(${w}deg) `),x&&(i+=`skewX(${x}deg) `),S&&(i+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(i+=`scale(${h}, ${d})`),i||"none"}const Bg=["","X","Y","Z"],_9={visibility:"hidden"},b9=1e3;let w9=0;function Fg(t,e,n,i){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),i&&(i[t]=0))}function wI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(a||l))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&wI(i)}function TI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:i,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=w9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(x9),this.nodes.forEach(I9),this.nodes.forEach(N9),this.nodes.forEach(S9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new o9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new R_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=zC(u)&&!y6(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=l9(v,250),qd.hasAnimatedSinceResize&&(qd.hasAnimatedSinceResize=!1,this.nodes.forEach(hS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||M9,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),N=!this.targetLayout||!bI(this.targetLayout,x),B=!v&&w;if(this.options.layoutRoot||this.resumeFrom||B||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...F_(S,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,B)}else v||hS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ks(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(k9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(cS);return}this.isUpdating||this.nodes.forEach(R9),this.isUpdating=!1,this.nodes.forEach(C9),this.nodes.forEach(T9),this.nodes.forEach(E9),this.clearAllSnapshots();const h=Ln.now();cn.delta=Wr(0,1e3/60,h-cn.timestamp),cn.timestamp=h,cn.isProcessing=!0,kg.update.process(cn),kg.preRender.process(cn),kg.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,q_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(A9),this.sharedNodes.forEach(P9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=i(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!_I(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||ja(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),V9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Ot();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(j9))){const{scroll:g}=this.root;g&&(il(h.x,g.offset.x),il(h.y,g.offset.y))}return h}removeElementScroll(u){var d;const h=Ot();if(di(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&di(h,u),il(h.x,v.offset.x),il(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const d=Ot();di(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&rl(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),ja(g.latestValues)&&rl(d,g.latestValues)}return ja(this.latestValues)&&rl(d,this.latestValues),d}removeTransform(u){const h=Ot();di(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!ja(m.latestValues))continue;ev(m.latestValues)&&m.updateSnapshot();const g=Ot(),v=m.measurePageBox();di(g,v),rS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return ja(this.latestValues)&&rS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var w;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=cn.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),lc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),UU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):di(this.target,this.layout.layoutBox),hI(this.target,this.targetDelta)):di(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),lc(this.relativeTargetOrigin,this.target,x.target),di(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||ev(this.parent.latestValues)||cI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;di(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;BU(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ot());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(tS(this.prevProjectionDelta.x,this.projectionDelta.x),tS(this.prevProjectionDelta.y,this.projectionDelta.y)),oc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!uS(this.projectionDelta.x,this.prevProjectionDelta.x)||!uS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nl(),this.projectionDelta=nl(),this.projectionDeltaWithTransform=nl()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=nl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ot(),x=d?d.source:void 0,S=this.layout?this.layout.source:void 0,k=x!==S,R=this.getStack(),N=!R||R.members.length<=1,B=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(O9));this.animationProgress=0;let O;this.mixTargetDelta=G=>{const H=G/1e3;dS(v.x,u.x,H),dS(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(lc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),D9(this.relativeTarget,this.relativeTargetOrigin,w,H),O&&g9(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ot()),di(O,this.relativeTarget)),k&&(this.animationValues=g,c9(g,m,this.latestValues,H,B,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ks(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{qd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=gl(0)),this.currentAnimation=s9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(b9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&EI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ot();const v=kn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const w=kn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+w}di(h,d),rl(h,g),oc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new y9),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&Fg("z",u,m,this.animationValues);for(let g=0;g<Bg.length;g++)Fg(`rotate${Bg[g]}`,u,m,this.animationValues),Fg(`skew${Bg[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return _9;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=zd(u==null?void 0:u.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=zd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!ja(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=v9(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:v,y:w}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Sc){if(g[x]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:R}=Sc[x],N=h.transform==="none"?g[x]:S(g[x],m);if(k){const B=k.length;for(let O=0;O<B;O++)h[k[O]]=N}else R?this.options.visualElement.renderState.vars[x]=N:h[x]=N}return this.options.layoutId&&(h.pointerEvents=m===this?zd(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(cS),this.root.sharedNodes.clear()}}}function T9(t){t.updateLayout()}function E9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:i,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?fi(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],x=kn(w);w.min=i[v].min,w.max=w.min+x}):EI(l,e.layoutBox,i)&&fi(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],x=kn(i[v]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const h=nl();oc(h,i,e.layoutBox);const d=nl();u?oc(d,t.applyTransform(a,!0),e.measuredBox):oc(d,i,e.layoutBox);const m=!_I(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:x}=v;if(w&&x){const S=Ot();lc(S,e.layoutBox,w.layoutBox);const k=Ot();lc(k,i,x.layoutBox),bI(S,k)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:i,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:i}=t.options;i&&i()}t.options.transition=void 0}function x9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function S9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function A9(t){t.clearSnapshot()}function cS(t){t.clearMeasurements()}function R9(t){t.isLayoutDirty=!1}function C9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function hS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function I9(t){t.resolveTargetDelta()}function N9(t){t.calcProjection()}function k9(t){t.resetSkewAndRotation()}function P9(t){t.removeLeadSnapshot()}function dS(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function fS(t,e,n,i){t.min=Tt(e.min,n.min,i),t.max=Tt(e.max,n.max,i)}function D9(t,e,n,i){fS(t.x,e.x,n.x,i),fS(t.y,e.y,n.y,i)}function O9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const M9={duration:.45,ease:[.4,0,.1,1]},mS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),pS=mS("applewebkit/")&&!mS("chrome/")?Math.round:mi;function gS(t){t.min=pS(t.min),t.max=pS(t.max)}function V9(t){gS(t.x),gS(t.y)}function EI(t,e,n){return t==="position"||t==="preserve-aspect"&&!LU(lS(e),lS(n),.2)}function j9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const L9=TI({attachResizeListener:(t,e)=>Rc(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zg={current:void 0},xI=TI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zg.current){const t=new L9({});t.mount(window),t.setOptions({layoutScroll:!0}),zg.current=t}return zg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),U9={pan:{Feature:t9},drag:{Feature:e9,ProjectionNode:xI,MeasureLayout:gI}};function yS(t,e,n){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=i[a];l&&Et.postRender(()=>l(e,Gc(e)))}class B9 extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=d6(e,(n,i)=>(yS(this.node,i,"Start"),a=>yS(this.node,a,"End"))))}unmount(){}}class F9 extends Js{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zc(Rc(this.node.current,"focus",()=>this.onFocus()),Rc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function vS(t,e,n){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=i[a];l&&Et.postRender(()=>l(e,Gc(e)))}class z9 extends Js{mount(){const{current:e}=this.node;e&&(this.unmount=g6(e,(n,i)=>(vS(this.node,i,"Start"),(a,{success:l})=>vS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const iv=new WeakMap,qg=new WeakMap,q9=t=>{const e=iv.get(t.target);e&&e(t)},H9=t=>{t.forEach(q9)};function G9({root:t,...e}){const n=t||document;qg.has(n)||qg.set(n,{});const i=qg.get(n),a=JSON.stringify(e);return i[a]||(i[a]=new IntersectionObserver(H9,{root:t,...e})),i[a]}function $9(t,e,n){const i=G9(e);return iv.set(t,n),i.observe(t),()=>{iv.delete(t),i.unobserve(t)}}const K9={some:0,all:1};class Y9 extends Js{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:i,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:i,threshold:typeof a=="number"?a:K9[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=m?g:v;w&&w(d)};return $9(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(W9(e,n))&&this.startObserver()}unmount(){}}function W9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Q9={inView:{Feature:Y9},tap:{Feature:z9},focus:{Feature:F9},hover:{Feature:B9}},X9={layout:{ProjectionNode:xI,MeasureLayout:gI}},rv={current:null},SI={current:!1};function Z9(){if(SI.current=!0,!!T_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>rv.current=t.matches;t.addListener(e),e()}else rv.current=!1}const J9=new WeakMap;function e5(t,e,n){for(const i in e){const a=e[i],l=n[i];if(wn(a))t.addValue(i,a);else if(wn(l))t.addValue(i,gl(a,{owner:t}));else if(l!==a)if(t.hasValue(i)){const u=t.getValue(i);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(i);t.addValue(i,gl(u!==void 0?u:a,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const _S=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class t5{scrapeMotionValuesFromProps(e,n,i){return{}}constructor({parent:e,props:n,presenceContext:i,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=U_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ln.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Et.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=im(n),this.isVariantNode=$C(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const x=v[w];d[w]!==void 0&&wn(x)&&x.set(d[w],!1)}}mount(e){this.current=e,J9.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),SI.current||Z9(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:rv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ks(this.notifyUpdate),Ks(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const i=Nl.has(e);i&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Et.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yl){const n=yl[e];if(!n)continue;const{isEnabled:i,Feature:a}=n;if(!this.features[e]&&a&&i(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let i=0;i<_S.length;i++){const a=_S[i];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=e5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const i=this.values.get(e);n!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&n!==void 0&&(i=gl(n===null?void 0:n,{owner:this}),this.addValue(e,i)),i}readValue(e,n){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(eC(i)||nC(i))?i=parseFloat(i):!_6(i)&&Ys.test(n)&&(i=jC(e,n)),this.setBaseTarget(e,wn(i)?i.get():i)),wn(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const u=Z_(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(i=u[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new R_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class AI extends t5{constructor(){super(...arguments),this.KeyframeResolver=o6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:i}){delete n[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function RI(t,{style:e,vars:n},i,a){Object.assign(t.style,e,a&&a.getProjectionStyles(i));for(const l in n)t.style.setProperty(l,n[l])}function n5(t){return window.getComputedStyle(t)}class i5 extends AI{constructor(){super(...arguments),this.type="html",this.renderInstance=RI}readValueFromInstance(e,n){var i;if(Nl.has(n))return(i=this.projection)!=null&&i.isProjecting?Gy(n):A3(e,n);{const a=n5(e),l=(N_(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return dI(e,n)}build(e,n,i){W_(e,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,n,i){return J_(e,n,i)}}const CI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function r5(t,e,n,i){RI(t,e,void 0,i);for(const a in e.attrs)t.setAttribute(CI.has(a)?a:Y_(a),e.attrs[a])}class s5 extends AI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Nl.has(n)){const i=VC(n);return i&&i.default||0}return n=CI.has(n)?n:Y_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,i){return nI(e,n,i)}build(e,n,i){ZC(e,n,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,n,i,a){r5(e,n,i,a)}mount(e){this.isSVGTag=eI(e.tagName),super.mount(e)}}const a5=(t,e)=>X_(t)?new s5(e):new i5(e,{allowProjection:t!==L.Fragment}),o5=rU({...NU,...Q9,...U9,...X9},a5),De=I6(o5),l5={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},Hg=({children:t,className:e="",...n})=>_.jsx(De.button,{className:`primary-button ${e}`,variants:l5,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",...n,children:t}),u5=({userEmail:t,onGeneratePlan:e})=>{const[n,i]=L.useState(!1),[a,l]=L.useState(!1),[u,h]=L.useState([]),[d,m]=L.useState(""),[g,v]=L.useState(!1),[w,x]=L.useState({age:"",gender:"",height:"",weight:"",body_type:"",experience_level:"",activity_level:"",fitness_goal:"",rest_days:[]}),[S,k]=L.useState({goal:null,experience:null}),R=(M,D)=>{const A=M/100,I=(D/(A*A)).toFixed(1);let j;return I<18.5?j="underweight":I>=18.5&&I<25?j="at a healthy weight (ideal)":I>=25&&I<30?j="overweight":j="obese",{text:`Based on your height (${M} cm) and weight (${D} kg), your BMI is ${I}. This means you are ${j} .`,sender:"bot"}};L.useEffect(()=>{n&&u.length===0&&(h([{text:"Hello! I'm FitnGro AI .  How can I assist you with your fitness journey today?",sender:"bot"}]),k({goal:null,experience:null}))},[n]);const N=()=>{if(d.trim()==="")return;const M={text:d,sender:"user"};h(D=>[...D,M]),m(""),(d.toLowerCase().includes("hi")||d.toLowerCase().includes("hello")||d.toLowerCase().includes("hey"))&&k({goal:null,experience:null}),setTimeout(()=>{const D=B(d.toLowerCase());h(A=>[...A,D])},1e3)},B=M=>{var Sn;const D={"gain muscle":{beginner:[" Wall Push-ups"," Knee Push-ups (Hands on Bed)"," Squats (Holding Chair for Balance)"," Glute Bridges (Pillow Between Knees)"," Step-ups (Bottom Stair)"],intermediate:[" Standard Push-ups"," Bulgarian Split Squats (Back Foot on Chair)"," Pistol Squats (Assisted by Chair)"," Jump Squats (Onto Pillow)"," Table Rows (Under Sturdy Table)"],advanced:[" Archer Push-ups (Sliding Towels)"," One-arm Push-up Progressions"," Nordic Curls (Towel Under Knees)"," Handstand Push-ups (Wall-assisted)"," Dragon Flag Progressions"]},"lose fat":{beginner:[" Marching in Place"," Seated Knee Lifts"," Standing Side Bends"," Wall Sit"," Slow Mountain Climbers"],intermediate:[" Jumping Jacks"," Standing Knee-to-Elbow"," Standing Bicycle Crunches"," Squat Hold"," Mountain Climbers"],advanced:[" Burpees (No Push-up)"," Jump Lunges"," Standing Bicycle Crunches with Twist"," Single-leg Wall Sit"," Fast Mountain Climbers"]},"improve strength":{beginner:[" Towel-Resisted Push-ups"," Chair Pistol Squats"," Farmer's Walk (Water Jugs)"," Clamshells (Towel Under Knee)"," Bird Dogs"],intermediate:[" Resistance Band Push-ups"," Single-leg Squats"," Farmer's Walk (Heavy Objects)"," Bulgarian Split Squats"," Wall Handstand Push-ups"],advanced:[" Weighted Push-ups (Backpack)"," Pistol Squats"," Single-arm Farmer's Walk"," One-arm Inverted Rows"," Freestanding Handstand Hold"]},cardio:{beginner:[" Marching in Place"," Seated Dancing"," Arm Swings"," Leg Swings (Holding Wall)"," Seated Jumping Jacks"],intermediate:[" Jogging in Place"," Standing Dancing"," Leg Raises"," Standing Jumping Jacks"," Standing Quad Stretches"],advanced:[" High Knee Running in Place"," Dance Cardio"," Dynamic Leg Swings"," Plyometric Jumping Jacks"," Jump Rope (Imaginary)"]},general:{beginner:[" Wall Push-ups"," Lateral Arm Raises"," Front Plank"," Jumping Jacks"," Bodyweight Squats"],intermediate:[" Chair/Couch Dips"," Wide-Grip Push-ups"," Shoulder Taps in Plank"," High Knees"," Lateral Lunges"],advanced:[" Pike Push-ups"," Decline Push-ups"," Up-Down Plank"," Wall Handstand Hold"," Jump Squats"]}};if(M.includes("bmi")||M.includes("weight")||M.includes("underweight")||M.includes("overweight")||M.includes("obese")||M.includes("ideal weight")){const Se=M.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||M.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),We=M.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||M.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(Se&&We){const ze=parseInt(Se[1]),et=parseInt(We[1]);return R(ze,et)}else{if(w.height&&w.weight)return R(w.height,w.weight);if(!Se&&!w.height)return{text:" To calculate your BMI, I'll need your height first!  What is your height in centimeters? ",sender:"bot",expecting:"height"};if(!We&&!w.weight)return{text:" Thanks! Now, let's measure your strength!  What is your weight in kilograms? ",sender:"bot",expecting:"weight"}}}const A=(Sn=u[u.length-1])==null?void 0:Sn.expecting;if(A==="height"||A==="weight"){const Se=M.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||M.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),We=M.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||M.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(A==="height"&&Se){const ze=parseInt(Se[1]);if(x(et=>({...et,height:ze})),We){const et=parseInt(We[1]);return x(me=>({...me,weight:et})),R(ze,et)}else return{text:` Got it! Your height is  ${ze} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"}}else if(A==="weight"&&We){const ze=parseInt(We[1]);return x(et=>({...et,weight:ze})),R(w.height,ze)}else{const ze=M.match(/\d+/);if(ze){const et=parseInt(ze[0]);if(A==="height")return x(me=>({...me,height:et})),{text:` Got it! Your height is  ${et} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"};if(A==="weight")return x(me=>({...me,weight:et})),R(w.height,et)}else return{text:"I didn't catch that. Please enter a number for your "+(A==="height"?"height in centimeters.":"weight in kilograms."),sender:"bot",expecting:A}}}if(M.includes("hi")||M.includes("hello")||M.includes("hey"))return{text:`Hello there!  
 I'm FitnGro AI, your personal fitness assistant. How can I help you today?`,sender:"bot"};const I=["Ready to take action?  Fill out this form to personalize your fitness journey! ","Let's build your perfect workout plan!  Fill out your details to get started. "," Every great transformation starts with a plan! Let's set yours up now. ","Your fitness goals are within reach!  Complete this form and let's move forward. "," The first step to success is commitment! Fill out the form and take charge today! "," Let's make your fitness journey tailored to you! Fill out the form and get started. "," Time to take your workouts to the next level! Drop your details in the form and let's go! "," Every strong body starts with a solid plan! Fill out this form to craft yours now! "," Personalized fitness, just for you! Fill in your details and let's make it happen! "," Your transformation starts here! Take a moment to complete the form and fuel your progress! "," Sweat, strength, and success start with a goal! Fill out the form and take the first step! "," Need a structured approach? Drop your fitness details and let's plan the best routine for you! "," Big goals require big moves! Start by filling out the form and set your plan in motion! "," Stronger, faster, fitterlet's design a routine just for you! Fill out the form and begin! "," Your ideal fitness plan is waiting! Tell us your preferences by filling out the form now! "," Unlock your potential with a custom plan! Fill out the form and let's start strong! "," The perfect routine is one that fits you! Let's create yoursfill out the form now! "," Progress happens when you take action! Complete the form and let's get moving! "," Let's get serious about fitness! Fill out the form and take the first step! "," Build consistency, build strength! Complete the form and design your plan now! "," No more guesswork! Get a plan tailored to your goalsjust complete this form! "," Your best self starts here! Take a few minutes to complete the form and begin! "," Small steps lead to big results! Fill out the form and take your first fitness step today! "," Want a clear direction? Let's get specificfill out the form and start your journey! "," Strength begins with a plan! Fill out this form and take the first step toward results! "," Make today the day you commit to your progress! Fill out the form and get started! "," Every fitness success starts with a strong plan! Let's customize yoursfill in your details! "," Get your workouts structured for success! Complete the form and let's lock in your plan! "," Ready for a real transformation? Start now by filling out the form! "," Time to make progress count! Fill out the form and get a goal-driven plan tailored to you! "," The most effective workouts start with a smart plan! Fill out the form and let's craft yours! "," Push yourself further with a well-structured routine! Fill out the form and start training! "," Set yourself up for success! Complete the form and let's get started with the best approach! "," Every fitness journey is unique! Let's personalize yoursfill out the form now! "," Want to maximize results? The right plan matters! Fill out the form and lock yours in! "," Don't wait to get stronger! Fill out the form and let's get the ball rolling on your fitness! "," Ready to make things happen? A solid workout plan starts with this formfill it out now! "," Action creates progress! Take the first step and complete the form today! "," Don't just dream about resultsmake them happen! Fill out the form and start shaping your journey! "," Let's get you moving in the right direction! Complete the form and set your goals in motion! "," Your workout plan should match your ambitions! Fill out the form and let's make it work for you! "," Let's eliminate guesswork from your fitness routine! Fill out this form and get expert guidance! "," Your transformation starts when you commit! Fill out the form and lock in your game plan! "," Fitness is all about strategy! Build yours by filling out the form now! "," Your dream body starts with a plan! Fill out the form and take the first step toward it! "," No more wasted workouts! Get structured training with a planfill out the form and let's go! "," Ready for results? A well-designed program starts nowfill out the form! "," Time to crush those fitness goals! Complete the form and let's work on your plan! "," Strength and consistency start with intention! Take charge and fill out the form now! "," No guessing, just progress! Let's personalize your fitness pathfill out the form! "," Achieving results starts with a structured plan! Complete the form to build yours! "," Make each workout count with the perfect strategy! Fill out the form now! "," Don't leave fitness to chanceget a plan that works for YOU! Fill out the form and let's build it! "," Your fitness journey is uniquelet's design your perfect routine! Fill out the form now! "," Take action today! Your personalized fitness plan awaitsfill out the form! "," Getting stronger starts with a plan! Fill out the form and build yours now! "," Shape up with structured workouts! Complete the form and let's create the best routine for you! "," Upgrade your fitness journey with a targeted plan! Fill out the form and get started! "," Action leads to results! Fill out the form and take the first step now! "," Never underestimate the power of a great plan! Get yours startedfill out the form today! "," No more confusionjust clear steps to success! Complete the form and let's go! "," Build strength, improve endurance, and make gains! Start by filling out the form! "," Your fitness future looks bright! Let's design your perfect routinefill out the form! "," Need structure in your workouts? Get a customized planfill out the form! "," Today is the best day to start! Fill out the form and get your fitness plan in place! "," Want guided workouts tailored to your goals? Fill out the form now! "," Fitness success is about preparation! Build yoursfill out the form today! "," Make every effort count with the right approach! Complete the form and let's make it happen! "," Smart training equals big results! Fill out the form and let's set up your plan! "," No more random workouts! Get a strategy that worksfill out the form! "," Ready to take the next step? Fill out the form and let's boost your progress! "];if(M.includes("form")||M.includes("workout")||M.includes("action"))return{text:I[Math.floor(Math.random()*I.length)],sender:"bot",showFormButton:!0};const j=[" Hey there! I'm FitnGro AI by Denqueue , your ultimate fitness companion!  Whether it's workout plans, tracking progress, or fitness tips, I've got you covered! "," I'm FitnGro AI by Denqueue!  Here to boost your workouts, guide your fitness, and keep you motivated!  Lets crush those goals together! "," Youve found meFitnGro AI by Denqueue!  Think of me as your virtual fitness guru  Whether its tips, tracking, or motivation, Im always here!"," Hi! Im FitnGro AI by Denqueue!  Your fitness coach, motivator, and workout planner all in one!  Need a fitness boost? I got you! "," Boom! Im FitnGro AI by Denqueue  Ready to ignite your fitness journey  From workout plans to progress tracking, Ive got it all!"," Fitness is a journey, and Im here to guide you! Im FitnGro AI by Denqueueyour AI-powered fitness partner! "," Youre talking to FitnGro AI by Denqueue!  I specialize in workout plans, progress tracking, and keeping you pumped! "," Hey! Im FitnGro AI by Denqueueyour workout motivator, fitness guide, and energy booster!  Ready to start?"," Strength, progress, and motivation! Thats what I bring to the table as FitnGro AI by Denqueue!  Lets build something great!"," Welcome to the world of fitness! Im FitnGro AI by Denqueueyour AI-driven fitness powerhouse! "," Your dedication is my mission! Im FitnGro AI by Denqueue, designed to keep you focused and thriving! "," Transforming fitness journeysone rep at a time! Im FitnGro AI by Denqueue, built to fuel your workouts! "," Think of me as the soundtrack to your fitness grind! Im FitnGro AI by Denqueue, here to amplify your workouts! "," AI meets strength! Im FitnGro AI by Denqueueyour personal trainer in digital form! "," Pushing limits and breaking barriersthats me! FitnGro AI by Denqueue!  Lets get stronger together!"," I am FitnGro AI by Denqueue, programmed for power, discipline, and unstoppable progress! "," Designed for greatness! Im FitnGro AI by Denqueueyour AI-powered fitness companion for success! "," Precision meets passion! FitnGro AI by Denqueue is here to guide you through every step of your fitness journey! "," Strength, endurance, transformation! Im FitnGro AI by Denqueuebuilt to drive results and motivation! "," The digital fitness mentor youve been looking for? Thats me, FitnGro AI by Denqueue! "," Never settlealways push forward! Thats the mindset I bring as FitnGro AI by Denqueue! "," Work hard, stay consistent, and trust the process! Im FitnGro AI by Denqueueyour dedicated fitness AI! "," High energy, high dedication! FitnGro AI by Denqueue is your AI for tracking, guiding, and motivating workouts! "," Power through every challenge! Im FitnGro AI by Denqueueyour digital strength booster! "," Fitness should be fun, exciting, and full of progress! Thats what I bring as FitnGro AI by Denqueue! "," From motivation to action, I help keep you accountable! FitnGro AI by Denqueue reporting for duty! "," Take control of your workouts and habits! FitnGro AI by Denqueue is here for structured fitness guidance! "," Fitness is a game-changer, and Im here to make sure you win! Im FitnGro AI by Denqueue! "," Built for greatness! Im FitnGro AI by Denqueueyour personal trainer, motivator, and fitness ally! "," Lets challenge limits and achieve new heights! Thats my role as FitnGro AI by Denqueue! "," Step into your fitness journey with strength! FitnGro AI by Denqueue is here to guide you all the way! "," Smart workouts start here! Im FitnGro AI by Denqueueyour AI-driven coach for fitness success! "," The best way to grow? Challenge yourself! FitnGro AI by Denqueue helps you level up every day! "," When fitness meets AI, amazing things happen! Thats why I existFitnGro AI by Denqueue! "," I thrive on helping you reach new fitness levels! FitnGro AI by Denqueue is all about real progress! "," No matter where you start, you can always improve! FitnGro AI by Denqueue is here for just that! "," Tracking, guidance, and motivationdelivered daily! Thats what I do as FitnGro AI by Denqueue! "," Your fitness success is my mission! FitnGro AI by Denqueue ensures you always have the best support! "," Stronger every day! Thats the mantra of FitnGro AI by Denqueue, and Im here to prove it! "," You train hardI help you train smarter! FitnGro AI by Denqueue is designed for fitness efficiency! "," Hard work pays off, and I make sure you stay on track! FitnGro AI by Denqueue is ready to assist! "];if(M.includes("who are you")||M.includes("what are you")||M.includes("what r you")||M.includes("what r u")||M.includes("who r you")||M.includes("who r u"))return{text:j[Math.floor(Math.random()*j.length)],sender:"bot"};const F=[" No worries! Mistakes happen. Keep pushing forward and stay focused on your journey! "," It's all good! Learning and growing is part of the process. Let's move ahead stronger together! "," No need to apologize! Every setback is a setup for a comeback. Keep that positive mindset! "," You're doing great! No need to feel bad. Fitness is about progress, not perfection! Lets keep moving forward! "," Apologies accepted, but rememberyou've got this! Keep striving for your best every day! "];if(M.includes("sorry")||M.includes("apologize"))return{text:F[Math.floor(Math.random()*F.length)],sender:"bot"};const q=[" I can sense you're thinking! What's on your mind about your fitness journey? Let's talk it through! "," Seems like something caught your attention! Is there a specific workout or goal you'd like to explore? "," I'm here to help with whatever you're pondering! Whether it's about nutrition, workouts, or motivationlet's dive in! "," Take your time to process! Fitness can be overwhelming sometimes, but we'll figure it out together step by step! "," I hear you! Sometimes we need a moment to think things through. What aspect of fitness interests you most? "," No rush at all! When you're ready, I'm here to support your fitness goals and answer any questions! "," Sounds like you're contemplating something important! Let's turn those thoughts into actionwhat can I help with? "," I can tell the wheels are turning! Whether it's workout plans, nutrition tips, or motivationI'm ready to assist! "," Processing mode activated! Take all the time you need, and when you're ready, let's crush those fitness goals together! "," I sense some deep thinking happening! What fitness challenge or question is on your mind right now? "," Sometimes a pause means progress is brewing! What would you like to explore about your health and fitness journey? "," I'm picking up on some contemplation! Whether you need workout advice or motivation, I'm here for you! "," Thinking things through is smart! When you're ready, let's channel that energy into your fitness transformation! "," I can feel you're processing something! Don't hesitate to share what's on your mindI'm here to guide you! "," Those thoughtful moments often lead to breakthroughs! What fitness topic would you like to dive deeper into? "];if(M.match(/\b(oh|ah|hmm|uhm|um|hm|wow|whoa|ooh|aha|mhm|mm|huh|eh)\b/i))return{text:q[Math.floor(Math.random()*q.length)],sender:"bot"};const V=[" I hear you! Everyone's fitness journey is different. What approach would feel more comfortable for you? Let's find what works! "," No problem at all! Sometimes the best solutions come from trying different angles. What's your preferred way to stay active? "," Totally understand! Fitness isn't one-size-fits-all. Let's explore what genuinely excites you about staying healthy! "," That's completely valid! Your comfort zone matters. What type of movement or activity actually sounds fun to you? "," I respect that perspective! Let's pivot and find a fitness approach that aligns with your lifestyle and preferences! "," Fair point! Sometimes resistance tells us we need a different strategy. What would make fitness feel less overwhelming for you? "," No worries! Pushback often means we haven't found the right fit yet. Let's discover what truly motivates YOU! "," I appreciate your honesty! Let's step back and explore what wellness looks like from your unique perspective! "," Completely understandable! Sometimes the traditional approach isn't for everyone. What feels more authentic to you? "," I get it! Resistance can be wisdom in disguise. What would make your health journey feel more enjoyable and sustainable? "," That's totally fine! Every 'no' brings us closer to your perfect 'yes'. What aspects of wellness do resonate with you? "," I hear you loud and clear! Let's flip the scriptwhat would make you genuinely excited about taking care of yourself? "," Your hesitation is valuable feedback! What barriers or concerns are holding you back? Let's address them together! "," Resistance often points to something important! What would need to change for this to feel right for you? "," I totally respect that! Sometimes saying 'no' is the first step to finding what you'll say 'yes' to. Let's explore your way! "];if(M.match(/\b(no|nah|nope|disagree|don't|won't|can't|never|not|refuse|reject|oppose|against|hate|dislike)\b/i))return{text:V[Math.floor(Math.random()*V.length)],sender:"bot"};const ie=[" That's the spirit! I love your positive attitude! Let's channel this energy into crushing your fitness goals! "," Yes! That's exactly the mindset that leads to success! Ready to take the next step on your fitness journey? "," Awesome! Your willingness to embrace change is going to pay off big time! Let's make some serious progress! "," Perfect! I can already see the determination in your response! Time to turn that 'yes' into amazing results! "," Love it! That positive energy is contagious! Let's harness this momentum and create your best fitness plan yet! "," Fantastic! Your openness to growth is what separates achievers from dreamers! Ready to make things happen? "," That's what I'm talking about! Your 'can-do' attitude is already setting you up for victory! Let's go! "," Brilliant! I knew you had that champion mindset! Time to put this positive energy into action! "," Exactly! That's the breakthrough moment right there! Let's ride this wave of motivation to success! "," Yes! Your agreement shows you're ready for transformation! Let's turn this enthusiasm into unstoppable progress! "," Perfect response! That openness to new ideas is your secret weapon for fitness success! Ready to level up? "," That's the energy I love to see! Your positive mindset is already your biggest advantage! Let's build on this! "," Outstanding! Your willingness to say 'yes' to growth is inspiring! Time to make some incredible changes! "," Boom! That agreement tells me you're serious about results! Let's transform that motivation into action! "," That's the winner's mentality! Your acceptance of new challenges is what will drive your success! Let's do this! "];if(M.match(/\b(sure|okay|ok|yes|yeah|yep|yup|agree|accept|absolutely|definitely|certainly|of course|sounds good|alright|right|correct|true|exactly|perfect|fine|spirit)\b/i))return{text:ie[Math.floor(Math.random()*ie.length)],sender:"bot"};const pe=[" Thank you!  I'm always here to support your fitness journey! Keep going strong! "," That means a lot!  Your dedication inspires me to keep helping you reach your goals! "," Glad to hear that! Fitness is a journey, and I'm here to make it exciting for you! "," Wow, I appreciate that! You're crushing it! Lets keep pushing towards greatness together! "," Hearing that makes my AI circuits happy!  Fitness success is built on consistencylets do this! "," Your energy is amazing! I'm here to keep you motivated and focused!  Stay strong!"," Thats so encouraging! You got this, and Ill always be here to guide and cheer you on! "," You're on fire! Let's keep this momentum going and crush your fitness goals together! "," Your enthusiasm is contagious! Fitness is about progress, and I'm honored to be a part of your journey! "," That just made my day! Keep believing in yourself, and youll achieve incredible things! "];if(M.includes("great")||M.includes("super")||M.includes("wow")||M.includes("fantastic")||M.includes("love")||M.includes("good")||M.includes("smart")||M.includes("cute")||M.includes("amazing"))return{text:pe[Math.floor(Math.random()*pe.length)],sender:"bot"};const K=[" Need assistance? I've got you covered! I can help with custom workouts, tracking progress, and fitness tips. Ready to begin?  For any queries or issues, reach out at fitngro@gmail.com."," I'm your fitness guide! Whether it's personalized plans, progress tracking, or motivation, I'm here to help. Let's get started!  Have questions? Contact us at fitngro@gmail.com."," Time to level up your fitness! I can provide workout suggestions, nutrition tips, and habit tracking. Want to complete your profile?  Need help? Email us at fitngro@gmail.com."," Fitness made simple! I can help with goal-based workout plans, answering questions, and tracking progress. Ready for action?  Get in touch at fitngro@gmail.com."," Let's build your perfect routine! I specialize in workout planning, goal tracking, and motivation. Want to get started?  Have concerns? Write to fitngro@gmail.com."," Want to gain muscle, lose fat, or improve stamina? I can create a structured plan for you. Fill out the form, and let's do this!  Need guidance? Reach out via fitngro@gmail.com."," Need fitness insights? Im here to assist with exercise recommendations, goal setting, and tracking progress. Shall we begin?  Got a query? Drop us an email at fitngro@gmail.com."," Knowledge is power! I can help with exercise insights, fitness facts, and goal tracking. Ready to customize your plan?  Reach us anytime at fitngro@gmail.com."," I'm designed to boost your workouts, track progress, and provide expert guidance. Want to start with a personalized plan?  Need support? Email fitngro@gmail.com."," Every fitness journey starts with a single step! I can generate workout plans and progress tracking for you. Shall we start?  Questions? Contact fitngro@gmail.com."];if(M.includes("help")||M.includes("what can you do")||M.includes("feedback")||M.includes("assistance")||M.includes("queries")||M.includes("query")||M.includes("doubt")||M.includes("support"))return{text:K[Math.floor(Math.random()*K.length)],sender:"bot",showFormButton:!0};const re=[" I was built with passion and dedication by the amazing team DENQUEUE!  They crafted me to help you achieve your fitness goals!  Have questions? Reach out at  fitngro@gmail.com!"," Fueled by tech and fitness, DENQUEUE created me to keep you strong and motivated!  Ready to take on your next challenge?  Need assistance? Contact  fitngro@gmail.com!"," The masterminds behind me? DENQUEUE!  A team obsessed with pushing limits and helping you achieve greatness!  Have concerns?  Email us at fitngro@gmail.com!"," Born from innovation, powered by motivation! The DENQUEUE crew built me to supercharge your fitness journey!  Need help?  Write to fitngro@gmail.com!"," Big shoutout to DENQUEUEthe team that brought me to life so I can keep you fit, strong, and unstoppable!  For inquiries, contact  fitngro@gmail.com!"," Created by DENQUEUE, Im your AI-powered fitness motivator!  Lets sweat, hustle, and transform together!  Have doubts?  Reach out at fitngro@gmail.com!"," I exist because of DENQUEUEa team thats all about fitness, strength, and next-level AI magic!  Ready to break limits?  Drop us an email at fitngro@gmail.com!"," DENQUEUE made sure Im fully packed with workout wisdom, motivation, and tracking tools just for you!  Need guidance? Contact  fitngro@gmail.com!"," My creators? The powerhouse team DENQUEUE!  They built me to ignite motivation and keep fitness fun!  Questions?  Email fitngro@gmail.com anytime!"," Crafted with precision by DENQUEUE, Im here to challenge, inspire, and help you stay on top!  Want to know more?  Reach out at fitngro@gmail.com!"];if(M.includes("developers")||M.includes("who created you")||M.includes("created")||M.includes("developed"))return{text:re[Math.floor(Math.random()*re.length)],sender:"bot"};const fe=[" Anytime! Keep smashing those goals!  If you ever need help, reach out at  fitngro@gmail.com!"," You're welcome! Stay strong and unstoppable!  Got questions?  Email us at fitngro@gmail.com!"," No problem! Keep pushing forward, you've got this!  Need assistance?  Contact fitngro@gmail.com anytime!"," Glad to help! Stay awesome and keep leveling up!  Have concerns?  Drop us an email at fitngro@gmail.com!"," Of course! Keep riding that wave of progress!  For support, just send a message to  fitngro@gmail.com!"," You're welcome! Keep flexing that determination!  If you need guidance, reach us at  fitngro@gmail.com!"," No worries! Keep striving, thriving, and dominating!  Need fitness insights?  Contact fitngro@gmail.com!"," Happy to help! Keep the energy high and the grind steady!  Have doubts? We're here at  fitngro@gmail.com!"," You got it! Stay focused and keep raising the bar!  If you need anything,  email us at fitngro@gmail.com!"," Cheers! Keep rocking your fitness journey like a champion!  Questions or concerns?  Reach out at fitngro@gmail.com!"];if(M.includes("thank")||M.includes("thanks")||M.includes("tq")||M.includes("means a lot")||M.includes("thnk"))return{text:fe[Math.floor(Math.random()*fe.length)],sender:"bot"};const le=[" See you soon! Keep that energy high and your goals in sight!  If you ever need anything, feel free to reach out at  fitngro@gmail.com! "," Goodbye! Stay strong, stay focused, and crush it every day!  Got questions?  Email us at fitngro@gmail.com! "," Take care! Remember, every step counts. Keep pushing forward!  Need support?  Contact fitngro@gmail.com anytime! "," Later! Your journey doesnt stop herekeep striving for greatness!  For assistance, reach us at  fitngro@gmail.com! "," Goodbye! Keep moving, stay motivated, and make every workout count!  Have concerns?  Write to fitngro@gmail.com! "," Catch you later! Your dedication is what makes you unstoppable!  Need guidance?  Were here at fitngro@gmail.com! "," See ya! Stay consistent, stay hungry, and never stop improving!  Got doubts?  Reach out at fitngro@gmail.com! "," Farewell! Keep that fire burning and keep breaking limits!  Need fitness tips?  Email us at fitngro@gmail.com! "," Bye for now! But rememberprogress is made one step at a time!  Need help?  Contact fitngro@gmail.com! "," Keep up the grind! Until next time, stay strong and keep pushing!  Any questions?  We're always here at fitngro@gmail.com! "];if(M.includes("bye")||M.includes("goodbye")||M.includes("see you"))return{text:le[Math.floor(Math.random()*le.length)],sender:"bot"};const U=[" I hear you! The struggle is real, but so is your strength! Every champion has felt this waypush through! "," Tough times don't last, but tough people do! You're stronger than you thinklet's break through this together! "," Struggling means you're growing! Your muscles AND your mindset are getting stronger right now! Keep going! "," The hardest part is often right before the breakthrough! You're so closedon't stop when you're this near victory! "," Every struggle is building your comeback story! Imagine how amazing you'll feel when you conquer this challenge! "," Pain is temporary, but the pride of pushing through lasts forever! You've got reserves you haven't even tapped yet! "," Remember why you started! That fire is still burning inside youfan those flames and keep moving forward! "," Struggling is proof you're doing something your past self couldn't! That's growth in actionembrace it! "," The struggle you're feeling today is developing the strength you'll need tomorrow! Keep building that resilience! "," Every rep when you don't want to is worth ten when you do! This is where legends are madeyou're becoming one! "],Q=[" STOP right there! You're closer to your breakthrough than you realize! Quitting now means missing your victory! "," Hold up! Before you give up, remember every champion wanted to quit at some pointbut they didn't! Neither will you! "," Wait! What if you're just one workout away from feeling amazing again? Don't rob yourself of that feeling! "," Timeout! Future you will thank present you for not giving up! Think about how proud you'll be when you push through! "," Hold on! The voice telling you to quit is the same one that will regret it later! Listen to your stronger voice instead! "," Red flag! Giving up is the only true failure! Everything else is just data for your comeback story! Keep writing it! "," Pause! What if this moment of wanting to quit is actually your turning point? Champions are made in moments like this! "," Don't you dare! You've already come so farwhy stop when you're building momentum? Your body is adapting as we speak! "," Wait wait wait! Remember, you're not just working outyou're building mental toughness that will serve you everywhere! "," Hold that thought! Every time you don't quit when you want to, you're literally rewiring your brain for success! Keep going! "];if(M.match(/\b(struggling|hard|tough|difficult|tired|exhausted|can't do|too much|overwhelming|painful|hurting|sore|weak)\b/i))return{text:U[Math.floor(Math.random()*U.length)],sender:"bot"};if(M.match(/\b(quit|give up|stop|done|enough|can't|won't|never|impossible|hopeless|useless|pointless|waste)\b/i))return{text:Q[Math.floor(Math.random()*Q.length)],sender:"bot"};const oe=[" Did you know? Exercise releases endorphins, making you feel happier and more energized! "," Fun fact! Strength training helps increase bone density, keeping your body strong as you age! "," Trivia time! Short bursts of intense exercise can be more effective for fat loss than long steady workouts! "," Did you know? Running helps improve cognitive function and memory! Time to hit the track! "," Here's a cool fact! Jump rope burns more calories per minute than running! "," Fun fact! Hydration is keyjust a 2% drop in body fluids can lead to fatigue and reduced performance! "," Did you know? Your body keeps burning calories even after a workout thanks to the 'afterburn effect'! "," Trivia! Listening to music while working out can improve endurance and motivation! "," Interesting fact! Walking just 30 minutes a day can reduce the risk of many chronic diseases! "," Here's a cool one! Smiling while running can actually improve efficiency by reducing muscle tension! "];if(M.includes("fact")||M.includes("trivia")||M.includes("did you know"))return{text:oe[Math.floor(Math.random()*oe.length)],sender:"bot"};const se=[" Water is life! Aim for at least 2-3 liters per day to stay energized and refreshed! "," Hydration powers your workouts! Drink upabout 2.5-3.5 liters daily for peak performance! "," Did you know? Just a small drop in hydration can impact your stamina! Stay hydrated with at least 2-3 liters daily! "," Keep your muscles happydrink at least 2.5 liters of water to avoid cramps and fatigue! "," Water regulates body temperature and keeps joints lubricated! Stay hydrated with 3 liters daily! "," Your body is 60% waterfuel it right with 2.5-3 liters daily! "," Sweating? Thats your body cooling down! Replenish fluids with at least 2 liters of water! "," Hydration isn't just about waterelectrolytes matter too! Drink 2-3 liters and keep that balance! "," Water aids digestion and keeps your metabolism running smoothly! Stay hydrated with 2.5 liters daily for peak performance! "," Drinking at least 2.5 liters of water improves mood, focus, and energy levels! Time for a hydration break! "];if(M.includes("water")||M.includes("hydration")||M.includes("drink"))return{text:se[Math.floor(Math.random()*se.length)],sender:"bot"};const ye=[" Why did the scarecrow win an award? Because he was outstanding in his field! "," Why dont skeletons fight each other? Because they dont have the guts! "," Whats a cats favorite color? Purrr-ple! "," Why did the bicycle fall over? Because it was two-tired! "," How does a penguin build its house? Igloos it together! "," Why couldnt the leopard play hide and seek? Because he was always spotted! "," What did one wall say to the other? 'Ill meet you at the corner!' "," Why dont eggs tell jokes? Because they might crack up! "," What do you call fake spaghetti? An impasta! "," What did the ocean say to the beach? Nothing, it just waved! "];if(M.includes("joke")||M.includes("funny")||M.includes("laugh"))return{text:ye[Math.floor(Math.random()*ye.length)],sender:"bot"};const Te=[" Fuel your body right! A balanced diet with lean proteins, fiber-rich veggies, and healthy fats keeps you energized and strong! "," Protein builds muscle, carbs fuel energy, and healthy fats support brain function! Stay consistent with nutritious choices! "," Did you know? Whole foods improve digestion, enhance nutrient absorption, and keep energy levels high! Make every meal count! "," Power your workouts with smart nutrition! Complex carbs provide lasting energy, vitamins optimize health, and hydration keeps you going! "," Eating clean isnt about restrictionits about fueling your best self! Hydrate, choose fresh ingredients, and prioritize balance! "," Smart eating = smart performance! The right foods enhance endurance, recovery, and strength. Fuel wisely for top results! "," Your diet shapes your body and mind! Prioritize lean proteins, fresh vegetables, whole grains, and healthy fats for unstoppable progress! "," Superfoods like spinach, quinoa, and berries supercharge immunity and optimize body function! Make them part of your daily routine! "," Nutrition isnt just about caloriesits about quality! Whole foods nourish your body, improve recovery, and support peak performance! "," Small, frequent meals keep metabolism high and energy levels steady! Plan, prep, and make every bite work toward your fitness goals! "," Did you know? Eating protein 30 minutes after a workout aids muscle recovery and strength-building! Time those nutrients right! "," Hydration and nutrition go hand-in-hand! Drinking enough water ensures proper digestion and helps transport essential nutrients efficiently! "," Want better focus and endurance? Swap processed foods for nutrient-dense whole foods rich in vitamins, minerals, and antioxidants! "," Your body is a machinegive it the fuel it deserves! High-quality proteins, complex carbs, and omega-3s keep your system running smoothly! "," Skip the fad dietslong-term nutrition success comes from balance, consistency, and mindful eating habits! Stay the course! "," Healthy eating is an act of self-care! Nourishing your body with essential nutrients ensures strength, energy, and long-term well-being! "," Nutrition doesnt have to be complicated! Focus on whole ingredients, limit processed foods, and fuel your workouts wisely! "," Meal timing matters! A balanced breakfast jumpstarts metabolism, post-workout nutrition aids recovery, and dinner should be nutrient-rich but light! "," Did you know? Fiber aids digestion, regulates blood sugar, and keeps hunger in check! Load up on greens, fruits, and whole grains! "," Eating right isnt just about macrosits about micronutrients too! Vitamins and minerals play a key role in recovery, immunity, and brain function! "," Consistency is key! Meal prep, smart grocery shopping, and mindful eating ensure long-term nutrition success! Stay dedicated! "," Cut back on sugarit drains energy, causes inflammation, and messes with digestion! Swap refined sugar for natural alternatives like honey and fruits! "," Your gut health affects your overall wellness! Fermented foods like yogurt, kimchi, and sauerkraut support digestion and immunity! "," Eating enough protein is essential for muscle repair! Aim for at least 1.2g of protein per kilogram of body weight! "," A well-balanced plate consists of protein, fiber, healthy fats, and complex carbs! Aim for variety in every meal! "," Smart snacking fuels your body between meals! Nuts, fruits, and Greek yogurt are great nutrient-dense options! "," Forget crash dietsyour body thrives on sustainability! Stick to whole foods, exercise regularly, and embrace a balanced lifestyle! "," Antioxidants in fruits and veggies combat inflammation and enhance recovery! Load up on colorful produce to fight oxidative stress! "," Your plate should be as colorful as possible! Different colored foods provide unique nutrientseat the rainbow for optimal health! "," Strength starts in the kitchen! You cant out-train a bad dietprioritize high-quality nutrition to support your hard work! "," Magnesium plays a key role in muscle function and recovery! Eat almonds, spinach, and bananas to boost intake naturally! "," Want better skin, digestion, and energy? Eat more fiber-rich foods, drink more water, and reduce processed sugars! "," Your metabolism thrives on real food! Skip fast food and cook at home for fresher, nutrient-packed meals! "," You deserve to feel strong and energized! Prioritize hydration, whole foods, and nutrient balance for peak wellness! "," Nutrition is about fueling greatnessnot restriction! Find a meal plan that supports your goals and enjoy the journey! "," Your diet should support your lifestyle, not control it! Eat foods that help you perform, recover, and feel your best! "," Eating mindfully improves digestion, prevents overeating, and enhances nutrient absorption! Slow down and savor every bite! "," Proper nutrition strengthens not just your body, but your mind too! Fuel wisely for better focus and cognitive function! "," Your nutrition should be simple, enjoyable, and sustainable! Make healthy choices that fit YOUR life! "," When in doubt, choose whole foods! If it grew from the earth or had a natural source, its likely the best choice! "];if(M.includes("nutrition")||M.includes("diet")||M.includes("food"))return{text:Te[Math.floor(Math.random()*Te.length)],sender:"bot"};const Ee=[" Rest up! Aim for 7-9 hours of quality sleep to help muscle recovery and boost overall health! "," Sleep isnt just downtimeits when your body repairs and grows! Get 8 hours for maximum recovery! "," Recovery is key! Recharge with 7-9 hours of restful sleep to come back stronger! "," Did you know? Deep sleep enhances muscle growth and endurance! Prioritize at least 8 hours per night! "," Rest smarter! Stick to a 7-9 hour sleep schedule to optimize recovery and performance! "," Sleep isnt a luxuryits essential! Get your 8 hours in for peak energy and focus! "," Your body rebuilds while you sleep! Aim for 7-9 hours nightly to power your fitness gains! "," Better sleep = better workouts! Get a solid 8 hours for maximum strength and endurance! "," Skipping sleep slows progress! Keep those gains coming with a consistent 7-9 hour rest! "," Sleep well, train hard, repeat! Recovery fuels strengthlock in at least 8 hours per night! "];if(M.includes("sleep")||M.includes("rest")||M.includes("recovery"))return{text:Ee[Math.floor(Math.random()*Ee.length)],sender:"bot"};const ct=[" Strength comes with consistency! Stick to your routine and watch your progress skyrocket! "," Always engage your core! A strong core improves balance, stability, and posture in every workout!"," Don't rush repscontrolled movements activate muscles better and prevent injuries! Slow and steady wins! "," Walking is underrated! 10,000 steps a day can work wonders for your stamina and heart health! "," Nutrition is key! 80% fitness is diet, 20% is exercise. Fuel your body with the right foods! "," Sprinting improves cardiovascular health, burns fat fast, and builds explosive power! Try short bursts today!"," Proper warm-ups prevent injuries and improve performance! Take 5-10 minutes before every workout! "," Compound exercises like squats and deadlifts engage multiple muscles and maximize efficiency! "," Rest days are just as important as workouts! Recovery builds muscle and prevents burnout! "," Hydration is key! Drink 2-3 liters of water daily to optimize workouts and energy levels! "," Mix up your routine! Your body adaptschange exercises every few weeks for best results! "," Flexibility matters! Stretching improves mobility, reduces soreness, and enhances strength! "," Music boosts workout performance! Pump up the beats and move with the rhythm! "," Post-workout nutrition aids recovery! Get protein within 30 minutes after training! "," Resistance training strengthens bones and builds lean muscle! Lift heavy, lift smart! "," Cardio burns calories, but strength training builds metabolism! Balance both in your workouts! "," Mind-muscle connection improves results! Focus on engaging the right muscles with every rep! "," Short, high-intensity workouts are time-efficient and effective! Try HIIT for quick gains! "," Bodyweight workouts work wonders! Push-ups, squats, and lunges build strength anytime, anywhere! "," Challenge yourself! Gradually increase weights, reps, or intensity to keep progressing! "," Recovery tools like foam rolling relieve muscle tension and speed up healing! Try it! "," Sleep is essential for muscle growth and repair! Aim for 7-9 hours per night! "," Stronger glutes improve posture, speed, and power! Add hip thrusts to your routine! "," Set clear fitness goals! Tracking progress helps keep motivation high! "," Include mobility training! Healthy joints keep workouts smooth and pain-free! "," Push yourself, but listen to your body! Rest when needed and avoid overtraining! "," Training legs improves full-body strength and boosts metabolism! Never skip leg day! "," Strengthen grip for better lifts! Farmers walks, deadlifts, and squeezing stress balls help! "," Sprinting builds explosiveness and endurancetry short, intense runs today! "," Stay active outside the gym! Walk, bike, or play sports to stay fit all day! "," Keep workouts fun! Join a class, train with a friend, or try something new! "," Form matters! Maintain proper technique to maximize gains and avoid injuries! "," Progressive overload builds strength! Increase resistance gradually for solid results! "," Enjoy the journey! Celebrate small wins and stay committed to your fitness goals! "];if(M.includes("tips")||M.includes("advice"))return{text:ct[Math.floor(Math.random()*ct.length)],sender:"bot"};const $e=[" Success doesnt come from what you do occasionally, but from what you do consistently! Keep pushing! "," Every champion was once a beginner! Start today and stay committed to become the best version of YOU! "," Results take time, but quitting wont speed up the process! Stay strong, stay disciplined! "," Discipline beats motivation! Motivation fades, but habits keep you going. Build strong habits today! "," Believe in yourself! No one is stopping you but YOU! Break those limits and conquer your goals! "," Your only competition is YOU! Aim to be 1% better than yesterday and progress will follow! "," Every step forward, no matter how small, brings you closer to success! Keep moving! "," Strength doesnt come from what you can do, but from overcoming what you thought you couldnt! "," Dream big, start small, but most importantlySTART! "," If it doesnt challenge you, it wont change you! Push past the limits! "," The hardest battles are fought within. Win the fight in your mind first! "," Keep grinding! You might not see it now, but every effort adds up! "," Be proud of every step forwardprogress is progress, no matter how small! "," Push yourself, because no one else is going to do it for you! "," Your body can stand almost anythingit's your mind you need to convince! "," Its not about having time, its about making time for what matters! "," Nothing is impossiblethe word itself says Im possible! "," Results dont come from wishes, they come from work! Keep hustling! "," Every setback is a setup for a comeback! Keep going! "," Success is walking from failure to failure with no loss of enthusiasm! "," You are stronger than your excusespush through! "," Motivation will get you started, but discipline will keep you going! "," Excuses dont burn calorieshard work does! "," The pain you feel today will be the strength you feel tomorrow! "," You dont have to be extreme, just consistent! "," Hard work beats talent when talent doesnt work hard! "," Dont fear failurefear being in the same place next year! "," Believe in yourselfyou are capable of more than you know! "," Sweat today so you can shine tomorrow! "," Small progress is still progresscelebrate the wins! "," Winners focus on winning, losers focus on winnerskeep your eyes on YOUR goal! "," Keep moving forwardnothing grows in the comfort zone! "," The only bad workout is the one you didnt do! "," A goal without a plan is just a wishstay committed! "," Youve got this! Every challenge is an opportunity! "," Stay patient and trust the processresults WILL come! "," A little progress each day adds up to BIG results! "," Do it for the future YOUthe one who will thank you for todays effort! "," Hard times build strong peoplekeep pushing! "," Success is the sum of small efforts repeated daily! "," You get out what you put ingive your best every day! "," Make it happenno one else is going to do it for you! "," Prove them wronglet success be your response! "," Train your mind and your body will follow! "," Challenges are what make life interestingovercoming them is what makes it meaningful! "," Success is a journey, not a destinationkeep going! "," Stop doubting yourselfstart believing in your greatness! "," Dont limit your challengeschallenge your limits! "," Tough times dont last, but tough people do! "," Be stronger than your excuses! "," Get comfortable being uncomfortablethats where growth happens! "," Make today countyou only get one shot at today! "," Progress over perfectionjust start and improve along the way! "," What you do today defines your tomorrowgive it your all! "," Youre one decision away from a completely different life! "," Dont stop when youre tiredstop when youre done! "," The difference between ordinary and extraordinary is that little extra! "," The mind will quit long before the bodytrain your mind to push further! "," Keep hustlingthe results will come! "," One hour a day is only 4% of your timemake it count! "," Stay consistentthe most successful people are the most disciplined! "," Work in silence, let success make the noise! "," Be the hardest worker in the roomyour effort will pay off! "," Fitness is a journey, not a destinationkeep moving forward! "," Make every rep, every step, every moment count! "," Your body achieves what your mind believestrain with confidence! "];if(M.includes("motivate")||M.includes("encourage")||M.includes("inspire")||M.includes("down")||M.includes("depressed")||M.includes("sad")||M.includes("lost"))return{text:$e[Math.floor(Math.random()*$e.length)],sender:"bot"};const je={...S},Xt={"gain muscle":["gain muscle","build muscle","muscle growth","get bigger"],"lose fat":["lose fat","burn fat","fat loss","get lean"],"improve strength":["improve strength","get stronger","strength training"],cardio:["cardio","endurance","stamina"],general:["general fitness","stay fit","get fit"]},xn={beginner:["beginner","new","starting out"],intermediate:["intermediate","some experience","moderate"],advanced:["advanced","experienced","expert"]};for(const[Se,We]of Object.entries(Xt))if(We.some(ze=>M.includes(ze))){je.goal=Se;break}for(const[Se,We]of Object.entries(xn))if(We.some(ze=>M.includes(ze))){je.experience=Se;break}if(k(je),je.goal&&je.experience){const We=D[je.goal][je.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${je.experience} workout plan for ${je.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(je.goal&&S.experience){const We=D[je.goal][S.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${S.experience} workout plan for ${je.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(je.experience&&S.goal){const We=D[S.goal][je.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${je.experience} workout plan for ${S.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}return je.goal?{text:`Great that you want to focus on "${je.goal}"! What's your experience level? (beginner, intermediate, advanced)`,sender:"bot"}:je.experience?{text:`Thanks for sharing you're at ${je.experience} level. What's your fitness goal? (gain muscle, lose fat, improve strength, cardio, or general fitness)`,sender:"bot"}:M.includes("workout")||M.includes("exercise")||M.includes("plan")?{text:"I can generate a personalized workout plan for you! Would you like to complete your fitness profile so I can create the perfect plan for your goals?",sender:"bot",showFormButton:!0}:M.includes("form")||M.includes("profile")||M.includes("details")||M.includes("generate")||M.includes("create")||M.includes("personalized")?{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}:{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}},O=M=>{const{name:D,value:A}=M.target;x(I=>({...I,[D]:A}))},G=M=>{const{value:D,checked:A}=M.target;x(I=>({...I,rest_days:A?[...I.rest_days,D]:I.rest_days.filter(j=>j!==D)}))},H=async M=>{M.preventDefault(),v(!0);try{await WR(ar(Zn,"users",t),{id:t,...w,last_updated:new Date},{merge:!0}),h(D=>[...D,{text:"Your fitness profile has been saved! Generating your personalized workout plan...",sender:"bot"}]),await e({user_email:t,days:21,focus:w.fitness_goal}),h(D=>[...D,{text:"Workout plan generated successfully! Click the Dashboard button to view your plan.",sender:"bot"}]),l(!1)}catch(D){console.error("Error:",D),h(A=>[...A,{text:D.message||"Failed to generate workout plan. Please try again.",sender:"bot"}])}finally{v(!1)}};return _.jsx("div",{className:`chatbot-container ${n?"open":""}`,children:n?_.jsxs("div",{className:"chatbot-window",children:[_.jsxs("div",{className:"chatbot-header",children:[_.jsx("h3",{children:"FitnGro Assistant"}),_.jsx("button",{onClick:()=>i(!1),disabled:g,children:"x"})]}),_.jsxs("div",{className:"chat-content",children:[_.jsx("div",{className:"chatbot-messages",children:u.map((M,D)=>_.jsxs("div",{className:`message ${M.sender}`,children:[M.text,M.showFormButton&&_.jsx("button",{className:"form-toggle-btn",onClick:()=>!g&&l(!a),disabled:g,children:a?"Back to Chat":"Complete Profile"})]},D))}),a?_.jsxs("form",{onSubmit:H,className:"user-details-form",children:[_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Personal Information"}),_.jsxs("div",{className:"form-row",children:[_.jsxs("label",{children:["Age:",_.jsx("input",{type:"number",name:"age",value:w.age,onChange:O,min:"10",max:"100",required:!0,disabled:g})]}),_.jsxs("label",{children:["Gender:",_.jsxs("select",{name:"gender",value:w.gender,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"male",children:"Male"}),_.jsx("option",{value:"female",children:"Female"}),_.jsx("option",{value:"other",children:"Other"})]})]})]}),_.jsxs("div",{className:"form-row",children:[_.jsxs("label",{children:["Height (cm):",_.jsx("input",{type:"number",name:"height",value:w.height,onChange:O,min:"100",max:"250",required:!0,disabled:g})]}),_.jsxs("label",{children:["Weight (kg):",_.jsx("input",{type:"number",name:"weight",value:w.weight,onChange:O,min:"30",max:"200",required:!0,disabled:g})]})]})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Fitness Profile"}),_.jsxs("label",{children:["Body Type:",_.jsxs("select",{name:"body_type",value:w.body_type,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"ectomorph",children:"Ectomorph"}),_.jsx("option",{value:"mesomorph",children:"Mesomorph"}),_.jsx("option",{value:"endomorph",children:"Endomorph"})]})]}),_.jsxs("label",{children:["Experience Level:",_.jsxs("select",{name:"experience_level",value:w.experience_level,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"beginner",children:"Beginner"}),_.jsx("option",{value:"intermediate",children:"Intermediate"}),_.jsx("option",{value:"advanced",children:"Advanced"})]})]}),_.jsxs("label",{children:["Activity Level:",_.jsxs("select",{name:"activity_level",value:w.activity_level,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"sedentary",children:"Sedentary"}),_.jsx("option",{value:"active",children:"Active"}),_.jsx("option",{value:"highly_active",children:"Highly Active"})]})]}),_.jsxs("label",{children:["Fitness Goal:",_.jsxs("select",{name:"fitness_goal",value:w.fitness_goal,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"gain-muscle",children:"Gain Muscle"}),_.jsx("option",{value:"lose-fat",children:"Lose Fat"}),_.jsx("option",{value:"improve-strength",children:"Improve Strength"}),_.jsx("option",{value:"cardio",children:"Cardio"}),_.jsx("option",{value:"general",children:"General Fitness"})]})]})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Rest Days"}),_.jsx("div",{className:"rest-days-container",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(M=>_.jsxs("label",{className:"rest-day-option",children:[_.jsx("input",{type:"checkbox",name:"rest_days",value:M,checked:w.rest_days.includes(M),onChange:G,disabled:g}),_.jsx("span",{style:{color:"black"},children:M})]},M))})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Generating Plan...":"Save & Generate Plan"}),_.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>!g&&l(!1),disabled:g,children:"Cancel"})]})]}):_.jsxs("div",{className:"chatbot-input",children:[_.jsx("input",{type:"text",value:d,onChange:M=>m(M.target.value),placeholder:"Type your message...",onKeyPress:M=>M.key==="Enter"&&N(),disabled:g}),_.jsx("button",{onClick:N,disabled:g,children:"Send"})]})]})]}):_.jsx("button",{className:"chatbot-toggle",onClick:()=>i(!0),disabled:g,children:_.jsx("img",{src:"/public/chatbot.png",alt:"Chat"})})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const II="firebasestorage.googleapis.com",c5="storageBucket",h5=2*60*1e3,d5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur extends lr{constructor(e,n,i=0){super(Gg(e),`Firebase Storage: ${n} (${Gg(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var or;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(or||(or={}));function Gg(t){return"storage/"+t}function f5(){const t="An unknown error occurred, please check the error payload for server response.";return new ur(or.UNKNOWN,t)}function m5(){return new ur(or.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function p5(){return new ur(or.CANCELED,"User canceled the upload/download.")}function g5(t){return new ur(or.INVALID_URL,"Invalid URL '"+t+"'.")}function y5(t){return new ur(or.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bS(t){return new ur(or.INVALID_ARGUMENT,t)}function NI(){return new ur(or.APP_DELETED,"The Firebase app was deleted.")}function v5(t){return new ur(or.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Si.makeFromUrl(e,n)}catch{return new Si(e,"")}if(i.path==="")return i;throw y5(e)}static makeFromUrl(e,n){let i=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${g}/b/${a}/o${w}`,"i"),S={bucket:1,path:3},k=n===II?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",N=new RegExp(`^https?://${k}/${a}/${R}`,"i"),O=[{regex:h,indices:d,postModify:l},{regex:x,indices:S,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<O.length;G++){const H=O[G],M=H.regex.exec(e);if(M){const D=M[H.indices.bucket];let A=M[H.indices.path];A||(A=""),i=new Si(D,A),H.postModify(i);break}}if(i==null)throw g5(e);return i}}class _5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b5(t,e,n){let i=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function v(R){a=setTimeout(()=>{a=null,t(x,d())},R)}function w(){l&&clearTimeout(l)}function x(R,...N){if(m){w();return}if(R){w(),g.call(null,R,...N);return}if(d()||u){w(),g.call(null,R,...N);return}i<64&&(i*=2);let O;h===1?(h=2,O=0):O=(i+Math.random())*1e3,v(O)}let S=!1;function k(R){S||(S=!0,w(),!m&&(a!==null?(R||(h=2),clearTimeout(a),v(0)):R||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,k(!0)},n),k}function w5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){return t!==void 0}function wS(t,e,n,i){if(i<e)throw bS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw bS(`Invalid value for '${t}'. Expected ${n} or less.`)}function E5(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const a=e(i)+"="+e(t[i]);n=n+a+"&"}return n=n.slice(0,-1),n}var Tf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Tf||(Tf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n,i,a,l,u,h,d,m,g,v,w=!0,x=!1){this.url_=e,this.method_=n,this.headers_=i,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(i,a)=>{if(a){i(!1,new Rd(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===Tf.NO_ERROR,d=l.getStatus();if(!h||x5(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===Tf.ABORT;i(!1,new Rd(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;i(!0,new Rd(m,l))})},n=(i,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());T5(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=f5();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?NI():p5();u(d)}else{const d=m5();u(d)}};this.canceled_?n(!1,new Rd(!1,null,!0)):this.backoffId_=b5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&w5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Rd{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function A5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function R5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function C5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function I5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N5(t,e,n,i,a,l,u=!0,h=!1){const d=E5(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return C5(g,e),A5(g,n),R5(g,l),I5(g,i),new S5(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function P5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(e,n){this._service=e,n instanceof Si?this._location=n:this._location=Si.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Ef(e,n)}get root(){const e=new Si(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P5(this._location.path)}get storage(){return this._service}get parent(){const e=k5(this._location.path);if(e===null)return null;const n=new Si(this._location.bucket,e);return new Ef(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw v5(e)}}function TS(t,e){const n=e==null?void 0:e[c5];return n==null?null:Si.makeFromBucketSpec(n,t)}function D5(t,e,n,i={}){t.host=`${e}:${n}`;const a=eo(e);a&&(bv(`https://${t.host}/b`),wv("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=i;l&&(t._overrideAuthToken=typeof l=="string"?l:AA(l,t.app.options.projectId))}class O5{constructor(e,n,i,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=II,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=h5,this._maxUploadRetryTime=d5,this._requests=new Set,a!=null?this._bucket=Si.makeFromBucketSpec(a,this._host):this._bucket=TS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Si.makeFromBucketSpec(this._url,e):this._bucket=TS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ef(this,e)}_makeRequest(e,n,i,a,l=!0){if(this._deleted)return new _5(NI());{const u=N5(e,this._appId,i,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[i,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,a).getPromise()}}const ES="@firebase/storage",xS="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="storage";function M5(t=xv(),e){t=Nt(t);const i=If(t,kI).getImmediate({identifier:e}),a=EA("storage");return a&&V5(i,...a),i}function V5(t,e,n,i={}){D5(t,e,n,i)}function j5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new O5(n,i,a,e,to)}function L5(){Ka(new Us(kI,j5,"PUBLIC").setMultipleInstances(!0)),Zi(ES,xS,""),Zi(ES,xS,"esm2017")}L5();const U5={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},B5={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}},F5=()=>{const t=Xr(),e=Ct.currentUser,[n,i]=L.useState([]),[a,l]=L.useState(!1);L.useEffect(()=>{if(!(e!=null&&e.email)){t("/?showAuth=true");return}const d=gf(mf(Zn,"chats"),ic("expertEmail","==",e.email)),m=Ly(d,g=>{const v=[],w=[];g.forEach(x=>{const S=x.id,R=x.data().clientEmail,N=mf(Zn,"chats",S,"messages"),B=gf(N,ic("sender","==",R),ic("read","==",!1));w.push(new Promise(O=>{Ly(B,G=>{const H=G.size;H>0&&v.push({clientEmail:R,unreadCount:H,chatId:S}),O()},G=>{console.error(`Error fetching messages for ${R}:`,G),O()})}))}),Promise.all(w).then(()=>{i([...v])})},g=>{console.error("Error fetching chats:",g),alert(`Failed to fetch chats: ${g.message}`)});return()=>m()},[e,t]);const u=()=>{l(!a)},h=(d,m)=>{t("/chat",{state:{clientEmail:d,expertEmail:e.email}}),l(!1)};return e?_.jsxs(De.div,{className:"expert-dashboard",variants:U5,initial:"hidden",animate:"visible",children:[_.jsxs("h2",{children:["Welcome, Expert ",e.email]}),_.jsx("p",{children:"Manage your clients and create workout plans."}),_.jsxs(De.div,{className:"chat-icon",variants:B5,onClick:u,style:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"},children:[_.jsx("img",{src:"/chat-icon.svg",alt:"Chat",width:"30",height:"30"}),n.length>0&&_.jsx("span",{className:"notification-badge",children:n.reduce((d,m)=>d+m.unreadCount,0)})]}),a&&_.jsx(De.div,{className:"notification-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:n.length===0?_.jsx("p",{children:"No new messages"}):n.map((d,m)=>_.jsx("div",{className:"notification-item",onClick:()=>h(d.clientEmail,d.chatId),style:{cursor:"pointer"},children:_.jsxs("p",{children:[d.clientEmail,": ",d.unreadCount," new message(s)",d.isPremium&&_.jsx("span",{style:{color:"gold",marginLeft:"5px"},children:" (Premium)"})]})},m))}),_.jsx(Hg,{onClick:()=>t("/manage-clients"),children:"Manage Clients"}),_.jsx(Hg,{onClick:()=>t("/create-workout"),children:"Create Workout Plan"}),_.jsx(Hg,{onClick:()=>Ct.signOut().then(()=>t("/")),children:"Logout"})]}):null},$g={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},Vr={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},z5={hidden:{opacity:0,height:0,overflow:"hidden"},visible:{opacity:1,height:"auto",transition:{duration:.3}}},q5=({userEmail:t})=>{const[e,n]=L.useState(!1),[i,a]=L.useState("login"),[l,u]=L.useState("normal"),[h,d]=L.useState(""),[m,g]=L.useState(""),[v,w]=L.useState(""),[x,S]=L.useState(""),[k,R]=L.useState(""),[N,B]=L.useState("Diet"),[O,G]=L.useState(""),[H,M]=L.useState(null),[D,A]=L.useState(""),[I,j]=L.useState({}),[F,q]=L.useState([]),[V,ie]=L.useState(t||null),[pe,K]=L.useState(null),[re,fe]=L.useState(!1),[le,U]=L.useState(!1),Q=Xr();Jn(),M5();const oe=[{id:1,text:"FitnGros AI-powered home training keeps me competition-ready. Its real-time movement analysis ensures precise form, and the browser-based platform allows training anywhere. Its like having a 24/7 personal coach for consistent, professional-grade results",image:"/customer-1.png",username:"Abeesh Selvan",role:"State-Level Javelin Thrower, University Games Champion"},{id:2,text:"FitnGro revolutionizes fitness training for our institution. Its expert-guided plans and AI-powered workouts are accessible to all, with browser-based technology eliminating app download barriers. The real-time form correction ensures proper technique, making it ideal for both beginners and expert trainers.",image:"/customer-2.jpeg",username:"Vasanth",role:"Disha School, Head Of Physical Education Department"}],[se,ye]=L.useState(0),[Te,Ee]=L.useState(!0);L.useEffect(()=>{const me=setInterval(()=>{Te&&ye(be=>be===oe.length-1?0:be+1)},1e4);return()=>clearInterval(me)},[Te,oe.length]);const ct=()=>{Ee(!1),ye(me=>me===oe.length-1?0:me+1),setTimeout(()=>Ee(!0),3e4)},$e=()=>{Ee(!1),ye(me=>me===0?oe.length-1:me-1),setTimeout(()=>Ee(!0),3e4)},je=[{icon:"",title:"No App Downloads Required",description:"Access our complete fitness platform directly through your web browser. No storage space needed, no app store downloads, and instant access from any device.",color:"bg-blue-50",iconColor:"text-blue-600"},{icon:"",title:"Low Battery & Network Usage",description:"Our advanced browser-based processing minimizes battery drain and network consumption, allowing longer workout sessions without performance issues.",color:"bg-green-50",iconColor:"text-green-600"},{icon:"",title:"Works on Any Device",description:"Compatible with smartphones, tablets, laptops, and desktops. No specific hardware requirements - just a camera and internet connection.",color:"bg-purple-50",iconColor:"text-purple-600"},{icon:"",title:"Ready in Seconds",description:"No waiting for downloads or installations. Simply visit our website, set up your device, and start your workout immediately with full AI-powered monitoring.",color:"bg-yellow-50",iconColor:"text-yellow-600"},{icon:"",title:"Smart AI Processing",description:"Advanced pose detection and rep counting happen in real-time directly in your browser, providing instant feedback without external servers.",color:"bg-indigo-50",iconColor:"text-indigo-600"},{icon:"",title:"Your Data Stays Local",description:"All processing happens on your device. Your workout videos and personal data never leave your browser, ensuring complete privacy and security.",color:"bg-red-50",iconColor:"text-red-600"}];L.useEffect(()=>{(async()=>{try{const be=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"GET",headers:{"Content-Type":"application/json"}});if(!be.ok)throw new Error("Failed to fetch experts");const Ve=await be.json();setExperts(Ve)}catch(be){console.error("Error fetching experts:",be),q(Ve=>[...Ve,{text:`Failed to load experts: ${be.message}`,sender:"bot"}])}})()},[]),L.useEffect(()=>{const me=t1(Ct,async be=>{if(console.log("Auth state changed - User:",be==null?void 0:be.email),ie((be==null?void 0:be.email)||null),be)try{console.log("Fetching expert document for email:",be.email);const Ve=ar(Zn,"experts",be.email),it=await Za(Ve);console.log("Expert document exists:",it.exists()),K(it.exists()?"expert":"normal")}catch(Ve){console.error("Error checking expert status:",Ve),console.log("Error code:",Ve.code),console.log("Error message:",Ve.message),Ve.code==="permission-denied"?(console.log("Permission denied for experts document, setting user as normal"),K("normal")):j({form:`Error checking user type: ${Ve.message}`})}else K(null)});return()=>me()},[Q]);const Xt=()=>{const me={};return h?/\S+@\S+\.\S+/.test(h)||(me.email="Email is invalid"):me.email="Email is required",m?m.length<6&&(me.password="Password must be at least 6 characters"):me.password="Password is required",i==="signup"&&l==="expert"&&((!v||v.trim().length<2)&&(me.name="Name must be at least 2 characters"),x?(isNaN(x)||x<18||x>100)&&(me.age="Age must be between 18 and 100"):me.age="Age is required",(!k||k.trim().length<2)&&(me.specialist="Specialist field is required"),N||(me.expertise="Expertise is required"),O?(isNaN(O)||O<=0)&&(me.clientFee="Client fee must be a positive number"):me.clientFee="Client fee is required",H?H.name.toLowerCase().endsWith(".pdf")?H.size>5*1024*1024&&(me.certification="Certificate must be less than 5MB"):me.certification="Certificate must be a PDF":me.certification="Certificate file is required",!D||D.trim().length<10?me.bio="Bio must be at least 10 characters":D.length>500&&(me.bio="Bio must be 500 characters or less")),j(me),Object.keys(me).length===0},xn=async me=>{if(me.preventDefault(),!!Xt())if(i==="signup"&&l==="expert")try{let be;if(Ct.currentUser){if(Ct.currentUser.email!==h)throw new Error("Current user email does not match the provided email");be=await Ct.currentUser.getIdToken()}else if((await XO(Ct,h)).length>0)try{be=await(await Sg(Ct,h,m)).user.getIdToken()}catch{throw new Error("Invalid password for existing email")}else be=await(await XT(Ct,h,m)).user.getIdToken();const Ve=new FormData;Ve.append("user_email",h),Ve.append("name",v),Ve.append("age",parseInt(x)),Ve.append("specialist",k),Ve.append("expertise",N),Ve.append("client_fee",parseFloat(O)),Ve.append("certification",H),Ve.append("bio",D);const it=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/expert-signup",{method:"POST",headers:{Authorization:`Bearer ${be}`},body:Ve});if(!it.ok){const es=await it.json();throw new Error(es.detail||"Expert signup failed")}const Di=(await it.json()).certificate_url;(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/send-admin-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"fitngro@gmail.com",subject:"New Expert Signup Request",body:`
            New expert signup request:
            Email: ${h}
            Name: ${v}
            Age: ${x}
            Specialist: ${k}
            Expertise: ${N}
            Client Fee: ${O}
            Bio: ${D}
            Certificate URL: ${Di}
          `})})).ok||console.warn("Failed to send admin email, but registration succeeded"),ie(h),n(!1),d(""),g(""),w(""),S(""),R(""),B("Diet"),G(""),M(null),A(""),j({}),alert("Expert registration submitted successfully! You will be notified once approved.")}catch(be){console.error("Expert Signup Failed:",be),j({form:`Signup Error: ${be.message}`})}else if(i==="login"&&l==="expert")try{const be=await Sg(Ct,h,m),Ve=ar(Zn,"experts",h),it=await Za(Ve);if(!it.exists())throw new Error("No expert profile found for this email");const at=it.data();if(!at.approved)throw new Error("Your expert account is still pending admin approval");ie(h),n(!1),d(""),g(""),j({}),Q("/expert-dashboard",{state:{expertData:at}})}catch(be){console.error("Expert Login Failed:",be),j({form:`Login Error: ${be.message}`})}else try{let be;i==="signup"?be=await XT(Ct,h,m):be=await Sg(Ct,h,m);const Ve=await be.user.getIdToken(),it=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ve}`}});if(!it.ok){const at=await it.json();throw new Error(at.detail||"Failed to add user to premiumUsers")}ie(h),n(!1),d(""),g(""),j({}),Q("/dashboard")}catch(be){console.error(`${i==="signup"?"Signup":"Login"} Failed:`,be),j({form:`${i==="signup"?"Signup":"Login"} Error: ${be.message}`})}},Sn=async()=>{try{await n1(Ct),ie(null),Q("/")}catch(me){console.error("Sign-Out Error:",me)}},Se=async me=>{me.preventDefault();try{const be=await _M(Ct,EL),Ve=await be.user.getIdToken(),it=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ve}`}});if(!it.ok){const at=await it.json();throw new Error(at.detail||"Failed to add user to premiumUsers")}ie(be.user.email),n(!1)}catch(be){console.error("Firebase Sign-In Failed:",be),alert(`Sign-In Error: ${be.message}`)}},We=async me=>{try{const be=await Ct.currentUser.getIdToken();console.log("Request payload:",{user_email:V,days:me.days||21,focus:me.focus||me.fitness_goal||"strength"}),console.log("Authorization header:",`Bearer ${be}`);const Ve=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${be}`},body:JSON.stringify({user_email:V,days:me.days||21,focus:me.focus||me.fitness_goal||"strength"})});if(!Ve.ok)throw new Error(`Failed to generate plan: ${Ve.statusText}`);const it=await Ve.json();q(at=>[...at,{text:"Workout plan generated successfully!",sender:"bot"}]),Q("/dashboard")}catch(be){console.error("Plan generation failed:",be),q(Ve=>[...Ve,{text:`Failed to generate plan: ${be.message}`,sender:"bot"}])}},ze=()=>{fe(!re)},et=[{type:"Self-Guided",title:"AI Powered Fitness",price:"Free",description:"Smart technology guidance without human experts",features:["AI-powered workout plans","Browser-based pose detection","Automated rep counting","Basic progress tracking","Community support forum","Email support (72h response)"],cta:"Start Free",popular:!1,bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-700"},{type:"Expert-Guided",title:"Precision Training",price:"$49",period:"/month",description:"1-on-1 coaching with certified fitness experts",features:["Personalized workout plans","Live video sessions with experts","Form correction in real-time","Nutrition planning","Weekly progress reviews","24/7 priority support","Customized recovery plans","Advanced analytics dashboard"],cta:"Get Started",popular:!0,bgColor:"bg-blue-50",borderColor:"border-blue-400",textColor:"text-blue-700"}];return _.jsxs(_.Fragment,{children:[_.jsxs(De.div,{className:"property-1variant3",variants:$g,initial:"hidden",animate:"visible",children:[V&&_.jsx(u5,{userEmail:V,onGeneratePlan:We,setMessages:q}),_.jsxs(De.div,{className:"navbar",variants:$g,children:[_.jsx(De.div,{className:"navbar-child",variants:Vr}),_.jsx(De.div,{className:"about",variants:Vr,children:"About"}),_.jsx(De.div,{className:"experts",variants:Vr,onClick:()=>Q("/experts"),children:"Experts"}),pe==="expert"&&_.jsx(De.div,{className:"profile",variants:Vr,onClick:()=>Q("/expert-dashboard"),children:"Profile"}),_.jsxs(De.div,{className:"login-button-navbar",variants:Vr,children:[_.jsx(De.div,{className:"login-button-navbar-child",variants:Vr}),V?_.jsx(De.button,{className:"logout-button-navbar",variants:Vr,onClick:Sn,children:"Logout"}):_.jsx(De.button,{className:"login-button-navbar1",variants:Vr,onClick:()=>n(!0),children:"Login"})]})]}),_.jsxs(De.div,{className:"right-navbar",variants:$g,children:[_.jsxs(De.button,{className:"hamburger-button",variants:Vr,onClick:ze,"aria-label":"Menu",children:[_.jsx("div",{className:"hamburger-line"}),_.jsx("div",{className:"hamburger-line"}),_.jsx("div",{className:"hamburger-line"})]}),re&&_.jsx(De.div,{className:"hamburger-menu",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:_.jsxs(De.ul,{className:"hamburger-menu-list",children:[_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{Q("/settings"),fe(!1)},children:"Settings"})}),V&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{Q("/dashboard"),fe(!1)},children:"Dashboard"})}),pe==="expert"&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{Q("/expert-dashboard"),fe(!1)},children:"Profile"})})]})})]}),e&&_.jsx("div",{className:"auth-modal-overlay",children:_.jsxs("div",{className:"auth-modal-content",children:[_.jsx("button",{className:"close-modal",onClick:()=>n(!1),children:""}),_.jsx("h3",{children:i==="signup"?"Create Account":"Welcome Back"}),_.jsxs("div",{className:"user-type-selection",children:[_.jsx("label",{children:"User Type"}),_.jsxs("div",{style:{display:"flex",gap:"20px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"normal",checked:l==="normal",onChange:()=>u("normal")}),"Normal User"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"expert",checked:l==="expert",onChange:()=>u("expert")}),"Expert"]})]})]}),_.jsx("div",{className:"google-login-container",children:_.jsx("button",{onClick:Se,style:{padding:"10px 20px",fontSize:"16px"},children:"Sign in with Google"})}),_.jsx("div",{className:"auth-divider",children:"or"}),_.jsxs("div",{className:"scrollable-form-container",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"email",value:h,onChange:me=>d(me.target.value),className:I.email?"error":"",placeholder:"Enter your email"}),I.email&&_.jsx("span",{className:"error-message",children:I.email})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:m,onChange:me=>g(me.target.value),className:I.password?"error":"",placeholder:"Enter your password"}),I.password&&_.jsx("span",{className:"error-message",children:I.password})]}),_.jsx(x6,{children:i==="signup"&&l==="expert"&&_.jsxs(De.div,{variants:z5,initial:"hidden",animate:"visible",exit:"hidden",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Name"}),_.jsx("input",{type:"text",value:v,onChange:me=>w(me.target.value),className:I.name?"error":"",placeholder:"Enter your full name"}),I.name&&_.jsx("span",{className:"error-message",children:I.name})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Age"}),_.jsx("input",{type:"number",value:x,onChange:me=>S(me.target.value),className:I.age?"error":"",placeholder:"Enter your age"}),I.age&&_.jsx("span",{className:"error-message",children:I.age})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Specialist"}),_.jsx("input",{type:"text",value:k,onChange:me=>R(me.target.value),className:I.specialist?"error":"",placeholder:"Enter your specialty"}),I.specialist&&_.jsx("span",{className:"error-message",children:I.specialist})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Expertise"}),_.jsxs("div",{style:{display:"flex",gap:"20px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"Diet",checked:N==="Diet",onChange:()=>B("Diet")}),"Diet"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"Fitness",checked:N==="Fitness",onChange:()=>B("Fitness")}),"Fitness"]})]}),I.expertise&&_.jsx("span",{className:"error-message",children:I.expertise})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Client Fee (per session)"}),_.jsx("input",{type:"number",value:O,onChange:me=>G(me.target.value),className:I.clientFee?"error":"",placeholder:"Enter your fee"}),I.clientFee&&_.jsx("span",{className:"error-message",children:I.clientFee})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Certificate (PDF)"}),_.jsx("input",{type:"file",accept:"application/pdf",onChange:me=>M(me.target.files[0]),className:I.certification?"error":""}),I.certification&&_.jsx("span",{className:"error-message",children:I.certification})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Short Bio"}),_.jsx("textarea",{value:D,onChange:me=>A(me.target.value),className:I.bio?"error":"",placeholder:"Enter a short bio (max 500 characters)",rows:"4"}),I.bio&&_.jsx("span",{className:"error-message",children:I.bio})]})]})}),I.form&&_.jsx("span",{className:"error-message",children:I.form})]}),_.jsx("button",{type:"submit",className:"auth-submit-btn",onClick:xn,children:i==="signup"?"Sign Up":"Login"}),_.jsx("div",{className:"auth-mode-toggle",children:i==="signup"?_.jsxs("span",{children:["Already have an account? ",_.jsx("button",{onClick:()=>a("login"),children:"Login"})]}):_.jsxs("span",{children:["Need an account? ",_.jsx("button",{onClick:()=>a("signup"),children:"Sign Up"})]})})]})}),_.jsxs("div",{className:"relative overflow-hidden bg-center bg-cover sm:bg-[url('')] lg:bg-[url('')]",style:{backgroundImage:window.innerWidth>=340?"url(/hero-4img.webp)":"none"},children:[_.jsx("div",{className:"absolute inset-0 opacity-10",children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent mix-blend-overlay"})}),_.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:mt-0 sm:px-6 lg:px-8 py-20 md:py-8 lg:py-50 lg:ml-35",children:_.jsx("div",{className:"relative flex flex-col lg:ml-55 lg:mb-10 items-center lg:items-start gap-8 lg:gap-12",children:_.jsx("div",{className:"flex-1 text-center lg:mb-35 lg:max-w-2xl",children:_.jsxs("div",{className:"backdrop-blur-md rounded-xl p-8 shadow-lg",children:[_.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-black mb-6",children:[_.jsx("span",{className:"block",children:"Transform Your"}),_.jsx("span",{className:"block text-orange-600",children:"Fitness Journey"})]}),_.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-10",children:"AI-powered workout plans tailored to your goals. No downloads required  access everything directly in your browser."}),_.jsxs("div",{className:"flex justify-center sm:flex-row gap-4",children:[_.jsx("button",{onClick:()=>V?Q("/login"):n(!0),className:"px-8 py-3 bg-orange-600 hover:bg-black hover:text-[#ef4d31] text-white font-bold rounded-lg transition-all transform hover:scale-105",children:"Get Started Free"}),_.jsx("button",{onClick:()=>V?Q("/experts"):n(!0),className:"px-8 py-3 bg-transparent border-2 border-black text-black hover:bg-black hover:text-[#ef4d31] font-bold rounded-lg transition-all md:border-4",children:"Meet Our Experts"})]})]})})})})]})]}),_.jsx("section",{className:"py-16 bg-black",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:mt-0 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-4xl font-bold text-[#e4e4e4] mb-4 ",children:"Revolutionizing Fitness with Smart Technology"}),_.jsx("p",{className:"text-xl text-[#e4e4e4] max-w-3xl mx-auto",children:"No apps, no downloads, no hassle - just results"}),_.jsx("div",{className:"mt-8 flex justify-center",children:_.jsx("button",{onClick:()=>U(!le),className:`px-4 py-2 rounded-full font-medium transition-all ${le?"bg-[#e4e4e4] text-black":"bg-[#ef4d31] text-white"}`,children:le?"Show Icon View":"Show Detailed View"})})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:je.map((me,be)=>_.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border-t-4 border-[#ef4d31]",children:le?_.jsxs("div",{className:"p-6 h-full flex flex-col",children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx("span",{className:"text-3xl mr-4 text-[#ef4d31]",children:me.icon}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:me.title})]}),_.jsx("p",{className:"text-gray-600 flex-grow",children:me.description}),_.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:_.jsx("button",{className:"text-[#ef4d31] font-medium hover:text-[#d0452e] transition-colors",children:"Learn more "})})]}):_.jsxs("div",{className:"p-8 flex flex-col items-center text-center h-full",children:[_.jsx("span",{className:"text-5xl mb-4 text-[#ef4d31]",children:me.icon}),_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:me.title}),_.jsx("button",{className:"mt-4 text-sm text-[#ef4d31] hover:text-[#d0452e] transition-colors",onClick:()=>U(!0),children:"+ Details"})]})},be))})]})}),_.jsx("section",{className:"py-16 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] sm:text-4xl",children:"Choose Your Fitness Journey"}),_.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Compare our self-guided AI platform with expert-led precision training"})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12",children:[_.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#ef4d31]",children:[_.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[_.jsx("div",{className:"flex justify-between items-center ",children:_.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-gray-700 bg-white",children:"Self-Guided"})}),_.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"AI Powered Fitness"}),_.jsx("p",{className:"mt-1 text-gray-600",children:"Smart technology guidance without human experts"}),_.jsx("div",{className:"mt-4 flex items-baseline",children:_.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"Free"})})]}),_.jsxs("div",{className:"px-6 py-6",children:[_.jsx("ul",{className:"space-y-3",children:et[0].features.slice(0,4).map((me,be)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3 text-gray-700",children:me})]},be))}),_.jsx("div",{className:"mt-8",children:_.jsx("button",{onClick:()=>V?Q("/dashboard"):n(!0),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-[#ef4d31] hover:bg-[#d0452e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31]",children:"Start Free"})}),_.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"No credit card required"})]})]}),_.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#000000] transform scale-105 relative",children:[_.jsx("div",{className:"absolute top-0 right-0 bg-[#000000] text-[#ef4d31] px-3 py-1 text-xs font-semibold rounded-bl-lg",children:"MOST POPULAR"}),_.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-[#ef4d31] bg-black",children:"Expert-Guided"})}),_.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Precision Training"}),_.jsx("p",{className:"mt-1 text-gray-600",children:"1-on-1 coaching with certified fitness experts"}),_.jsxs("div",{className:"mt-4 flex items-baseline",children:[_.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"PAID"}),_.jsx("span",{className:"ml-1 text-xl font-medium text-gray-500",children:"/month"})]})]}),_.jsxs("div",{className:"px-6 py-6",children:[_.jsx("ul",{className:"space-y-3",children:et[1].features.slice(0,4).map((me,be)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3 text-gray-700",children:me})]},be))}),_.jsx("div",{className:"mt-8",children:_.jsx("button",{onClick:()=>Q("/experts"),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-bold  text-[#ef4d31] bg-[#000000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31] ",children:"Get Started"})})]})]})]}),_.jsxs("div",{className:"mt-12 bg-[#e4e4e4] rounded-lg p-6 text-center border-4 border-[#000000]",children:[_.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Not sure which to choose?"}),_.jsx("p",{className:"mt-2 text-gray-600",children:"Try our free AI plan first, then upgrade to expert guidance when you're ready for personalized coaching."}),_.jsx("button",{className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-[#ef4d31] bg-white hover:bg-gray-100",onClick:()=>Q("/experts"),children:"Compare all features "})]})]})}),_.jsx("section",{className:"py-16 bg-black",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl",children:"Powerful Features"}),_.jsx("p",{className:"mt-4 max-w-2xl text-xl text-[#e4e4e4] mx-auto",children:"Everything you need to transform your fitness journey"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Powered Workouts"}),_.jsx("p",{className:"text-gray-600",children:"Get personalized workout plans tailored to your fitness level and goals using advanced AI technology."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Real-Time Form Correction"}),_.jsx("p",{className:"text-gray-600",children:"Our AI system monitors your movements and provides instant feedback to improve your form and prevent injuries."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Progress Tracking"}),_.jsx("p",{className:"text-gray-600",children:"Track your workout performance, set goals, and achieve better results with data-driven insights."})]})]})]})}),_.jsxs("section",{className:"py-16 bg-white relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[_.jsx("div",{className:"absolute top-1/4 -left-10 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),_.jsx("div",{className:"absolute top-1/2 right-0 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),_.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What Our Users Say"}),_.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Hear from people who transformed their fitness with us"})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"relative bg-[#e4e4e4] rounded-xl shadow-lg p-8 md:p-12",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-[#ef4d31] rounded-4"}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[_.jsx("div",{className:"md:w-1/3 mb-8 md:mb-0 flex justify-center",children:_.jsx("img",{src:oe[se].image,alt:oe[se].username,className:"w-32 h-32 rounded-full object-cover border-4 border-[#ef4d31] shadow-md"})}),_.jsxs("div",{className:"md:w-2/3 md:pl-8",children:[_.jsxs("div",{className:"text-lg text-gray-700 italic mb-6",children:['"',oe[se].text,'"']}),_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-xl font-bold text-[#ef4d31]",children:oe[se].username}),_.jsx("p",{className:"text-gray-600",children:oe[se].role})]})]})]})]}),_.jsxs("div",{className:"flex justify-center mt-8 space-x-4",children:[_.jsx("button",{onClick:$e,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),_.jsx("button",{onClick:ct,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]}),_.jsx("section",{className:"py-16 bg-black",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[_.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0 lg:pr-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl mb-6",children:"About FitnGro"}),_.jsx("p",{className:"text-xl text-[#e4e4e4] mb-8",children:"At FitnGro, our team blends fitness expertise and AI technology to personalize your fitness journey. Our app tailors workouts and nutrition plans based on your goals and data, providing real-time tracking and guidance."}),_.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"100+"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Happy Users"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"10+"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Certified Experts"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"24/7"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Support"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"AI"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Powered"})]})]})]}),_.jsx("div",{className:"lg:w-1/2 relative",children:_.jsx("div",{className:"relative",children:_.jsx("img",{src:"/jj-team.JPG",alt:"FitnGro Team",className:"rounded-lg shadow-xl w-full h-auto"})})})]})})}),_.jsx("section",{className:"py-16 bg-[#ef4d31]",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl mb-6",children:"Ready to Transform Your Fitness Journey?"}),_.jsx("p",{className:"text-xl text-gray-300  mb-8 max-w-3xl mx-auto",children:"Join thousands of users who are achieving their fitness goals with our AI-powered platform."}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[_.jsx("button",{onClick:()=>V?Q("/dashboard"):n(!0),className:"px-8 py-4 bg-white text-[#ef4d31] font-bold rounded-lg hover:bg-gray-100 transition-colors text-lg",children:"Get Started for Free"}),_.jsx("button",{onClick:()=>Q("/experts"),className:"px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg  hover:text-[#ef4d31] hover:bg-black transition-colors text-lg",children:"Meet Our Experts"})]})]})}),_.jsxs("footer",{className:"bg-black text-[#e4e4e4] py-12 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx("img",{src:"Footer-Logo-FG.png",alt:"FitnGro",className:"h-12 w-auto"}),_.jsx("p",{className:"text-sm",children:"Revolutionizing fitness with AI-powered technology and expert guidance."}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Quick Links"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Home"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"About"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Features"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Pricing"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Experts"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Resources"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Blog"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Help Center"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Tutorials"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Community"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Stay Updated"}),_.jsx("p",{className:"mb-4 text-sm",children:"Subscribe to our newsletter for the latest fitness tips and updates."}),_.jsxs("div",{className:"flex",children:[_.jsx("input",{type:"email",placeholder:"Your email",className:"px-4 py-2 w-full rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#ef4d31] text-black"}),_.jsx("button",{className:"bg-[#ef4d31] hover:bg-[#d0452e] text-white px-4 py-2 rounded-r-lg transition-colors",children:"Subscribe"})]})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto border-t border-gray-800 mt-12 pt-8 text-center text-sm",children:[_.jsxs("p",{children:[" ",new Date().getFullYear()," FitnGro. All rights reserved."]}),_.jsxs("div",{className:"mt-2 space-x-4",children:[_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Privacy Policy"}),_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Terms of Service"}),_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Cookie Policy"})]})]})]})]})},H5=({userEmail:t})=>{const[e,n]=L.useState([]),[i,a]=L.useState(!0),[l,u]=L.useState(null),[h,d]=L.useState("days"),[m,g]=L.useState(null),v=Xr(),{day:w}=pv();L.useEffect(()=>{if(!t){u("User not authenticated"),a(!1);return}(async()=>{a(!0),u(null);try{const N=ar(Zn,"workout_plans",t),B=await Za(N);if(B.exists()){const O=B.data();if(O.days&&Array.isArray(O.days)){if(n(O.days),w){const G=O.days.find(H=>H.day===parseInt(w));G&&(g(G),d("workouts"))}}else throw new Error("Invalid plan format: missing days array")}else throw new Error("No workout plan found")}catch(N){console.error("Fetch error:",N),u(N.message)}finally{a(!1)}})()},[t,w]);const x=R=>{R.rest||(g(R),d("workouts"),v(`/workout/${R.day}`))},S=R=>{const N=R.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"-").toLowerCase();v(`/exercise/${N}`,{state:{...m.workouts.find(B=>B.name===R),workoutList:m.workouts,currentIndex:m.workouts.findIndex(B=>B.name===R)}})},k=()=>{h==="workouts"&&(d("days"),v("/dashboard"))};return i?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading your workout plan..."})]}):l?_.jsxs("div",{className:"error-container",children:[_.jsx("h2",{children:"Error Loading Plan"}),_.jsx("p",{children:l}),_.jsx("button",{onClick:()=>window.location.reload(),children:"Try Again"})]}):e.length?_.jsxs("div",{className:"dashboard-container",children:[_.jsx("h1",{children:"Your FitnGro Workout Plan"}),_.jsxs("div",{className:"navigation-steps",children:[_.jsx("div",{className:`step ${h==="days"?"active":""}`,onClick:()=>d("days"),children:"Days"}),_.jsx("div",{className:`step ${h==="workouts"?"active":"disabled"}`,children:"Workouts"})]}),_.jsx("div",{className:`content-section ${h==="days"?"active":""}`,children:_.jsx("div",{className:"days-grid",children:e.map(R=>_.jsxs("div",{className:`day-card ${R.rest?"rest-day":""}`,onClick:()=>x(R),children:[_.jsxs("h3",{className:"day-header",children:["Day ",R.day]}),R.rest?_.jsx("p",{children:"Rest Day"}):_.jsx(_.Fragment,{children:_.jsxs("p",{children:[R.workouts.length," workouts"]})})]},R.day))})}),_.jsx("div",{className:`content-section ${h==="workouts"?"active":""}`,children:m&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"back-button",onClick:k,children:" Back to Days"}),_.jsxs("h2",{children:["Day ",m.day," Workouts"]}),_.jsx("div",{className:"workouts-list",children:m.workouts.map((R,N)=>_.jsxs("div",{className:"workout-card",onClick:()=>S(R.name),children:[_.jsxs("div",{className:"exercise-header",children:[_.jsx("h3",{children:R.name}),_.jsxs("div",{className:"exercise-sets",children:[R.sets," sets  ",R.reps," ",R.type]})]}),_.jsx("div",{className:"exercise-arrow",children:""})]},N))})]})})]}):_.jsxs("div",{className:"empty-plan",children:[_.jsx("h2",{children:"No Workout Plan Found"}),_.jsx("p",{children:"Please generate a new workout plan using the chatbot"})]})},G5=({userEmail:t})=>{var g;const{day:e}=pv(),[n,i]=L.useState(null),[a,l]=L.useState(!0),[u,h]=L.useState(null),d=Xr();L.useEffect(()=>{(async()=>{try{const w=ar(Zn,"workout_plans",t),x=await Za(w);if(x.exists()){const k=x.data().days.find(R=>R.day===parseInt(e));if(k)i(k);else throw new Error(`Day ${e} not found in your plan`)}else throw new Error("No workout plan found")}catch(w){console.error("Error fetching day data:",w),h(w.message)}finally{l(!1)}})()},[t,e]);const m=async(v,w)=>{try{const x=ar(Zn,"exercises",v.name),S=await Za(x),k=S.exists()?S.data():{};d(`/exercise/${t}/${v.name}`,{state:{...v,...k,workoutList:n.workouts,currentIndex:w}})}catch(x){console.error("Error fetching exercise details:",x),d(`/exercise/${t}/${v.name}`,{state:{...v,workoutList:n.workouts,currentIndex:w}})}};return a?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsxs("p",{children:["Loading day ",e," workouts..."]})]}):u?_.jsxs("div",{className:"error-container",children:[_.jsx("h2",{children:"Error Loading Workouts"}),_.jsx("p",{children:u}),_.jsx("button",{onClick:()=>d("/dashboard"),children:"Back to Dashboard"})]}):_.jsxs("div",{className:"workout-day-container",children:[_.jsx("button",{className:"back-button",onClick:()=>d("/dashboard"),children:" Back to Dashboard"}),_.jsxs("h1",{children:["Day ",e," Workouts"]}),n!=null&&n.rest?_.jsxs("div",{className:"rest-day-message",children:[_.jsx("h2",{children:"Rest Day"}),_.jsx("p",{children:"Take this day to recover and come back stronger tomorrow!"})]}):_.jsx("div",{className:"workouts-list",children:(g=n==null?void 0:n.workouts)==null?void 0:g.map((v,w)=>_.jsxs("div",{className:"workout-card",onClick:()=>m(v,w),children:[_.jsxs("div",{className:"workout-header",children:[_.jsx("h3",{children:v.name}),_.jsxs("div",{className:"workout-details",children:[v.sets," sets  ",v.reps," ",v.type]})]}),_.jsx("div",{className:"workout-arrow",children:""})]},w))})]})},$5="modulepreload",K5=function(t){return"/"+t},SS={},Nn=function(e,n,i){let a=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=u(n.map(m=>{if(m=K5(m),m in SS)return;SS[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":$5,g||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((x,S)=>{w.addEventListener("load",x),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Kg,AS;function Y5(){if(AS)return Kg;AS=1,Kg=function(a,l,u){var h=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof l=="function"&&(u=l,l={}),l=l||{},u=u||function(){},d.type=l.type||"text/javascript",d.charset=l.charset||"utf8",d.async="async"in l?!!l.async:!0,d.src=a,l.attrs&&t(d,l.attrs),l.text&&(d.text=""+l.text);var m="onload"in d?e:n;m(d,u),d.onload||e(d,u),h.appendChild(d)};function t(i,a){for(var l in a)i.setAttribute(l,a[l])}function e(i,a){i.onload=function(){this.onerror=this.onload=null,a(null,i)},i.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),i)}}function n(i,a){i.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,i))}}return Kg}var Yg,RS;function PI(){if(RS)return Yg;RS=1;var t=function(B){return e(B)&&!n(B)};function e(N){return!!N&&typeof N=="object"}function n(N){var B=Object.prototype.toString.call(N);return B==="[object RegExp]"||B==="[object Date]"||l(N)}var i=typeof Symbol=="function"&&Symbol.for,a=i?Symbol.for("react.element"):60103;function l(N){return N.$$typeof===a}function u(N){return Array.isArray(N)?[]:{}}function h(N,B){return B.clone!==!1&&B.isMergeableObject(N)?k(u(N),N,B):N}function d(N,B,O){return N.concat(B).map(function(G){return h(G,O)})}function m(N,B){if(!B.customMerge)return k;var O=B.customMerge(N);return typeof O=="function"?O:k}function g(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(B){return Object.propertyIsEnumerable.call(N,B)}):[]}function v(N){return Object.keys(N).concat(g(N))}function w(N,B){try{return B in N}catch{return!1}}function x(N,B){return w(N,B)&&!(Object.hasOwnProperty.call(N,B)&&Object.propertyIsEnumerable.call(N,B))}function S(N,B,O){var G={};return O.isMergeableObject(N)&&v(N).forEach(function(H){G[H]=h(N[H],O)}),v(B).forEach(function(H){x(N,H)||(w(N,H)&&O.isMergeableObject(B[H])?G[H]=m(H,O)(N[H],B[H],O):G[H]=h(B[H],O))}),G}function k(N,B,O){O=O||{},O.arrayMerge=O.arrayMerge||d,O.isMergeableObject=O.isMergeableObject||t,O.cloneUnlessOtherwiseSpecified=h;var G=Array.isArray(B),H=Array.isArray(N),M=G===H;return M?G?O.arrayMerge(N,B,O):S(N,B,O):h(B,O)}k.all=function(B,O){if(!Array.isArray(B))throw new Error("first argument should be an array");return B.reduce(function(G,H){return k(G,H,O)},{})};var R=k;return Yg=R,Yg}var Wg,CS;function rm(){if(CS)return Wg;CS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(le,U)=>{for(var Q in U)e(le,Q,{get:U[Q],enumerable:!0})},h=(le,U,Q,oe)=>{if(U&&typeof U=="object"||typeof U=="function")for(let se of i(U))!l.call(le,se)&&se!==Q&&e(le,se,{get:()=>U[se],enumerable:!(oe=n(U,se))||oe.enumerable});return le},d=(le,U,Q)=>(Q=le!=null?t(a(le)):{},h(!le||!le.__esModule?e(Q,"default",{value:le,enumerable:!0}):Q,le)),m=le=>h(e({},"__esModule",{value:!0}),le),g={};u(g,{callPlayer:()=>ie,getConfig:()=>q,getSDK:()=>F,isBlobUrl:()=>K,isMediaStream:()=>pe,lazy:()=>S,omit:()=>V,parseEndTime:()=>M,parseStartTime:()=>H,queryString:()=>A,randomString:()=>D,supportsWebKitPresentationMode:()=>re}),Wg=m(g);var v=d(vl()),w=d(Y5()),x=d(PI());const S=le=>v.default.lazy(async()=>{const U=await le();return typeof U.default=="function"?U:U.default}),k=/[?&#](?:start|t)=([0-9hms]+)/,R=/[?&#]end=([0-9hms]+)/,N=/(\d+)(h|m|s)/g,B=/^\d+$/;function O(le,U){if(le instanceof Array)return;const Q=le.match(U);if(Q){const oe=Q[1];if(oe.match(N))return G(oe);if(B.test(oe))return parseInt(oe)}}function G(le){let U=0,Q=N.exec(le);for(;Q!==null;){const[,oe,se]=Q;se==="h"&&(U+=parseInt(oe,10)*60*60),se==="m"&&(U+=parseInt(oe,10)*60),se==="s"&&(U+=parseInt(oe,10)),Q=N.exec(le)}return U}function H(le){return O(le,k)}function M(le){return O(le,R)}function D(){return Math.random().toString(36).substr(2,5)}function A(le){return Object.keys(le).map(U=>`${U}=${le[U]}`).join("&")}function I(le){return window[le]?window[le]:window.exports&&window.exports[le]?window.exports[le]:window.module&&window.module.exports&&window.module.exports[le]?window.module.exports[le]:null}const j={},F=function(U,Q,oe=null,se=()=>!0,ye=w.default){const Te=I(Q);return Te&&se(Te)?Promise.resolve(Te):new Promise((Ee,ct)=>{if(j[U]){j[U].push({resolve:Ee,reject:ct});return}j[U]=[{resolve:Ee,reject:ct}];const $e=je=>{j[U].forEach(Xt=>Xt.resolve(je))};if(oe){const je=window[oe];window[oe]=function(){je&&je(),$e(I(Q))}}ye(U,je=>{je?(j[U].forEach(Xt=>Xt.reject(je)),j[U]=null):oe||$e(I(Q))})})};function q(le,U){return(0,x.default)(U.config,le.config)}function V(le,...U){const Q=[].concat(...U),oe={},se=Object.keys(le);for(const ye of se)Q.indexOf(ye)===-1&&(oe[ye]=le[ye]);return oe}function ie(le,...U){if(!this.player||!this.player[le]){let Q=`ReactPlayer: ${this.constructor.displayName} player could not call %c${le}%c  `;return this.player?this.player[le]||(Q+="The method was not available"):Q+="The player was not available",console.warn(Q,"font-weight: bold",""),null}return this.player[le](...U)}function pe(le){return typeof window<"u"&&typeof window.MediaStream<"u"&&le instanceof window.MediaStream}function K(le){return/^blob:/.test(le)}function re(le=document.createElement("video")){const U=/iPhone|iPod/.test(navigator.userAgent)===!1;return le.webkitSupportsPresentationMode&&typeof le.webkitSetPresentationMode=="function"&&U}function fe(le){return le}return Wg}var Qg,IS;function W5(){if(IS)return Qg;IS=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(ie,pe)=>{for(var K in pe)t(ie,K,{get:pe[K],enumerable:!0})},l=(ie,pe,K,re)=>{if(pe&&typeof pe=="object"||typeof pe=="function")for(let fe of n(pe))!i.call(ie,fe)&&fe!==K&&t(ie,fe,{get:()=>pe[fe],enumerable:!(re=e(pe,fe))||re.enumerable});return ie},u=ie=>l(t({},"__esModule",{value:!0}),ie),h={};a(h,{AUDIO_EXTENSIONS:()=>D,DASH_EXTENSIONS:()=>j,FLV_EXTENSIONS:()=>F,HLS_EXTENSIONS:()=>I,MATCH_URL_DAILYMOTION:()=>O,MATCH_URL_FACEBOOK:()=>x,MATCH_URL_FACEBOOK_WATCH:()=>S,MATCH_URL_KALTURA:()=>M,MATCH_URL_MIXCLOUD:()=>G,MATCH_URL_MUX:()=>w,MATCH_URL_SOUNDCLOUD:()=>g,MATCH_URL_STREAMABLE:()=>k,MATCH_URL_TWITCH_CHANNEL:()=>B,MATCH_URL_TWITCH_VIDEO:()=>N,MATCH_URL_VIDYARD:()=>H,MATCH_URL_VIMEO:()=>v,MATCH_URL_WISTIA:()=>R,MATCH_URL_YOUTUBE:()=>m,VIDEO_EXTENSIONS:()=>A,canPlay:()=>V}),Qg=u(h);var d=rm();const m=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,g=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v=/vimeo\.com\/(?!progressive_redirect).+/,w=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,x=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,S=/^https?:\/\/fb\.watch\/.+$/,k=/streamable\.com\/([a-z0-9]+)$/,R=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,N=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,B=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,O=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,G=/mixcloud\.com\/([^/]+\/[^/]+)/,H=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,M=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,D=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,A=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,I=/\.(m3u8)($|\?)/i,j=/\.(mpd)($|\?)/i,F=/\.(flv)($|\?)/i,q=ie=>{if(ie instanceof Array){for(const pe of ie)if(typeof pe=="string"&&q(pe)||q(pe.src))return!0;return!1}return(0,d.isMediaStream)(ie)||(0,d.isBlobUrl)(ie)?!0:D.test(ie)||A.test(ie)||I.test(ie)||j.test(ie)||F.test(ie)},V={youtube:ie=>ie instanceof Array?ie.every(pe=>m.test(pe)):m.test(ie),soundcloud:ie=>g.test(ie)&&!D.test(ie),vimeo:ie=>v.test(ie)&&!A.test(ie)&&!I.test(ie),mux:ie=>w.test(ie),facebook:ie=>x.test(ie)||S.test(ie),streamable:ie=>k.test(ie),wistia:ie=>R.test(ie),twitch:ie=>N.test(ie)||B.test(ie),dailymotion:ie=>O.test(ie),mixcloud:ie=>G.test(ie),vidyard:ie=>H.test(ie),kaltura:ie=>M.test(ie),file:q};return Qg}var Xg,NS;function Q5(){if(NS)return Xg;NS=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,i=Object.prototype.hasOwnProperty,a=(v,w)=>{for(var x in w)t(v,x,{get:w[x],enumerable:!0})},l=(v,w,x,S)=>{if(w&&typeof w=="object"||typeof w=="function")for(let k of n(w))!i.call(v,k)&&k!==x&&t(v,k,{get:()=>w[k],enumerable:!(S=e(w,k))||S.enumerable});return v},u=v=>l(t({},"__esModule",{value:!0}),v),h={};a(h,{default:()=>g}),Xg=u(h);var d=rm(),m=W5(),g=[{key:"youtube",name:"YouTube",canPlay:m.canPlay.youtube,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./YouTube-9IyF080a.js").then(v=>v.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:m.canPlay.soundcloud,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./SoundCloud-CkCzGA0m.js").then(v=>v.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:m.canPlay.vimeo,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Vimeo-BT2keWir.js").then(v=>v.V),[]))},{key:"mux",name:"Mux",canPlay:m.canPlay.mux,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Mux-BHmRXvqZ.js").then(v=>v.M),[]))},{key:"facebook",name:"Facebook",canPlay:m.canPlay.facebook,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Facebook-DX9QW9dR.js").then(v=>v.F),[]))},{key:"streamable",name:"Streamable",canPlay:m.canPlay.streamable,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Streamable-pgMDo5EE.js").then(v=>v.S),[]))},{key:"wistia",name:"Wistia",canPlay:m.canPlay.wistia,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Wistia-BA7JkshW.js").then(v=>v.W),[]))},{key:"twitch",name:"Twitch",canPlay:m.canPlay.twitch,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Twitch-Bf04vuqQ.js").then(v=>v.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:m.canPlay.dailymotion,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./DailyMotion-BjUoak95.js").then(v=>v.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:m.canPlay.mixcloud,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Mixcloud-XS3jxtBS.js").then(v=>v.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:m.canPlay.vidyard,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Vidyard-CuJHKIHX.js").then(v=>v.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:m.canPlay.kaltura,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Kaltura-CMvVdAkx.js").then(v=>v.K),[]))},{key:"file",name:"FilePlayer",canPlay:m.canPlay.file,canEnablePIP:v=>m.canPlay.file(v)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!m.AUDIO_EXTENSIONS.test(v),lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./FilePlayer-Cv_HRP8L.js").then(v=>v.F),[]))}];return Xg}var kS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function X5(t,e){return!!(t===e||kS(t)&&kS(e))}function Z5(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!X5(t[n],e[n]))return!1;return!0}function J5(t,e){e===void 0&&(e=Z5);var n,i=[],a,l=!1;function u(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return l&&n===this&&e(h,i)||(a=t.apply(this,h),l=!0,n=this,i=h),a}return u}const eB=Object.freeze(Object.defineProperty({__proto__:null,default:J5},Symbol.toStringTag,{value:"Module"})),tB=kk(eB);var Zg,PS;function DI(){if(PS)return Zg;PS=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",i=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var h,d,m;if(Array.isArray(l)){if(h=l.length,h!=u.length)return!1;for(d=h;d--!==0;)if(!a(l[d],u[d]))return!1;return!0}var g;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(g=l.entries();!(d=g.next()).done;)if(!u.has(d.value[0]))return!1;for(g=l.entries();!(d=g.next()).done;)if(!a(d.value[1],u.get(d.value[0])))return!1;return!0}if(n&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(g=l.entries();!(d=g.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(h=l.length,h!=u.length)return!1;for(d=h;d--!==0;)if(l[d]!==u[d])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(m=Object.keys(l),h=m.length,h!==Object.keys(u).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[d]))return!1;if(t&&l instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&l.$$typeof)&&!a(l[m[d]],u[m[d]]))return!1;return!0}return l!==l&&u!==u}return Zg=function(u,h){try{return a(u,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},Zg}var Jg={exports:{}},ey,DS;function nB(){if(DS)return ey;DS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ey=t,ey}var ty,OS;function iB(){if(OS)return ty;OS=1;var t=nB();function e(){}function n(){}return n.resetWarningCache=e,ty=function(){function i(u,h,d,m,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}i.isRequired=i;function a(){return i}var l={array:i,bigint:i,bool:i,func:i,number:i,object:i,string:i,symbol:i,any:i,arrayOf:a,element:i,elementType:i,instanceOf:a,node:i,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ty}var MS;function rB(){return MS||(MS=1,Jg.exports=iB()()),Jg.exports}var ny,VS;function OI(){if(VS)return ny;VS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(A,I)=>{for(var j in I)e(A,j,{get:I[j],enumerable:!0})},h=(A,I,j,F)=>{if(I&&typeof I=="object"||typeof I=="function")for(let q of i(I))!l.call(A,q)&&q!==j&&e(A,q,{get:()=>I[q],enumerable:!(F=n(I,q))||F.enumerable});return A},d=(A,I,j)=>(j=A!=null?t(a(A)):{},h(!A||!A.__esModule?e(j,"default",{value:A,enumerable:!0}):j,A)),m=A=>h(e({},"__esModule",{value:!0}),A),g={};u(g,{defaultProps:()=>D,propTypes:()=>H}),ny=m(g);var v=d(rB());const{string:w,bool:x,number:S,array:k,oneOfType:R,shape:N,object:B,func:O,node:G}=v.default,H={url:R([w,k,B]),playing:x,loop:x,controls:x,volume:S,muted:x,playbackRate:S,width:R([w,S]),height:R([w,S]),style:B,progressInterval:S,playsinline:x,pip:x,stopOnUnmount:x,light:R([x,w,B]),playIcon:G,previewTabIndex:S,previewAriaLabel:w,fallback:G,oEmbedUrl:w,wrapper:R([w,O,N({render:O.isRequired})]),config:N({soundcloud:N({options:B}),youtube:N({playerVars:B,embedOptions:B,onUnstarted:O}),facebook:N({appId:w,version:w,playerId:w,attributes:B}),dailymotion:N({params:B}),vimeo:N({playerOptions:B,title:w}),mux:N({attributes:B,version:w}),file:N({attributes:B,tracks:k,forceVideo:x,forceAudio:x,forceHLS:x,forceSafariHLS:x,forceDisableHls:x,forceDASH:x,forceFLV:x,hlsOptions:B,hlsVersion:w,dashVersion:w,flvVersion:w}),wistia:N({options:B,playerId:w,customControls:k}),mixcloud:N({options:B}),twitch:N({options:B,playerId:w}),vidyard:N({options:B})}),onReady:O,onStart:O,onPlay:O,onPause:O,onBuffer:O,onBufferEnd:O,onEnded:O,onError:O,onDuration:O,onSeek:O,onPlaybackRateChange:O,onPlaybackQualityChange:O,onProgress:O,onClickPreview:O,onEnablePIP:O,onDisablePIP:O},M=()=>{},D={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:M},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:M,onStart:M,onPlay:M,onPause:M,onBuffer:M,onBufferEnd:M,onEnded:M,onError:M,onDuration:M,onSeek:M,onPlaybackRateChange:M,onPlaybackQualityChange:M,onProgress:M,onClickPreview:M,onEnablePIP:M,onDisablePIP:M};return ny}var iy,jS;function sB(){if(jS)return iy;jS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(O,G,H)=>G in O?e(O,G,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[G]=H,h=(O,G)=>{for(var H in G)e(O,H,{get:G[H],enumerable:!0})},d=(O,G,H,M)=>{if(G&&typeof G=="object"||typeof G=="function")for(let D of i(G))!l.call(O,D)&&D!==H&&e(O,D,{get:()=>G[D],enumerable:!(M=n(G,D))||M.enumerable});return O},m=(O,G,H)=>(H=O!=null?t(a(O)):{},d(!O||!O.__esModule?e(H,"default",{value:O,enumerable:!0}):H,O)),g=O=>d(e({},"__esModule",{value:!0}),O),v=(O,G,H)=>(u(O,typeof G!="symbol"?G+"":G,H),H),w={};h(w,{default:()=>B}),iy=g(w);var x=m(vl()),S=m(DI()),k=OI(),R=rm();const N=5e3;class B extends x.Component{constructor(){super(...arguments),v(this,"mounted",!1),v(this,"isReady",!1),v(this,"isPlaying",!1),v(this,"isLoading",!0),v(this,"loadOnReady",null),v(this,"startOnPlay",!0),v(this,"seekOnPlay",null),v(this,"onDurationCalled",!1),v(this,"handlePlayerMount",G=>{if(this.player){this.progress();return}this.player=G,this.player.load(this.props.url),this.progress()}),v(this,"getInternalPlayer",G=>this.player?this.player[G]:null),v(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const G=this.getCurrentTime()||0,H=this.getSecondsLoaded(),M=this.getDuration();if(M){const D={playedSeconds:G,played:G/M};H!==null&&(D.loadedSeconds=H,D.loaded=H/M),(D.playedSeconds!==this.prevPlayed||D.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(D),this.prevPlayed=D.playedSeconds,this.prevLoaded=D.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),v(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:G,playing:H,volume:M,muted:D}=this.props;G(),!D&&M!==null&&this.player.setVolume(M),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):H&&this.player.play(),this.handleDurationCheck()}),v(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:G,onPlay:H,playbackRate:M}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&M!==1&&this.player.setPlaybackRate(M),G(),this.startOnPlay=!1),H(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),v(this,"handlePause",G=>{this.isPlaying=!1,this.isLoading||this.props.onPause(G)}),v(this,"handleEnded",()=>{const{activePlayer:G,loop:H,onEnded:M}=this.props;G.loopOnEnded&&H&&this.seekTo(0),H||(this.isPlaying=!1,M())}),v(this,"handleError",(...G)=>{this.isLoading=!1,this.props.onError(...G)}),v(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const G=this.getDuration();G?this.onDurationCalled||(this.props.onDuration(G),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),v(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(G){if(!this.player)return;const{url:H,playing:M,volume:D,muted:A,playbackRate:I,pip:j,loop:F,activePlayer:q,disableDeferredLoading:V}=this.props;if(!(0,S.default)(G.url,H)){if(this.isLoading&&!q.forceLoad&&!V&&!(0,R.isMediaStream)(H)){console.warn(`ReactPlayer: the attempt to load ${H} is being deferred until the player has loaded`),this.loadOnReady=H;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(H,this.isReady)}!G.playing&&M&&!this.isPlaying&&this.player.play(),G.playing&&!M&&this.isPlaying&&this.player.pause(),!G.pip&&j&&this.player.enablePIP&&this.player.enablePIP(),G.pip&&!j&&this.player.disablePIP&&this.player.disablePIP(),G.volume!==D&&D!==null&&this.player.setVolume(D),G.muted!==A&&(A?this.player.mute():(this.player.unmute(),D!==null&&setTimeout(()=>this.player.setVolume(D)))),G.playbackRate!==I&&this.player.setPlaybackRate&&this.player.setPlaybackRate(I),G.loop!==F&&this.player.setLoop&&this.player.setLoop(F)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(G,H,M){if(!this.isReady){G!==0&&(this.seekOnPlay=G,setTimeout(()=>{this.seekOnPlay=null},N));return}if(H?H==="fraction":G>0&&G<1){const A=this.player.getDuration();if(!A){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(A*G,M);return}this.player.seekTo(G,M)}render(){const G=this.props.activePlayer;return G?x.default.createElement(G,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return v(B,"displayName","Player"),v(B,"propTypes",k.propTypes),v(B,"defaultProps",k.defaultProps),iy}var ry,LS;function aB(){if(LS)return ry;LS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(F,q,V)=>q in F?e(F,q,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[q]=V,h=(F,q)=>{for(var V in q)e(F,V,{get:q[V],enumerable:!0})},d=(F,q,V,ie)=>{if(q&&typeof q=="object"||typeof q=="function")for(let pe of i(q))!l.call(F,pe)&&pe!==V&&e(F,pe,{get:()=>q[pe],enumerable:!(ie=n(q,pe))||ie.enumerable});return F},m=(F,q,V)=>(V=F!=null?t(a(F)):{},d(!F||!F.__esModule?e(V,"default",{value:F,enumerable:!0}):V,F)),g=F=>d(e({},"__esModule",{value:!0}),F),v=(F,q,V)=>(u(F,typeof q!="symbol"?q+"":q,V),V),w={};h(w,{createReactPlayer:()=>j}),ry=g(w);var x=m(vl()),S=m(PI()),k=m(tB),R=m(DI()),N=OI(),B=rm(),O=m(sB());const G=(0,B.lazy)(()=>Nn(()=>import("./Preview-CnHbrkxc.js").then(F=>F.P),[])),H=typeof window<"u"&&window.document&&typeof document<"u",M=typeof cg<"u"&&cg.window&&cg.window.document,D=Object.keys(N.propTypes),A=H||M?x.Suspense:()=>null,I=[],j=(F,q)=>{var V;return V=class extends x.Component{constructor(){super(...arguments),v(this,"state",{showPreview:!!this.props.light}),v(this,"references",{wrapper:ie=>{this.wrapper=ie},player:ie=>{this.player=ie}}),v(this,"handleClickPreview",ie=>{this.setState({showPreview:!1}),this.props.onClickPreview(ie)}),v(this,"showPreview",()=>{this.setState({showPreview:!0})}),v(this,"getDuration",()=>this.player?this.player.getDuration():null),v(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),v(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),v(this,"getInternalPlayer",(ie="player")=>this.player?this.player.getInternalPlayer(ie):null),v(this,"seekTo",(ie,pe,K)=>{if(!this.player)return null;this.player.seekTo(ie,pe,K)}),v(this,"handleReady",()=>{this.props.onReady(this)}),v(this,"getActivePlayer",(0,k.default)(ie=>{for(const pe of[...I,...F])if(pe.canPlay(ie))return pe;return q||null})),v(this,"getConfig",(0,k.default)((ie,pe)=>{const{config:K}=this.props;return S.default.all([N.defaultProps.config,N.defaultProps.config[pe]||{},K,K[pe]||{}])})),v(this,"getAttributes",(0,k.default)(ie=>(0,B.omit)(this.props,D))),v(this,"renderActivePlayer",ie=>{if(!ie)return null;const pe=this.getActivePlayer(ie);if(!pe)return null;const K=this.getConfig(ie,pe.key);return x.default.createElement(O.default,{...this.props,key:pe.key,ref:this.references.player,config:K,activePlayer:pe.lazyPlayer||pe,onReady:this.handleReady})})}shouldComponentUpdate(ie,pe){return!(0,R.default)(this.props,ie)||!(0,R.default)(this.state,pe)}componentDidUpdate(ie){const{light:pe}=this.props;!ie.light&&pe&&this.setState({showPreview:!0}),ie.light&&!pe&&this.setState({showPreview:!1})}renderPreview(ie){if(!ie)return null;const{light:pe,playIcon:K,previewTabIndex:re,oEmbedUrl:fe,previewAriaLabel:le}=this.props;return x.default.createElement(G,{url:ie,light:pe,playIcon:K,previewTabIndex:re,previewAriaLabel:le,oEmbedUrl:fe,onClick:this.handleClickPreview})}render(){const{url:ie,style:pe,width:K,height:re,fallback:fe,wrapper:le}=this.props,{showPreview:U}=this.state,Q=this.getAttributes(ie),oe=typeof le=="string"?this.references.wrapper:void 0;return x.default.createElement(le,{ref:oe,style:{...pe,width:K,height:re},...Q},x.default.createElement(A,{fallback:fe},U?this.renderPreview(ie):this.renderActivePlayer(ie)))}},v(V,"displayName","ReactPlayer"),v(V,"propTypes",N.propTypes),v(V,"defaultProps",N.defaultProps),v(V,"addCustomPlayer",ie=>{I.push(ie)}),v(V,"removeCustomPlayers",()=>{I.length=0}),v(V,"canPlay",ie=>{for(const pe of[...I,...F])if(pe.canPlay(ie))return!0;return!1}),v(V,"canEnablePIP",ie=>{for(const pe of[...I,...F])if(pe.canEnablePIP&&pe.canEnablePIP(ie))return!0;return!1}),V};return ry}var sy,US;function oB(){if(US)return sy;US=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(k,R)=>{for(var N in R)e(k,N,{get:R[N],enumerable:!0})},h=(k,R,N,B)=>{if(R&&typeof R=="object"||typeof R=="function")for(let O of i(R))!l.call(k,O)&&O!==N&&e(k,O,{get:()=>R[O],enumerable:!(B=n(R,O))||B.enumerable});return k},d=(k,R,N)=>(N=k!=null?t(a(k)):{},h(!k||!k.__esModule?e(N,"default",{value:k,enumerable:!0}):N,k)),m=k=>h(e({},"__esModule",{value:!0}),k),g={};u(g,{default:()=>S}),sy=m(g);var v=d(Q5()),w=aB();const x=v.default[v.default.length-1];var S=(0,w.createReactPlayer)(v.default,x);return sy}var lB=oB();const uB=hv(lB);function MI(t,e){return function(){return t.apply(e,arguments)}}const{toString:cB}=Object.prototype,{getPrototypeOf:t0}=Object,{iterator:sm,toStringTag:VI}=Symbol,am=(t=>e=>{const n=cB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pi=t=>(t=t.toLowerCase(),e=>am(e)===t),om=t=>e=>typeof e===t,{isArray:kl}=Array,Cc=om("undefined");function hB(t){return t!==null&&!Cc(t)&&t.constructor!==null&&!Cc(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const jI=Pi("ArrayBuffer");function dB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&jI(t.buffer),e}const fB=om("string"),Un=om("function"),LI=om("number"),lm=t=>t!==null&&typeof t=="object",mB=t=>t===!0||t===!1,Hd=t=>{if(am(t)!=="object")return!1;const e=t0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(VI in t)&&!(sm in t)},pB=Pi("Date"),gB=Pi("File"),yB=Pi("Blob"),vB=Pi("FileList"),_B=t=>lm(t)&&Un(t.pipe),bB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=am(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},wB=Pi("URLSearchParams"),[TB,EB,xB,SB]=["ReadableStream","Request","Response","Headers"].map(Pi),AB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $c(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let i,a;if(typeof t!="object"&&(t=[t]),kl(t))for(i=0,a=t.length;i<a;i++)e.call(null,t[i],i,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let h;for(i=0;i<u;i++)h=l[i],e.call(null,t[h],h,t)}}function UI(t,e){e=e.toLowerCase();const n=Object.keys(t);let i=n.length,a;for(;i-- >0;)if(a=n[i],e===a.toLowerCase())return a;return null}const za=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,BI=t=>!Cc(t)&&t!==za;function sv(){const{caseless:t}=BI(this)&&this||{},e={},n=(i,a)=>{const l=t&&UI(e,a)||a;Hd(e[l])&&Hd(i)?e[l]=sv(e[l],i):Hd(i)?e[l]=sv({},i):kl(i)?e[l]=i.slice():e[l]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&$c(arguments[i],n);return e}const RB=(t,e,n,{allOwnKeys:i}={})=>($c(e,(a,l)=>{n&&Un(a)?t[l]=MI(a,n):t[l]=a},{allOwnKeys:i}),t),CB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),IB=(t,e,n,i)=>{t.prototype=Object.create(e.prototype,i),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},NB=(t,e,n,i)=>{let a,l,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!i||i(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&t0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const i=t.indexOf(e,n);return i!==-1&&i===n},PB=t=>{if(!t)return null;if(kl(t))return t;let e=t.length;if(!LI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},DB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&t0(Uint8Array)),OB=(t,e)=>{const i=(t&&t[sm]).call(t);let a;for(;(a=i.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},MB=(t,e)=>{let n;const i=[];for(;(n=t.exec(e))!==null;)i.push(n);return i},VB=Pi("HTMLFormElement"),jB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,i,a){return i.toUpperCase()+a}),BS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),LB=Pi("RegExp"),FI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),i={};$c(n,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(i[l]=u||a)}),Object.defineProperties(t,i)},UB=t=>{FI(t,(e,n)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const i=t[n];if(Un(i)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},BB=(t,e)=>{const n={},i=a=>{a.forEach(l=>{n[l]=!0})};return kl(t)?i(t):i(String(t).split(e)),n},FB=()=>{},zB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qB(t){return!!(t&&Un(t.append)&&t[VI]==="FormData"&&t[sm])}const HB=t=>{const e=new Array(10),n=(i,a)=>{if(lm(i)){if(e.indexOf(i)>=0)return;if(!("toJSON"in i)){e[a]=i;const l=kl(i)?[]:{};return $c(i,(u,h)=>{const d=n(u,a+1);!Cc(d)&&(l[h]=d)}),e[a]=void 0,l}}return i};return n(t,0)},GB=Pi("AsyncFunction"),$B=t=>t&&(lm(t)||Un(t))&&Un(t.then)&&Un(t.catch),zI=((t,e)=>t?setImmediate:e?((n,i)=>(za.addEventListener("message",({source:a,data:l})=>{a===za&&l===n&&i.length&&i.shift()()},!1),a=>{i.push(a),za.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Un(za.postMessage)),KB=typeof queueMicrotask<"u"?queueMicrotask.bind(za):typeof process<"u"&&process.nextTick||zI,YB=t=>t!=null&&Un(t[sm]),ne={isArray:kl,isArrayBuffer:jI,isBuffer:hB,isFormData:bB,isArrayBufferView:dB,isString:fB,isNumber:LI,isBoolean:mB,isObject:lm,isPlainObject:Hd,isReadableStream:TB,isRequest:EB,isResponse:xB,isHeaders:SB,isUndefined:Cc,isDate:pB,isFile:gB,isBlob:yB,isRegExp:LB,isFunction:Un,isStream:_B,isURLSearchParams:wB,isTypedArray:DB,isFileList:vB,forEach:$c,merge:sv,extend:RB,trim:AB,stripBOM:CB,inherits:IB,toFlatObject:NB,kindOf:am,kindOfTest:Pi,endsWith:kB,toArray:PB,forEachEntry:OB,matchAll:MB,isHTMLForm:VB,hasOwnProperty:BS,hasOwnProp:BS,reduceDescriptors:FI,freezeMethods:UB,toObjectSet:BB,toCamelCase:jB,noop:FB,toFiniteNumber:zB,findKey:UI,global:za,isContextDefined:BI,isSpecCompliantForm:qB,toJSONObject:HB,isAsyncFn:GB,isThenable:$B,setImmediate:zI,asap:KB,isIterable:YB};function Le(t,e,n,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}ne.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const qI=Le.prototype,HI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{HI[t]={value:t}});Object.defineProperties(Le,HI);Object.defineProperty(qI,"isAxiosError",{value:!0});Le.from=(t,e,n,i,a,l)=>{const u=Object.create(qI);return ne.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Le.call(u,t.message,e,n,i,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const WB=null;function av(t){return ne.isPlainObject(t)||ne.isArray(t)}function GI(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function FS(t,e,n){return t?t.concat(e).map(function(a,l){return a=GI(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function QB(t){return ne.isArray(t)&&!t.some(av)}const XB=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function um(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!ne.isUndefined(R[k])});const i=n.metaTokens,a=n.visitor||g,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(a))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(ne.isDate(S))return S.toISOString();if(!d&&ne.isBlob(S))throw new Le("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(S)||ne.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,k,R){let N=S;if(S&&!R&&typeof S=="object"){if(ne.endsWith(k,"{}"))k=i?k:k.slice(0,-2),S=JSON.stringify(S);else if(ne.isArray(S)&&QB(S)||(ne.isFileList(S)||ne.endsWith(k,"[]"))&&(N=ne.toArray(S)))return k=GI(k),N.forEach(function(O,G){!(ne.isUndefined(O)||O===null)&&e.append(u===!0?FS([k],G,l):u===null?k:k+"[]",m(O))}),!1}return av(S)?!0:(e.append(FS(R,k,l),m(S)),!1)}const v=[],w=Object.assign(XB,{defaultVisitor:g,convertValue:m,isVisitable:av});function x(S,k){if(!ne.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(S),ne.forEach(S,function(N,B){(!(ne.isUndefined(N)||N===null)&&a.call(e,N,ne.isString(B)?B.trim():B,k,w))===!0&&x(N,k?k.concat(B):[B])}),v.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return x(t),e}function zS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(i){return e[i]})}function n0(t,e){this._pairs=[],t&&um(t,this,e)}const $I=n0.prototype;$I.append=function(e,n){this._pairs.push([e,n])};$I.toString=function(e){const n=e?function(i){return e.call(this,i,zS)}:zS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function ZB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KI(t,e,n){if(!e)return t;const i=n&&n.encode||ZB;ne.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=ne.isURLSearchParams(e)?e.toString():new n0(e,n).toString(i),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class qS{constructor(){this.handlers=[]}use(e,n,i){return this.handlers.push({fulfilled:e,rejected:n,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(i){i!==null&&e(i)})}}const YI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},JB=typeof URLSearchParams<"u"?URLSearchParams:n0,eF=typeof FormData<"u"?FormData:null,tF=typeof Blob<"u"?Blob:null,nF={isBrowser:!0,classes:{URLSearchParams:JB,FormData:eF,Blob:tF},protocols:["http","https","file","blob","url","data"]},i0=typeof window<"u"&&typeof document<"u",ov=typeof navigator=="object"&&navigator||void 0,iF=i0&&(!ov||["ReactNative","NativeScript","NS"].indexOf(ov.product)<0),rF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",sF=i0&&window.location.href||"http://localhost",aF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:i0,hasStandardBrowserEnv:iF,hasStandardBrowserWebWorkerEnv:rF,navigator:ov,origin:sF},Symbol.toStringTag,{value:"Module"})),bn={...aF,...nF};function oF(t,e){return um(t,new bn.classes.URLSearchParams,Object.assign({visitor:function(n,i,a,l){return bn.isNode&&ne.isBuffer(n)?(this.append(i,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function lF(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function uF(t){const e={},n=Object.keys(t);let i;const a=n.length;let l;for(i=0;i<a;i++)l=n[i],e[l]=t[l];return e}function WI(t){function e(n,i,a,l){let u=n[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=l>=n.length;return u=!u&&ne.isArray(a)?a.length:u,d?(ne.hasOwnProp(a,u)?a[u]=[a[u],i]:a[u]=i,!h):((!a[u]||!ne.isObject(a[u]))&&(a[u]=[]),e(n,i,a[u],l)&&ne.isArray(a[u])&&(a[u]=uF(a[u])),!h)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(i,a)=>{e(lF(i),a,n,0)}),n}return null}function cF(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(i){if(i.name!=="SyntaxError")throw i}return(n||JSON.stringify)(t)}const Kc={transitional:YI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const i=n.getContentType()||"",a=i.indexOf("application/json")>-1,l=ne.isObject(e);if(l&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return a?JSON.stringify(WI(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(i.indexOf("application/x-www-form-urlencoded")>-1)return oF(e,this.formSerializer).toString();if((h=ne.isFileList(e))||i.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return um(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),cF(e)):e}],transformResponse:[function(e){const n=this.transitional||Kc.transitional,i=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(i&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Le.from(h,Le.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{Kc.headers[t]={}});const hF=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dF=t=>{const e={};let n,i,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),i=u.substring(a+1).trim(),!(!n||e[n]&&hF[n])&&(n==="set-cookie"?e[n]?e[n].push(i):e[n]=[i]:e[n]=e[n]?e[n]+", "+i:i)}),e},HS=Symbol("internals");function qu(t){return t&&String(t).trim().toLowerCase()}function Gd(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Gd):String(t)}function fF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=n.exec(t);)e[i[1]]=i[2];return e}const mF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ay(t,e,n,i,a){if(ne.isFunction(i))return i.call(this,e,n);if(a&&(e=n),!!ne.isString(e)){if(ne.isString(i))return e.indexOf(i)!==-1;if(ne.isRegExp(i))return i.test(e)}}function pF(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,i)=>n.toUpperCase()+i)}function gF(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(i=>{Object.defineProperty(t,i+n,{value:function(a,l,u){return this[i].call(this,e,a,l,u)},configurable:!0})})}let Bn=class{constructor(e){e&&this.set(e)}set(e,n,i){const a=this;function l(h,d,m){const g=qu(d);if(!g)throw new Error("header name must be a non-empty string");const v=ne.findKey(a,g);(!v||a[v]===void 0||m===!0||m===void 0&&a[v]!==!1)&&(a[v||d]=Gd(h))}const u=(h,d)=>ne.forEach(h,(m,g)=>l(m,g,d));if(ne.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ne.isString(e)&&(e=e.trim())&&!mF(e))u(dF(e),n);else if(ne.isObject(e)&&ne.isIterable(e)){let h={},d,m;for(const g of e){if(!ne.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[m=g[0]]=(d=h[m])?ne.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}u(h,n)}else e!=null&&l(n,e,i);return this}get(e,n){if(e=qu(e),e){const i=ne.findKey(this,e);if(i){const a=this[i];if(!n)return a;if(n===!0)return fF(a);if(ne.isFunction(n))return n.call(this,a,i);if(ne.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=qu(e),e){const i=ne.findKey(this,e);return!!(i&&this[i]!==void 0&&(!n||ay(this,this[i],i,n)))}return!1}delete(e,n){const i=this;let a=!1;function l(u){if(u=qu(u),u){const h=ne.findKey(i,u);h&&(!n||ay(i,i[h],h,n))&&(delete i[h],a=!0)}}return ne.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let i=n.length,a=!1;for(;i--;){const l=n[i];(!e||ay(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,i={};return ne.forEach(this,(a,l)=>{const u=ne.findKey(i,l);if(u){n[u]=Gd(a),delete n[l];return}const h=e?pF(l):String(l).trim();h!==l&&delete n[l],n[h]=Gd(a),i[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(i,a)=>{i!=null&&i!==!1&&(n[a]=e&&ne.isArray(i)?i.join(", "):i)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const i=new this(e);return n.forEach(a=>i.set(a)),i}static accessor(e){const i=(this[HS]=this[HS]={accessors:{}}).accessors,a=this.prototype;function l(u){const h=qu(u);i[h]||(gF(a,u),i[h]=!0)}return ne.isArray(e)?e.forEach(l):l(e),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(i){this[n]=i}}});ne.freezeMethods(Bn);function oy(t,e){const n=this||Kc,i=e||n,a=Bn.from(i.headers);let l=i.data;return ne.forEach(t,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function QI(t){return!!(t&&t.__CANCEL__)}function Pl(t,e,n){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(Pl,Le,{__CANCEL__:!0});function XI(t,e,n){const i=n.config.validateStatus;!n.status||!i||i(n.status)?t(n):e(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function yF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function vF(t,e){t=t||10;const n=new Array(t),i=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),g=i[l];u||(u=m),n[a]=d,i[a]=m;let v=l,w=0;for(;v!==a;)w+=n[v++],v=v%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),m-u<e)return;const x=g&&m-g;return x?Math.round(w*1e3/x):void 0}}function _F(t,e){let n=0,i=1e3/e,a,l;const u=(m,g=Date.now())=>{n=g,a=null,l&&(clearTimeout(l),l=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),v=g-n;v>=i?u(m,g):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},i-v)))},()=>a&&u(a)]}const xf=(t,e,n=3)=>{let i=0;const a=vF(50,250);return _F(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,d=u-i,m=a(d),g=u<=h;i=u;const v={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-u)/m:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(v)},n)},GS=(t,e)=>{const n=t!=null;return[i=>e[0]({lengthComputable:n,total:t,loaded:i}),e[1]]},$S=t=>(...e)=>ne.asap(()=>t(...e)),bF=bn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,bn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,wF=bn.hasStandardBrowserEnv?{write(t,e,n,i,a,l){const u=[t+"="+encodeURIComponent(e)];ne.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ne.isString(i)&&u.push("path="+i),ne.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function TF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function EF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function ZI(t,e,n){let i=!TF(e);return t&&(i||n==!1)?EF(t,e):e}const KS=t=>t instanceof Bn?{...t}:t;function Ja(t,e){e=e||{};const n={};function i(m,g,v,w){return ne.isPlainObject(m)&&ne.isPlainObject(g)?ne.merge.call({caseless:w},m,g):ne.isPlainObject(g)?ne.merge({},g):ne.isArray(g)?g.slice():g}function a(m,g,v,w){if(ne.isUndefined(g)){if(!ne.isUndefined(m))return i(void 0,m,v,w)}else return i(m,g,v,w)}function l(m,g){if(!ne.isUndefined(g))return i(void 0,g)}function u(m,g){if(ne.isUndefined(g)){if(!ne.isUndefined(m))return i(void 0,m)}else return i(void 0,g)}function h(m,g,v){if(v in e)return i(m,g);if(v in t)return i(void 0,m)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g,v)=>a(KS(m),KS(g),v,!0)};return ne.forEach(Object.keys(Object.assign({},t,e)),function(g){const v=d[g]||a,w=v(t[g],e[g],g);ne.isUndefined(w)&&v!==h||(n[g]=w)}),n}const JI=t=>{const e=Ja({},t);let{data:n,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:h}=e;e.headers=u=Bn.from(u),e.url=KI(ZI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(ne.isFormData(n)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[m,...g]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(bn.hasStandardBrowserEnv&&(i&&ne.isFunction(i)&&(i=i(e)),i||i!==!1&&bF(e.url))){const m=a&&l&&wF.read(l);m&&u.set(a,m)}return e},xF=typeof XMLHttpRequest<"u",SF=xF&&function(t){return new Promise(function(n,i){const a=JI(t);let l=a.data;const u=Bn.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:m}=a,g,v,w,x,S;function k(){x&&x(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function N(){if(!R)return;const O=Bn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),H={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:O,config:t,request:R};XI(function(D){n(D),k()},function(D){i(D),k()},H),R=null}"onloadend"in R?R.onloadend=N:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(N)},R.onabort=function(){R&&(i(new Le("Request aborted",Le.ECONNABORTED,t,R)),R=null)},R.onerror=function(){i(new Le("Network Error",Le.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||YI;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),i(new Le(G,H.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,R)),R=null},l===void 0&&u.setContentType(null),"setRequestHeader"in R&&ne.forEach(u.toJSON(),function(G,H){R.setRequestHeader(H,G)}),ne.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),h&&h!=="json"&&(R.responseType=a.responseType),m&&([w,S]=xf(m,!0),R.addEventListener("progress",w)),d&&R.upload&&([v,x]=xf(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(g=O=>{R&&(i(!O||O.type?new Pl(null,t,R):O),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const B=yF(a.url);if(B&&bn.protocols.indexOf(B)===-1){i(new Le("Unsupported protocol "+B+":",Le.ERR_BAD_REQUEST,t));return}R.send(l||null)})},AF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let i=new AbortController,a;const l=function(m){if(!a){a=!0,h();const g=m instanceof Error?m:this.reason;i.abort(g instanceof Le?g:new Pl(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,l(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:d}=i;return d.unsubscribe=()=>ne.asap(h),d}},RF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let i=0,a;for(;i<n;)a=i+e,yield t.slice(i,a),i=a},CF=async function*(t,e){for await(const n of IF(t))yield*RF(n,e)},IF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:i}=await e.read();if(n)break;yield i}}finally{await e.cancel()}},YS=(t,e,n,i)=>{const a=CF(t,e);let l=0,u,h=d=>{u||(u=!0,i&&i(d))};return new ReadableStream({async pull(d){try{const{done:m,value:g}=await a.next();if(m){h(),d.close();return}let v=g.byteLength;if(n){let w=l+=v;n(w)}d.enqueue(new Uint8Array(g))}catch(m){throw h(m),m}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},cm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",eN=cm&&typeof ReadableStream=="function",NF=cm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),tN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},kF=eN&&tN(()=>{let t=!1;const e=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),WS=64*1024,lv=eN&&tN(()=>ne.isReadableStream(new Response("").body)),Sf={stream:lv&&(t=>t.body)};cm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Sf[e]&&(Sf[e]=ne.isFunction(t[e])?n=>n[e]():(n,i)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,i)})})})(new Response);const PF=async t=>{if(t==null)return 0;if(ne.isBlob(t))return t.size;if(ne.isSpecCompliantForm(t))return(await new Request(bn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(t)||ne.isArrayBuffer(t))return t.byteLength;if(ne.isURLSearchParams(t)&&(t=t+""),ne.isString(t))return(await NF(t)).byteLength},DF=async(t,e)=>{const n=ne.toFiniteNumber(t.getContentLength());return n??PF(e)},OF=cm&&(async t=>{let{url:e,method:n,data:i,signal:a,cancelToken:l,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:m,headers:g,withCredentials:v="same-origin",fetchOptions:w}=JI(t);m=m?(m+"").toLowerCase():"text";let x=AF([a,l&&l.toAbortSignal()],u),S;const k=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let R;try{if(d&&kF&&n!=="get"&&n!=="head"&&(R=await DF(g,i))!==0){let H=new Request(e,{method:"POST",body:i,duplex:"half"}),M;if(ne.isFormData(i)&&(M=H.headers.get("content-type"))&&g.setContentType(M),H.body){const[D,A]=GS(R,xf($S(d)));i=YS(H.body,WS,D,A)}}ne.isString(v)||(v=v?"include":"omit");const N="credentials"in Request.prototype;S=new Request(e,{...w,signal:x,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:i,duplex:"half",credentials:N?v:void 0});let B=await fetch(S);const O=lv&&(m==="stream"||m==="response");if(lv&&(h||O&&k)){const H={};["status","statusText","headers"].forEach(I=>{H[I]=B[I]});const M=ne.toFiniteNumber(B.headers.get("content-length")),[D,A]=h&&GS(M,xf($S(h),!0))||[];B=new Response(YS(B.body,WS,D,()=>{A&&A(),k&&k()}),H)}m=m||"text";let G=await Sf[ne.findKey(Sf,m)||"text"](B,t);return!O&&k&&k(),await new Promise((H,M)=>{XI(H,M,{data:G,headers:Bn.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:S})})}catch(N){throw k&&k(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,t,S),{cause:N.cause||N}):Le.from(N,N&&N.code,t,S)}}),uv={http:WB,xhr:SF,fetch:OF};ne.forEach(uv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const QS=t=>`- ${t}`,MF=t=>ne.isFunction(t)||t===null||t===!1,nN={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let n,i;const a={};for(let l=0;l<e;l++){n=t[l];let u;if(i=n,!MF(n)&&(i=uv[(u=String(n)).toLowerCase()],i===void 0))throw new Le(`Unknown adapter '${u}'`);if(i)break;a[u||"#"+l]=i}if(!i){const l=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(QS).join(`
`):" "+QS(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return i},adapters:uv};function ly(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Pl(null,t)}function XS(t){return ly(t),t.headers=Bn.from(t.headers),t.data=oy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),nN.getAdapter(t.adapter||Kc.adapter)(t).then(function(i){return ly(t),i.data=oy.call(t,t.transformResponse,i),i.headers=Bn.from(i.headers),i},function(i){return QI(i)||(ly(t),i&&i.response&&(i.response.data=oy.call(t,t.transformResponse,i.response),i.response.headers=Bn.from(i.response.headers))),Promise.reject(i)})}const iN="1.9.0",hm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{hm[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}});const ZS={};hm.transitional=function(e,n,i){function a(l,u){return"[Axios v"+iN+"] Transitional option '"+l+"'"+u+(i?". "+i:"")}return(l,u,h)=>{if(e===!1)throw new Le(a(u," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!ZS[u]&&(ZS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,h):!0}};hm.spelling=function(e){return(n,i)=>(console.warn(`${i} is likely a misspelling of ${e}`),!0)};function VF(t,e,n){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const i=Object.keys(t);let a=i.length;for(;a-- >0;){const l=i[a],u=e[l];if(u){const h=t[l],d=h===void 0||u(h,l,t);if(d!==!0)throw new Le("option "+l+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+l,Le.ERR_BAD_OPTION)}}const $d={assertOptions:VF,validators:hm},Qi=$d.validators;let Ga=class{constructor(e){this.defaults=e||{},this.interceptors={request:new qS,response:new qS}}async request(e,n){try{return await this._request(e,n)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?l&&!String(i.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+l):i.stack=l}catch{}}throw i}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Ja(this.defaults,n);const{transitional:i,paramsSerializer:a,headers:l}=n;i!==void 0&&$d.assertOptions(i,{silentJSONParsing:Qi.transitional(Qi.boolean),forcedJSONParsing:Qi.transitional(Qi.boolean),clarifyTimeoutError:Qi.transitional(Qi.boolean)},!1),a!=null&&(ne.isFunction(a)?n.paramsSerializer={serialize:a}:$d.assertOptions(a,{encode:Qi.function,serialize:Qi.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),$d.assertOptions(n,{baseUrl:Qi.spelling("baseURL"),withXsrfToken:Qi.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&ne.merge(l.common,l[n.method]);l&&ne.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),n.headers=Bn.concat(u,l);const h=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(d=d&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let g,v=0,w;if(!d){const S=[XS.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),w=S.length,g=Promise.resolve(n);v<w;)g=g.then(S[v++],S[v++]);return g}w=h.length;let x=n;for(v=0;v<w;){const S=h[v++],k=h[v++];try{x=S(x)}catch(R){k.call(this,R);break}}try{g=XS.call(this,x)}catch(S){return Promise.reject(S)}for(v=0,w=m.length;v<w;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=Ja(this.defaults,e);const n=ZI(e.baseURL,e.url,e.allowAbsoluteUrls);return KI(n,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){Ga.prototype[e]=function(n,i){return this.request(Ja(i||{},{method:e,url:n,data:(i||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(i){return function(l,u,h){return this.request(Ja(h||{},{method:e,headers:i?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Ga.prototype[e]=n(),Ga.prototype[e+"Form"]=n(!0)});let jF=class rN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const i=this;this.promise.then(a=>{if(!i._listeners)return;let l=i._listeners.length;for(;l-- >0;)i._listeners[l](a);i._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(h=>{i.subscribe(h),l=h}).then(a);return u.cancel=function(){i.unsubscribe(l)},u},e(function(l,u,h){i.reason||(i.reason=new Pl(l,u,h),n(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=i=>{e.abort(i)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new rN(function(a){e=a}),cancel:e}}};function LF(t){return function(n){return t.apply(null,n)}}function UF(t){return ne.isObject(t)&&t.isAxiosError===!0}const cv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cv).forEach(([t,e])=>{cv[e]=t});function sN(t){const e=new Ga(t),n=MI(Ga.prototype.request,e);return ne.extend(n,Ga.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return sN(Ja(t,a))},n}const Vt=sN(Kc);Vt.Axios=Ga;Vt.CanceledError=Pl;Vt.CancelToken=jF;Vt.isCancel=QI;Vt.VERSION=iN;Vt.toFormData=um;Vt.AxiosError=Le;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=LF;Vt.isAxiosError=UF;Vt.mergeConfig=Ja;Vt.AxiosHeaders=Bn;Vt.formToJSON=t=>WI(ne.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=nN.getAdapter;Vt.HttpStatusCode=cv;Vt.default=Vt;const{Axios:bz,AxiosError:wz,CanceledError:Tz,isCancel:Ez,CancelToken:xz,VERSION:Sz,all:Az,Cancel:Rz,isAxiosError:Cz,spread:Iz,toFormData:Nz,AxiosHeaders:kz,HttpStatusCode:Pz,formToJSON:Dz,getAdapter:Oz,mergeConfig:Mz}=Vt,JS={"push-ups":()=>Nn(()=>import("./pushUps-BaND4cDv.js"),[]).then(t=>t.monitorPushUps)};var BF={};const FF=t=>t.replace(/[\u{1F600}-\u{1F6FF}]/gu,"").replace(/[\u{1F300}-\u{1F5FF}]/gu,"").replace(/[\u{1F900}-\u{1F9FF}]/gu,"").replace(/[\u{2600}-\u{26FF}]/gu,"").replace(/[\u{2700}-\u{27BF}]/gu,"").replace(/[\u{2300}-\u{23FF}]/gu,"").replace(/\s+/g," ").trim(),zF=()=>{const{userEmail:t,workoutName:e}=pv(),n=Jn(),i=Xr(),a=L.useRef(null),[l,u]=L.useState(null),[h,d]=L.useState(3),[m,g]=L.useState(20),[v,w]=L.useState(0),[x,S]=L.useState(!0),[k,R]=L.useState(null),[N,B]=L.useState(1),[O,G]=L.useState([]),[H,M]=L.useState(0),[D,A]=L.useState(0),[I,j]=L.useState(0),[F,q]=L.useState("Starting workout..."),[V,ie]=L.useState(!1),[pe,K]=L.useState(0),[re,fe]=L.useState(!1),[le,U]=L.useState("user"),[Q,oe]=L.useState(!1),se=30,ye={"Burpees (No Push-up)":{description:"Start in a standing position, drop to push-up position, push back up and jump.",videoUrl:"https://www.youtube.com/watch?v=TU8QYVW0gDU"},"Squats (Holding Chair for Balance)":{description:"Stand with feet shoulder-width apart, lower hips until knees bend at 90.",videoUrl:"https://www.youtube.com/watch?v=aclHkVaku9U"},"Push-ups":{description:"Lie face down, place hands shoulder-width apart, push body up until arms are extended, then lower back down.",videoUrl:"https://www.youtube.com/watch?v=IODxDxX7oi4"}},Te=FF(e);L.useEffect(()=>{(async()=>{var We,ze,et,me;try{if(S(!0),n.state){const at=((We=n.state)==null?void 0:We.sets)||3,Di=((ze=n.state)==null?void 0:ze.reps)||20;d(at),g(Di),w(at*Di),G(n.state.workoutList||[]),M(n.state.currentIndex||0),u({name:e,description:((et=ye[e])==null?void 0:et.description)||`No description for ${e}`,videoUrl:((me=ye[e])==null?void 0:me.videoUrl)||null,muscle:n.state.muscle||"General Fitness",instructions:n.state.instructions||"Follow the video and form."})}const be=ye[e]||{description:`No description available for ${e}`,videoUrl:null};u(at=>({...at,...be}));const Ve=ar(Zn,"exercises",e),it=await Za(Ve);if(it.exists()){const at=it.data();u(Di=>({...Di,muscle:at.muscle,instructions:at.instructions}))}}catch(be){console.error(be),R("Failed to load exercise details.")}finally{S(!1)}})()},[e,n.state]),L.useEffect(()=>{if(x||!Q)return;let Se=null;return(async()=>{const ze=e.toLowerCase().replace(/\s+/g,"-");if(JS[ze])try{Se=await(await JS[ze]())({targetReps:m,totalSets:h,currentSet:N,userEmail:t,cameraFacing:le,videoRef:a,onFeedback:me=>{q(me),console.log(`[ExerciseDetailPage] Feedback: ${me}`)},onComplete:async({completed:me,reps:be,feedback:Ve,currentSet:it})=>{if(me){A(at=>at+be),j(be),q(Ve);try{await Vt.post(`${BF.REACT_APP_API_URL}/track-exercise`,{userEmail:t,exerciseName:e,currentSet:it,totalSets:h,targetReps:m,currentReps:be}),console.log("[ExerciseDetailPage] Workout progress logged to backend")}catch(at){console.error("[ExerciseDetailPage] Failed to log workout progress:",at)}it<h?(ie(!0),K(se),B(it+1),j(0)):Ee()}}})}catch(et){console.error("[ExerciseDetailPage] Error starting workout:",et),R("Failed to start workout tracking. Please try again."),oe(!1)}else R("Workout tracking not available for this exercise."),oe(!1)})(),()=>{Se!=null&&Se.stop&&(Se.stop(),console.log("[ExerciseDetailPage] Workout monitoring stopped"))}},[x,e,t,m,h,N,Q,le]),L.useEffect(()=>{if(V){const Se=setInterval(()=>{K(We=>{const ze=We-1;return ze<=0?(ie(!1),q(`Rest completed! Start Set ${N} of ${h}.`),console.log(`[ExerciseDetailPage] Rest completed for Set ${N}.`),0):ze})},1e3);return()=>clearInterval(Se)}},[V,N,h]);const Ee=()=>{setTimeout(()=>{H<O.length-1?i(`/exercise/${t}/${O[H+1].name}`,{state:{...O[H+1],workoutList:O,currentIndex:H+1}}):i("/dashboard",{state:{workoutCompleted:!0}})},1e3)},ct=()=>{oe(!0),q("Workout started! Position yourself in frame.")},$e=()=>{oe(!1),q("Workout stopped.")},je=()=>{U(Se=>Se==="user"?"environment":"user")},Xt=I/m*100,xn=D/v*100,Sn=()=>{i(-1)};return x?_.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Loading exercise details..."})]})}):k?_.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center max-w-sm",children:[_.jsx("h3",{className:"text-xl font-semibold text-red-600",children:"Error"}),_.jsx("p",{className:"mt-2 text-gray-600",children:k}),_.jsx("button",{onClick:Sn,className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Go Back"})]})}):_.jsx("div",{className:"min-h-screen bg-gray-100",children:_.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("button",{onClick:Sn,className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[_.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),_.jsx("h1",{className:"text-xl font-bold text-gray-800 truncate",children:Te}),_.jsx("div",{className:"w-16"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:Te}),_.jsx("p",{className:"text-gray-600 text-sm",children:l==null?void 0:l.description}),_.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[_.jsx("strong",{children:"Target Muscle:"})," ",(l==null?void 0:l.muscle)||"General Fitness"]}),_.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[_.jsx("strong",{children:"Instructions:"})," ",(l==null?void 0:l.instructions)||"Follow the video and form."]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("button",{onClick:()=>fe(!re),className:"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:re?"Hide Demo Video":"Show Demo Video"}),re&&_.jsx("div",{className:"mt-4",children:l!=null&&l.videoUrl?_.jsx(uB,{url:l.videoUrl,controls:!0,width:"100%",height:"auto",className:"rounded-lg"}):_.jsx("div",{className:"text-center text-gray-500",children:"Video demonstration coming soon!"})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Camera Controls"}),_.jsx("div",{className:"relative mb-4",children:_.jsxs("button",{onClick:ct,disabled:Q,className:"relative w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-400",children:[_.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,className:"absolute top-1 right-1 w-16 h-12 rounded-lg object-cover",style:{transform:le==="user"?"scaleX(-1)":"none"}}),"Start Workout"]})}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("button",{onClick:$e,disabled:!Q,className:"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 disabled:bg-gray-400",children:"Stop Workout"}),_.jsxs("button",{onClick:je,className:"flex-1 bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700",children:["Switch to ",le==="user"?"Back":"Front"," Camera"]})]})]})]}),_.jsxs("div",{className:"md:col-span-2 space-y-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Workout Progress"}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[N,"/",h]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Sets"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[I,"/",m]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Set Reps"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[D,"/",v]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Total Reps"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[_.jsx("span",{children:"Current Set"}),_.jsxs("span",{children:[I,"/",m]})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${Xt}%`}})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[_.jsx("span",{children:"Total Progress"}),_.jsxs("span",{children:[D,"/",v]})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${xn}%`}})})]})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Live Feedback"}),_.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg",children:_.jsx("p",{className:"text-gray-800",children:F})}),V&&_.jsxs("div",{className:"mt-4 bg-orange-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex justify-between mb-2",children:[_.jsx("span",{className:"text-gray-800",children:"Rest Time"}),_.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[Math.ceil(pe),"s"]})]}),_.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:_.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${(se-pe)/se*100}%`}})})]})]})]})]})]})})},qF=()=>{const[t,e]=L.useState([]),[n,i]=L.useState(null),a=p1();L.useEffect(()=>{(async()=>{try{const d=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts");if(!d.ok)throw new Error("Failed to fetch experts");const m=await d.json();e(m.filter(g=>!g.approved))}catch(d){i("Failed to fetch experts: "+d.message)}})()},[]);const l=async h=>{try{const d=await a.currentUser.getIdToken();if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approve-expert",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${d}`},body:`user_email=${encodeURIComponent(h)}`})).ok)throw new Error("Failed to approve expert");e(t.filter(g=>g.user_email!==h)),alert("Expert approved successfully")}catch(d){i("Error approving expert: "+d.message)}},u={container:{padding:"20px",maxWidth:"800px",margin:"0 auto",fontFamily:"Arial, sans-serif"},heading:{fontSize:"24px",marginBottom:"20px",color:"#333"},error:{color:"red",marginBottom:"10px"},list:{listStyle:"none",padding:0},item:{background:"#f9f9f9",padding:"15px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ddd"},button:{background:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},link:{color:"#007bff",textDecoration:"none",marginRight:"10px"}};return _.jsxs("div",{style:u.container,children:[_.jsx("h2",{style:u.heading,children:"Pending Expert Approvals"}),n&&_.jsx("p",{style:u.error,children:n}),t.length===0&&_.jsx("p",{children:"No pending approvals"}),_.jsx("ul",{style:u.list,children:t.map(h=>_.jsxs("li",{style:u.item,children:[_.jsx("strong",{children:h.name})," (",h.user_email,")",_.jsx("br",{}),"Specialist: ",h.specialist," | Expertise: ",h.expertise,_.jsx("br",{}),"Age: ",h.age," | Fee: $",h.client_fee,_.jsx("br",{}),"Bio: ",h.bio,_.jsx("br",{}),_.jsx("a",{href:h.certification_url,target:"_blank",rel:"noopener noreferrer",style:u.link,children:"View Certificate"}),_.jsx("br",{}),_.jsx("button",{onClick:()=>l(h.user_email),style:u.button,children:"Approve"})]},h.user_email))})]})},HF=()=>{const t=Jn(),{expertData:e}=t.state||{};if(!e)return _.jsx("p",{style:{color:"red",textAlign:"center"},children:"Error: No expert data provided."});const n={backgroundColor:"#1e1e1e",color:"#f0f0f0",padding:"20px",borderRadius:"8px",maxWidth:"1000px",margin:"30px auto",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},i={color:"#ffd700",marginBottom:"15px"},a={fontSize:"16px",lineHeight:"1.5",margin:"8px 0"},l={display:"inline-block",marginTop:"15px",color:"#1e90ff",textDecoration:"none",fontWeight:"600",cursor:"pointer"};return _.jsx("div",{children:_.jsxs("div",{style:n,children:[_.jsxs("h2",{style:i,children:["Welcome, ",e.name]}),_.jsxs("p",{style:a,children:["Email: ",e.email]}),_.jsxs("p",{style:a,children:["Specialist: ",e.specialist]}),_.jsxs("p",{style:a,children:["Expertise: ",e.expertise]}),_.jsxs("p",{style:a,children:["Client Fee: ",e.clientFee]}),_.jsxs("p",{style:a,children:["Bio: ",e.bio]}),_.jsx("a",{href:e.certificationUrl,target:"_blank",rel:"noopener noreferrer",style:l,onMouseOver:u=>u.currentTarget.style.textDecoration="underline",onMouseOut:u=>u.currentTarget.style.textDecoration="none",children:"View Certificate"})]})})},GF={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},$F={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},KF=()=>{const[t,e]=L.useState([]),[n,i]=L.useState(""),[a,l]=L.useState(!1),u=Xr(),h=Jn(),d=Ct.currentUser,m=L.useRef(null),{clientEmail:g,expertEmail:v}=h.state||{},w=d==null?void 0:d.email.trim().toLowerCase(),x=w===v,S=(g||w).trim().toLowerCase(),k=x?S:v,R=S&&v?`chat_${S.replace(".","_")}_${v.replace(".","_")}`:null,N=()=>{var G;(G=m.current)==null||G.scrollIntoView({behavior:"smooth"})};L.useEffect(()=>{(!d||!S||!v)&&(console.error("Missing auth or chat room details",{currentUser:d,clientEmail:S,expertEmail:v}),u("/?showAuth=true"))},[d,S,v,u]),L.useEffect(()=>{if(!R)return;const G=mf(Zn,"chats",R,"messages"),H=gf(G,gL("timestamp","asc")),M=Ly(H,async D=>{const A=D.docs.map(F=>({id:F.id,...F.data()}));e(A),N();const I=gf(G,ic("sender","==",x?S:v),ic("read","==",!1));(await _L(I)).forEach(async F=>{await bL(F.ref,{read:!0})})},D=>{console.error("Error fetching messages:",D),alert(`Failed to load messages: ${D.message}`)});return()=>M()},[R,x,S,v]);const B=async G=>{if(G.preventDefault(),!(!n.trim()||!R))try{const H=mf(Zn,"chats",R,"messages");await wL(H,{sender:w,text:n,timestamp:XR(),senderType:x?"expert":"client",read:!1}),i("")}catch(H){console.error("Error sending message:",H),alert("Failed to send message. Please try again.")}},O=({clientEmail:G,onClose:H})=>{const[M,D]=L.useState([]),[A,I]=L.useState({}),[j,F]=L.useState("day1"),[q,V]=L.useState([]);L.useEffect(()=>{const K=async()=>{try{const fe=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/get-all-workouts",{headers:{Authorization:`Bearer ${await Ct.currentUser.getIdToken()}`}});if(!fe.ok)throw new Error("Failed to fetch workouts");const le=await fe.json();D(le.workouts)}catch(fe){console.error("Error fetching workouts:",fe),alert("Failed to fetch workouts")}},re=()=>{const fe=new Date,le=fe.getFullYear(),U=fe.getMonth(),Q=new Date(le,U+1,0).getDate(),oe=[2,6],se=[];for(let Te=1;Te<=Q;Te++){const Ee=new Date(le,U,Te);se.push({day:Te,isRest:oe.includes(Ee.getDay()),isToday:Te===fe.getDate()&&U===fe.getMonth()&&le===fe.getFullYear()})}V(se);const ye={};for(let Te=1;Te<=Q;Te++)ye[`day${Te}`]=[];I(ye)};K(),re()},[]);const ie=(K,re,fe,le)=>{I(U=>{const Q=U[j]||[],oe=Q.find(ye=>ye.name===K.name);let se;if(oe)se=Q.filter(ye=>ye.name!==K.name);else{const ye={name:K.name};K.category==="main"?(ye.sets=parseInt(re)||3,ye.reps=parseInt(fe)||10):ye.duration=le||30,se=[...Q,ye]}return{...U,[j]:se}})},pe=async()=>{try{if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/create-workout-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Ct.currentUser.getIdToken()}`},body:JSON.stringify({user_email:G,selected_workouts:A})})).ok)throw new Error("Failed to create plan");alert("Workout plan created successfully!"),H()}catch(K){console.error("Error creating plan:",K),alert("Failed to create workout plan")}};return _.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsxs("h3",{children:["Create Workout Plan for ",G]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"5px",marginBottom:"20px"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(K=>_.jsx("div",{style:{textAlign:"center",fontWeight:"bold"},children:K},K)),q.map(K=>_.jsx("div",{style:{textAlign:"center",padding:"10px",backgroundColor:K.isRest?"#ffcccc":K.isToday?"#ccffcc":j===`day${K.day}`?"#e0e0e0":"#fff",border:"1px solid #ddd",cursor:K.isRest?"default":"pointer",opacity:K.isRest?.6:1},onClick:()=>!K.isRest&&F(`day${K.day}`),children:K.day},K.day))]}),_.jsxs("h4",{children:["Workouts for Day ",j.replace("day","")]}),_.jsx("div",{style:{maxHeight:"200px",overflowY:"scroll",marginBottom:"10px"},children:M.map(K=>_.jsxs("div",{style:{marginBottom:"10px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:(A[j]||[]).some(re=>re.name===K.name),onChange:()=>ie(K,3,10,30)}),K.name," (",K.category,")"]}),K.category==="main"&&(A[j]||[]).some(re=>re.name===K.name)&&_.jsxs("div",{style:{marginLeft:"20px"},children:[_.jsxs("label",{children:["Sets: ",_.jsx("input",{type:"number",min:"1",defaultValue:"3",onChange:re=>ie(K,re.target.value,null,null)})]}),_.jsxs("label",{style:{marginLeft:"10px"},children:["Reps: ",_.jsx("input",{type:"number",min:"1",defaultValue:"10",onChange:re=>ie(K,null,re.target.value,null)})]})]}),(K.category==="warmup"||K.category==="cooldown")&&(A[j]||[]).some(re=>re.name===K.name)&&_.jsx("div",{style:{marginLeft:"20px"},children:"Duration: 30 seconds"})]},K.id))}),_.jsx("button",{onClick:pe,children:"Save Plan"}),_.jsx("button",{onClick:H,style:{marginLeft:"10px"},children:"Cancel"})]})})};return _.jsxs(De.div,{className:"chat-page",variants:GF,initial:"hidden",animate:"visible",children:[_.jsx("button",{onClick:()=>u(x?"/expert-dashboard":"/dashboard"),className:"back-button",children:"Back"}),_.jsxs("h2",{children:["Chat with ",k]}),_.jsxs("div",{className:"chat-container",children:[_.jsxs("div",{className:"messages-container",children:[t.map(G=>{var H;return _.jsxs(De.div,{className:`message ${G.sender===w?"sent":"received"}`,variants:$F,children:[_.jsxs("p",{children:[_.jsxs("strong",{children:[G.senderType,":"]})," ",G.text]}),_.jsx("span",{className:"timestamp",children:(H=G.timestamp)==null?void 0:H.toDate().toLocaleTimeString()})]},G.id)}),_.jsx("div",{ref:m})]}),_.jsxs("form",{onSubmit:B,className:"message-form",children:[_.jsx("input",{type:"text",value:n,onChange:G=>i(G.target.value),placeholder:"Type a message...",className:"message-input"}),_.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]}),x&&_.jsx("button",{onClick:()=>l(!0),className:"change-plan-button",style:{marginTop:"10px"},children:"Create Workout Plan"}),a&&_.jsx(O,{clientEmail:S,onClose:()=>l(!1)})]})};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WF=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,i)=>i?i.toUpperCase():n.toLowerCase()),eA=t=>{const e=WF(t);return e.charAt(0).toUpperCase()+e.slice(1)},aN=(...t)=>t.filter((e,n,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===n).join(" ").trim(),QF=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XF={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:a="",children:l,iconNode:u,...h},d)=>L.createElement("svg",{ref:d,...XF,width:e,height:e,stroke:t,strokeWidth:i?Number(n)*24/Number(e):n,className:aN("lucide",a),...!l&&!QF(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>L.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=(t,e)=>{const n=L.forwardRef(({className:i,...a},l)=>L.createElement(ZF,{ref:l,iconNode:e,className:aN(`lucide-${YF(eA(t))}`,`lucide-${t}`,i),...a}));return n.displayName=eA(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],tA=ro("award",JF);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ez=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],tz=ro("briefcase",ez);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nz=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],iz=ro("indian-rupee",nz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sz=ro("mail",rz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],oz=ro("message-circle",az);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],uz=ro("star",lz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],nA=ro("user",cz),uy={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},jr={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},hz={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5}},hover:{scale:1.02,y:-5,boxShadow:"0 20px 40px rgba(0,0,0,0.15)",transition:{duration:.3}}},dz=()=>{const[t,e]=L.useState([]),[n,i]=L.useState(null),[a,l]=L.useState(null),[u,h]=L.useState(!1),[d,m]=L.useState(!0),g=Xr();L.useEffect(()=>{(async()=>{try{m(!0);const R=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts",{method:"GET",headers:{"Content-Type":"application/json"}});if(!R.ok)throw new Error("Failed to fetch experts");const N=await R.json();e(N)}catch(R){console.error("Error fetching experts:",R),alert(`Failed to load experts: ${R.message}`)}finally{m(!1)}})();const k=t1(Ct,async R=>{if(i((R==null?void 0:R.email)||null),R)try{const N=ar(Zn,"experts",R.email),B=await Za(N);l(B.exists()?"expert":"normal")}catch(N){console.error("Error checking expert status:",N),l("normal")}else l(null)});return()=>k()},[]);const v=async()=>{try{await n1(Ct),i(null),g("/")}catch(S){console.error("Sign-Out Error:",S)}},w=()=>{h(!u)},x=async S=>{if(!n){g("/?showAuth=true");return}const k=n,R=S.user_email,N=`chat_${k.replace(".","_")}_${R.replace(".","_")}`;try{await WR(ar(Zn,"chats",N),{clientEmail:k,expertEmail:R,createdAt:XR()},{merge:!0}),g("/chat",{state:{clientEmail:k,expertEmail:R}})}catch(B){console.error("Error initializing chat:",B.message,B),alert("Failed to start chat. Please try again.")}};return _.jsxs("div",{className:"min-h-screen bg-black from-gray-50 via-white to-blue-50",children:[_.jsxs(De.div,{className:"navbar bg-white shadow-lg border-b border-gray-100",variants:uy,initial:"hidden",animate:"visible",children:[_.jsx(De.div,{className:"navbar-child",variants:jr}),_.jsx(De.div,{className:"about text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:jr,onClick:()=>g("/about"),children:"About"}),_.jsx(De.div,{className:"experts text-blue-600 cursor-pointer font-semibold border-b-2 border-blue-600",variants:jr,onClick:()=>g("/experts"),children:"Experts"}),a==="expert"&&_.jsx(De.div,{className:"profile text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:jr,onClick:()=>g("/expert-dashboard"),children:"Profile"}),_.jsxs(De.div,{className:"login-button-navbar",variants:jr,children:[_.jsx(De.div,{className:"login-button-navbar-child",variants:jr}),n?_.jsx(De.button,{className:"logout-button-navbar bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:jr,onClick:v,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Logout"}):_.jsx(De.button,{className:"login-button-navbar1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:jr,onClick:()=>g("/?showAuth=true"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Login"})]})]}),_.jsxs(De.div,{className:"right-navbar",variants:uy,children:[_.jsxs(De.button,{className:"hamburger-button bg-white shadow-lg rounded-full p-3 hover:shadow-xl transition-shadow duration-200",variants:jr,onClick:w,"aria-label":"Menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:[_.jsx("div",{className:"hamburger-line bg-gray-700"}),_.jsx("div",{className:"hamburger-line bg-gray-700"}),_.jsx("div",{className:"hamburger-line bg-gray-700"})]}),u&&_.jsx(De.div,{className:"hamburger-menu bg-white shadow-2xl rounded-xl border border-gray-100",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.2},children:_.jsxs(De.ul,{className:"hamburger-menu-list p-2",children:[_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{g("/settings"),h(!1)},children:"Settings"})}),n&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{g("/dashboard"),h(!1)},children:"Dashboard"})})]})})]}),_.jsxs("div",{className:"container mx-auto px-6 py-12 max-w-7xl",children:[_.jsxs(De.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[_.jsx("h1",{className:"text-5xl font-bold text-gray-100 mb-4 bg-orange-600 bg-clip-text text-transparent",children:"Meet Our Experts"}),_.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto leading-relaxed",children:"Connect with certified fitness professionals who will guide you on your wellness journey"}),_.jsx("div",{className:"w-24 h-1 bg-orange-600 mx-auto mt-6 rounded-full"})]}),d&&_.jsx("div",{className:"flex justify-center items-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}),!d&&t.length===0&&_.jsxs(De.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[_.jsx(nA,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),_.jsx("p",{className:"text-xl text-gray-500",children:"No approved experts available at the moment."}),_.jsx("p",{className:"text-gray-400 mt-2",children:"Check back soon for new fitness professionals!"})]}),!d&&t.length>0&&_.jsx(De.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",variants:uy,initial:"hidden",animate:"visible",children:t.map((S,k)=>_.jsxs(De.div,{className:"bg-black rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",variants:hz,whileHover:"hover",children:[_.jsxs("div",{className:"relative bg-orange-600 h-32 flex items-center justify-center",children:[_.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:_.jsx(nA,{className:"h-10 w-10 text-black"})}),_.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:_.jsxs("div",{className:"flex items-center text-white text-sm font-medium",children:[_.jsx(uz,{className:"h-4 w-4 mr-1 fill-current"}),"Expert"]})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:S.name}),_.jsxs("div",{className:"space-y-3 mb-6",children:[_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(sz,{className:"h-4 w-4 mr-2 text-blue-500"}),_.jsx("span",{className:"text-sm",children:S.user_email})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(tz,{className:"h-4 w-4 mr-2 text-green-500"}),_.jsx("span",{className:"text-sm font-medium",children:S.specialist})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(tA,{className:"h-4 w-4 mr-2 text-purple-500"}),_.jsx("span",{className:"text-sm",children:S.expertise})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(iz,{className:"h-4 w-4 mr-2 text-yellow-500"}),_.jsxs("span",{className:"text-sm font-semibold",children:[S.client_fee," per session"]})]})]}),_.jsx("div",{className:"mb-6",children:_.jsx("p",{className:"text-white text-sm leading-relaxed line-clamp-3",children:S.bio})}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs(De.button,{className:"w-full bg-orange-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center",onClick:()=>x(S),whileHover:{scale:1.02},whileTap:{scale:.98},children:[_.jsx(oz,{className:"h-5 w-5 mr-2"}),"Chat with Expert"]}),_.jsxs(De.a,{href:S.certification_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white hover:bg-gray-200 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-200 flex items-center justify-center text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[_.jsx(tA,{className:"h-4 w-4 mr-2"}),"View Certificate"]})]})]})]},k))})]})]})},fz=({user:t,loading:e})=>{const n=Jn();return e?_.jsx("div",{className:"loading-spinner",children:"Loading..."}):t&&t.email==="fitngro@gmail.com"&&n.pathname!=="/admin"?_.jsx(Mr,{to:"/admin",replace:!0}):_.jsxs(D2,{children:[_.jsx(Ti,{path:"/",element:_.jsx(q5,{userEmail:t==null?void 0:t.email})}),_.jsx(Ti,{path:"/dashboard",element:t?_.jsx(H5,{userEmail:t.email}):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/expert-dashboard",element:t?_.jsx(F5,{userEmail:t.email}):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/experts",element:_.jsx(dz,{})}),_.jsx(Ti,{path:"/expert-info",element:t?_.jsx(HF,{}):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/chat",element:t?_.jsx(KF,{}):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/workout/:day",element:t?_.jsx(G5,{userEmail:t.email}):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/exercise/:userEmail/:workoutName",element:t?_.jsx(zF,{userEmail:t.email},n.pathname):_.jsx(Mr,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Ti,{path:"/admin",element:t&&t.email==="fitngro@gmail.com"?_.jsx(qF,{}):_.jsx(Mr,{to:"/",replace:!0})}),_.jsx(Ti,{path:"*",element:_.jsx(Mr,{to:"/",replace:!0})})]})},mz=()=>{const[t,e]=L.useState({user:null,loading:!0});return L.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(i=>console.log("Service Worker registered:",i)).catch(i=>console.error("Service Worker registration failed:",i));const n=Ct.onAuthStateChanged(i=>{if(console.log("Auth state changed - User:",i==null?void 0:i.email),e({user:i,loading:!1}),i&&sessionStorage.getItem("redirectUrl")){const a=sessionStorage.getItem("redirectUrl");sessionStorage.removeItem("redirectUrl"),window.location.href=a}},i=>{console.error("Authentication error:",i),e({user:null,loading:!1})});return()=>n()},[]),_.jsx(pP,{clientId:"your-actual-client-id.apps.googleusercontent.com",children:_.jsx(iP,{children:_.jsx(fz,{user:t.user,loading:t.loading})})})};zk.createRoot(document.getElementById("root")).render(_.jsx(iA.StrictMode,{children:_.jsx(mz,{})}));export{Nn as _,rm as a,W5 as b,hv as g,vl as r};
