(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var Qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function UP(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var bg={exports:{}},Tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE;function FP(){if(EE)return Tc;EE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var f in a)f!=="key"&&(l[f]=a[f])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Tc.Fragment=e,Tc.jsx=n,Tc.jsxs=n,Tc}var TE;function BP(){return TE||(TE=1,bg.exports=FP()),bg.exports}var E=BP(),Eg={exports:{}},Ze={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xE;function zP(){if(xE)return Ze;xE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.iterator;function x(q){return q===null||typeof q!="object"?null:(q=b&&q[b]||q["@@iterator"],typeof q=="function"?q:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,D={};function C(q,te,he){this.props=q,this.context=te,this.refs=D,this.updater=he||I}C.prototype.isReactComponent={},C.prototype.setState=function(q,te){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,te,"setState")},C.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=C.prototype;function z(q,te,he){this.props=q,this.context=te,this.refs=D,this.updater=he||I}var B=z.prototype=new N;B.constructor=z,A(B,C.prototype),B.isPureReactComponent=!0;var Y=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},H=Object.prototype.hasOwnProperty;function F(q,te,he,ce,be,Ee){return he=Ee.ref,{$$typeof:t,type:q,key:te,ref:he!==void 0?he:null,props:Ee}}function O(q,te){return F(q.type,te,void 0,void 0,void 0,q.props)}function j(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function k(q){var te={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(he){return te[he]})}var M=/\/+/g;function $(q,te){return typeof q=="object"&&q!==null&&q.key!=null?k(""+q.key):te.toString(36)}function U(){}function re(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(U,U):(q.status="pending",q.then(function(te){q.status==="pending"&&(q.status="fulfilled",q.value=te)},function(te){q.status==="pending"&&(q.status="rejected",q.reason=te)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function ye(q,te,he,ce,be){var Ee=typeof q;(Ee==="undefined"||Ee==="boolean")&&(q=null);var ke=!1;if(q===null)ke=!0;else switch(Ee){case"bigint":case"string":case"number":ke=!0;break;case"object":switch(q.$$typeof){case t:case e:ke=!0;break;case v:return ke=q._init,ye(ke(q._payload),te,he,ce,be)}}if(ke)return be=be(q),ke=ce===""?"."+$(q,0):ce,Y(be)?(he="",ke!=null&&(he=ke.replace(M,"$&/")+"/"),ye(be,te,he,"",function(Ye){return Ye})):be!=null&&(j(be)&&(be=O(be,he+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(M,"$&/")+"/")+ke)),te.push(be)),1;ke=0;var wt=ce===""?".":ce+":";if(Y(q))for(var et=0;et<q.length;et++)ce=q[et],Ee=wt+$(ce,et),ke+=ye(ce,te,he,Ee,be);else if(et=x(q),typeof et=="function")for(q=et.call(q),et=0;!(ce=q.next()).done;)ce=ce.value,Ee=wt+$(ce,et++),ke+=ye(ce,te,he,Ee,be);else if(Ee==="object"){if(typeof q.then=="function")return ye(re(q),te,he,ce,be);throw te=String(q),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ke}function K(q,te,he){if(q==null)return q;var ce=[],be=0;return ye(q,ce,"","",function(Ee){return te.call(he,Ee,be++)}),ce}function ee(q){if(q._status===-1){var te=q._result;te=te(),te.then(function(he){(q._status===0||q._status===-1)&&(q._status=1,q._result=he)},function(he){(q._status===0||q._status===-1)&&(q._status=2,q._result=he)}),q._status===-1&&(q._status=0,q._result=te)}if(q._status===1)return q._result.default;throw q._result}var le=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)};function oe(){}return Ze.Children={map:K,forEach:function(q,te,he){K(q,function(){te.apply(this,arguments)},he)},count:function(q){var te=0;return K(q,function(){te++}),te},toArray:function(q){return K(q,function(te){return te})||[]},only:function(q){if(!j(q))throw Error("React.Children.only expected to receive a single React element child.");return q}},Ze.Component=C,Ze.Fragment=n,Ze.Profiler=a,Ze.PureComponent=z,Ze.StrictMode=r,Ze.Suspense=d,Ze.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ze.__COMPILER_RUNTIME={__proto__:null,c:function(q){return W.H.useMemoCache(q)}},Ze.cache=function(q){return function(){return q.apply(null,arguments)}},Ze.cloneElement=function(q,te,he){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var ce=A({},q.props),be=q.key,Ee=void 0;if(te!=null)for(ke in te.ref!==void 0&&(Ee=void 0),te.key!==void 0&&(be=""+te.key),te)!H.call(te,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&te.ref===void 0||(ce[ke]=te[ke]);var ke=arguments.length-2;if(ke===1)ce.children=he;else if(1<ke){for(var wt=Array(ke),et=0;et<ke;et++)wt[et]=arguments[et+2];ce.children=wt}return F(q.type,be,void 0,void 0,Ee,ce)},Ze.createContext=function(q){return q={$$typeof:u,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:l,_context:q},q},Ze.createElement=function(q,te,he){var ce,be={},Ee=null;if(te!=null)for(ce in te.key!==void 0&&(Ee=""+te.key),te)H.call(te,ce)&&ce!=="key"&&ce!=="__self"&&ce!=="__source"&&(be[ce]=te[ce]);var ke=arguments.length-2;if(ke===1)be.children=he;else if(1<ke){for(var wt=Array(ke),et=0;et<ke;et++)wt[et]=arguments[et+2];be.children=wt}if(q&&q.defaultProps)for(ce in ke=q.defaultProps,ke)be[ce]===void 0&&(be[ce]=ke[ce]);return F(q,Ee,void 0,void 0,null,be)},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(q){return{$$typeof:f,render:q}},Ze.isValidElement=j,Ze.lazy=function(q){return{$$typeof:v,_payload:{_status:-1,_result:q},_init:ee}},Ze.memo=function(q,te){return{$$typeof:p,type:q,compare:te===void 0?null:te}},Ze.startTransition=function(q){var te=W.T,he={};W.T=he;try{var ce=q(),be=W.S;be!==null&&be(he,ce),typeof ce=="object"&&ce!==null&&typeof ce.then=="function"&&ce.then(oe,le)}catch(Ee){le(Ee)}finally{W.T=te}},Ze.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ze.use=function(q){return W.H.use(q)},Ze.useActionState=function(q,te,he){return W.H.useActionState(q,te,he)},Ze.useCallback=function(q,te){return W.H.useCallback(q,te)},Ze.useContext=function(q){return W.H.useContext(q)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(q,te){return W.H.useDeferredValue(q,te)},Ze.useEffect=function(q,te,he){var ce=W.H;if(typeof he=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ce.useEffect(q,te)},Ze.useId=function(){return W.H.useId()},Ze.useImperativeHandle=function(q,te,he){return W.H.useImperativeHandle(q,te,he)},Ze.useInsertionEffect=function(q,te){return W.H.useInsertionEffect(q,te)},Ze.useLayoutEffect=function(q,te){return W.H.useLayoutEffect(q,te)},Ze.useMemo=function(q,te){return W.H.useMemo(q,te)},Ze.useOptimistic=function(q,te){return W.H.useOptimistic(q,te)},Ze.useReducer=function(q,te,he){return W.H.useReducer(q,te,he)},Ze.useRef=function(q){return W.H.useRef(q)},Ze.useState=function(q){return W.H.useState(q)},Ze.useSyncExternalStore=function(q,te,he){return W.H.useSyncExternalStore(q,te,he)},Ze.useTransition=function(){return W.H.useTransition()},Ze.version="19.1.0",Ze}var SE;function bu(){return SE||(SE=1,Eg.exports=zP()),Eg.exports}var G=bu();const mS=xv(G);var Tg={exports:{}},xc={},xg={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AE;function HP(){return AE||(AE=1,function(t){function e(K,ee){var le=K.length;K.push(ee);e:for(;0<le;){var oe=le-1>>>1,q=K[oe];if(0<a(q,ee))K[oe]=ee,K[le]=q,le=oe;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ee=K[0],le=K.pop();if(le!==ee){K[0]=le;e:for(var oe=0,q=K.length,te=q>>>1;oe<te;){var he=2*(oe+1)-1,ce=K[he],be=he+1,Ee=K[be];if(0>a(ce,le))be<q&&0>a(Ee,ce)?(K[oe]=Ee,K[be]=le,oe=be):(K[oe]=ce,K[he]=le,oe=he);else if(be<q&&0>a(Ee,le))K[oe]=Ee,K[be]=le,oe=be;else break e}}return ee}function a(K,ee){var le=K.sortIndex-ee.sortIndex;return le!==0?le:K.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();t.unstable_now=function(){return u.now()-f}}var d=[],p=[],v=1,b=null,x=3,I=!1,A=!1,D=!1,C=!1,N=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;function Y(K){for(var ee=n(p);ee!==null;){if(ee.callback===null)r(p);else if(ee.startTime<=K)r(p),ee.sortIndex=ee.expirationTime,e(d,ee);else break;ee=n(p)}}function W(K){if(D=!1,Y(K),!A)if(n(d)!==null)A=!0,H||(H=!0,$());else{var ee=n(p);ee!==null&&ye(W,ee.startTime-K)}}var H=!1,F=-1,O=5,j=-1;function k(){return C?!0:!(t.unstable_now()-j<O)}function M(){if(C=!1,H){var K=t.unstable_now();j=K;var ee=!0;try{e:{A=!1,D&&(D=!1,z(F),F=-1),I=!0;var le=x;try{t:{for(Y(K),b=n(d);b!==null&&!(b.expirationTime>K&&k());){var oe=b.callback;if(typeof oe=="function"){b.callback=null,x=b.priorityLevel;var q=oe(b.expirationTime<=K);if(K=t.unstable_now(),typeof q=="function"){b.callback=q,Y(K),ee=!0;break t}b===n(d)&&r(d),Y(K)}else r(d);b=n(d)}if(b!==null)ee=!0;else{var te=n(p);te!==null&&ye(W,te.startTime-K),ee=!1}}break e}finally{b=null,x=le,I=!1}ee=void 0}}finally{ee?$():H=!1}}}var $;if(typeof B=="function")$=function(){B(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,re=U.port2;U.port1.onmessage=M,$=function(){re.postMessage(null)}}else $=function(){N(M,0)};function ye(K,ee){F=N(function(){K(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var le=x;x=ee;try{return K()}finally{x=le}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=x;x=K;try{return ee()}finally{x=le}},t.unstable_scheduleCallback=function(K,ee,le){var oe=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?oe+le:oe):le=oe,K){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=le+q,K={id:v++,callback:ee,priorityLevel:K,startTime:le,expirationTime:q,sortIndex:-1},le>oe?(K.sortIndex=le,e(p,K),n(d)===null&&K===n(p)&&(D?(z(F),F=-1):D=!0,ye(W,le-oe))):(K.sortIndex=q,e(d,K),A||I||(A=!0,H||(H=!0,$()))),K},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(K){var ee=x;return function(){var le=x;x=ee;try{return K.apply(this,arguments)}finally{x=le}}}}(Sg)),Sg}var RE;function qP(){return RE||(RE=1,xg.exports=HP()),xg.exports}var Ag={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CE;function GP(){if(CE)return Yn;CE=1;var t=bu();function e(d){var p="https://react.dev/errors/"+d;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,p,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:d,containerInfo:p,implementation:v}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(d,p){if(d==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(d,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(d,p,null,v)},Yn.flushSync=function(d){var p=u.T,v=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=p,r.p=v,r.d.f()}},Yn.preconnect=function(d,p){typeof d=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(d,p))},Yn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},Yn.preinit=function(d,p){if(typeof d=="string"&&p&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,I=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?r.d.S(d,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:I}):v==="script"&&r.d.X(d,{crossOrigin:b,integrity:x,fetchPriority:I,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},Yn.preinitModule=function(d,p){if(typeof d=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=f(p.as,p.crossOrigin);r.d.M(d,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(d)},Yn.preload=function(d,p){if(typeof d=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,b=f(v,p.crossOrigin);r.d.L(d,v,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},Yn.preloadModule=function(d,p){if(typeof d=="string")if(p){var v=f(p.as,p.crossOrigin);r.d.m(d,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(d)},Yn.requestFormReset=function(d){r.d.r(d)},Yn.unstable_batchedUpdates=function(d,p){return d(p)},Yn.useFormState=function(d,p,v){return u.H.useFormState(d,p,v)},Yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var IE;function $P(){if(IE)return Ag.exports;IE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ag.exports=GP(),Ag.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function KP(){if(PE)return xc;PE=1;var t=qP(),e=bu(),n=$P();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function f(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,h=s;;){var m=o.return;if(m===null)break;var _=m.alternate;if(_===null){if(h=m.return,h!==null){o=h;continue}break}if(m.child===_.child){for(_=m.child;_;){if(_===o)return f(m),i;if(_===h)return f(m),s;_=_.sibling}throw Error(r(188))}if(o.return!==h.return)o=m,h=_;else{for(var R=!1,V=m.child;V;){if(V===o){R=!0,o=m,h=_;break}if(V===h){R=!0,h=m,o=_;break}V=V.sibling}if(!R){for(V=_.child;V;){if(V===o){R=!0,o=_,h=m;break}if(V===h){R=!0,h=_,o=m;break}V=V.sibling}if(!R)throw Error(r(189))}}if(o.alternate!==h)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function p(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=p(i),s!==null)return s;i=i.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),B=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),j=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=M&&i[M]||i["@@iterator"],typeof i=="function"?i:null)}var U=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===U?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case A:return"Fragment";case C:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case H:return"SuspenseList";case j:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case I:return"Portal";case B:return(i.displayName||"Context")+".Provider";case z:return(i._context.displayName||"Context")+".Consumer";case Y:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case F:return s=i.displayName||null,s!==null?s:re(i.type)||"Memo";case O:s=i._payload,i=i._init;try{return re(i(s))}catch{}}return null}var ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},oe=[],q=-1;function te(i){return{current:i}}function he(i){0>q||(i.current=oe[q],oe[q]=null,q--)}function ce(i,s){q++,oe[q]=i.current,i.current=s}var be=te(null),Ee=te(null),ke=te(null),wt=te(null);function et(i,s){switch(ce(ke,s),ce(Ee,i),ce(be,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?Xb(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=Xb(s),i=Qb(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}he(be),ce(be,i)}function Ye(){he(be),he(Ee),he(ke)}function zt(i){i.memoizedState!==null&&ce(wt,i);var s=be.current,o=Qb(s,i.type);s!==o&&(ce(Ee,i),ce(be,o))}function rt(i){Ee.current===i&&(he(be),he(Ee)),wt.current===i&&(he(wt),vc._currentValue=le)}var At=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,Me=t.unstable_cancelCallback,Qe=t.unstable_shouldYield,De=t.unstable_requestPaint,_e=t.unstable_now,Ce=t.unstable_getCurrentPriorityLevel,Ae=t.unstable_ImmediatePriority,qe=t.unstable_UserBlockingPriority,jt=t.unstable_NormalPriority,Jr=t.unstable_LowPriority,rr=t.unstable_IdlePriority,sn=t.log,Dn=t.unstable_setDisableYieldValue,pt=null,it=null;function Yt(i){if(typeof sn=="function"&&Dn(i),it&&typeof it.setStrictMode=="function")try{it.setStrictMode(pt,i)}catch{}}var Vt=Math.clz32?Math.clz32:Le,_s=Math.log,Zr=Math.LN2;function Le(i){return i>>>=0,i===0?32:31-(_s(i)/Zr|0)|0}var kt=256,an=4194304;function dt(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function mn(i,s,o){var h=i.pendingLanes;if(h===0)return 0;var m=0,_=i.suspendedLanes,R=i.pingedLanes;i=i.warmLanes;var V=h&134217727;return V!==0?(h=V&~_,h!==0?m=dt(h):(R&=V,R!==0?m=dt(R):o||(o=V&~i,o!==0&&(m=dt(o))))):(V=h&~_,V!==0?m=dt(V):R!==0?m=dt(R):o||(o=h&~i,o!==0&&(m=dt(o)))),m===0?0:s!==0&&s!==m&&(s&_)===0&&(_=m&-m,o=s&-s,_>=o||_===32&&(o&4194048)!==0)?s:m}function qn(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function ir(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function An(){var i=kt;return kt<<=1,(kt&4194048)===0&&(kt=256),i}function Dr(){var i=an;return an<<=1,(an&62914560)===0&&(an=4194304),i}function On(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function sr(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function gi(i,s,o,h,m,_){var R=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var V=i.entanglements,X=i.expirationTimes,ie=i.hiddenUpdates;for(o=R&~o;0<o;){var de=31-Vt(o),me=1<<de;V[de]=0,X[de]=-1;var se=ie[de];if(se!==null)for(ie[de]=null,de=0;de<se.length;de++){var ae=se[de];ae!==null&&(ae.lane&=-536870913)}o&=~me}h!==0&&ar(i,h,0),_!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=_&~(R&~s))}function ar(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var h=31-Vt(s);i.entangledLanes|=s,i.entanglements[h]=i.entanglements[h]|1073741824|o&4194090}function Or(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var h=31-Vt(o),m=1<<h;m&s|i[h]&s&&(i[h]|=s),o&=~m}}function ei(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function ws(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Mr(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:gE(i.type))}function bs(i,s){var o=ee.p;try{return ee.p=i,s()}finally{ee.p=o}}var Dt=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Dt,Wt="__reactProps$"+Dt,Xt="__reactContainer$"+Dt,jr="__reactEvents$"+Dt,hl="__reactListeners$"+Dt,bt="__reactHandles$"+Dt,or="__reactResources$"+Dt,yi="__reactMarker$"+Dt;function Bi(i){delete i[Ot],delete i[Wt],delete i[jr],delete i[hl],delete i[bt]}function yr(i){var s=i[Ot];if(s)return s;for(var o=i.parentNode;o;){if(s=o[Xt]||o[Ot]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=tE(i);i!==null;){if(o=i[Ot])return o;i=tE(i)}return s}i=o,o=i.parentNode}return null}function vr(i){if(i=i[Ot]||i[Xt]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function lr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function on(i){var s=i[or];return s||(s=i[or]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ut(i){i[yi]=!0}var Es=new Set,zi={};function _r(i,s){ln(i,s),ln(i+"Capture",s)}function ln(i,s){for(zi[i]=s,i=0;i<s.length;i++)Es.add(s[i])}var ur=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hi={},vi={};function ha(i){return At.call(vi,i)?!0:At.call(Hi,i)?!1:ur.test(i)?vi[i]=!0:(Hi[i]=!0,!1)}function _i(i,s,o){if(ha(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var h=s.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function wr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function Rt(i,s,o,h){if(h===null)i.removeAttribute(o);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+h)}}var qi,Ts;function gn(i){if(qi===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);qi=s&&s[1]||"",Ts=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qi+i+Ts}var wi=!1;function fa(i,s){if(!i||wi)return"";wi=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(s){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ae){var se=ae}Reflect.construct(i,[],me)}else{try{me.call()}catch(ae){se=ae}i.call(me.prototype)}}else{try{throw Error()}catch(ae){se=ae}(me=i())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ae){if(ae&&se&&typeof ae.stack=="string")return[ae.stack,se.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=h.DetermineComponentFrameRoot(),R=_[0],V=_[1];if(R&&V){var X=R.split(`
`),ie=V.split(`
`);for(m=h=0;h<X.length&&!X[h].includes("DetermineComponentFrameRoot");)h++;for(;m<ie.length&&!ie[m].includes("DetermineComponentFrameRoot");)m++;if(h===X.length||m===ie.length)for(h=X.length-1,m=ie.length-1;1<=h&&0<=m&&X[h]!==ie[m];)m--;for(;1<=h&&0<=m;h--,m--)if(X[h]!==ie[m]){if(h!==1||m!==1)do if(h--,m--,0>m||X[h]!==ie[m]){var de=`
`+X[h].replace(" at new "," at ");return i.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",i.displayName)),de}while(1<=h&&0<=m);break}}}finally{wi=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?gn(o):""}function da(i){switch(i.tag){case 26:case 27:case 5:return gn(i.type);case 16:return gn("Lazy");case 13:return gn("Suspense");case 19:return gn("SuspenseList");case 0:case 15:return fa(i.type,!1);case 11:return fa(i.type.render,!1);case 1:return fa(i.type,!0);case 31:return gn("Activity");default:return""}}function Gi(i){try{var s="";do s+=da(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Mn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function wo(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function fl(i){var s=wo(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),h=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var m=o.get,_=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return m.call(this)},set:function(R){h=""+R,_.call(this,R)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return h},setValue:function(R){h=""+R},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function xs(i){i._valueTracker||(i._valueTracker=fl(i))}function pa(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),h="";return i&&(h=wo(i)?i.checked?"true":"false":i.value),i=h,i!==o?(s.setValue(i),!0):!1}function $i(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Rn=/[\n"\\]/g;function Ht(i){return i.replace(Rn,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Gn(i,s,o,h,m,_,R,V){i.name="",R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.type=R:i.removeAttribute("type"),s!=null?R==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Mn(s)):i.value!==""+Mn(s)&&(i.value=""+Mn(s)):R!=="submit"&&R!=="reset"||i.removeAttribute("value"),s!=null?bi(i,R,Mn(s)):o!=null?bi(i,R,Mn(o)):h!=null&&i.removeAttribute("value"),m==null&&_!=null&&(i.defaultChecked=!!_),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+Mn(V):i.removeAttribute("name")}function ti(i,s,o,h,m,_,R,V){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),s!=null||o!=null){if(!(_!=="submit"&&_!=="reset"||s!=null))return;o=o!=null?""+Mn(o):"",s=s!=null?""+Mn(s):o,V||s===i.value||(i.value=s),i.defaultValue=s}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,i.checked=V?i.checked:!!h,i.defaultChecked=!!h,R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"&&(i.name=R)}function bi(i,s,o){s==="number"&&$i(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ni(i,s,o,h){if(i=i.options,s){s={};for(var m=0;m<o.length;m++)s["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=s.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&h&&(i[o].defaultSelected=!0)}else{for(o=""+Mn(o),s=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}s!==null||i[m].disabled||(s=i[m])}s!==null&&(s.selected=!0)}}function Et(i,s,o){if(s!=null&&(s=""+Mn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Mn(o):""}function Ss(i,s,o,h){if(s==null){if(h!=null){if(o!=null)throw Error(r(92));if(ye(h)){if(1<h.length)throw Error(r(93));h=h[0]}o=h}o==null&&(o=""),s=o}o=Mn(s),i.defaultValue=o,h=i.textContent,h===o&&h!==""&&h!==null&&(i.value=h)}function cr(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var Ki=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function As(i,s,o){var h=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?h?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":h?i.setProperty(s,o):typeof o!="number"||o===0||Ki.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function ma(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var h in o)!o.hasOwnProperty(h)||s!=null&&s.hasOwnProperty(h)||(h.indexOf("--")===0?i.setProperty(h,""):h==="float"?i.cssFloat="":i[h]="");for(var m in s)h=s[m],s.hasOwnProperty(m)&&o[m]!==h&&As(i,m,h)}else for(var _ in s)s.hasOwnProperty(_)&&As(i,_,s[_])}function ga(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rs=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Vu=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ya(i){return Vu.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var Ei=null;function br(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Vr=null,hr=null;function bo(i){var s=vr(i);if(s&&(i=s.stateNode)){var o=i[Wt]||null;e:switch(i=s.stateNode,s.type){case"input":if(Gn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ht(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var h=o[s];if(h!==i&&h.form===i.form){var m=h[Wt]||null;if(!m)throw Error(r(90));Gn(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(s=0;s<o.length;s++)h=o[s],h.form===i.form&&pa(h)}break e;case"textarea":Et(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&ni(i,!!o.multiple,s,!1)}}}var ri=!1;function dl(i,s,o){if(ri)return i(s,o);ri=!0;try{var h=i(s);return h}finally{if(ri=!1,(Vr!==null||hr!==null)&&(pf(),Vr&&(s=Vr,i=hr,hr=Vr=null,bo(s),i)))for(s=0;s<i.length;s++)bo(i[s])}}function Cs(i,s){var o=i.stateNode;if(o===null)return null;var h=o[Wt]||null;if(h===null)return null;o=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dr=!1;if(fr)try{var Yi={};Object.defineProperty(Yi,"passive",{get:function(){dr=!0}}),window.addEventListener("test",Yi,Yi),window.removeEventListener("test",Yi,Yi)}catch{dr=!1}var $n=null,yn=null,Ti=null;function Eo(){if(Ti)return Ti;var i,s=yn,o=s.length,h,m="value"in $n?$n.value:$n.textContent,_=m.length;for(i=0;i<o&&s[i]===m[i];i++);var R=o-i;for(h=1;h<=R&&s[o-h]===m[_-h];h++);return Ti=m.slice(i,1<h?1-h:void 0)}function Lr(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Ur(){return!0}function Is(){return!1}function Qt(i){function s(o,h,m,_,R){this._reactName=o,this._targetInst=m,this.type=h,this.nativeEvent=_,this.target=R,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(o=i[V],this[V]=o?o(_):_[V]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ur:Is,this.isPropagationStopped=Is,this}return v(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ur)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ur)},persist:function(){},isPersistent:Ur}),s}var at={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ps=Qt(at),xi=v({},at,{view:0,detail:0}),pl=Qt(xi),va,ii,Fr,Wi=v({},xi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ji,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Fr&&(Fr&&i.type==="mousemove"?(va=i.screenX-Fr.screenX,ii=i.screenY-Fr.screenY):ii=va=0,Fr=i),va)},movementY:function(i){return"movementY"in i?i.movementY:ii}}),Er=Qt(Wi),ml=v({},Wi,{dataTransfer:0}),_a=Qt(ml),Xi=v({},xi,{relatedTarget:0}),wa=Qt(Xi),ba=v({},at,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Qt(ba),gl=v({},at,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Qi=Qt(gl),To=v({},at,{data:0}),Ta=Qt(To),ks={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xo(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=vl[i])?!!s[i]:!1}function Ji(){return xo}var _l=v({},xi,{key:function(i){if(i.key){var s=ks[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Lr(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?yl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ji,charCode:function(i){return i.type==="keypress"?Lr(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Lr(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xa=Qt(_l),Sa=v({},Wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),So=Qt(Sa),Si=v({},xi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ji}),wl=Qt(Si),Ns=v({},at,{propertyName:0,elapsedTime:0,pseudoElement:0}),bl=Qt(Ns),El=v({},Wi,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Aa=Qt(El),Cn=v({},at,{newState:0,oldState:0}),Ao=Qt(Cn),g=[9,13,27,32],T=fr&&"CompositionEvent"in window,c=null;fr&&"documentMode"in document&&(c=document.documentMode);var y=fr&&"TextEvent"in window&&!c,w=fr&&(!T||c&&8<c&&11>=c),S=" ",P=!1;function L(i,s){switch(i){case"keyup":return g.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fe=!1;function we(i,s){switch(i){case"compositionend":return Q(s);case"keypress":return s.which!==32?null:(P=!0,S);case"textInput":return i=s.data,i===S&&P?null:i;default:return null}}function xe(i,s){if(fe)return i==="compositionend"||!T&&L(i,s)?(i=Eo(),Ti=yn=$n=null,fe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return w&&s.locale!=="ko"?null:s.data;default:return null}}var Re={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Re[i.type]:s==="textarea"}function Oe(i,s,o,h){Vr?hr?hr.push(h):hr=[h]:Vr=h,s=wf(s,"onChange"),0<s.length&&(o=new Ps("onChange","change",null,o,h),i.push({event:o,listeners:s}))}var je=null,ut=null;function yt(i){Gb(i,0)}function Jt(i){var s=lr(i);if(pa(s))return i}function pr(i,s){if(i==="change")return s}var jn=!1;if(fr){var ct;if(fr){var un="oninput"in document;if(!un){var Ai=document.createElement("div");Ai.setAttribute("oninput","return;"),un=typeof Ai.oninput=="function"}ct=un}else ct=!1;jn=ct&&(!document.documentMode||9<document.documentMode)}function Dh(){je&&(je.detachEvent("onpropertychange",Oh),ut=je=null)}function Oh(i){if(i.propertyName==="value"&&Jt(ut)){var s=[];Oe(s,ut,i,br(i)),dl(yt,s)}}function Pp(i,s,o){i==="focusin"?(Dh(),je=s,ut=o,je.attachEvent("onpropertychange",Oh)):i==="focusout"&&Dh()}function kp(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jt(ut)}function Np(i,s){if(i==="click")return Jt(s)}function Tl(i,s){if(i==="input"||i==="change")return Jt(s)}function _I(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var Br=typeof Object.is=="function"?Object.is:_I;function Lu(i,s){if(Br(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),h=Object.keys(s);if(o.length!==h.length)return!1;for(h=0;h<o.length;h++){var m=o[h];if(!At.call(s,m)||!Br(i[m],s[m]))return!1}return!0}function y_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function v_(i,s){var o=y_(i);i=0;for(var h;o;){if(o.nodeType===3){if(h=i+o.textContent.length,i<=s&&h>=s)return{node:o,offset:s-i};i=h}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=y_(o)}}function __(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?__(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function w_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=$i(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=$i(i.document)}return s}function Dp(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var wI=fr&&"documentMode"in document&&11>=document.documentMode,xl=null,Op=null,Uu=null,Mp=!1;function b_(i,s,o){var h=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Mp||xl==null||xl!==$i(h)||(h=xl,"selectionStart"in h&&Dp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Uu&&Lu(Uu,h)||(Uu=h,h=wf(Op,"onSelect"),0<h.length&&(s=new Ps("onSelect","select",null,s,o),i.push({event:s,listeners:h}),s.target=xl)))}function Ro(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var Sl={animationend:Ro("Animation","AnimationEnd"),animationiteration:Ro("Animation","AnimationIteration"),animationstart:Ro("Animation","AnimationStart"),transitionrun:Ro("Transition","TransitionRun"),transitionstart:Ro("Transition","TransitionStart"),transitioncancel:Ro("Transition","TransitionCancel"),transitionend:Ro("Transition","TransitionEnd")},jp={},E_={};fr&&(E_=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Co(i){if(jp[i])return jp[i];if(!Sl[i])return i;var s=Sl[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in E_)return jp[i]=s[o];return i}var T_=Co("animationend"),x_=Co("animationiteration"),S_=Co("animationstart"),bI=Co("transitionrun"),EI=Co("transitionstart"),TI=Co("transitioncancel"),A_=Co("transitionend"),R_=new Map,Vp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Vp.push("scrollEnd");function Ri(i,s){R_.set(i,s),_r(s,[i])}var C_=new WeakMap;function si(i,s){if(typeof i=="object"&&i!==null){var o=C_.get(i);return o!==void 0?o:(s={value:i,source:s,stack:Gi(s)},C_.set(i,s),s)}return{value:i,source:s,stack:Gi(s)}}var ai=[],Al=0,Lp=0;function Mh(){for(var i=Al,s=Lp=Al=0;s<i;){var o=ai[s];ai[s++]=null;var h=ai[s];ai[s++]=null;var m=ai[s];ai[s++]=null;var _=ai[s];if(ai[s++]=null,h!==null&&m!==null){var R=h.pending;R===null?m.next=m:(m.next=R.next,R.next=m),h.pending=m}_!==0&&I_(o,m,_)}}function jh(i,s,o,h){ai[Al++]=i,ai[Al++]=s,ai[Al++]=o,ai[Al++]=h,Lp|=h,i.lanes|=h,i=i.alternate,i!==null&&(i.lanes|=h)}function Up(i,s,o,h){return jh(i,s,o,h),Vh(i)}function Rl(i,s){return jh(i,null,null,s),Vh(i)}function I_(i,s,o){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o);for(var m=!1,_=i.return;_!==null;)_.childLanes|=o,h=_.alternate,h!==null&&(h.childLanes|=o),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(m=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,m&&s!==null&&(m=31-Vt(o),i=_.hiddenUpdates,h=i[m],h===null?i[m]=[s]:h.push(s),s.lane=o|536870912),_):null}function Vh(i){if(50<cc)throw cc=0,Gm=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Cl={};function xI(i,s,o,h){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(i,s,o,h){return new xI(i,s,o,h)}function Fp(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ds(i,s){var o=i.alternate;return o===null?(o=zr(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function P_(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Lh(i,s,o,h,m,_){var R=0;if(h=i,typeof i=="function")Fp(i)&&(R=1);else if(typeof i=="string")R=AP(i,o,be.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case j:return i=zr(31,o,s,m),i.elementType=j,i.lanes=_,i;case A:return Io(o.children,m,_,s);case D:R=8,m|=24;break;case C:return i=zr(12,o,s,m|2),i.elementType=C,i.lanes=_,i;case W:return i=zr(13,o,s,m),i.elementType=W,i.lanes=_,i;case H:return i=zr(19,o,s,m),i.elementType=H,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case B:R=10;break e;case z:R=9;break e;case Y:R=11;break e;case F:R=14;break e;case O:R=16,h=null;break e}R=29,o=Error(r(130,i===null?"null":typeof i,"")),h=null}return s=zr(R,o,s,m),s.elementType=i,s.type=h,s.lanes=_,s}function Io(i,s,o,h){return i=zr(7,i,h,s),i.lanes=o,i}function Bp(i,s,o){return i=zr(6,i,null,s),i.lanes=o,i}function zp(i,s,o){return s=zr(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Il=[],Pl=0,Uh=null,Fh=0,oi=[],li=0,Po=null,Os=1,Ms="";function ko(i,s){Il[Pl++]=Fh,Il[Pl++]=Uh,Uh=i,Fh=s}function k_(i,s,o){oi[li++]=Os,oi[li++]=Ms,oi[li++]=Po,Po=i;var h=Os;i=Ms;var m=32-Vt(h)-1;h&=~(1<<m),o+=1;var _=32-Vt(s)+m;if(30<_){var R=m-m%5;_=(h&(1<<R)-1).toString(32),h>>=R,m-=R,Os=1<<32-Vt(s)+m|o<<m|h,Ms=_+i}else Os=1<<_|o<<m|h,Ms=i}function Hp(i){i.return!==null&&(ko(i,1),k_(i,1,0))}function qp(i){for(;i===Uh;)Uh=Il[--Pl],Il[Pl]=null,Fh=Il[--Pl],Il[Pl]=null;for(;i===Po;)Po=oi[--li],oi[li]=null,Ms=oi[--li],oi[li]=null,Os=oi[--li],oi[li]=null}var mr=null,Zt=null,_t=!1,No=null,Zi=!1,Gp=Error(r(519));function Do(i){var s=Error(r(418,""));throw zu(si(s,i)),Gp}function N_(i){var s=i.stateNode,o=i.type,h=i.memoizedProps;switch(s[Ot]=i,s[Wt]=h,o){case"dialog":lt("cancel",s),lt("close",s);break;case"iframe":case"object":case"embed":lt("load",s);break;case"video":case"audio":for(o=0;o<fc.length;o++)lt(fc[o],s);break;case"source":lt("error",s);break;case"img":case"image":case"link":lt("error",s),lt("load",s);break;case"details":lt("toggle",s);break;case"input":lt("invalid",s),ti(s,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0),xs(s);break;case"select":lt("invalid",s);break;case"textarea":lt("invalid",s),Ss(s,h.value,h.defaultValue,h.children),xs(s)}o=h.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||h.suppressHydrationWarning===!0||Wb(s.textContent,o)?(h.popover!=null&&(lt("beforetoggle",s),lt("toggle",s)),h.onScroll!=null&&lt("scroll",s),h.onScrollEnd!=null&&lt("scrollend",s),h.onClick!=null&&(s.onclick=bf),s=!0):s=!1,s||Do(i)}function D_(i){for(mr=i.return;mr;)switch(mr.tag){case 5:case 13:Zi=!1;return;case 27:case 3:Zi=!0;return;default:mr=mr.return}}function Fu(i){if(i!==mr)return!1;if(!_t)return D_(i),_t=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||og(i.type,i.memoizedProps)),o=!o),o&&Zt&&Do(i),D_(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){Zt=Ii(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}Zt=null}}else s===27?(s=Zt,za(i.type)?(i=hg,hg=null,Zt=i):Zt=s):Zt=mr?Ii(i.stateNode.nextSibling):null;return!0}function Bu(){Zt=mr=null,_t=!1}function O_(){var i=No;return i!==null&&(Sr===null?Sr=i:Sr.push.apply(Sr,i),No=null),i}function zu(i){No===null?No=[i]:No.push(i)}var $p=te(null),Oo=null,js=null;function Ra(i,s,o){ce($p,s._currentValue),s._currentValue=o}function Vs(i){i._currentValue=$p.current,he($p)}function Kp(i,s,o){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===o)break;i=i.return}}function Yp(i,s,o,h){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var _=m.dependencies;if(_!==null){var R=m.child;_=_.firstContext;e:for(;_!==null;){var V=_;_=m;for(var X=0;X<s.length;X++)if(V.context===s[X]){_.lanes|=o,V=_.alternate,V!==null&&(V.lanes|=o),Kp(_.return,o,i),h||(R=null);break e}_=V.next}}else if(m.tag===18){if(R=m.return,R===null)throw Error(r(341));R.lanes|=o,_=R.alternate,_!==null&&(_.lanes|=o),Kp(R,o,i),R=null}else R=m.child;if(R!==null)R.return=m;else for(R=m;R!==null;){if(R===i){R=null;break}if(m=R.sibling,m!==null){m.return=R.return,R=m;break}R=R.return}m=R}}function Hu(i,s,o,h){i=null;for(var m=s,_=!1;m!==null;){if(!_){if((m.flags&524288)!==0)_=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var R=m.alternate;if(R===null)throw Error(r(387));if(R=R.memoizedProps,R!==null){var V=m.type;Br(m.pendingProps.value,R.value)||(i!==null?i.push(V):i=[V])}}else if(m===wt.current){if(R=m.alternate,R===null)throw Error(r(387));R.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(vc):i=[vc])}m=m.return}i!==null&&Yp(s,i,o,h),s.flags|=262144}function Bh(i){for(i=i.firstContext;i!==null;){if(!Br(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Mo(i){Oo=i,js=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return M_(Oo,i)}function zh(i,s){return Oo===null&&Mo(i),M_(i,s)}function M_(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},js===null){if(i===null)throw Error(r(308));js=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else js=js.next=s;return o}var SI=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,h){i.push(h)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},AI=t.unstable_scheduleCallback,RI=t.unstable_NormalPriority,En={$$typeof:B,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wp(){return{controller:new SI,data:new Map,refCount:0}}function qu(i){i.refCount--,i.refCount===0&&AI(RI,function(){i.controller.abort()})}var Gu=null,Xp=0,kl=0,Nl=null;function CI(i,s){if(Gu===null){var o=Gu=[];Xp=0,kl=Jm(),Nl={status:"pending",value:void 0,then:function(h){o.push(h)}}}return Xp++,s.then(j_,j_),s}function j_(){if(--Xp===0&&Gu!==null){Nl!==null&&(Nl.status="fulfilled");var i=Gu;Gu=null,kl=0,Nl=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function II(i,s){var o=[],h={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){h.status="fulfilled",h.value=s;for(var m=0;m<o.length;m++)(0,o[m])(s)},function(m){for(h.status="rejected",h.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),h}var V_=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&CI(i,s),V_!==null&&V_(i,s)};var jo=te(null);function Qp(){var i=jo.current;return i!==null?i:Mt.pooledCache}function Hh(i,s){s===null?ce(jo,jo.current):ce(jo,s.pool)}function L_(){var i=Qp();return i===null?null:{parent:En._currentValue,pool:i}}var $u=Error(r(460)),U_=Error(r(474)),qh=Error(r(542)),Jp={then:function(){}};function F_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Gh(){}function B_(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Gh,Gh),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,H_(i),i;default:if(typeof s.status=="string")s.then(Gh,Gh);else{if(i=Mt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(h){if(s.status==="pending"){var m=s;m.status="fulfilled",m.value=h}},function(h){if(s.status==="pending"){var m=s;m.status="rejected",m.reason=h}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,H_(i),i}throw Ku=s,$u}}var Ku=null;function z_(){if(Ku===null)throw Error(r(459));var i=Ku;return Ku=null,i}function H_(i){if(i===$u||i===qh)throw Error(r(483))}var Ca=!1;function Zp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function em(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ia(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Pa(i,s,o){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(xt&2)!==0){var m=h.pending;return m===null?s.next=s:(s.next=m.next,m.next=s),h.pending=s,s=Vh(i),I_(i,null,o),s}return jh(i,h,s,o),Vh(i)}function Yu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var h=s.lanes;h&=i.pendingLanes,o|=h,s.lanes=o,Or(i,o)}}function tm(i,s){var o=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,o===h)){var m=null,_=null;if(o=o.firstBaseUpdate,o!==null){do{var R={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};_===null?m=_=R:_=_.next=R,o=o.next}while(o!==null);_===null?m=_=s:_=_.next=s}else m=_=s;o={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:_,shared:h.shared,callbacks:h.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var nm=!1;function Wu(){if(nm){var i=Nl;if(i!==null)throw i}}function Xu(i,s,o,h){nm=!1;var m=i.updateQueue;Ca=!1;var _=m.firstBaseUpdate,R=m.lastBaseUpdate,V=m.shared.pending;if(V!==null){m.shared.pending=null;var X=V,ie=X.next;X.next=null,R===null?_=ie:R.next=ie,R=X;var de=i.alternate;de!==null&&(de=de.updateQueue,V=de.lastBaseUpdate,V!==R&&(V===null?de.firstBaseUpdate=ie:V.next=ie,de.lastBaseUpdate=X))}if(_!==null){var me=m.baseState;R=0,de=ie=X=null,V=_;do{var se=V.lane&-536870913,ae=se!==V.lane;if(ae?(mt&se)===se:(h&se)===se){se!==0&&se===kl&&(nm=!0),de!==null&&(de=de.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var Ge=i,Fe=V;se=s;var Pt=o;switch(Fe.tag){case 1:if(Ge=Fe.payload,typeof Ge=="function"){me=Ge.call(Pt,me,se);break e}me=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Fe.payload,se=typeof Ge=="function"?Ge.call(Pt,me,se):Ge,se==null)break e;me=v({},me,se);break e;case 2:Ca=!0}}se=V.callback,se!==null&&(i.flags|=64,ae&&(i.flags|=8192),ae=m.callbacks,ae===null?m.callbacks=[se]:ae.push(se))}else ae={lane:se,tag:V.tag,payload:V.payload,callback:V.callback,next:null},de===null?(ie=de=ae,X=me):de=de.next=ae,R|=se;if(V=V.next,V===null){if(V=m.shared.pending,V===null)break;ae=V,V=ae.next,ae.next=null,m.lastBaseUpdate=ae,m.shared.pending=null}}while(!0);de===null&&(X=me),m.baseState=X,m.firstBaseUpdate=ie,m.lastBaseUpdate=de,_===null&&(m.shared.lanes=0),La|=R,i.lanes=R,i.memoizedState=me}}function q_(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function G_(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)q_(o[i],s)}var Dl=te(null),$h=te(0);function $_(i,s){i=qs,ce($h,i),ce(Dl,s),qs=i|s.baseLanes}function rm(){ce($h,qs),ce(Dl,Dl.current)}function im(){qs=$h.current,he(Dl),he($h)}var ka=0,tt=null,Ct=null,vn=null,Kh=!1,Ol=!1,Vo=!1,Yh=0,Qu=0,Ml=null,PI=0;function cn(){throw Error(r(321))}function sm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!Br(i[o],s[o]))return!1;return!0}function am(i,s,o,h,m,_){return ka=_,tt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?Iw:Pw,Vo=!1,_=o(h,m),Vo=!1,Ol&&(_=Y_(s,o,h,m)),K_(i),_}function K_(i){K.H=ef;var s=Ct!==null&&Ct.next!==null;if(ka=0,vn=Ct=tt=null,Kh=!1,Qu=0,Ml=null,s)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Bh(i)&&(In=!0))}function Y_(i,s,o,h){tt=i;var m=0;do{if(Ol&&(Ml=null),Qu=0,Ol=!1,25<=m)throw Error(r(301));if(m+=1,vn=Ct=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}K.H=VI,_=s(o,h)}while(Ol);return _}function kI(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?Ju(s):s,i=i.useState()[0],(Ct!==null?Ct.memoizedState:null)!==i&&(tt.flags|=1024),s}function om(){var i=Yh!==0;return Yh=0,i}function lm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function um(i){if(Kh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}Kh=!1}ka=0,vn=Ct=tt=null,Ol=!1,Qu=Yh=0,Ml=null}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?tt.memoizedState=vn=i:vn=vn.next=i,vn}function _n(){if(Ct===null){var i=tt.alternate;i=i!==null?i.memoizedState:null}else i=Ct.next;var s=vn===null?tt.memoizedState:vn.next;if(s!==null)vn=s,Ct=i;else{if(i===null)throw tt.alternate===null?Error(r(467)):Error(r(310));Ct=i,i={memoizedState:Ct.memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},vn===null?tt.memoizedState=vn=i:vn=vn.next=i}return vn}function cm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ju(i){var s=Qu;return Qu+=1,Ml===null&&(Ml=[]),i=B_(Ml,i,s),s=tt,(vn===null?s.memoizedState:vn.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Iw:Pw),i}function Wh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ju(i);if(i.$$typeof===B)return Kn(i)}throw Error(r(438,String(i)))}function hm(i){var s=null,o=tt.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var h=tt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(s={data:h.data.map(function(m){return m.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=cm(),tt.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),h=0;h<i;h++)o[h]=k;return s.index++,o}function Ls(i,s){return typeof s=="function"?s(i):s}function Xh(i){var s=_n();return fm(s,Ct,i)}function fm(i,s,o){var h=i.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=o;var m=i.baseQueue,_=h.pending;if(_!==null){if(m!==null){var R=m.next;m.next=_.next,_.next=R}s.baseQueue=m=_,h.pending=null}if(_=i.baseState,m===null)i.memoizedState=_;else{s=m.next;var V=R=null,X=null,ie=s,de=!1;do{var me=ie.lane&-536870913;if(me!==ie.lane?(mt&me)===me:(ka&me)===me){var se=ie.revertLane;if(se===0)X!==null&&(X=X.next={lane:0,revertLane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),me===kl&&(de=!0);else if((ka&se)===se){ie=ie.next,se===kl&&(de=!0);continue}else me={lane:0,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(V=X=me,R=_):X=X.next=me,tt.lanes|=se,La|=se;me=ie.action,Vo&&o(_,me),_=ie.hasEagerState?ie.eagerState:o(_,me)}else se={lane:me,revertLane:ie.revertLane,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null},X===null?(V=X=se,R=_):X=X.next=se,tt.lanes|=me,La|=me;ie=ie.next}while(ie!==null&&ie!==s);if(X===null?R=_:X.next=V,!Br(_,i.memoizedState)&&(In=!0,de&&(o=Nl,o!==null)))throw o;i.memoizedState=_,i.baseState=R,i.baseQueue=X,h.lastRenderedState=_}return m===null&&(h.lanes=0),[i.memoizedState,h.dispatch]}function dm(i){var s=_n(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var h=o.dispatch,m=o.pending,_=s.memoizedState;if(m!==null){o.pending=null;var R=m=m.next;do _=i(_,R.action),R=R.next;while(R!==m);Br(_,s.memoizedState)||(In=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),o.lastRenderedState=_}return[_,h]}function W_(i,s,o){var h=tt,m=_n(),_=_t;if(_){if(o===void 0)throw Error(r(407));o=o()}else o=s();var R=!Br((Ct||m).memoizedState,o);R&&(m.memoizedState=o,In=!0),m=m.queue;var V=J_.bind(null,h,m,i);if(Zu(2048,8,V,[i]),m.getSnapshot!==s||R||vn!==null&&vn.memoizedState.tag&1){if(h.flags|=2048,jl(9,Qh(),Q_.bind(null,h,m,o,s),null),Mt===null)throw Error(r(349));_||(ka&124)!==0||X_(h,s,o)}return o}function X_(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=tt.updateQueue,s===null?(s=cm(),tt.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function Q_(i,s,o,h){s.value=o,s.getSnapshot=h,Z_(s)&&ew(i)}function J_(i,s,o){return o(function(){Z_(s)&&ew(i)})}function Z_(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!Br(i,o)}catch{return!0}}function ew(i){var s=Rl(i,2);s!==null&&Kr(s,i,2)}function pm(i){var s=Tr();if(typeof i=="function"){var o=i;if(i=o(),Vo){Yt(!0);try{o()}finally{Yt(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:i},s}function tw(i,s,o,h){return i.baseState=o,fm(i,Ct,typeof h=="function"?h:Ls)}function NI(i,s,o,h,m){if(Zh(i))throw Error(r(485));if(i=s.action,i!==null){var _={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(R){_.listeners.push(R)}};K.T!==null?o(!0):_.isTransition=!1,h(_),o=s.pending,o===null?(_.next=s.pending=_,nw(s,_)):(_.next=o.next,s.pending=o.next=_)}}function nw(i,s){var o=s.action,h=s.payload,m=i.state;if(s.isTransition){var _=K.T,R={};K.T=R;try{var V=o(m,h),X=K.S;X!==null&&X(R,V),rw(i,s,V)}catch(ie){mm(i,s,ie)}finally{K.T=_}}else try{_=o(m,h),rw(i,s,_)}catch(ie){mm(i,s,ie)}}function rw(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(h){iw(i,s,h)},function(h){return mm(i,s,h)}):iw(i,s,o)}function iw(i,s,o){s.status="fulfilled",s.value=o,sw(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,nw(i,o)))}function mm(i,s,o){var h=i.pending;if(i.pending=null,h!==null){h=h.next;do s.status="rejected",s.reason=o,sw(s),s=s.next;while(s!==h)}i.action=null}function sw(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function aw(i,s){return s}function ow(i,s){if(_t){var o=Mt.formState;if(o!==null){e:{var h=tt;if(_t){if(Zt){t:{for(var m=Zt,_=Zi;m.nodeType!==8;){if(!_){m=null;break t}if(m=Ii(m.nextSibling),m===null){m=null;break t}}_=m.data,m=_==="F!"||_==="F"?m:null}if(m){Zt=Ii(m.nextSibling),h=m.data==="F!";break e}}Do(h)}h=!1}h&&(s=o[0])}}return o=Tr(),o.memoizedState=o.baseState=s,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aw,lastRenderedState:s},o.queue=h,o=Aw.bind(null,tt,h),h.dispatch=o,h=pm(!1),_=wm.bind(null,tt,!1,h.queue),h=Tr(),m={state:s,dispatch:null,action:i,pending:null},h.queue=m,o=NI.bind(null,tt,m,_,o),m.dispatch=o,h.memoizedState=i,[s,o,!1]}function lw(i){var s=_n();return uw(s,Ct,i)}function uw(i,s,o){if(s=fm(i,s,aw)[0],i=Xh(Ls)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var h=Ju(s)}catch(R){throw R===$u?qh:R}else h=s;s=_n();var m=s.queue,_=m.dispatch;return o!==s.memoizedState&&(tt.flags|=2048,jl(9,Qh(),DI.bind(null,m,o),null)),[h,_,i]}function DI(i,s){i.action=s}function cw(i){var s=_n(),o=Ct;if(o!==null)return uw(s,o,i);_n(),s=s.memoizedState,o=_n();var h=o.queue.dispatch;return o.memoizedState=i,[s,h,!1]}function jl(i,s,o,h){return i={tag:i,create:o,deps:h,inst:s,next:null},s=tt.updateQueue,s===null&&(s=cm(),tt.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(h=o.next,o.next=i,i.next=h,s.lastEffect=i),i}function Qh(){return{destroy:void 0,resource:void 0}}function hw(){return _n().memoizedState}function Jh(i,s,o,h){var m=Tr();h=h===void 0?null:h,tt.flags|=i,m.memoizedState=jl(1|s,Qh(),o,h)}function Zu(i,s,o,h){var m=_n();h=h===void 0?null:h;var _=m.memoizedState.inst;Ct!==null&&h!==null&&sm(h,Ct.memoizedState.deps)?m.memoizedState=jl(s,_,o,h):(tt.flags|=i,m.memoizedState=jl(1|s,_,o,h))}function fw(i,s){Jh(8390656,8,i,s)}function dw(i,s){Zu(2048,8,i,s)}function pw(i,s){return Zu(4,2,i,s)}function mw(i,s){return Zu(4,4,i,s)}function gw(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function yw(i,s,o){o=o!=null?o.concat([i]):null,Zu(4,4,gw.bind(null,s,i),o)}function gm(){}function vw(i,s){var o=_n();s=s===void 0?null:s;var h=o.memoizedState;return s!==null&&sm(s,h[1])?h[0]:(o.memoizedState=[i,s],i)}function _w(i,s){var o=_n();s=s===void 0?null:s;var h=o.memoizedState;if(s!==null&&sm(s,h[1]))return h[0];if(h=i(),Vo){Yt(!0);try{i()}finally{Yt(!1)}}return o.memoizedState=[h,s],h}function ym(i,s,o){return o===void 0||(ka&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=Eb(),tt.lanes|=i,La|=i,o)}function ww(i,s,o,h){return Br(o,s)?o:Dl.current!==null?(i=ym(i,o,h),Br(i,s)||(In=!0),i):(ka&42)===0?(In=!0,i.memoizedState=o):(i=Eb(),tt.lanes|=i,La|=i,s)}function bw(i,s,o,h,m){var _=ee.p;ee.p=_!==0&&8>_?_:8;var R=K.T,V={};K.T=V,wm(i,!1,s,o);try{var X=m(),ie=K.S;if(ie!==null&&ie(V,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=II(X,h);ec(i,s,de,$r(i))}else ec(i,s,h,$r(i))}catch(me){ec(i,s,{then:function(){},status:"rejected",reason:me},$r())}finally{ee.p=_,K.T=R}}function OI(){}function vm(i,s,o,h){if(i.tag!==5)throw Error(r(476));var m=Ew(i).queue;bw(i,m,s,le,o===null?OI:function(){return Tw(i),o(h)})}function Ew(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:le},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ls,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function Tw(i){var s=Ew(i).next.queue;ec(i,s,{},$r())}function _m(){return Kn(vc)}function xw(){return _n().memoizedState}function Sw(){return _n().memoizedState}function MI(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=$r();i=Ia(o);var h=Pa(s,i,o);h!==null&&(Kr(h,s,o),Yu(h,s,o)),s={cache:Wp()},i.payload=s;return}s=s.return}}function jI(i,s,o){var h=$r();o={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Zh(i)?Rw(s,o):(o=Up(i,s,o,h),o!==null&&(Kr(o,i,h),Cw(o,s,h)))}function Aw(i,s,o){var h=$r();ec(i,s,o,h)}function ec(i,s,o,h){var m={lane:h,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Zh(i))Rw(s,m);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var R=s.lastRenderedState,V=_(R,o);if(m.hasEagerState=!0,m.eagerState=V,Br(V,R))return jh(i,s,m,0),Mt===null&&Mh(),!1}catch{}finally{}if(o=Up(i,s,m,h),o!==null)return Kr(o,i,h),Cw(o,s,h),!0}return!1}function wm(i,s,o,h){if(h={lane:2,revertLane:Jm(),action:h,hasEagerState:!1,eagerState:null,next:null},Zh(i)){if(s)throw Error(r(479))}else s=Up(i,o,h,2),s!==null&&Kr(s,i,2)}function Zh(i){var s=i.alternate;return i===tt||s!==null&&s===tt}function Rw(i,s){Ol=Kh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function Cw(i,s,o){if((o&4194048)!==0){var h=s.lanes;h&=i.pendingLanes,o|=h,s.lanes=o,Or(i,o)}}var ef={readContext:Kn,use:Wh,useCallback:cn,useContext:cn,useEffect:cn,useImperativeHandle:cn,useLayoutEffect:cn,useInsertionEffect:cn,useMemo:cn,useReducer:cn,useRef:cn,useState:cn,useDebugValue:cn,useDeferredValue:cn,useTransition:cn,useSyncExternalStore:cn,useId:cn,useHostTransitionStatus:cn,useFormState:cn,useActionState:cn,useOptimistic:cn,useMemoCache:cn,useCacheRefresh:cn},Iw={readContext:Kn,use:Wh,useCallback:function(i,s){return Tr().memoizedState=[i,s===void 0?null:s],i},useContext:Kn,useEffect:fw,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Jh(4194308,4,gw.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Jh(4194308,4,i,s)},useInsertionEffect:function(i,s){Jh(4,2,i,s)},useMemo:function(i,s){var o=Tr();s=s===void 0?null:s;var h=i();if(Vo){Yt(!0);try{i()}finally{Yt(!1)}}return o.memoizedState=[h,s],h},useReducer:function(i,s,o){var h=Tr();if(o!==void 0){var m=o(s);if(Vo){Yt(!0);try{o(s)}finally{Yt(!1)}}}else m=s;return h.memoizedState=h.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},h.queue=i,i=i.dispatch=jI.bind(null,tt,i),[h.memoizedState,i]},useRef:function(i){var s=Tr();return i={current:i},s.memoizedState=i},useState:function(i){i=pm(i);var s=i.queue,o=Aw.bind(null,tt,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:gm,useDeferredValue:function(i,s){var o=Tr();return ym(o,i,s)},useTransition:function(){var i=pm(!1);return i=bw.bind(null,tt,i.queue,!0,!1),Tr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var h=tt,m=Tr();if(_t){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Mt===null)throw Error(r(349));(mt&124)!==0||X_(h,s,o)}m.memoizedState=o;var _={value:o,getSnapshot:s};return m.queue=_,fw(J_.bind(null,h,_,i),[i]),h.flags|=2048,jl(9,Qh(),Q_.bind(null,h,_,o,s),null),o},useId:function(){var i=Tr(),s=Mt.identifierPrefix;if(_t){var o=Ms,h=Os;o=(h&~(1<<32-Vt(h)-1)).toString(32)+o,s=""+s+"R"+o,o=Yh++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=PI++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:_m,useFormState:ow,useActionState:ow,useOptimistic:function(i){var s=Tr();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=wm.bind(null,tt,!0,o),o.dispatch=s,[i,s]},useMemoCache:hm,useCacheRefresh:function(){return Tr().memoizedState=MI.bind(null,tt)}},Pw={readContext:Kn,use:Wh,useCallback:vw,useContext:Kn,useEffect:dw,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:_w,useReducer:Xh,useRef:hw,useState:function(){return Xh(Ls)},useDebugValue:gm,useDeferredValue:function(i,s){var o=_n();return ww(o,Ct.memoizedState,i,s)},useTransition:function(){var i=Xh(Ls)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:W_,useId:xw,useHostTransitionStatus:_m,useFormState:lw,useActionState:lw,useOptimistic:function(i,s){var o=_n();return tw(o,Ct,i,s)},useMemoCache:hm,useCacheRefresh:Sw},VI={readContext:Kn,use:Wh,useCallback:vw,useContext:Kn,useEffect:dw,useImperativeHandle:yw,useInsertionEffect:pw,useLayoutEffect:mw,useMemo:_w,useReducer:dm,useRef:hw,useState:function(){return dm(Ls)},useDebugValue:gm,useDeferredValue:function(i,s){var o=_n();return Ct===null?ym(o,i,s):ww(o,Ct.memoizedState,i,s)},useTransition:function(){var i=dm(Ls)[0],s=_n().memoizedState;return[typeof i=="boolean"?i:Ju(i),s]},useSyncExternalStore:W_,useId:xw,useHostTransitionStatus:_m,useFormState:cw,useActionState:cw,useOptimistic:function(i,s){var o=_n();return Ct!==null?tw(o,Ct,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:hm,useCacheRefresh:Sw},Vl=null,tc=0;function tf(i){var s=tc;return tc+=1,Vl===null&&(Vl=[]),B_(Vl,i,s)}function nc(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function nf(i,s){throw s.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function kw(i){var s=i._init;return s(i._payload)}function Nw(i){function s(Z,J){if(i){var ne=Z.deletions;ne===null?(Z.deletions=[J],Z.flags|=16):ne.push(J)}}function o(Z,J){if(!i)return null;for(;J!==null;)s(Z,J),J=J.sibling;return null}function h(Z){for(var J=new Map;Z!==null;)Z.key!==null?J.set(Z.key,Z):J.set(Z.index,Z),Z=Z.sibling;return J}function m(Z,J){return Z=Ds(Z,J),Z.index=0,Z.sibling=null,Z}function _(Z,J,ne){return Z.index=ne,i?(ne=Z.alternate,ne!==null?(ne=ne.index,ne<J?(Z.flags|=67108866,J):ne):(Z.flags|=67108866,J)):(Z.flags|=1048576,J)}function R(Z){return i&&Z.alternate===null&&(Z.flags|=67108866),Z}function V(Z,J,ne,pe){return J===null||J.tag!==6?(J=Bp(ne,Z.mode,pe),J.return=Z,J):(J=m(J,ne),J.return=Z,J)}function X(Z,J,ne,pe){var Ne=ne.type;return Ne===A?de(Z,J,ne.props.children,pe,ne.key):J!==null&&(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===O&&kw(Ne)===J.type)?(J=m(J,ne.props),nc(J,ne),J.return=Z,J):(J=Lh(ne.type,ne.key,ne.props,null,Z.mode,pe),nc(J,ne),J.return=Z,J)}function ie(Z,J,ne,pe){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=zp(ne,Z.mode,pe),J.return=Z,J):(J=m(J,ne.children||[]),J.return=Z,J)}function de(Z,J,ne,pe,Ne){return J===null||J.tag!==7?(J=Io(ne,Z.mode,pe,Ne),J.return=Z,J):(J=m(J,ne),J.return=Z,J)}function me(Z,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=Bp(""+J,Z.mode,ne),J.return=Z,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case x:return ne=Lh(J.type,J.key,J.props,null,Z.mode,ne),nc(ne,J),ne.return=Z,ne;case I:return J=zp(J,Z.mode,ne),J.return=Z,J;case O:var pe=J._init;return J=pe(J._payload),me(Z,J,ne)}if(ye(J)||$(J))return J=Io(J,Z.mode,ne,null),J.return=Z,J;if(typeof J.then=="function")return me(Z,tf(J),ne);if(J.$$typeof===B)return me(Z,zh(Z,J),ne);nf(Z,J)}return null}function se(Z,J,ne,pe){var Ne=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return Ne!==null?null:V(Z,J,""+ne,pe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:return ne.key===Ne?X(Z,J,ne,pe):null;case I:return ne.key===Ne?ie(Z,J,ne,pe):null;case O:return Ne=ne._init,ne=Ne(ne._payload),se(Z,J,ne,pe)}if(ye(ne)||$(ne))return Ne!==null?null:de(Z,J,ne,pe,null);if(typeof ne.then=="function")return se(Z,J,tf(ne),pe);if(ne.$$typeof===B)return se(Z,J,zh(Z,ne),pe);nf(Z,ne)}return null}function ae(Z,J,ne,pe,Ne){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return Z=Z.get(ne)||null,V(J,Z,""+pe,Ne);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case x:return Z=Z.get(pe.key===null?ne:pe.key)||null,X(J,Z,pe,Ne);case I:return Z=Z.get(pe.key===null?ne:pe.key)||null,ie(J,Z,pe,Ne);case O:var st=pe._init;return pe=st(pe._payload),ae(Z,J,ne,pe,Ne)}if(ye(pe)||$(pe))return Z=Z.get(ne)||null,de(J,Z,pe,Ne,null);if(typeof pe.then=="function")return ae(Z,J,ne,tf(pe),Ne);if(pe.$$typeof===B)return ae(Z,J,ne,zh(J,pe),Ne);nf(J,pe)}return null}function Ge(Z,J,ne,pe){for(var Ne=null,st=null,Ve=J,Be=J=0,kn=null;Ve!==null&&Be<ne.length;Be++){Ve.index>Be?(kn=Ve,Ve=null):kn=Ve.sibling;var vt=se(Z,Ve,ne[Be],pe);if(vt===null){Ve===null&&(Ve=kn);break}i&&Ve&&vt.alternate===null&&s(Z,Ve),J=_(vt,J,Be),st===null?Ne=vt:st.sibling=vt,st=vt,Ve=kn}if(Be===ne.length)return o(Z,Ve),_t&&ko(Z,Be),Ne;if(Ve===null){for(;Be<ne.length;Be++)Ve=me(Z,ne[Be],pe),Ve!==null&&(J=_(Ve,J,Be),st===null?Ne=Ve:st.sibling=Ve,st=Ve);return _t&&ko(Z,Be),Ne}for(Ve=h(Ve);Be<ne.length;Be++)kn=ae(Ve,Z,Be,ne[Be],pe),kn!==null&&(i&&kn.alternate!==null&&Ve.delete(kn.key===null?Be:kn.key),J=_(kn,J,Be),st===null?Ne=kn:st.sibling=kn,st=kn);return i&&Ve.forEach(function(Ka){return s(Z,Ka)}),_t&&ko(Z,Be),Ne}function Fe(Z,J,ne,pe){if(ne==null)throw Error(r(151));for(var Ne=null,st=null,Ve=J,Be=J=0,kn=null,vt=ne.next();Ve!==null&&!vt.done;Be++,vt=ne.next()){Ve.index>Be?(kn=Ve,Ve=null):kn=Ve.sibling;var Ka=se(Z,Ve,vt.value,pe);if(Ka===null){Ve===null&&(Ve=kn);break}i&&Ve&&Ka.alternate===null&&s(Z,Ve),J=_(Ka,J,Be),st===null?Ne=Ka:st.sibling=Ka,st=Ka,Ve=kn}if(vt.done)return o(Z,Ve),_t&&ko(Z,Be),Ne;if(Ve===null){for(;!vt.done;Be++,vt=ne.next())vt=me(Z,vt.value,pe),vt!==null&&(J=_(vt,J,Be),st===null?Ne=vt:st.sibling=vt,st=vt);return _t&&ko(Z,Be),Ne}for(Ve=h(Ve);!vt.done;Be++,vt=ne.next())vt=ae(Ve,Z,Be,vt.value,pe),vt!==null&&(i&&vt.alternate!==null&&Ve.delete(vt.key===null?Be:vt.key),J=_(vt,J,Be),st===null?Ne=vt:st.sibling=vt,st=vt);return i&&Ve.forEach(function(LP){return s(Z,LP)}),_t&&ko(Z,Be),Ne}function Pt(Z,J,ne,pe){if(typeof ne=="object"&&ne!==null&&ne.type===A&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case x:e:{for(var Ne=ne.key;J!==null;){if(J.key===Ne){if(Ne=ne.type,Ne===A){if(J.tag===7){o(Z,J.sibling),pe=m(J,ne.props.children),pe.return=Z,Z=pe;break e}}else if(J.elementType===Ne||typeof Ne=="object"&&Ne!==null&&Ne.$$typeof===O&&kw(Ne)===J.type){o(Z,J.sibling),pe=m(J,ne.props),nc(pe,ne),pe.return=Z,Z=pe;break e}o(Z,J);break}else s(Z,J);J=J.sibling}ne.type===A?(pe=Io(ne.props.children,Z.mode,pe,ne.key),pe.return=Z,Z=pe):(pe=Lh(ne.type,ne.key,ne.props,null,Z.mode,pe),nc(pe,ne),pe.return=Z,Z=pe)}return R(Z);case I:e:{for(Ne=ne.key;J!==null;){if(J.key===Ne)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){o(Z,J.sibling),pe=m(J,ne.children||[]),pe.return=Z,Z=pe;break e}else{o(Z,J);break}else s(Z,J);J=J.sibling}pe=zp(ne,Z.mode,pe),pe.return=Z,Z=pe}return R(Z);case O:return Ne=ne._init,ne=Ne(ne._payload),Pt(Z,J,ne,pe)}if(ye(ne))return Ge(Z,J,ne,pe);if($(ne)){if(Ne=$(ne),typeof Ne!="function")throw Error(r(150));return ne=Ne.call(ne),Fe(Z,J,ne,pe)}if(typeof ne.then=="function")return Pt(Z,J,tf(ne),pe);if(ne.$$typeof===B)return Pt(Z,J,zh(Z,ne),pe);nf(Z,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(o(Z,J.sibling),pe=m(J,ne),pe.return=Z,Z=pe):(o(Z,J),pe=Bp(ne,Z.mode,pe),pe.return=Z,Z=pe),R(Z)):o(Z,J)}return function(Z,J,ne,pe){try{tc=0;var Ne=Pt(Z,J,ne,pe);return Vl=null,Ne}catch(Ve){if(Ve===$u||Ve===qh)throw Ve;var st=zr(29,Ve,null,Z.mode);return st.lanes=pe,st.return=Z,st}finally{}}}var Ll=Nw(!0),Dw=Nw(!1),ui=te(null),es=null;function Na(i){var s=i.alternate;ce(Tn,Tn.current&1),ce(ui,i),es===null&&(s===null||Dl.current!==null||s.memoizedState!==null)&&(es=i)}function Ow(i){if(i.tag===22){if(ce(Tn,Tn.current),ce(ui,i),es===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&(es=i)}}else Da()}function Da(){ce(Tn,Tn.current),ce(ui,ui.current)}function Us(i){he(ui),es===i&&(es=null),he(Tn)}var Tn=te(0);function rf(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||cg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function bm(i,s,o,h){s=i.memoizedState,o=o(h,s),o=o==null?s:v({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Em={enqueueSetState:function(i,s,o){i=i._reactInternals;var h=$r(),m=Ia(h);m.payload=s,o!=null&&(m.callback=o),s=Pa(i,m,h),s!==null&&(Kr(s,i,h),Yu(s,i,h))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var h=$r(),m=Ia(h);m.tag=1,m.payload=s,o!=null&&(m.callback=o),s=Pa(i,m,h),s!==null&&(Kr(s,i,h),Yu(s,i,h))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=$r(),h=Ia(o);h.tag=2,s!=null&&(h.callback=s),s=Pa(i,h,o),s!==null&&(Kr(s,i,o),Yu(s,i,o))}};function Mw(i,s,o,h,m,_,R){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,_,R):s.prototype&&s.prototype.isPureReactComponent?!Lu(o,h)||!Lu(m,_):!0}function jw(i,s,o,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,h),s.state!==i&&Em.enqueueReplaceState(s,s.state,null)}function Lo(i,s){var o=s;if("ref"in s){o={};for(var h in s)h!=="ref"&&(o[h]=s[h])}if(i=i.defaultProps){o===s&&(o=v({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}var sf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Vw(i){sf(i)}function Lw(i){console.error(i)}function Uw(i){sf(i)}function af(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(h){setTimeout(function(){throw h})}}function Fw(i,s,o){try{var h=i.onCaughtError;h(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Tm(i,s,o){return o=Ia(o),o.tag=3,o.payload={element:null},o.callback=function(){af(i,s)},o}function Bw(i){return i=Ia(i),i.tag=3,i}function zw(i,s,o,h){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var _=h.value;i.payload=function(){return m(_)},i.callback=function(){Fw(s,o,h)}}var R=o.stateNode;R!==null&&typeof R.componentDidCatch=="function"&&(i.callback=function(){Fw(s,o,h),typeof m!="function"&&(Ua===null?Ua=new Set([this]):Ua.add(this));var V=h.stack;this.componentDidCatch(h.value,{componentStack:V!==null?V:""})})}function LI(i,s,o,h,m){if(o.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(s=o.alternate,s!==null&&Hu(s,o,m,!0),o=ui.current,o!==null){switch(o.tag){case 13:return es===null?Km():o.alternate===null&&en===0&&(en=3),o.flags&=-257,o.flags|=65536,o.lanes=m,h===Jp?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([h]):s.add(h),Wm(i,h,m)),!1;case 22:return o.flags|=65536,h===Jp?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([h])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([h]):o.add(h)),Wm(i,h,m)),!1}throw Error(r(435,o.tag))}return Wm(i,h,m),Km(),!1}if(_t)return s=ui.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=m,h!==Gp&&(i=Error(r(422),{cause:h}),zu(si(i,o)))):(h!==Gp&&(s=Error(r(423),{cause:h}),zu(si(s,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,h=si(h,o),m=Tm(i.stateNode,h,m),tm(i,m),en!==4&&(en=2)),!1;var _=Error(r(520),{cause:h});if(_=si(_,o),uc===null?uc=[_]:uc.push(_),en!==4&&(en=2),s===null)return!0;h=si(h,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=Tm(o.stateNode,h,i),tm(o,i),!1;case 1:if(s=o.type,_=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ua===null||!Ua.has(_))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Bw(m),zw(m,i,o,h),tm(o,m),!1}o=o.return}while(o!==null);return!1}var Hw=Error(r(461)),In=!1;function Vn(i,s,o,h){s.child=i===null?Dw(s,null,o,h):Ll(s,i.child,o,h)}function qw(i,s,o,h,m){o=o.render;var _=s.ref;if("ref"in h){var R={};for(var V in h)V!=="ref"&&(R[V]=h[V])}else R=h;return Mo(s),h=am(i,s,o,R,_,m),V=om(),i!==null&&!In?(lm(i,s,m),Fs(i,s,m)):(_t&&V&&Hp(s),s.flags|=1,Vn(i,s,h,m),s.child)}function Gw(i,s,o,h,m){if(i===null){var _=o.type;return typeof _=="function"&&!Fp(_)&&_.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=_,$w(i,s,_,h,m)):(i=Lh(o.type,null,h,s,s.mode,m),i.ref=s.ref,i.return=s,s.child=i)}if(_=i.child,!km(i,m)){var R=_.memoizedProps;if(o=o.compare,o=o!==null?o:Lu,o(R,h)&&i.ref===s.ref)return Fs(i,s,m)}return s.flags|=1,i=Ds(_,h),i.ref=s.ref,i.return=s,s.child=i}function $w(i,s,o,h,m){if(i!==null){var _=i.memoizedProps;if(Lu(_,h)&&i.ref===s.ref)if(In=!1,s.pendingProps=h=_,km(i,m))(i.flags&131072)!==0&&(In=!0);else return s.lanes=i.lanes,Fs(i,s,m)}return xm(i,s,o,h,m)}function Kw(i,s,o){var h=s.pendingProps,m=h.children,_=i!==null?i.memoizedState:null;if(h.mode==="hidden"){if((s.flags&128)!==0){if(h=_!==null?_.baseLanes|o:o,i!==null){for(m=s.child=i.child,_=0;m!==null;)_=_|m.lanes|m.childLanes,m=m.sibling;s.childLanes=_&~h}else s.childLanes=0,s.child=null;return Yw(i,s,h,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Hh(s,_!==null?_.cachePool:null),_!==null?$_(s,_):rm(),Ow(s);else return s.lanes=s.childLanes=536870912,Yw(i,s,_!==null?_.baseLanes|o:o,o)}else _!==null?(Hh(s,_.cachePool),$_(s,_),Da(),s.memoizedState=null):(i!==null&&Hh(s,null),rm(),Da());return Vn(i,s,m,o),s.child}function Yw(i,s,o,h){var m=Qp();return m=m===null?null:{parent:En._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},i!==null&&Hh(s,null),rm(),Ow(s),i!==null&&Hu(i,s,h,!0),null}function of(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function xm(i,s,o,h,m){return Mo(s),o=am(i,s,o,h,void 0,m),h=om(),i!==null&&!In?(lm(i,s,m),Fs(i,s,m)):(_t&&h&&Hp(s),s.flags|=1,Vn(i,s,o,m),s.child)}function Ww(i,s,o,h,m,_){return Mo(s),s.updateQueue=null,o=Y_(s,h,o,m),K_(i),h=om(),i!==null&&!In?(lm(i,s,_),Fs(i,s,_)):(_t&&h&&Hp(s),s.flags|=1,Vn(i,s,o,_),s.child)}function Xw(i,s,o,h,m){if(Mo(s),s.stateNode===null){var _=Cl,R=o.contextType;typeof R=="object"&&R!==null&&(_=Kn(R)),_=new o(h,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Em,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=h,_.state=s.memoizedState,_.refs={},Zp(s),R=o.contextType,_.context=typeof R=="object"&&R!==null?Kn(R):Cl,_.state=s.memoizedState,R=o.getDerivedStateFromProps,typeof R=="function"&&(bm(s,o,R,h),_.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(R=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),R!==_.state&&Em.enqueueReplaceState(_,_.state,null),Xu(s,h,_,m),Wu(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!0}else if(i===null){_=s.stateNode;var V=s.memoizedProps,X=Lo(o,V);_.props=X;var ie=_.context,de=o.contextType;R=Cl,typeof de=="object"&&de!==null&&(R=Kn(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof _.getSnapshotBeforeUpdate=="function",V=s.pendingProps!==V,de||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(V||ie!==R)&&jw(s,_,h,R),Ca=!1;var se=s.memoizedState;_.state=se,Xu(s,h,_,m),Wu(),ie=s.memoizedState,V||se!==ie||Ca?(typeof me=="function"&&(bm(s,o,me,h),ie=s.memoizedState),(X=Ca||Mw(s,o,X,h,se,ie,R))?(de||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=ie),_.props=h,_.state=ie,_.context=R,h=X):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{_=s.stateNode,em(i,s),R=s.memoizedProps,de=Lo(o,R),_.props=de,me=s.pendingProps,se=_.context,ie=o.contextType,X=Cl,typeof ie=="object"&&ie!==null&&(X=Kn(ie)),V=o.getDerivedStateFromProps,(ie=typeof V=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(R!==me||se!==X)&&jw(s,_,h,X),Ca=!1,se=s.memoizedState,_.state=se,Xu(s,h,_,m),Wu();var ae=s.memoizedState;R!==me||se!==ae||Ca||i!==null&&i.dependencies!==null&&Bh(i.dependencies)?(typeof V=="function"&&(bm(s,o,V,h),ae=s.memoizedState),(de=Ca||Mw(s,o,de,h,se,ae,X)||i!==null&&i.dependencies!==null&&Bh(i.dependencies))?(ie||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(h,ae,X),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(h,ae,X)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=ae),_.props=h,_.state=ae,_.context=X,h=de):(typeof _.componentDidUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&se===i.memoizedState||(s.flags|=1024),h=!1)}return _=h,of(i,s),h=(s.flags&128)!==0,_||h?(_=s.stateNode,o=h&&typeof o.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,i!==null&&h?(s.child=Ll(s,i.child,null,m),s.child=Ll(s,null,o,m)):Vn(i,s,o,m),s.memoizedState=_.state,i=s.child):i=Fs(i,s,m),i}function Qw(i,s,o,h){return Bu(),s.flags|=256,Vn(i,s,o,h),s.child}var Sm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Am(i){return{baseLanes:i,cachePool:L_()}}function Rm(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=ci),i}function Jw(i,s,o){var h=s.pendingProps,m=!1,_=(s.flags&128)!==0,R;if((R=_)||(R=i!==null&&i.memoizedState===null?!1:(Tn.current&2)!==0),R&&(m=!0,s.flags&=-129),R=(s.flags&32)!==0,s.flags&=-33,i===null){if(_t){if(m?Na(s):Da(),_t){var V=Zt,X;if(X=V){e:{for(X=V,V=Zi;X.nodeType!==8;){if(!V){V=null;break e}if(X=Ii(X.nextSibling),X===null){V=null;break e}}V=X}V!==null?(s.memoizedState={dehydrated:V,treeContext:Po!==null?{id:Os,overflow:Ms}:null,retryLane:536870912,hydrationErrors:null},X=zr(18,null,null,0),X.stateNode=V,X.return=s,s.child=X,mr=s,Zt=null,X=!0):X=!1}X||Do(s)}if(V=s.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return cg(V)?s.lanes=32:s.lanes=536870912,null;Us(s)}return V=h.children,h=h.fallback,m?(Da(),m=s.mode,V=lf({mode:"hidden",children:V},m),h=Io(h,m,o,null),V.return=s,h.return=s,V.sibling=h,s.child=V,m=s.child,m.memoizedState=Am(o),m.childLanes=Rm(i,R,o),s.memoizedState=Sm,h):(Na(s),Cm(s,V))}if(X=i.memoizedState,X!==null&&(V=X.dehydrated,V!==null)){if(_)s.flags&256?(Na(s),s.flags&=-257,s=Im(i,s,o)):s.memoizedState!==null?(Da(),s.child=i.child,s.flags|=128,s=null):(Da(),m=h.fallback,V=s.mode,h=lf({mode:"visible",children:h.children},V),m=Io(m,V,o,null),m.flags|=2,h.return=s,m.return=s,h.sibling=m,s.child=h,Ll(s,i.child,null,o),h=s.child,h.memoizedState=Am(o),h.childLanes=Rm(i,R,o),s.memoizedState=Sm,s=m);else if(Na(s),cg(V)){if(R=V.nextSibling&&V.nextSibling.dataset,R)var ie=R.dgst;R=ie,h=Error(r(419)),h.stack="",h.digest=R,zu({value:h,source:null,stack:null}),s=Im(i,s,o)}else if(In||Hu(i,s,o,!1),R=(o&i.childLanes)!==0,In||R){if(R=Mt,R!==null&&(h=o&-o,h=(h&42)!==0?1:ei(h),h=(h&(R.suspendedLanes|o))!==0?0:h,h!==0&&h!==X.retryLane))throw X.retryLane=h,Rl(i,h),Kr(R,i,h),Hw;V.data==="$?"||Km(),s=Im(i,s,o)}else V.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=X.treeContext,Zt=Ii(V.nextSibling),mr=s,_t=!0,No=null,Zi=!1,i!==null&&(oi[li++]=Os,oi[li++]=Ms,oi[li++]=Po,Os=i.id,Ms=i.overflow,Po=s),s=Cm(s,h.children),s.flags|=4096);return s}return m?(Da(),m=h.fallback,V=s.mode,X=i.child,ie=X.sibling,h=Ds(X,{mode:"hidden",children:h.children}),h.subtreeFlags=X.subtreeFlags&65011712,ie!==null?m=Ds(ie,m):(m=Io(m,V,o,null),m.flags|=2),m.return=s,h.return=s,h.sibling=m,s.child=h,h=m,m=s.child,V=i.child.memoizedState,V===null?V=Am(o):(X=V.cachePool,X!==null?(ie=En._currentValue,X=X.parent!==ie?{parent:ie,pool:ie}:X):X=L_(),V={baseLanes:V.baseLanes|o,cachePool:X}),m.memoizedState=V,m.childLanes=Rm(i,R,o),s.memoizedState=Sm,h):(Na(s),o=i.child,i=o.sibling,o=Ds(o,{mode:"visible",children:h.children}),o.return=s,o.sibling=null,i!==null&&(R=s.deletions,R===null?(s.deletions=[i],s.flags|=16):R.push(i)),s.child=o,s.memoizedState=null,o)}function Cm(i,s){return s=lf({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function lf(i,s){return i=zr(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Im(i,s,o){return Ll(s,i.child,null,o),i=Cm(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Zw(i,s,o){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),Kp(i.return,s,o)}function Pm(i,s,o,h,m){var _=i.memoizedState;_===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:o,tailMode:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=h,_.tail=o,_.tailMode=m)}function eb(i,s,o){var h=s.pendingProps,m=h.revealOrder,_=h.tail;if(Vn(i,s,h.children,o),h=Tn.current,(h&2)!==0)h=h&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zw(i,o,s);else if(i.tag===19)Zw(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}switch(ce(Tn,h),m){case"forwards":for(o=s.child,m=null;o!==null;)i=o.alternate,i!==null&&rf(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=s.child,s.child=null):(m=o.sibling,o.sibling=null),Pm(s,!1,m,o,_);break;case"backwards":for(o=null,m=s.child,s.child=null;m!==null;){if(i=m.alternate,i!==null&&rf(i)===null){s.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}Pm(s,!0,o,null,_);break;case"together":Pm(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Fs(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),La|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(Hu(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Ds(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ds(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function km(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Bh(i)))}function UI(i,s,o){switch(s.tag){case 3:et(s,s.stateNode.containerInfo),Ra(s,En,i.memoizedState.cache),Bu();break;case 27:case 5:zt(s);break;case 4:et(s,s.stateNode.containerInfo);break;case 10:Ra(s,s.type,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Na(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Jw(i,s,o):(Na(s),i=Fs(i,s,o),i!==null?i.sibling:null);Na(s);break;case 19:var m=(i.flags&128)!==0;if(h=(o&s.childLanes)!==0,h||(Hu(i,s,o,!1),h=(o&s.childLanes)!==0),m){if(h)return eb(i,s,o);s.flags|=128}if(m=s.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ce(Tn,Tn.current),h)break;return null;case 22:case 23:return s.lanes=0,Kw(i,s,o);case 24:Ra(s,En,i.memoizedState.cache)}return Fs(i,s,o)}function tb(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)In=!0;else{if(!km(i,o)&&(s.flags&128)===0)return In=!1,UI(i,s,o);In=(i.flags&131072)!==0}else In=!1,_t&&(s.flags&1048576)!==0&&k_(s,Fh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var h=s.elementType,m=h._init;if(h=m(h._payload),s.type=h,typeof h=="function")Fp(h)?(i=Lo(h,i),s.tag=1,s=Xw(null,s,h,i,o)):(s.tag=0,s=xm(null,s,h,i,o));else{if(h!=null){if(m=h.$$typeof,m===Y){s.tag=11,s=qw(null,s,h,i,o);break e}else if(m===F){s.tag=14,s=Gw(null,s,h,i,o);break e}}throw s=re(h)||h,Error(r(306,s,""))}}return s;case 0:return xm(i,s,s.type,s.pendingProps,o);case 1:return h=s.type,m=Lo(h,s.pendingProps),Xw(i,s,h,m,o);case 3:e:{if(et(s,s.stateNode.containerInfo),i===null)throw Error(r(387));h=s.pendingProps;var _=s.memoizedState;m=_.element,em(i,s),Xu(s,h,null,o);var R=s.memoizedState;if(h=R.cache,Ra(s,En,h),h!==_.cache&&Yp(s,[En],o,!0),Wu(),h=R.element,_.isDehydrated)if(_={element:h,isDehydrated:!1,cache:R.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Qw(i,s,h,o);break e}else if(h!==m){m=si(Error(r(424)),s),zu(m),s=Qw(i,s,h,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Zt=Ii(i.firstChild),mr=s,_t=!0,No=null,Zi=!0,o=Dw(s,null,h,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Bu(),h===m){s=Fs(i,s,o);break e}Vn(i,s,h,o)}s=s.child}return s;case 26:return of(i,s),i===null?(o=sE(s.type,null,s.pendingProps,null))?s.memoizedState=o:_t||(o=s.type,i=s.pendingProps,h=Ef(ke.current).createElement(o),h[Ot]=s,h[Wt]=i,Un(h,o,i),Ut(h),s.stateNode=h):s.memoizedState=sE(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return zt(s),i===null&&_t&&(h=s.stateNode=nE(s.type,s.pendingProps,ke.current),mr=s,Zi=!0,m=Zt,za(s.type)?(hg=m,Zt=Ii(h.firstChild)):Zt=m),Vn(i,s,s.pendingProps.children,o),of(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&_t&&((m=h=Zt)&&(h=dP(h,s.type,s.pendingProps,Zi),h!==null?(s.stateNode=h,mr=s,Zt=Ii(h.firstChild),Zi=!1,m=!0):m=!1),m||Do(s)),zt(s),m=s.type,_=s.pendingProps,R=i!==null?i.memoizedProps:null,h=_.children,og(m,_)?h=null:R!==null&&og(m,R)&&(s.flags|=32),s.memoizedState!==null&&(m=am(i,s,kI,null,null,o),vc._currentValue=m),of(i,s),Vn(i,s,h,o),s.child;case 6:return i===null&&_t&&((i=o=Zt)&&(o=pP(o,s.pendingProps,Zi),o!==null?(s.stateNode=o,mr=s,Zt=null,i=!0):i=!1),i||Do(s)),null;case 13:return Jw(i,s,o);case 4:return et(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=Ll(s,null,h,o):Vn(i,s,h,o),s.child;case 11:return qw(i,s,s.type,s.pendingProps,o);case 7:return Vn(i,s,s.pendingProps,o),s.child;case 8:return Vn(i,s,s.pendingProps.children,o),s.child;case 12:return Vn(i,s,s.pendingProps.children,o),s.child;case 10:return h=s.pendingProps,Ra(s,s.type,h.value),Vn(i,s,h.children,o),s.child;case 9:return m=s.type._context,h=s.pendingProps.children,Mo(s),m=Kn(m),h=h(m),s.flags|=1,Vn(i,s,h,o),s.child;case 14:return Gw(i,s,s.type,s.pendingProps,o);case 15:return $w(i,s,s.type,s.pendingProps,o);case 19:return eb(i,s,o);case 31:return h=s.pendingProps,o=s.mode,h={mode:h.mode,children:h.children},i===null?(o=lf(h,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ds(i.child,h),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return Kw(i,s,o);case 24:return Mo(s),h=Kn(En),i===null?(m=Qp(),m===null&&(m=Mt,_=Wp(),m.pooledCache=_,_.refCount++,_!==null&&(m.pooledCacheLanes|=o),m=_),s.memoizedState={parent:h,cache:m},Zp(s),Ra(s,En,m)):((i.lanes&o)!==0&&(em(i,s),Xu(s,null,null,o),Wu()),m=i.memoizedState,_=s.memoizedState,m.parent!==h?(m={parent:h,cache:h},s.memoizedState=m,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=m),Ra(s,En,h)):(h=_.cache,Ra(s,En,h),h!==m.cache&&Yp(s,[En],o,!0))),Vn(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Bs(i){i.flags|=4}function nb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!cE(s)){if(s=ui.current,s!==null&&((mt&4194048)===mt?es!==null:(mt&62914560)!==mt&&(mt&536870912)===0||s!==es))throw Ku=Jp,U_;i.flags|=8192}}function uf(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?Dr():536870912,i.lanes|=s,zl|=s)}function rc(i,s){if(!_t)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var h=null;o!==null;)o.alternate!==null&&(h=o),o=o.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function qt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,h=0;if(s)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=o,s}function FI(i,s,o){var h=s.pendingProps;switch(qp(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qt(s),null;case 1:return qt(s),null;case 3:return o=s.stateNode,h=null,i!==null&&(h=i.memoizedState.cache),s.memoizedState.cache!==h&&(s.flags|=2048),Vs(En),Ye(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Fu(s)?Bs(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,O_())),qt(s),null;case 26:return o=s.memoizedState,i===null?(Bs(s),o!==null?(qt(s),nb(s,o)):(qt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(Bs(s),qt(s),nb(s,o)):(qt(s),s.flags&=-16777217):(i.memoizedProps!==h&&Bs(s),qt(s),s.flags&=-16777217),null;case 27:rt(s),o=ke.current;var m=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Bs(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return qt(s),null}i=be.current,Fu(s)?N_(s):(i=nE(m,h,o),s.stateNode=i,Bs(s))}return qt(s),null;case 5:if(rt(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==h&&Bs(s);else{if(!h){if(s.stateNode===null)throw Error(r(166));return qt(s),null}if(i=be.current,Fu(s))N_(s);else{switch(m=Ef(ke.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof h.is=="string"?m.createElement("select",{is:h.is}):m.createElement("select"),h.multiple?i.multiple=!0:h.size&&(i.size=h.size);break;default:i=typeof h.is=="string"?m.createElement(o,{is:h.is}):m.createElement(o)}}i[Ot]=s,i[Wt]=h;e:for(m=s.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===s)break e;for(;m.sibling===null;){if(m.return===null||m.return===s)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}s.stateNode=i;e:switch(Un(i,o,h),o){case"button":case"input":case"select":case"textarea":i=!!h.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Bs(s)}}return qt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==h&&Bs(s);else{if(typeof h!="string"&&s.stateNode===null)throw Error(r(166));if(i=ke.current,Fu(s)){if(i=s.stateNode,o=s.memoizedProps,h=null,m=mr,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}i[Ot]=s,i=!!(i.nodeValue===o||h!==null&&h.suppressHydrationWarning===!0||Wb(i.nodeValue,o)),i||Do(s)}else i=Ef(i).createTextNode(h),i[Ot]=s,s.stateNode=i}return qt(s),null;case 13:if(h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=Fu(s),h!==null&&h.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=s.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[Ot]=s}else Bu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;qt(s),m=!1}else m=O_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return s.flags&256?(Us(s),s):(Us(s),null)}if(Us(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=h!==null,i=i!==null&&i.memoizedState!==null,o){h=s.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool);var _=null;h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(_=h.memoizedState.cachePool.pool),_!==m&&(h.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),uf(s,s.updateQueue),qt(s),null;case 4:return Ye(),i===null&&ng(s.stateNode.containerInfo),qt(s),null;case 10:return Vs(s.type),qt(s),null;case 19:if(he(Tn),m=s.memoizedState,m===null)return qt(s),null;if(h=(s.flags&128)!==0,_=m.rendering,_===null)if(h)rc(m,!1);else{if(en!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(_=rf(i),_!==null){for(s.flags|=128,rc(m,!1),i=_.updateQueue,s.updateQueue=i,uf(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)P_(o,i),o=o.sibling;return ce(Tn,Tn.current&1|2),s.child}i=i.sibling}m.tail!==null&&_e()>ff&&(s.flags|=128,h=!0,rc(m,!1),s.lanes=4194304)}else{if(!h)if(i=rf(_),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,s.updateQueue=i,uf(s,i),rc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!_.alternate&&!_t)return qt(s),null}else 2*_e()-m.renderingStartTime>ff&&o!==536870912&&(s.flags|=128,h=!0,rc(m,!1),s.lanes=4194304);m.isBackwards?(_.sibling=s.child,s.child=_):(i=m.last,i!==null?i.sibling=_:s.child=_,m.last=_)}return m.tail!==null?(s=m.tail,m.rendering=s,m.tail=s.sibling,m.renderingStartTime=_e(),s.sibling=null,i=Tn.current,ce(Tn,h?i&1|2:i&1),s):(qt(s),null);case 22:case 23:return Us(s),im(),h=s.memoizedState!==null,i!==null?i.memoizedState!==null!==h&&(s.flags|=8192):h&&(s.flags|=8192),h?(o&536870912)!==0&&(s.flags&128)===0&&(qt(s),s.subtreeFlags&6&&(s.flags|=8192)):qt(s),o=s.updateQueue,o!==null&&uf(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),h=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(h=s.memoizedState.cachePool.pool),h!==o&&(s.flags|=2048),i!==null&&he(jo),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Vs(En),qt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function BI(i,s){switch(qp(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Vs(En),Ye(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return rt(s),null;case 13:if(Us(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));Bu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return he(Tn),null;case 4:return Ye(),null;case 10:return Vs(s.type),null;case 22:case 23:return Us(s),im(),i!==null&&he(jo),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Vs(En),null;case 25:return null;default:return null}}function rb(i,s){switch(qp(s),s.tag){case 3:Vs(En),Ye();break;case 26:case 27:case 5:rt(s);break;case 4:Ye();break;case 13:Us(s);break;case 19:he(Tn);break;case 10:Vs(s.type);break;case 22:case 23:Us(s),im(),i!==null&&he(jo);break;case 24:Vs(En)}}function ic(i,s){try{var o=s.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var m=h.next;o=m;do{if((o.tag&i)===i){h=void 0;var _=o.create,R=o.inst;h=_(),R.destroy=h}o=o.next}while(o!==m)}}catch(V){Nt(s,s.return,V)}}function Oa(i,s,o){try{var h=s.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var _=m.next;h=_;do{if((h.tag&i)===i){var R=h.inst,V=R.destroy;if(V!==void 0){R.destroy=void 0,m=s;var X=o,ie=V;try{ie()}catch(de){Nt(m,X,de)}}}h=h.next}while(h!==_)}}catch(de){Nt(s,s.return,de)}}function ib(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{G_(s,o)}catch(h){Nt(i,i.return,h)}}}function sb(i,s,o){o.props=Lo(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(h){Nt(i,s,h)}}function sc(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var h=i.stateNode;break;case 30:h=i.stateNode;break;default:h=i.stateNode}typeof o=="function"?i.refCleanup=o(h):o.current=h}}catch(m){Nt(i,s,m)}}function ts(i,s){var o=i.ref,h=i.refCleanup;if(o!==null)if(typeof h=="function")try{h()}catch(m){Nt(i,s,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Nt(i,s,m)}else o.current=null}function ab(i){var s=i.type,o=i.memoizedProps,h=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&h.focus();break e;case"img":o.src?h.src=o.src:o.srcSet&&(h.srcset=o.srcSet)}}catch(m){Nt(i,i.return,m)}}function Nm(i,s,o){try{var h=i.stateNode;lP(h,i.type,o,s),h[Wt]=s}catch(m){Nt(i,i.return,m)}}function ob(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&za(i.type)||i.tag===4}function Dm(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ob(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&za(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Om(i,s,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=bf));else if(h!==4&&(h===27&&za(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Om(i,s,o),i=i.sibling;i!==null;)Om(i,s,o),i=i.sibling}function cf(i,s,o){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(h!==4&&(h===27&&za(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(cf(i,s,o),i=i.sibling;i!==null;)cf(i,s,o),i=i.sibling}function lb(i){var s=i.stateNode,o=i.memoizedProps;try{for(var h=i.type,m=s.attributes;m.length;)s.removeAttributeNode(m[0]);Un(s,h,o),s[Ot]=i,s[Wt]=o}catch(_){Nt(i,i.return,_)}}var zs=!1,hn=!1,Mm=!1,ub=typeof WeakSet=="function"?WeakSet:Set,Pn=null;function zI(i,s){if(i=i.containerInfo,sg=Cf,i=w_(i),Dp(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var h=o.getSelection&&o.getSelection();if(h&&h.rangeCount!==0){o=h.anchorNode;var m=h.anchorOffset,_=h.focusNode;h=h.focusOffset;try{o.nodeType,_.nodeType}catch{o=null;break e}var R=0,V=-1,X=-1,ie=0,de=0,me=i,se=null;t:for(;;){for(var ae;me!==o||m!==0&&me.nodeType!==3||(V=R+m),me!==_||h!==0&&me.nodeType!==3||(X=R+h),me.nodeType===3&&(R+=me.nodeValue.length),(ae=me.firstChild)!==null;)se=me,me=ae;for(;;){if(me===i)break t;if(se===o&&++ie===m&&(V=R),se===_&&++de===h&&(X=R),(ae=me.nextSibling)!==null)break;me=se,se=me.parentNode}me=ae}o=V===-1||X===-1?null:{start:V,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(ag={focusedElem:i,selectionRange:o},Cf=!1,Pn=s;Pn!==null;)if(s=Pn,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,Pn=i;else for(;Pn!==null;){switch(s=Pn,_=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,o=s,m=_.memoizedProps,_=_.memoizedState,h=o.stateNode;try{var Ge=Lo(o.type,m,o.elementType===o.type);i=h.getSnapshotBeforeUpdate(Ge,_),h.__reactInternalSnapshotBeforeUpdate=i}catch(Fe){Nt(o,o.return,Fe)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)ug(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ug(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,Pn=i;break}Pn=s.return}}function cb(i,s,o){var h=o.flags;switch(o.tag){case 0:case 11:case 15:Ma(i,o),h&4&&ic(5,o);break;case 1:if(Ma(i,o),h&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(R){Nt(o,o.return,R)}else{var m=Lo(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(m,s,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Nt(o,o.return,R)}}h&64&&ib(o),h&512&&sc(o,o.return);break;case 3:if(Ma(i,o),h&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{G_(i,s)}catch(R){Nt(o,o.return,R)}}break;case 27:s===null&&h&4&&lb(o);case 26:case 5:Ma(i,o),s===null&&h&4&&ab(o),h&512&&sc(o,o.return);break;case 12:Ma(i,o);break;case 13:Ma(i,o),h&4&&db(i,o),h&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=QI.bind(null,o),mP(i,o))));break;case 22:if(h=o.memoizedState!==null||zs,!h){s=s!==null&&s.memoizedState!==null||hn,m=zs;var _=hn;zs=h,(hn=s)&&!_?ja(i,o,(o.subtreeFlags&8772)!==0):Ma(i,o),zs=m,hn=_}break;case 30:break;default:Ma(i,o)}}function hb(i){var s=i.alternate;s!==null&&(i.alternate=null,hb(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Bi(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Ft=null,xr=!1;function Hs(i,s,o){for(o=o.child;o!==null;)fb(i,s,o),o=o.sibling}function fb(i,s,o){if(it&&typeof it.onCommitFiberUnmount=="function")try{it.onCommitFiberUnmount(pt,o)}catch{}switch(o.tag){case 26:hn||ts(o,s),Hs(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:hn||ts(o,s);var h=Ft,m=xr;za(o.type)&&(Ft=o.stateNode,xr=!1),Hs(i,s,o),pc(o.stateNode),Ft=h,xr=m;break;case 5:hn||ts(o,s);case 6:if(h=Ft,m=xr,Ft=null,Hs(i,s,o),Ft=h,xr=m,Ft!==null)if(xr)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(o.stateNode)}catch(_){Nt(o,s,_)}else try{Ft.removeChild(o.stateNode)}catch(_){Nt(o,s,_)}break;case 18:Ft!==null&&(xr?(i=Ft,eE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Ec(i)):eE(Ft,o.stateNode));break;case 4:h=Ft,m=xr,Ft=o.stateNode.containerInfo,xr=!0,Hs(i,s,o),Ft=h,xr=m;break;case 0:case 11:case 14:case 15:hn||Oa(2,o,s),hn||Oa(4,o,s),Hs(i,s,o);break;case 1:hn||(ts(o,s),h=o.stateNode,typeof h.componentWillUnmount=="function"&&sb(o,s,h)),Hs(i,s,o);break;case 21:Hs(i,s,o);break;case 22:hn=(h=hn)||o.memoizedState!==null,Hs(i,s,o),hn=h;break;default:Hs(i,s,o)}}function db(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Ec(i)}catch(o){Nt(s,s.return,o)}}function HI(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new ub),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new ub),s;default:throw Error(r(435,i.tag))}}function jm(i,s){var o=HI(i);s.forEach(function(h){var m=JI.bind(null,i,h);o.has(h)||(o.add(h),h.then(m,m))})}function Hr(i,s){var o=s.deletions;if(o!==null)for(var h=0;h<o.length;h++){var m=o[h],_=i,R=s,V=R;e:for(;V!==null;){switch(V.tag){case 27:if(za(V.type)){Ft=V.stateNode,xr=!1;break e}break;case 5:Ft=V.stateNode,xr=!1;break e;case 3:case 4:Ft=V.stateNode.containerInfo,xr=!0;break e}V=V.return}if(Ft===null)throw Error(r(160));fb(_,R,m),Ft=null,xr=!1,_=m.alternate,_!==null&&(_.return=null),m.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)pb(s,i),s=s.sibling}var Ci=null;function pb(i,s){var o=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Hr(s,i),qr(i),h&4&&(Oa(3,i,i.return),ic(3,i),Oa(5,i,i.return));break;case 1:Hr(s,i),qr(i),h&512&&(hn||o===null||ts(o,o.return)),h&64&&zs&&(i=i.updateQueue,i!==null&&(h=i.callbacks,h!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?h:o.concat(h))));break;case 26:var m=Ci;if(Hr(s,i),qr(i),h&512&&(hn||o===null||ts(o,o.return)),h&4){var _=o!==null?o.memoizedState:null;if(h=i.memoizedState,o===null)if(h===null)if(i.stateNode===null){e:{h=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(h){case"title":_=m.getElementsByTagName("title")[0],(!_||_[yi]||_[Ot]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=m.createElement(h),m.head.insertBefore(_,m.querySelector("head > title"))),Un(_,h,o),_[Ot]=i,Ut(_),h=_;break e;case"link":var R=lE("link","href",m).get(h+(o.href||""));if(R){for(var V=0;V<R.length;V++)if(_=R[V],_.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&_.getAttribute("rel")===(o.rel==null?null:o.rel)&&_.getAttribute("title")===(o.title==null?null:o.title)&&_.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){R.splice(V,1);break t}}_=m.createElement(h),Un(_,h,o),m.head.appendChild(_);break;case"meta":if(R=lE("meta","content",m).get(h+(o.content||""))){for(V=0;V<R.length;V++)if(_=R[V],_.getAttribute("content")===(o.content==null?null:""+o.content)&&_.getAttribute("name")===(o.name==null?null:o.name)&&_.getAttribute("property")===(o.property==null?null:o.property)&&_.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&_.getAttribute("charset")===(o.charSet==null?null:o.charSet)){R.splice(V,1);break t}}_=m.createElement(h),Un(_,h,o),m.head.appendChild(_);break;default:throw Error(r(468,h))}_[Ot]=i,Ut(_),h=_}i.stateNode=h}else uE(m,i.type,i.stateNode);else i.stateNode=oE(m,h,i.memoizedProps);else _!==h?(_===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):_.count--,h===null?uE(m,i.type,i.stateNode):oE(m,h,i.memoizedProps)):h===null&&i.stateNode!==null&&Nm(i,i.memoizedProps,o.memoizedProps)}break;case 27:Hr(s,i),qr(i),h&512&&(hn||o===null||ts(o,o.return)),o!==null&&h&4&&Nm(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Hr(s,i),qr(i),h&512&&(hn||o===null||ts(o,o.return)),i.flags&32){m=i.stateNode;try{cr(m,"")}catch(ae){Nt(i,i.return,ae)}}h&4&&i.stateNode!=null&&(m=i.memoizedProps,Nm(i,m,o!==null?o.memoizedProps:m)),h&1024&&(Mm=!0);break;case 6:if(Hr(s,i),qr(i),h&4){if(i.stateNode===null)throw Error(r(162));h=i.memoizedProps,o=i.stateNode;try{o.nodeValue=h}catch(ae){Nt(i,i.return,ae)}}break;case 3:if(Sf=null,m=Ci,Ci=Tf(s.containerInfo),Hr(s,i),Ci=m,qr(i),h&4&&o!==null&&o.memoizedState.isDehydrated)try{Ec(s.containerInfo)}catch(ae){Nt(i,i.return,ae)}Mm&&(Mm=!1,mb(i));break;case 4:h=Ci,Ci=Tf(i.stateNode.containerInfo),Hr(s,i),qr(i),Ci=h;break;case 12:Hr(s,i),qr(i);break;case 13:Hr(s,i),qr(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(zm=_e()),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jm(i,h)));break;case 22:m=i.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,ie=zs,de=hn;if(zs=ie||m,hn=de||X,Hr(s,i),hn=de,zs=ie,qr(i),h&8192)e:for(s=i.stateNode,s._visibility=m?s._visibility&-2:s._visibility|1,m&&(o===null||X||zs||hn||Uo(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){X=o=s;try{if(_=X.stateNode,m)R=_.style,typeof R.setProperty=="function"?R.setProperty("display","none","important"):R.display="none";else{V=X.stateNode;var me=X.memoizedProps.style,se=me!=null&&me.hasOwnProperty("display")?me.display:null;V.style.display=se==null||typeof se=="boolean"?"":(""+se).trim()}}catch(ae){Nt(X,X.return,ae)}}}else if(s.tag===6){if(o===null){X=s;try{X.stateNode.nodeValue=m?"":X.memoizedProps}catch(ae){Nt(X,X.return,ae)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}h&4&&(h=i.updateQueue,h!==null&&(o=h.retryQueue,o!==null&&(h.retryQueue=null,jm(i,o))));break;case 19:Hr(s,i),qr(i),h&4&&(h=i.updateQueue,h!==null&&(i.updateQueue=null,jm(i,h)));break;case 30:break;case 21:break;default:Hr(s,i),qr(i)}}function qr(i){var s=i.flags;if(s&2){try{for(var o,h=i.return;h!==null;){if(ob(h)){o=h;break}h=h.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var m=o.stateNode,_=Dm(i);cf(i,_,m);break;case 5:var R=o.stateNode;o.flags&32&&(cr(R,""),o.flags&=-33);var V=Dm(i);cf(i,V,R);break;case 3:case 4:var X=o.stateNode.containerInfo,ie=Dm(i);Om(i,ie,X);break;default:throw Error(r(161))}}catch(de){Nt(i,i.return,de)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function mb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;mb(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function Ma(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cb(i,s.alternate,s),s=s.sibling}function Uo(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:Oa(4,s,s.return),Uo(s);break;case 1:ts(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&sb(s,s.return,o),Uo(s);break;case 27:pc(s.stateNode);case 26:case 5:ts(s,s.return),Uo(s);break;case 22:s.memoizedState===null&&Uo(s);break;case 30:Uo(s);break;default:Uo(s)}i=i.sibling}}function ja(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var h=s.alternate,m=i,_=s,R=_.flags;switch(_.tag){case 0:case 11:case 15:ja(m,_,o),ic(4,_);break;case 1:if(ja(m,_,o),h=_,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(ie){Nt(h,h.return,ie)}if(h=_,m=h.updateQueue,m!==null){var V=h.stateNode;try{var X=m.shared.hiddenCallbacks;if(X!==null)for(m.shared.hiddenCallbacks=null,m=0;m<X.length;m++)q_(X[m],V)}catch(ie){Nt(h,h.return,ie)}}o&&R&64&&ib(_),sc(_,_.return);break;case 27:lb(_);case 26:case 5:ja(m,_,o),o&&h===null&&R&4&&ab(_),sc(_,_.return);break;case 12:ja(m,_,o);break;case 13:ja(m,_,o),o&&R&4&&db(m,_);break;case 22:_.memoizedState===null&&ja(m,_,o),sc(_,_.return);break;case 30:break;default:ja(m,_,o)}s=s.sibling}}function Vm(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&qu(o))}function Lm(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qu(i))}function ns(i,s,o,h){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gb(i,s,o,h),s=s.sibling}function gb(i,s,o,h){var m=s.flags;switch(s.tag){case 0:case 11:case 15:ns(i,s,o,h),m&2048&&ic(9,s);break;case 1:ns(i,s,o,h);break;case 3:ns(i,s,o,h),m&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&qu(i)));break;case 12:if(m&2048){ns(i,s,o,h),i=s.stateNode;try{var _=s.memoizedProps,R=_.id,V=_.onPostCommit;typeof V=="function"&&V(R,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(X){Nt(s,s.return,X)}}else ns(i,s,o,h);break;case 13:ns(i,s,o,h);break;case 23:break;case 22:_=s.stateNode,R=s.alternate,s.memoizedState!==null?_._visibility&2?ns(i,s,o,h):ac(i,s):_._visibility&2?ns(i,s,o,h):(_._visibility|=2,Ul(i,s,o,h,(s.subtreeFlags&10256)!==0)),m&2048&&Vm(R,s);break;case 24:ns(i,s,o,h),m&2048&&Lm(s.alternate,s);break;default:ns(i,s,o,h)}}function Ul(i,s,o,h,m){for(m=m&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var _=i,R=s,V=o,X=h,ie=R.flags;switch(R.tag){case 0:case 11:case 15:Ul(_,R,V,X,m),ic(8,R);break;case 23:break;case 22:var de=R.stateNode;R.memoizedState!==null?de._visibility&2?Ul(_,R,V,X,m):ac(_,R):(de._visibility|=2,Ul(_,R,V,X,m)),m&&ie&2048&&Vm(R.alternate,R);break;case 24:Ul(_,R,V,X,m),m&&ie&2048&&Lm(R.alternate,R);break;default:Ul(_,R,V,X,m)}s=s.sibling}}function ac(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,h=s,m=h.flags;switch(h.tag){case 22:ac(o,h),m&2048&&Vm(h.alternate,h);break;case 24:ac(o,h),m&2048&&Lm(h.alternate,h);break;default:ac(o,h)}s=s.sibling}}var oc=8192;function Fl(i){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)yb(i),i=i.sibling}function yb(i){switch(i.tag){case 26:Fl(i),i.flags&oc&&i.memoizedState!==null&&CP(Ci,i.memoizedState,i.memoizedProps);break;case 5:Fl(i);break;case 3:case 4:var s=Ci;Ci=Tf(i.stateNode.containerInfo),Fl(i),Ci=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=oc,oc=16777216,Fl(i),oc=s):Fl(i));break;default:Fl(i)}}function vb(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function lc(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Pn=h,wb(h,i)}vb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)_b(i),i=i.sibling}function _b(i){switch(i.tag){case 0:case 11:case 15:lc(i),i.flags&2048&&Oa(9,i,i.return);break;case 3:lc(i);break;case 12:lc(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,hf(i)):lc(i);break;default:lc(i)}}function hf(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var h=s[o];Pn=h,wb(h,i)}vb(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:Oa(8,s,s.return),hf(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,hf(s));break;default:hf(s)}i=i.sibling}}function wb(i,s){for(;Pn!==null;){var o=Pn;switch(o.tag){case 0:case 11:case 15:Oa(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var h=o.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:qu(o.memoizedState.cache)}if(h=o.child,h!==null)h.return=o,Pn=h;else e:for(o=i;Pn!==null;){h=Pn;var m=h.sibling,_=h.return;if(hb(h),h===o){Pn=null;break e}if(m!==null){m.return=_,Pn=m;break e}Pn=_}}}var qI={getCacheForType:function(i){var s=Kn(En),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},GI=typeof WeakMap=="function"?WeakMap:Map,xt=0,Mt=null,ot=null,mt=0,St=0,Gr=null,Va=!1,Bl=!1,Um=!1,qs=0,en=0,La=0,Fo=0,Fm=0,ci=0,zl=0,uc=null,Sr=null,Bm=!1,zm=0,ff=1/0,df=null,Ua=null,Ln=0,Fa=null,Hl=null,ql=0,Hm=0,qm=null,bb=null,cc=0,Gm=null;function $r(){if((xt&2)!==0&&mt!==0)return mt&-mt;if(K.T!==null){var i=kl;return i!==0?i:Jm()}return Mr()}function Eb(){ci===0&&(ci=(mt&536870912)===0||_t?An():536870912);var i=ui.current;return i!==null&&(i.flags|=32),ci}function Kr(i,s,o){(i===Mt&&(St===2||St===9)||i.cancelPendingCommit!==null)&&(Gl(i,0),Ba(i,mt,ci,!1)),sr(i,o),((xt&2)===0||i!==Mt)&&(i===Mt&&((xt&2)===0&&(Fo|=o),en===4&&Ba(i,mt,ci,!1)),rs(i))}function Tb(i,s,o){if((xt&6)!==0)throw Error(r(327));var h=!o&&(s&124)===0&&(s&i.expiredLanes)===0||qn(i,s),m=h?YI(i,s):Ym(i,s,!0),_=h;do{if(m===0){Bl&&!h&&Ba(i,s,0,!1);break}else{if(o=i.current.alternate,_&&!$I(o)){m=Ym(i,s,!1),_=!1;continue}if(m===2){if(_=s,i.errorRecoveryDisabledLanes&_)var R=0;else R=i.pendingLanes&-536870913,R=R!==0?R:R&536870912?536870912:0;if(R!==0){s=R;e:{var V=i;m=uc;var X=V.current.memoizedState.isDehydrated;if(X&&(Gl(V,R).flags|=256),R=Ym(V,R,!1),R!==2){if(Um&&!X){V.errorRecoveryDisabledLanes|=_,Fo|=_,m=4;break e}_=Sr,Sr=m,_!==null&&(Sr===null?Sr=_:Sr.push.apply(Sr,_))}m=R}if(_=!1,m!==2)continue}}if(m===1){Gl(i,0),Ba(i,s,0,!0);break}e:{switch(h=i,_=m,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Ba(h,s,ci,!Va);break e;case 2:Sr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(m=zm+300-_e(),10<m)){if(Ba(h,s,ci,!Va),mn(h,0,!0)!==0)break e;h.timeoutHandle=Jb(xb.bind(null,h,o,Sr,df,Bm,s,ci,Fo,zl,Va,_,2,-0,0),m);break e}xb(h,o,Sr,df,Bm,s,ci,Fo,zl,Va,_,0,-0,0)}}break}while(!0);rs(i)}function xb(i,s,o,h,m,_,R,V,X,ie,de,me,se,ae){if(i.timeoutHandle=-1,me=s.subtreeFlags,(me&8192||(me&16785408)===16785408)&&(yc={stylesheets:null,count:0,unsuspend:RP},yb(s),me=IP(),me!==null)){i.cancelPendingCommit=me(kb.bind(null,i,s,_,o,h,m,R,V,X,de,1,se,ae)),Ba(i,_,R,!ie);return}kb(i,s,_,o,h,m,R,V,X)}function $I(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var h=0;h<o.length;h++){var m=o[h],_=m.getSnapshot;m=m.value;try{if(!Br(_(),m))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ba(i,s,o,h){s&=~Fm,s&=~Fo,i.suspendedLanes|=s,i.pingedLanes&=~s,h&&(i.warmLanes|=s),h=i.expirationTimes;for(var m=s;0<m;){var _=31-Vt(m),R=1<<_;h[_]=-1,m&=~R}o!==0&&ar(i,o,s)}function pf(){return(xt&6)===0?(hc(0),!1):!0}function $m(){if(ot!==null){if(St===0)var i=ot.return;else i=ot,js=Oo=null,um(i),Vl=null,tc=0,i=ot;for(;i!==null;)rb(i.alternate,i),i=i.return;ot=null}}function Gl(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,cP(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),$m(),Mt=i,ot=o=Ds(i.current,null),mt=s,St=0,Gr=null,Va=!1,Bl=qn(i,s),Um=!1,zl=ci=Fm=Fo=La=en=0,Sr=uc=null,Bm=!1,(s&8)!==0&&(s|=s&32);var h=i.entangledLanes;if(h!==0)for(i=i.entanglements,h&=s;0<h;){var m=31-Vt(h),_=1<<m;s|=i[m],h&=~_}return qs=s,Mh(),o}function Sb(i,s){tt=null,K.H=ef,s===$u||s===qh?(s=z_(),St=3):s===U_?(s=z_(),St=4):St=s===Hw?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Gr=s,ot===null&&(en=1,af(i,si(s,i.current)))}function Ab(){var i=K.H;return K.H=ef,i===null?ef:i}function Rb(){var i=K.A;return K.A=qI,i}function Km(){en=4,Va||(mt&4194048)!==mt&&ui.current!==null||(Bl=!0),(La&134217727)===0&&(Fo&134217727)===0||Mt===null||Ba(Mt,mt,ci,!1)}function Ym(i,s,o){var h=xt;xt|=2;var m=Ab(),_=Rb();(Mt!==i||mt!==s)&&(df=null,Gl(i,s)),s=!1;var R=en;e:do try{if(St!==0&&ot!==null){var V=ot,X=Gr;switch(St){case 8:$m(),R=6;break e;case 3:case 2:case 9:case 6:ui.current===null&&(s=!0);var ie=St;if(St=0,Gr=null,$l(i,V,X,ie),o&&Bl){R=0;break e}break;default:ie=St,St=0,Gr=null,$l(i,V,X,ie)}}KI(),R=en;break}catch(de){Sb(i,de)}while(!0);return s&&i.shellSuspendCounter++,js=Oo=null,xt=h,K.H=m,K.A=_,ot===null&&(Mt=null,mt=0,Mh()),R}function KI(){for(;ot!==null;)Cb(ot)}function YI(i,s){var o=xt;xt|=2;var h=Ab(),m=Rb();Mt!==i||mt!==s?(df=null,ff=_e()+500,Gl(i,s)):Bl=qn(i,s);e:do try{if(St!==0&&ot!==null){s=ot;var _=Gr;t:switch(St){case 1:St=0,Gr=null,$l(i,s,_,1);break;case 2:case 9:if(F_(_)){St=0,Gr=null,Ib(s);break}s=function(){St!==2&&St!==9||Mt!==i||(St=7),rs(i)},_.then(s,s);break e;case 3:St=7;break e;case 4:St=5;break e;case 7:F_(_)?(St=0,Gr=null,Ib(s)):(St=0,Gr=null,$l(i,s,_,7));break;case 5:var R=null;switch(ot.tag){case 26:R=ot.memoizedState;case 5:case 27:var V=ot;if(!R||cE(R)){St=0,Gr=null;var X=V.sibling;if(X!==null)ot=X;else{var ie=V.return;ie!==null?(ot=ie,mf(ie)):ot=null}break t}}St=0,Gr=null,$l(i,s,_,5);break;case 6:St=0,Gr=null,$l(i,s,_,6);break;case 8:$m(),en=6;break e;default:throw Error(r(462))}}WI();break}catch(de){Sb(i,de)}while(!0);return js=Oo=null,K.H=h,K.A=m,xt=o,ot!==null?0:(Mt=null,mt=0,Mh(),en)}function WI(){for(;ot!==null&&!Qe();)Cb(ot)}function Cb(i){var s=tb(i.alternate,i,qs);i.memoizedProps=i.pendingProps,s===null?mf(i):ot=s}function Ib(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Ww(o,s,s.pendingProps,s.type,void 0,mt);break;case 11:s=Ww(o,s,s.pendingProps,s.type.render,s.ref,mt);break;case 5:um(s);default:rb(o,s),s=ot=P_(s,qs),s=tb(o,s,qs)}i.memoizedProps=i.pendingProps,s===null?mf(i):ot=s}function $l(i,s,o,h){js=Oo=null,um(s),Vl=null,tc=0;var m=s.return;try{if(LI(i,m,s,o,mt)){en=1,af(i,si(o,i.current)),ot=null;return}}catch(_){if(m!==null)throw ot=m,_;en=1,af(i,si(o,i.current)),ot=null;return}s.flags&32768?(_t||h===1?i=!0:Bl||(mt&536870912)!==0?i=!1:(Va=i=!0,(h===2||h===9||h===3||h===6)&&(h=ui.current,h!==null&&h.tag===13&&(h.flags|=16384))),Pb(s,i)):mf(s)}function mf(i){var s=i;do{if((s.flags&32768)!==0){Pb(s,Va);return}i=s.return;var o=FI(s.alternate,s,qs);if(o!==null){ot=o;return}if(s=s.sibling,s!==null){ot=s;return}ot=s=i}while(s!==null);en===0&&(en=5)}function Pb(i,s){do{var o=BI(i.alternate,i);if(o!==null){o.flags&=32767,ot=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){ot=i;return}ot=i=o}while(i!==null);en=6,ot=null}function kb(i,s,o,h,m,_,R,V,X){i.cancelPendingCommit=null;do gf();while(Ln!==0);if((xt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Lp,gi(i,o,_,R,V,X),i===Mt&&(ot=Mt=null,mt=0),Hl=s,Fa=i,ql=o,Hm=_,qm=m,bb=h,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,ZI(jt,function(){return jb(),null})):(i.callbackNode=null,i.callbackPriority=0),h=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||h){h=K.T,K.T=null,m=ee.p,ee.p=2,R=xt,xt|=4;try{zI(i,s,o)}finally{xt=R,ee.p=m,K.T=h}}Ln=1,Nb(),Db(),Ob()}}function Nb(){if(Ln===1){Ln=0;var i=Fa,s=Hl,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var h=ee.p;ee.p=2;var m=xt;xt|=4;try{pb(s,i);var _=ag,R=w_(i.containerInfo),V=_.focusedElem,X=_.selectionRange;if(R!==V&&V&&V.ownerDocument&&__(V.ownerDocument.documentElement,V)){if(X!==null&&Dp(V)){var ie=X.start,de=X.end;if(de===void 0&&(de=ie),"selectionStart"in V)V.selectionStart=ie,V.selectionEnd=Math.min(de,V.value.length);else{var me=V.ownerDocument||document,se=me&&me.defaultView||window;if(se.getSelection){var ae=se.getSelection(),Ge=V.textContent.length,Fe=Math.min(X.start,Ge),Pt=X.end===void 0?Fe:Math.min(X.end,Ge);!ae.extend&&Fe>Pt&&(R=Pt,Pt=Fe,Fe=R);var Z=v_(V,Fe),J=v_(V,Pt);if(Z&&J&&(ae.rangeCount!==1||ae.anchorNode!==Z.node||ae.anchorOffset!==Z.offset||ae.focusNode!==J.node||ae.focusOffset!==J.offset)){var ne=me.createRange();ne.setStart(Z.node,Z.offset),ae.removeAllRanges(),Fe>Pt?(ae.addRange(ne),ae.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),ae.addRange(ne))}}}}for(me=[],ae=V;ae=ae.parentNode;)ae.nodeType===1&&me.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<me.length;V++){var pe=me[V];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Cf=!!sg,ag=sg=null}finally{xt=m,ee.p=h,K.T=o}}i.current=s,Ln=2}}function Db(){if(Ln===2){Ln=0;var i=Fa,s=Hl,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var h=ee.p;ee.p=2;var m=xt;xt|=4;try{cb(i,s.alternate,s)}finally{xt=m,ee.p=h,K.T=o}}Ln=3}}function Ob(){if(Ln===4||Ln===3){Ln=0,De();var i=Fa,s=Hl,o=ql,h=bb;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Ln=5:(Ln=0,Hl=Fa=null,Mb(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Ua=null),ws(o),s=s.stateNode,it&&typeof it.onCommitFiberRoot=="function")try{it.onCommitFiberRoot(pt,s,void 0,(s.current.flags&128)===128)}catch{}if(h!==null){s=K.T,m=ee.p,ee.p=2,K.T=null;try{for(var _=i.onRecoverableError,R=0;R<h.length;R++){var V=h[R];_(V.value,{componentStack:V.stack})}}finally{K.T=s,ee.p=m}}(ql&3)!==0&&gf(),rs(i),m=i.pendingLanes,(o&4194090)!==0&&(m&42)!==0?i===Gm?cc++:(cc=0,Gm=i):cc=0,hc(0)}}function Mb(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,qu(s)))}function gf(i){return Nb(),Db(),Ob(),jb()}function jb(){if(Ln!==5)return!1;var i=Fa,s=Hm;Hm=0;var o=ws(ql),h=K.T,m=ee.p;try{ee.p=32>o?32:o,K.T=null,o=qm,qm=null;var _=Fa,R=ql;if(Ln=0,Hl=Fa=null,ql=0,(xt&6)!==0)throw Error(r(331));var V=xt;if(xt|=4,_b(_.current),gb(_,_.current,R,o),xt=V,hc(0,!1),it&&typeof it.onPostCommitFiberRoot=="function")try{it.onPostCommitFiberRoot(pt,_)}catch{}return!0}finally{ee.p=m,K.T=h,Mb(i,s)}}function Vb(i,s,o){s=si(o,s),s=Tm(i.stateNode,s,2),i=Pa(i,s,2),i!==null&&(sr(i,2),rs(i))}function Nt(i,s,o){if(i.tag===3)Vb(i,i,o);else for(;s!==null;){if(s.tag===3){Vb(s,i,o);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ua===null||!Ua.has(h))){i=si(o,i),o=Bw(2),h=Pa(s,o,2),h!==null&&(zw(o,h,s,i),sr(h,2),rs(h));break}}s=s.return}}function Wm(i,s,o){var h=i.pingCache;if(h===null){h=i.pingCache=new GI;var m=new Set;h.set(s,m)}else m=h.get(s),m===void 0&&(m=new Set,h.set(s,m));m.has(o)||(Um=!0,m.add(o),i=XI.bind(null,i,s,o),s.then(i,i))}function XI(i,s,o){var h=i.pingCache;h!==null&&h.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Mt===i&&(mt&o)===o&&(en===4||en===3&&(mt&62914560)===mt&&300>_e()-zm?(xt&2)===0&&Gl(i,0):Fm|=o,zl===mt&&(zl=0)),rs(i)}function Lb(i,s){s===0&&(s=Dr()),i=Rl(i,s),i!==null&&(sr(i,s),rs(i))}function QI(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Lb(i,o)}function JI(i,s){var o=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:h=i.stateNode;break;case 22:h=i.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(s),Lb(i,o)}function ZI(i,s){return Se(i,s)}var yf=null,Kl=null,Xm=!1,vf=!1,Qm=!1,Bo=0;function rs(i){i!==Kl&&i.next===null&&(Kl===null?yf=Kl=i:Kl=Kl.next=i),vf=!0,Xm||(Xm=!0,tP())}function hc(i,s){if(!Qm&&vf){Qm=!0;do for(var o=!1,h=yf;h!==null;){if(i!==0){var m=h.pendingLanes;if(m===0)var _=0;else{var R=h.suspendedLanes,V=h.pingedLanes;_=(1<<31-Vt(42|i)+1)-1,_&=m&~(R&~V),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(o=!0,zb(h,_))}else _=mt,_=mn(h,h===Mt?_:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(_&3)===0||qn(h,_)||(o=!0,zb(h,_));h=h.next}while(o);Qm=!1}}function eP(){Ub()}function Ub(){vf=Xm=!1;var i=0;Bo!==0&&(uP()&&(i=Bo),Bo=0);for(var s=_e(),o=null,h=yf;h!==null;){var m=h.next,_=Fb(h,s);_===0?(h.next=null,o===null?yf=m:o.next=m,m===null&&(Kl=o)):(o=h,(i!==0||(_&3)!==0)&&(vf=!0)),h=m}hc(i)}function Fb(i,s){for(var o=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var R=31-Vt(_),V=1<<R,X=m[R];X===-1?((V&o)===0||(V&h)!==0)&&(m[R]=ir(V,s)):X<=s&&(i.expiredLanes|=V),_&=~V}if(s=Mt,o=mt,o=mn(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h=i.callbackNode,o===0||i===s&&(St===2||St===9)||i.cancelPendingCommit!==null)return h!==null&&h!==null&&Me(h),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||qn(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(h!==null&&Me(h),ws(o)){case 2:case 8:o=qe;break;case 32:o=jt;break;case 268435456:o=rr;break;default:o=jt}return h=Bb.bind(null,i),o=Se(o,h),i.callbackPriority=s,i.callbackNode=o,s}return h!==null&&h!==null&&Me(h),i.callbackPriority=2,i.callbackNode=null,2}function Bb(i,s){if(Ln!==0&&Ln!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(gf()&&i.callbackNode!==o)return null;var h=mt;return h=mn(i,i===Mt?h:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),h===0?null:(Tb(i,h,s),Fb(i,_e()),i.callbackNode!=null&&i.callbackNode===o?Bb.bind(null,i):null)}function zb(i,s){if(gf())return null;Tb(i,s,!0)}function tP(){hP(function(){(xt&6)!==0?Se(Ae,eP):Ub()})}function Jm(){return Bo===0&&(Bo=An()),Bo}function Hb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:ya(""+i)}function qb(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function nP(i,s,o,h,m){if(s==="submit"&&o&&o.stateNode===m){var _=Hb((m[Wt]||null).action),R=h.submitter;R&&(s=(s=R[Wt]||null)?Hb(s.formAction):R.getAttribute("formAction"),s!==null&&(_=s,R=null));var V=new Ps("action","action",null,h,m);i.push({event:V,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Bo!==0){var X=R?qb(m,R):new FormData(m);vm(o,{pending:!0,data:X,method:m.method,action:_},null,X)}}else typeof _=="function"&&(V.preventDefault(),X=R?qb(m,R):new FormData(m),vm(o,{pending:!0,data:X,method:m.method,action:_},_,X))},currentTarget:m}]})}}for(var Zm=0;Zm<Vp.length;Zm++){var eg=Vp[Zm],rP=eg.toLowerCase(),iP=eg[0].toUpperCase()+eg.slice(1);Ri(rP,"on"+iP)}Ri(T_,"onAnimationEnd"),Ri(x_,"onAnimationIteration"),Ri(S_,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(bI,"onTransitionRun"),Ri(EI,"onTransitionStart"),Ri(TI,"onTransitionCancel"),Ri(A_,"onTransitionEnd"),ln("onMouseEnter",["mouseout","mouseover"]),ln("onMouseLeave",["mouseout","mouseover"]),ln("onPointerEnter",["pointerout","pointerover"]),ln("onPointerLeave",["pointerout","pointerover"]),_r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_r("onBeforeInput",["compositionend","keypress","textInput","paste"]),_r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sP=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function Gb(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var h=i[o],m=h.event;h=h.listeners;e:{var _=void 0;if(s)for(var R=h.length-1;0<=R;R--){var V=h[R],X=V.instance,ie=V.currentTarget;if(V=V.listener,X!==_&&m.isPropagationStopped())break e;_=V,m.currentTarget=ie;try{_(m)}catch(de){sf(de)}m.currentTarget=null,_=X}else for(R=0;R<h.length;R++){if(V=h[R],X=V.instance,ie=V.currentTarget,V=V.listener,X!==_&&m.isPropagationStopped())break e;_=V,m.currentTarget=ie;try{_(m)}catch(de){sf(de)}m.currentTarget=null,_=X}}}}function lt(i,s){var o=s[jr];o===void 0&&(o=s[jr]=new Set);var h=i+"__bubble";o.has(h)||($b(s,i,2,!1),o.add(h))}function tg(i,s,o){var h=0;s&&(h|=4),$b(o,i,h,s)}var _f="_reactListening"+Math.random().toString(36).slice(2);function ng(i){if(!i[_f]){i[_f]=!0,Es.forEach(function(o){o!=="selectionchange"&&(sP.has(o)||tg(o,!1,i),tg(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[_f]||(s[_f]=!0,tg("selectionchange",!1,s))}}function $b(i,s,o,h){switch(gE(s)){case 2:var m=NP;break;case 8:m=DP;break;default:m=gg}o=m.bind(null,s,o,i),m=void 0,!dr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(s,o,{capture:!0,passive:m}):i.addEventListener(s,o,!0):m!==void 0?i.addEventListener(s,o,{passive:m}):i.addEventListener(s,o,!1)}function rg(i,s,o,h,m){var _=h;if((s&1)===0&&(s&2)===0&&h!==null)e:for(;;){if(h===null)return;var R=h.tag;if(R===3||R===4){var V=h.stateNode.containerInfo;if(V===m)break;if(R===4)for(R=h.return;R!==null;){var X=R.tag;if((X===3||X===4)&&R.stateNode.containerInfo===m)return;R=R.return}for(;V!==null;){if(R=yr(V),R===null)return;if(X=R.tag,X===5||X===6||X===26||X===27){h=_=R;continue e}V=V.parentNode}}h=h.return}dl(function(){var ie=_,de=br(o),me=[];e:{var se=R_.get(i);if(se!==void 0){var ae=Ps,Ge=i;switch(i){case"keypress":if(Lr(o)===0)break e;case"keydown":case"keyup":ae=xa;break;case"focusin":Ge="focus",ae=wa;break;case"focusout":Ge="blur",ae=wa;break;case"beforeblur":case"afterblur":ae=wa;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Er;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=_a;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=wl;break;case T_:case x_:case S_:ae=Ea;break;case A_:ae=bl;break;case"scroll":case"scrollend":ae=pl;break;case"wheel":ae=Aa;break;case"copy":case"cut":case"paste":ae=Qi;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=So;break;case"toggle":case"beforetoggle":ae=Ao}var Fe=(s&4)!==0,Pt=!Fe&&(i==="scroll"||i==="scrollend"),Z=Fe?se!==null?se+"Capture":null:se;Fe=[];for(var J=ie,ne;J!==null;){var pe=J;if(ne=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ne===null||Z===null||(pe=Cs(J,Z),pe!=null&&Fe.push(dc(J,pe,ne))),Pt)break;J=J.return}0<Fe.length&&(se=new ae(se,Ge,null,o,de),me.push({event:se,listeners:Fe}))}}if((s&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",ae=i==="mouseout"||i==="pointerout",se&&o!==Ei&&(Ge=o.relatedTarget||o.fromElement)&&(yr(Ge)||Ge[Xt]))break e;if((ae||se)&&(se=de.window===de?de:(se=de.ownerDocument)?se.defaultView||se.parentWindow:window,ae?(Ge=o.relatedTarget||o.toElement,ae=ie,Ge=Ge?yr(Ge):null,Ge!==null&&(Pt=l(Ge),Fe=Ge.tag,Ge!==Pt||Fe!==5&&Fe!==27&&Fe!==6)&&(Ge=null)):(ae=null,Ge=ie),ae!==Ge)){if(Fe=Er,pe="onMouseLeave",Z="onMouseEnter",J="mouse",(i==="pointerout"||i==="pointerover")&&(Fe=So,pe="onPointerLeave",Z="onPointerEnter",J="pointer"),Pt=ae==null?se:lr(ae),ne=Ge==null?se:lr(Ge),se=new Fe(pe,J+"leave",ae,o,de),se.target=Pt,se.relatedTarget=ne,pe=null,yr(de)===ie&&(Fe=new Fe(Z,J+"enter",Ge,o,de),Fe.target=ne,Fe.relatedTarget=Pt,pe=Fe),Pt=pe,ae&&Ge)t:{for(Fe=ae,Z=Ge,J=0,ne=Fe;ne;ne=Yl(ne))J++;for(ne=0,pe=Z;pe;pe=Yl(pe))ne++;for(;0<J-ne;)Fe=Yl(Fe),J--;for(;0<ne-J;)Z=Yl(Z),ne--;for(;J--;){if(Fe===Z||Z!==null&&Fe===Z.alternate)break t;Fe=Yl(Fe),Z=Yl(Z)}Fe=null}else Fe=null;ae!==null&&Kb(me,se,ae,Fe,!1),Ge!==null&&Pt!==null&&Kb(me,Pt,Ge,Fe,!0)}}e:{if(se=ie?lr(ie):window,ae=se.nodeName&&se.nodeName.toLowerCase(),ae==="select"||ae==="input"&&se.type==="file")var Ne=pr;else if(Te(se))if(jn)Ne=Tl;else{Ne=kp;var st=Pp}else ae=se.nodeName,!ae||ae.toLowerCase()!=="input"||se.type!=="checkbox"&&se.type!=="radio"?ie&&ga(ie.elementType)&&(Ne=pr):Ne=Np;if(Ne&&(Ne=Ne(i,ie))){Oe(me,Ne,o,de);break e}st&&st(i,se,ie),i==="focusout"&&ie&&se.type==="number"&&ie.memoizedProps.value!=null&&bi(se,"number",se.value)}switch(st=ie?lr(ie):window,i){case"focusin":(Te(st)||st.contentEditable==="true")&&(xl=st,Op=ie,Uu=null);break;case"focusout":Uu=Op=xl=null;break;case"mousedown":Mp=!0;break;case"contextmenu":case"mouseup":case"dragend":Mp=!1,b_(me,o,de);break;case"selectionchange":if(wI)break;case"keydown":case"keyup":b_(me,o,de)}var Ve;if(T)e:{switch(i){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else fe?L(i,o)&&(Be="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Be="onCompositionStart");Be&&(w&&o.locale!=="ko"&&(fe||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&fe&&(Ve=Eo()):($n=de,yn="value"in $n?$n.value:$n.textContent,fe=!0)),st=wf(ie,Be),0<st.length&&(Be=new Ta(Be,i,null,o,de),me.push({event:Be,listeners:st}),Ve?Be.data=Ve:(Ve=Q(o),Ve!==null&&(Be.data=Ve)))),(Ve=y?we(i,o):xe(i,o))&&(Be=wf(ie,"onBeforeInput"),0<Be.length&&(st=new Ta("onBeforeInput","beforeinput",null,o,de),me.push({event:st,listeners:Be}),st.data=Ve)),nP(me,i,ie,o,de)}Gb(me,s)})}function dc(i,s,o){return{instance:i,listener:s,currentTarget:o}}function wf(i,s){for(var o=s+"Capture",h=[];i!==null;){var m=i,_=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||_===null||(m=Cs(i,o),m!=null&&h.unshift(dc(i,m,_)),m=Cs(i,s),m!=null&&h.push(dc(i,m,_))),i.tag===3)return h;i=i.return}return[]}function Yl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Kb(i,s,o,h,m){for(var _=s._reactName,R=[];o!==null&&o!==h;){var V=o,X=V.alternate,ie=V.stateNode;if(V=V.tag,X!==null&&X===h)break;V!==5&&V!==26&&V!==27||ie===null||(X=ie,m?(ie=Cs(o,_),ie!=null&&R.unshift(dc(o,ie,X))):m||(ie=Cs(o,_),ie!=null&&R.push(dc(o,ie,X)))),o=o.return}R.length!==0&&i.push({event:s,listeners:R})}var aP=/\r\n?/g,oP=/\u0000|\uFFFD/g;function Yb(i){return(typeof i=="string"?i:""+i).replace(aP,`
`).replace(oP,"")}function Wb(i,s){return s=Yb(s),Yb(i)===s}function bf(){}function It(i,s,o,h,m,_){switch(o){case"children":typeof h=="string"?s==="body"||s==="textarea"&&h===""||cr(i,h):(typeof h=="number"||typeof h=="bigint")&&s!=="body"&&cr(i,""+h);break;case"className":wr(i,"class",h);break;case"tabIndex":wr(i,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":wr(i,o,h);break;case"style":ma(i,h,_);break;case"data":if(s!=="object"){wr(i,"data",h);break}case"src":case"href":if(h===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=ya(""+h),i.setAttribute(o,h);break;case"action":case"formAction":if(typeof h=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(o==="formAction"?(s!=="input"&&It(i,s,"name",m.name,m,null),It(i,s,"formEncType",m.formEncType,m,null),It(i,s,"formMethod",m.formMethod,m,null),It(i,s,"formTarget",m.formTarget,m,null)):(It(i,s,"encType",m.encType,m,null),It(i,s,"method",m.method,m,null),It(i,s,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){i.removeAttribute(o);break}h=ya(""+h),i.setAttribute(o,h);break;case"onClick":h!=null&&(i.onclick=bf);break;case"onScroll":h!=null&&lt("scroll",i);break;case"onScrollEnd":h!=null&&lt("scrollend",i);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":i.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){i.removeAttribute("xlink:href");break}o=ya(""+h),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""+h):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":h===!0?i.setAttribute(o,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?i.setAttribute(o,h):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?i.setAttribute(o,h):i.removeAttribute(o);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?i.removeAttribute(o):i.setAttribute(o,h);break;case"popover":lt("beforetoggle",i),lt("toggle",i),_i(i,"popover",h);break;case"xlinkActuate":Rt(i,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Rt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Rt(i,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Rt(i,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Rt(i,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Rt(i,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Rt(i,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":_i(i,"is",h);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Rs.get(o)||o,_i(i,o,h))}}function ig(i,s,o,h,m,_){switch(o){case"style":ma(i,h,_);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(o=h.__html,o!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof h=="string"?cr(i,h):(typeof h=="number"||typeof h=="bigint")&&cr(i,""+h);break;case"onScroll":h!=null&&lt("scroll",i);break;case"onScrollEnd":h!=null&&lt("scrollend",i);break;case"onClick":h!=null&&(i.onclick=bf);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zi.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),s=o.slice(2,m?o.length-7:void 0),_=i[Wt]||null,_=_!=null?_[o]:null,typeof _=="function"&&i.removeEventListener(s,_,m),typeof h=="function")){typeof _!="function"&&_!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,h,m);break e}o in i?i[o]=h:h===!0?i.setAttribute(o,""):_i(i,o,h)}}}function Un(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":lt("error",i),lt("load",i);var h=!1,m=!1,_;for(_ in o)if(o.hasOwnProperty(_)){var R=o[_];if(R!=null)switch(_){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,_,R,o,null)}}m&&It(i,s,"srcSet",o.srcSet,o,null),h&&It(i,s,"src",o.src,o,null);return;case"input":lt("invalid",i);var V=_=R=m=null,X=null,ie=null;for(h in o)if(o.hasOwnProperty(h)){var de=o[h];if(de!=null)switch(h){case"name":m=de;break;case"type":R=de;break;case"checked":X=de;break;case"defaultChecked":ie=de;break;case"value":_=de;break;case"defaultValue":V=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(r(137,s));break;default:It(i,s,h,de,o,null)}}ti(i,_,V,X,ie,R,m,!1),xs(i);return;case"select":lt("invalid",i),h=R=_=null;for(m in o)if(o.hasOwnProperty(m)&&(V=o[m],V!=null))switch(m){case"value":_=V;break;case"defaultValue":R=V;break;case"multiple":h=V;default:It(i,s,m,V,o,null)}s=_,o=R,i.multiple=!!h,s!=null?ni(i,!!h,s,!1):o!=null&&ni(i,!!h,o,!0);return;case"textarea":lt("invalid",i),_=m=h=null;for(R in o)if(o.hasOwnProperty(R)&&(V=o[R],V!=null))switch(R){case"value":h=V;break;case"defaultValue":m=V;break;case"children":_=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:It(i,s,R,V,o,null)}Ss(i,h,m,_),xs(i);return;case"option":for(X in o)if(o.hasOwnProperty(X)&&(h=o[X],h!=null))switch(X){case"selected":i.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:It(i,s,X,h,o,null)}return;case"dialog":lt("beforetoggle",i),lt("toggle",i),lt("cancel",i),lt("close",i);break;case"iframe":case"object":lt("load",i);break;case"video":case"audio":for(h=0;h<fc.length;h++)lt(fc[h],i);break;case"image":lt("error",i),lt("load",i);break;case"details":lt("toggle",i);break;case"embed":case"source":case"link":lt("error",i),lt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ie in o)if(o.hasOwnProperty(ie)&&(h=o[ie],h!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:It(i,s,ie,h,o,null)}return;default:if(ga(s)){for(de in o)o.hasOwnProperty(de)&&(h=o[de],h!==void 0&&ig(i,s,de,h,o,void 0));return}}for(V in o)o.hasOwnProperty(V)&&(h=o[V],h!=null&&It(i,s,V,h,o,null))}function lP(i,s,o,h){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,_=null,R=null,V=null,X=null,ie=null,de=null;for(ae in o){var me=o[ae];if(o.hasOwnProperty(ae)&&me!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":X=me;default:h.hasOwnProperty(ae)||It(i,s,ae,null,h,me)}}for(var se in h){var ae=h[se];if(me=o[se],h.hasOwnProperty(se)&&(ae!=null||me!=null))switch(se){case"type":_=ae;break;case"name":m=ae;break;case"checked":ie=ae;break;case"defaultChecked":de=ae;break;case"value":R=ae;break;case"defaultValue":V=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ae!==me&&It(i,s,se,ae,h,me)}}Gn(i,R,V,X,ie,de,_,m);return;case"select":ae=R=V=se=null;for(_ in o)if(X=o[_],o.hasOwnProperty(_)&&X!=null)switch(_){case"value":break;case"multiple":ae=X;default:h.hasOwnProperty(_)||It(i,s,_,null,h,X)}for(m in h)if(_=h[m],X=o[m],h.hasOwnProperty(m)&&(_!=null||X!=null))switch(m){case"value":se=_;break;case"defaultValue":V=_;break;case"multiple":R=_;default:_!==X&&It(i,s,m,_,h,X)}s=V,o=R,h=ae,se!=null?ni(i,!!o,se,!1):!!h!=!!o&&(s!=null?ni(i,!!o,s,!0):ni(i,!!o,o?[]:"",!1));return;case"textarea":ae=se=null;for(V in o)if(m=o[V],o.hasOwnProperty(V)&&m!=null&&!h.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:It(i,s,V,null,h,m)}for(R in h)if(m=h[R],_=o[R],h.hasOwnProperty(R)&&(m!=null||_!=null))switch(R){case"value":se=m;break;case"defaultValue":ae=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==_&&It(i,s,R,m,h,_)}Et(i,se,ae);return;case"option":for(var Ge in o)if(se=o[Ge],o.hasOwnProperty(Ge)&&se!=null&&!h.hasOwnProperty(Ge))switch(Ge){case"selected":i.selected=!1;break;default:It(i,s,Ge,null,h,se)}for(X in h)if(se=h[X],ae=o[X],h.hasOwnProperty(X)&&se!==ae&&(se!=null||ae!=null))switch(X){case"selected":i.selected=se&&typeof se!="function"&&typeof se!="symbol";break;default:It(i,s,X,se,h,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in o)se=o[Fe],o.hasOwnProperty(Fe)&&se!=null&&!h.hasOwnProperty(Fe)&&It(i,s,Fe,null,h,se);for(ie in h)if(se=h[ie],ae=o[ie],h.hasOwnProperty(ie)&&se!==ae&&(se!=null||ae!=null))switch(ie){case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,s));break;default:It(i,s,ie,se,h,ae)}return;default:if(ga(s)){for(var Pt in o)se=o[Pt],o.hasOwnProperty(Pt)&&se!==void 0&&!h.hasOwnProperty(Pt)&&ig(i,s,Pt,void 0,h,se);for(de in h)se=h[de],ae=o[de],!h.hasOwnProperty(de)||se===ae||se===void 0&&ae===void 0||ig(i,s,de,se,h,ae);return}}for(var Z in o)se=o[Z],o.hasOwnProperty(Z)&&se!=null&&!h.hasOwnProperty(Z)&&It(i,s,Z,null,h,se);for(me in h)se=h[me],ae=o[me],!h.hasOwnProperty(me)||se===ae||se==null&&ae==null||It(i,s,me,se,h,ae)}var sg=null,ag=null;function Ef(i){return i.nodeType===9?i:i.ownerDocument}function Xb(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Qb(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function og(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var lg=null;function uP(){var i=window.event;return i&&i.type==="popstate"?i===lg?!1:(lg=i,!0):(lg=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,cP=typeof clearTimeout=="function"?clearTimeout:void 0,Zb=typeof Promise=="function"?Promise:void 0,hP=typeof queueMicrotask=="function"?queueMicrotask:typeof Zb<"u"?function(i){return Zb.resolve(null).then(i).catch(fP)}:Jb;function fP(i){setTimeout(function(){throw i})}function za(i){return i==="head"}function eE(i,s){var o=s,h=0,m=0;do{var _=o.nextSibling;if(i.removeChild(o),_&&_.nodeType===8)if(o=_.data,o==="/$"){if(0<h&&8>h){o=h;var R=i.ownerDocument;if(o&1&&pc(R.documentElement),o&2&&pc(R.body),o&4)for(o=R.head,pc(o),R=o.firstChild;R;){var V=R.nextSibling,X=R.nodeName;R[yi]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&R.rel.toLowerCase()==="stylesheet"||o.removeChild(R),R=V}}if(m===0){i.removeChild(_),Ec(s);return}m--}else o==="$"||o==="$?"||o==="$!"?m++:h=o.charCodeAt(0)-48;else h=0;o=_}while(o);Ec(s)}function ug(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":ug(o),Bi(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dP(i,s,o,h){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!h&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(h){if(!i[yi])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var _=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=Ii(i.nextSibling),i===null)break}return null}function pP(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=Ii(i.nextSibling),i===null))return null;return i}function cg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function mP(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var h=function(){s(),o.removeEventListener("DOMContentLoaded",h)};o.addEventListener("DOMContentLoaded",h),i._reactRetry=h}}function Ii(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var hg=null;function tE(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function nE(i,s,o){switch(s=Ef(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function pc(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);Bi(i)}var hi=new Map,rE=new Set;function Tf(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Gs=ee.d;ee.d={f:gP,r:yP,D:vP,C:_P,L:wP,m:bP,X:TP,S:EP,M:xP};function gP(){var i=Gs.f(),s=pf();return i||s}function yP(i){var s=vr(i);s!==null&&s.tag===5&&s.type==="form"?Tw(s):Gs.r(i)}var Wl=typeof document>"u"?null:document;function iE(i,s,o){var h=Wl;if(h&&typeof s=="string"&&s){var m=Ht(s);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),rE.has(m)||(rE.add(m),i={rel:i,crossOrigin:o,href:s},h.querySelector(m)===null&&(s=h.createElement("link"),Un(s,"link",i),Ut(s),h.head.appendChild(s)))}}function vP(i){Gs.D(i),iE("dns-prefetch",i,null)}function _P(i,s){Gs.C(i,s),iE("preconnect",i,s)}function wP(i,s,o){Gs.L(i,s,o);var h=Wl;if(h&&i&&s){var m='link[rel="preload"][as="'+Ht(s)+'"]';s==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+Ht(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+Ht(o.imageSizes)+'"]')):m+='[href="'+Ht(i)+'"]';var _=m;switch(s){case"style":_=Xl(i);break;case"script":_=Ql(i)}hi.has(_)||(i=v({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),hi.set(_,i),h.querySelector(m)!==null||s==="style"&&h.querySelector(mc(_))||s==="script"&&h.querySelector(gc(_))||(s=h.createElement("link"),Un(s,"link",i),Ut(s),h.head.appendChild(s)))}}function bP(i,s){Gs.m(i,s);var o=Wl;if(o&&i){var h=s&&typeof s.as=="string"?s.as:"script",m='link[rel="modulepreload"][as="'+Ht(h)+'"][href="'+Ht(i)+'"]',_=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ql(i)}if(!hi.has(_)&&(i=v({rel:"modulepreload",href:i},s),hi.set(_,i),o.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(gc(_)))return}h=o.createElement("link"),Un(h,"link",i),Ut(h),o.head.appendChild(h)}}}function EP(i,s,o){Gs.S(i,s,o);var h=Wl;if(h&&i){var m=on(h).hoistableStyles,_=Xl(i);s=s||"default";var R=m.get(_);if(!R){var V={loading:0,preload:null};if(R=h.querySelector(mc(_)))V.loading=5;else{i=v({rel:"stylesheet",href:i,"data-precedence":s},o),(o=hi.get(_))&&fg(i,o);var X=R=h.createElement("link");Ut(X),Un(X,"link",i),X._p=new Promise(function(ie,de){X.onload=ie,X.onerror=de}),X.addEventListener("load",function(){V.loading|=1}),X.addEventListener("error",function(){V.loading|=2}),V.loading|=4,xf(R,s,h)}R={type:"stylesheet",instance:R,count:1,state:V},m.set(_,R)}}}function TP(i,s){Gs.X(i,s);var o=Wl;if(o&&i){var h=on(o).hoistableScripts,m=Ql(i),_=h.get(m);_||(_=o.querySelector(gc(m)),_||(i=v({src:i,async:!0},s),(s=hi.get(m))&&dg(i,s),_=o.createElement("script"),Ut(_),Un(_,"link",i),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function xP(i,s){Gs.M(i,s);var o=Wl;if(o&&i){var h=on(o).hoistableScripts,m=Ql(i),_=h.get(m);_||(_=o.querySelector(gc(m)),_||(i=v({src:i,async:!0,type:"module"},s),(s=hi.get(m))&&dg(i,s),_=o.createElement("script"),Ut(_),Un(_,"link",i),o.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},h.set(m,_))}}function sE(i,s,o,h){var m=(m=ke.current)?Tf(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Xl(o.href),o=on(m).hoistableStyles,h=o.get(s),h||(h={type:"style",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Xl(o.href);var _=on(m).hoistableStyles,R=_.get(i);if(R||(m=m.ownerDocument||m,R={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,R),(_=m.querySelector(mc(i)))&&!_._p&&(R.instance=_,R.state.loading=5),hi.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hi.set(i,o),_||SP(m,i,o,R.state))),s&&h===null)throw Error(r(528,""));return R}if(s&&h!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ql(o),o=on(m).hoistableScripts,h=o.get(s),h||(h={type:"script",instance:null,count:0,state:null},o.set(s,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Xl(i){return'href="'+Ht(i)+'"'}function mc(i){return'link[rel="stylesheet"]['+i+"]"}function aE(i){return v({},i,{"data-precedence":i.precedence,precedence:null})}function SP(i,s,o,h){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?h.loading=1:(s=i.createElement("link"),h.preload=s,s.addEventListener("load",function(){return h.loading|=1}),s.addEventListener("error",function(){return h.loading|=2}),Un(s,"link",o),Ut(s),i.head.appendChild(s))}function Ql(i){return'[src="'+Ht(i)+'"]'}function gc(i){return"script[async]"+i}function oE(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var h=i.querySelector('style[data-href~="'+Ht(o.href)+'"]');if(h)return s.instance=h,Ut(h),h;var m=v({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return h=(i.ownerDocument||i).createElement("style"),Ut(h),Un(h,"style",m),xf(h,o.precedence,i),s.instance=h;case"stylesheet":m=Xl(o.href);var _=i.querySelector(mc(m));if(_)return s.state.loading|=4,s.instance=_,Ut(_),_;h=aE(o),(m=hi.get(m))&&fg(h,m),_=(i.ownerDocument||i).createElement("link"),Ut(_);var R=_;return R._p=new Promise(function(V,X){R.onload=V,R.onerror=X}),Un(_,"link",h),s.state.loading|=4,xf(_,o.precedence,i),s.instance=_;case"script":return _=Ql(o.src),(m=i.querySelector(gc(_)))?(s.instance=m,Ut(m),m):(h=o,(m=hi.get(_))&&(h=v({},o),dg(h,m)),i=i.ownerDocument||i,m=i.createElement("script"),Ut(m),Un(m,"link",h),i.head.appendChild(m),s.instance=m);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(h=s.instance,s.state.loading|=4,xf(h,o.precedence,i));return s.instance}function xf(i,s,o){for(var h=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,_=m,R=0;R<h.length;R++){var V=h[R];if(V.dataset.precedence===s)_=V;else if(_!==m)break}_?_.parentNode.insertBefore(i,_.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function fg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function dg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var Sf=null;function lE(i,s,o){if(Sf===null){var h=new Map,m=Sf=new Map;m.set(o,h)}else m=Sf,h=m.get(o),h||(h=new Map,m.set(o,h));if(h.has(i))return h;for(h.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var _=o[m];if(!(_[yi]||_[Ot]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var R=_.getAttribute(s)||"";R=i+R;var V=h.get(R);V?V.push(_):h.set(R,[_])}}return h}function uE(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function AP(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function cE(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var yc=null;function RP(){}function CP(i,s,o){if(yc===null)throw Error(r(475));var h=yc;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var m=Xl(o.href),_=i.querySelector(mc(m));if(_){i=_._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(h.count++,h=Af.bind(h),i.then(h,h)),s.state.loading|=4,s.instance=_,Ut(_);return}_=i.ownerDocument||i,o=aE(o),(m=hi.get(m))&&fg(o,m),_=_.createElement("link"),Ut(_);var R=_;R._p=new Promise(function(V,X){R.onload=V,R.onerror=X}),Un(_,"link",o),s.instance=_}h.stylesheets===null&&(h.stylesheets=new Map),h.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(h.count++,s=Af.bind(h),i.addEventListener("load",s),i.addEventListener("error",s))}}function IP(){if(yc===null)throw Error(r(475));var i=yc;return i.stylesheets&&i.count===0&&pg(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&pg(i,i.stylesheets),i.unsuspend){var h=i.unsuspend;i.unsuspend=null,h()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Af(){if(this.count--,this.count===0){if(this.stylesheets)pg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rf=null;function pg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rf=new Map,s.forEach(PP,i),Rf=null,Af.call(i))}function PP(i,s){if(!(s.state.loading&4)){var o=Rf.get(i);if(o)var h=o.get(null);else{o=new Map,Rf.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<m.length;_++){var R=m[_];(R.nodeName==="LINK"||R.getAttribute("media")!=="not all")&&(o.set(R.dataset.precedence,R),h=R)}h&&o.set(null,h)}m=s.instance,R=m.getAttribute("data-precedence"),_=o.get(R)||h,_===h&&o.set(null,m),o.set(R,m),this.count++,h=Af.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),_?_.parentNode.insertBefore(m,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),s.state.loading|=4}}var vc={$$typeof:B,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function kP(i,s,o,h,m,_,R,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=On(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=On(0),this.hiddenUpdates=On(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=_,this.onRecoverableError=R,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function hE(i,s,o,h,m,_,R,V,X,ie,de,me){return i=new kP(i,s,o,R,V,X,ie,me),s=1,_===!0&&(s|=24),_=zr(3,null,null,s),i.current=_,_.stateNode=i,s=Wp(),s.refCount++,i.pooledCache=s,s.refCount++,_.memoizedState={element:h,isDehydrated:o,cache:s},Zp(_),i}function fE(i){return i?(i=Cl,i):Cl}function dE(i,s,o,h,m,_){m=fE(m),h.context===null?h.context=m:h.pendingContext=m,h=Ia(s),h.payload={element:o},_=_===void 0?null:_,_!==null&&(h.callback=_),o=Pa(i,h,s),o!==null&&(Kr(o,i,s),Yu(o,i,s))}function pE(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function mg(i,s){pE(i,s),(i=i.alternate)&&pE(i,s)}function mE(i){if(i.tag===13){var s=Rl(i,67108864);s!==null&&Kr(s,i,67108864),mg(i,67108864)}}var Cf=!0;function NP(i,s,o,h){var m=K.T;K.T=null;var _=ee.p;try{ee.p=2,gg(i,s,o,h)}finally{ee.p=_,K.T=m}}function DP(i,s,o,h){var m=K.T;K.T=null;var _=ee.p;try{ee.p=8,gg(i,s,o,h)}finally{ee.p=_,K.T=m}}function gg(i,s,o,h){if(Cf){var m=yg(h);if(m===null)rg(i,s,h,If,o),yE(i,h);else if(MP(m,i,s,o,h))h.stopPropagation();else if(yE(i,h),s&4&&-1<OP.indexOf(i)){for(;m!==null;){var _=vr(m);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var R=dt(_.pendingLanes);if(R!==0){var V=_;for(V.pendingLanes|=2,V.entangledLanes|=2;R;){var X=1<<31-Vt(R);V.entanglements[1]|=X,R&=~X}rs(_),(xt&6)===0&&(ff=_e()+500,hc(0))}}break;case 13:V=Rl(_,2),V!==null&&Kr(V,_,2),pf(),mg(_,2)}if(_=yg(h),_===null&&rg(i,s,h,If,o),_===m)break;m=_}m!==null&&h.stopPropagation()}else rg(i,s,h,null,o)}}function yg(i){return i=br(i),vg(i)}var If=null;function vg(i){if(If=null,i=yr(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return If=i,null}function gE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ce()){case Ae:return 2;case qe:return 8;case jt:case Jr:return 32;case rr:return 268435456;default:return 32}default:return 32}}var _g=!1,Ha=null,qa=null,Ga=null,_c=new Map,wc=new Map,$a=[],OP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function yE(i,s){switch(i){case"focusin":case"focusout":Ha=null;break;case"dragenter":case"dragleave":qa=null;break;case"mouseover":case"mouseout":Ga=null;break;case"pointerover":case"pointerout":_c.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":wc.delete(s.pointerId)}}function bc(i,s,o,h,m,_){return i===null||i.nativeEvent!==_?(i={blockedOn:s,domEventName:o,eventSystemFlags:h,nativeEvent:_,targetContainers:[m]},s!==null&&(s=vr(s),s!==null&&mE(s)),i):(i.eventSystemFlags|=h,s=i.targetContainers,m!==null&&s.indexOf(m)===-1&&s.push(m),i)}function MP(i,s,o,h,m){switch(s){case"focusin":return Ha=bc(Ha,i,s,o,h,m),!0;case"dragenter":return qa=bc(qa,i,s,o,h,m),!0;case"mouseover":return Ga=bc(Ga,i,s,o,h,m),!0;case"pointerover":var _=m.pointerId;return _c.set(_,bc(_c.get(_)||null,i,s,o,h,m)),!0;case"gotpointercapture":return _=m.pointerId,wc.set(_,bc(wc.get(_)||null,i,s,o,h,m)),!0}return!1}function vE(i){var s=yr(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,bs(i.priority,function(){if(o.tag===13){var h=$r();h=ei(h);var m=Rl(o,h);m!==null&&Kr(m,o,h),mg(o,h)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Pf(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=yg(i.nativeEvent);if(o===null){o=i.nativeEvent;var h=new o.constructor(o.type,o);Ei=h,o.target.dispatchEvent(h),Ei=null}else return s=vr(o),s!==null&&mE(s),i.blockedOn=o,!1;s.shift()}return!0}function _E(i,s,o){Pf(i)&&o.delete(s)}function jP(){_g=!1,Ha!==null&&Pf(Ha)&&(Ha=null),qa!==null&&Pf(qa)&&(qa=null),Ga!==null&&Pf(Ga)&&(Ga=null),_c.forEach(_E),wc.forEach(_E)}function kf(i,s){i.blockedOn===s&&(i.blockedOn=null,_g||(_g=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jP)))}var Nf=null;function wE(i){Nf!==i&&(Nf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Nf===i&&(Nf=null);for(var s=0;s<i.length;s+=3){var o=i[s],h=i[s+1],m=i[s+2];if(typeof h!="function"){if(vg(h||o)===null)continue;break}var _=vr(o);_!==null&&(i.splice(s,3),s-=3,vm(_,{pending:!0,data:m,method:o.method,action:h},h,m))}}))}function Ec(i){function s(X){return kf(X,i)}Ha!==null&&kf(Ha,i),qa!==null&&kf(qa,i),Ga!==null&&kf(Ga,i),_c.forEach(s),wc.forEach(s);for(var o=0;o<$a.length;o++){var h=$a[o];h.blockedOn===i&&(h.blockedOn=null)}for(;0<$a.length&&(o=$a[0],o.blockedOn===null);)vE(o),o.blockedOn===null&&$a.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(h=0;h<o.length;h+=3){var m=o[h],_=o[h+1],R=m[Wt]||null;if(typeof _=="function")R||wE(o);else if(R){var V=null;if(_&&_.hasAttribute("formAction")){if(m=_,R=_[Wt]||null)V=R.formAction;else if(vg(m)!==null)continue}else V=R.action;typeof V=="function"?o[h+1]=V:(o.splice(h,3),h-=3),wE(o)}}}function wg(i){this._internalRoot=i}Df.prototype.render=wg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,h=$r();dE(o,h,i,s,null,null)},Df.prototype.unmount=wg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;dE(i.current,2,null,i,null,null),pf(),s[Xt]=null}};function Df(i){this._internalRoot=i}Df.prototype.unstable_scheduleHydration=function(i){if(i){var s=Mr();i={blockedOn:null,target:i,priority:s};for(var o=0;o<$a.length&&s!==0&&s<$a[o].priority;o++);$a.splice(o,0,i),o===0&&vE(i)}};var bE=e.version;if(bE!=="19.1.0")throw Error(r(527,bE,"19.1.0"));ee.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?p(i):null,i=i===null?null:i.stateNode,i};var VP={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Of=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Of.isDisabled&&Of.supportsFiber)try{pt=Of.inject(VP),it=Of}catch{}}return xc.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,h="",m=Vw,_=Lw,R=Uw,V=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(m=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(R=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(V=s.unstable_transitionCallbacks)),s=hE(i,1,!1,null,null,o,h,m,_,R,V,null),i[Xt]=s.current,ng(i),new wg(s)},xc.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var h=!1,m="",_=Vw,R=Lw,V=Uw,X=null,ie=null;return o!=null&&(o.unstable_strictMode===!0&&(h=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(_=o.onUncaughtError),o.onCaughtError!==void 0&&(R=o.onCaughtError),o.onRecoverableError!==void 0&&(V=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(X=o.unstable_transitionCallbacks),o.formState!==void 0&&(ie=o.formState)),s=hE(i,1,!0,s,o??null,h,m,_,R,V,X,ie),s.context=fE(null),o=s.current,h=$r(),h=ei(h),m=Ia(h),m.callback=null,Pa(o,m,h),o=h,s.current.lanes=o,sr(s,o),rs(s),i[Xt]=s.current,ng(i),new Df(s)},xc.version="19.1.0",xc}var kE;function YP(){if(kE)return Tg.exports;kE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Tg.exports=KP(),Tg.exports}var WP=YP();const XP=xv(WP);var Sc={},NE;function QP(){if(NE)return Sc;NE=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.parse=u,Sc.serialize=p;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function u(x,I){const A=new l,D=x.length;if(D<2)return A;const C=(I==null?void 0:I.decode)||v;let N=0;do{const z=x.indexOf("=",N);if(z===-1)break;const B=x.indexOf(";",N),Y=B===-1?D:B;if(z>Y){N=x.lastIndexOf(";",z-1)+1;continue}const W=f(x,N,z),H=d(x,z,W),F=x.slice(W,H);if(A[F]===void 0){let O=f(x,z+1,Y),j=d(x,Y,O);const k=C(x.slice(O,j));A[F]=k}N=Y+1}while(N<D);return A}function f(x,I,A){do{const D=x.charCodeAt(I);if(D!==32&&D!==9)return I}while(++I<A);return A}function d(x,I,A){for(;I>A;){const D=x.charCodeAt(--I);if(D!==32&&D!==9)return I+1}return A}function p(x,I,A){const D=(A==null?void 0:A.encode)||encodeURIComponent;if(!t.test(x))throw new TypeError(`argument name is invalid: ${x}`);const C=D(I);if(!e.test(C))throw new TypeError(`argument val is invalid: ${I}`);let N=x+"="+C;if(!A)return N;if(A.maxAge!==void 0){if(!Number.isInteger(A.maxAge))throw new TypeError(`option maxAge is invalid: ${A.maxAge}`);N+="; Max-Age="+A.maxAge}if(A.domain){if(!n.test(A.domain))throw new TypeError(`option domain is invalid: ${A.domain}`);N+="; Domain="+A.domain}if(A.path){if(!r.test(A.path))throw new TypeError(`option path is invalid: ${A.path}`);N+="; Path="+A.path}if(A.expires){if(!b(A.expires)||!Number.isFinite(A.expires.valueOf()))throw new TypeError(`option expires is invalid: ${A.expires}`);N+="; Expires="+A.expires.toUTCString()}if(A.httpOnly&&(N+="; HttpOnly"),A.secure&&(N+="; Secure"),A.partitioned&&(N+="; Partitioned"),A.priority)switch(typeof A.priority=="string"?A.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${A.priority}`)}if(A.sameSite)switch(typeof A.sameSite=="string"?A.sameSite.toLowerCase():A.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${A.sameSite}`)}return N}function v(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return a.call(x)==="[object Date]"}return Sc}QP();var DE="popstate";function JP(t={}){function e(r,a){let{pathname:l,search:u,hash:f}=r.location;return Ty("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Yc(a)}return ek(e,n,null,t)}function Bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ji(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZP(){return Math.random().toString(36).substring(2,10)}function OE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ty(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Eu(e):e,state:n,key:e&&e.key||r||ZP()}}function Yc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eu(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function ek(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,f="POP",d=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function b(){f="POP";let C=v(),N=C==null?null:C-p;p=C,d&&d({action:f,location:D.location,delta:N})}function x(C,N){f="PUSH";let z=Ty(D.location,C,N);p=v()+1;let B=OE(z,p),Y=D.createHref(z);try{u.pushState(B,"",Y)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;a.location.assign(Y)}l&&d&&d({action:f,location:D.location,delta:1})}function I(C,N){f="REPLACE";let z=Ty(D.location,C,N);p=v();let B=OE(z,p),Y=D.createHref(z);u.replaceState(B,"",Y),l&&d&&d({action:f,location:D.location,delta:0})}function A(C){return tk(C)}let D={get action(){return f},get location(){return t(a,u)},listen(C){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(DE,b),d=C,()=>{a.removeEventListener(DE,b),d=null}},createHref(C){return e(a,C)},createURL:A,encodeLocation(C){let N=A(C);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:I,go(C){return u.go(C)}};return D}function tk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Yc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function gS(t,e,n="/"){return nk(t,e,n,!1)}function nk(t,e,n,r){let a=typeof e=="string"?Eu(e):e,l=ta(a.pathname||"/",n);if(l==null)return null;let u=yS(t);rk(u);let f=null;for(let d=0;f==null&&d<u.length;++d){let p=pk(l);f=fk(u[d],p,r)}return f}function yS(t,e=[],n=[],r=""){let a=(l,u,f)=>{let d={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(Bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let p=Js([r,d.relativePath]),v=n.concat(d);l.children&&l.children.length>0&&(Bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),yS(l.children,e,v,p)),!(l.path==null&&!l.index)&&e.push({path:p,score:ck(p,l.index),routesMeta:v})};return t.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let d of vS(l.path))a(l,u,d)}),e}function vS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=vS(r.join("/")),f=[];return f.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&f.push(...u),f.map(d=>t.startsWith("/")&&d===""?"/":d)}function rk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var ik=/^:[\w-]+$/,sk=3,ak=2,ok=1,lk=10,uk=-2,ME=t=>t==="*";function ck(t,e){let n=t.split("/"),r=n.length;return n.some(ME)&&(r+=uk),e&&(r+=ak),n.filter(a=>!ME(a)).reduce((a,l)=>a+(ik.test(l)?sk:l===""?ok:lk),r)}function hk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function fk(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let f=0;f<r.length;++f){let d=r[f],p=f===r.length-1,v=l==="/"?e:e.slice(l.length)||"/",b=fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},v),x=d.route;if(!b&&p&&n&&!r[r.length-1].route.index&&(b=fd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},v)),!b)return null;Object.assign(a,b.params),u.push({params:a,pathname:Js([l,b.pathname]),pathnameBase:vk(Js([l,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(l=Js([l,b.pathnameBase]))}return u}function fd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=dk(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:b},x)=>{if(v==="*"){let A=f[x]||"";u=l.slice(0,l.length-A.length).replace(/(.)\/+$/,"$1")}const I=f[x];return b&&!I?p[v]=void 0:p[v]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:u,pattern:t}}function dk(t,e=!1,n=!0){ji(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,d)=>(r.push({paramName:f,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function pk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ji(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mk(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?Eu(t):t;return{pathname:n?n.startsWith("/")?n:gk(n,e):e,search:_k(r),hash:wk(a)}}function gk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function Rg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function yk(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sv(t){let e=yk(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Av(t,e,n,r=!1){let a;typeof t=="string"?a=Eu(t):(a={...t},Bt(!a.pathname||!a.pathname.includes("?"),Rg("?","pathname","search",a)),Bt(!a.pathname||!a.pathname.includes("#"),Rg("#","pathname","hash",a)),Bt(!a.search||!a.search.includes("#"),Rg("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let x=u.split("/");for(;x[0]==="..";)x.shift(),b-=1;a.pathname=x.join("/")}f=b>=0?e[b]:"/"}let d=mk(a,f),p=u&&u!=="/"&&u.endsWith("/"),v=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||v)&&(d.pathname+="/"),d}var Js=t=>t.join("/").replace(/\/\/+/g,"/"),vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_k=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var _S=["POST","PUT","PATCH","DELETE"];new Set(_S);var Ek=["GET",..._S];new Set(Ek);var Tu=G.createContext(null);Tu.displayName="DataRouter";var qd=G.createContext(null);qd.displayName="DataRouterState";var wS=G.createContext({isTransitioning:!1});wS.displayName="ViewTransition";var Tk=G.createContext(new Map);Tk.displayName="Fetchers";var xk=G.createContext(null);xk.displayName="Await";var Li=G.createContext(null);Li.displayName="Navigation";var ph=G.createContext(null);ph.displayName="Location";var Ui=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ui.displayName="Route";var Rv=G.createContext(null);Rv.displayName="RouteError";function Sk(t,{relative:e}={}){Bt(xu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=G.useContext(Li),{hash:a,pathname:l,search:u}=mh(t,{relative:e}),f=l;return n!=="/"&&(f=l==="/"?n:Js([n,l])),r.createHref({pathname:f,search:u,hash:a})}function xu(){return G.useContext(ph)!=null}function Qr(){return Bt(xu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(ph).location}var bS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ES(t){G.useContext(Li).static||G.useLayoutEffect(t)}function la(){let{isDataRoute:t}=G.useContext(Ui);return t?Lk():Ak()}function Ak(){Bt(xu(),"useNavigate() may be used only in the context of a <Router> component.");let t=G.useContext(Tu),{basename:e,navigator:n}=G.useContext(Li),{matches:r}=G.useContext(Ui),{pathname:a}=Qr(),l=JSON.stringify(Sv(r)),u=G.useRef(!1);return ES(()=>{u.current=!0}),G.useCallback((d,p={})=>{if(ji(u.current,bS),!u.current)return;if(typeof d=="number"){n.go(d);return}let v=Av(d,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Js([e,v.pathname])),(p.replace?n.replace:n.push)(v,p.state,p)},[e,n,l,a,t])}G.createContext(null);function Cv(){let{matches:t}=G.useContext(Ui),e=t[t.length-1];return e?e.params:{}}function mh(t,{relative:e}={}){let{matches:n}=G.useContext(Ui),{pathname:r}=Qr(),a=JSON.stringify(Sv(n));return G.useMemo(()=>Av(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function Rk(t,e){return TS(t,e)}function TS(t,e,n,r){var N;Bt(xu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=G.useContext(Li),{matches:l}=G.useContext(Ui),u=l[l.length-1],f=u?u.params:{},d=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let z=v&&v.path||"";xS(d,!v||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let b=Qr(),x;if(e){let z=typeof e=="string"?Eu(e):e;Bt(p==="/"||((N=z.pathname)==null?void 0:N.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${z.pathname}" was given in the \`location\` prop.`),x=z}else x=b;let I=x.pathname||"/",A=I;if(p!=="/"){let z=p.replace(/^\//,"").split("/");A="/"+I.replace(/^\//,"").split("/").slice(z.length).join("/")}let D=gS(t,{pathname:A});ji(v||D!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),ji(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=Nk(D&&D.map(z=>Object.assign({},z,{params:Object.assign({},f,z.params),pathname:Js([p,a.encodeLocation?a.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?p:Js([p,a.encodeLocation?a.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),l,n,r);return e&&C?G.createElement(ph.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},C):C}function Ck(){let t=Vk(),e=bk(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:l},"ErrorBoundary")," or"," ",G.createElement("code",{style:l},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:a},n):null,u)}var Ik=G.createElement(Ck,null),Pk=class extends G.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?G.createElement(Ui.Provider,{value:this.props.routeContext},G.createElement(Rv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function kk({routeContext:t,match:e,children:n}){let r=G.useContext(Tu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ui.Provider,{value:t},n)}function Nk(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(p=>p.route.id&&(l==null?void 0:l[p.route.id])!==void 0);Bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,f=-1;if(n)for(let d=0;d<a.length;d++){let p=a[d];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=d),p.route.id){let{loaderData:v,errors:b}=n,x=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||x){u=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}return a.reduceRight((d,p,v)=>{let b,x=!1,I=null,A=null;n&&(b=l&&p.route.id?l[p.route.id]:void 0,I=p.route.errorElement||Ik,u&&(f<0&&v===0?(xS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,A=null):f===v&&(x=!0,A=p.route.hydrateFallbackElement||null)));let D=e.concat(a.slice(0,v+1)),C=()=>{let N;return b?N=I:x?N=A:p.route.Component?N=G.createElement(p.route.Component,null):p.route.element?N=p.route.element:N=d,G.createElement(kk,{match:p,routeContext:{outlet:d,matches:D,isDataRoute:n!=null},children:N})};return n&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?G.createElement(Pk,{location:n.location,revalidation:n.revalidation,component:I,error:b,children:C(),routeContext:{outlet:null,matches:D,isDataRoute:!0}}):C()},null)}function Iv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Dk(t){let e=G.useContext(Tu);return Bt(e,Iv(t)),e}function Ok(t){let e=G.useContext(qd);return Bt(e,Iv(t)),e}function Mk(t){let e=G.useContext(Ui);return Bt(e,Iv(t)),e}function Pv(t){let e=Mk(t),n=e.matches[e.matches.length-1];return Bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function jk(){return Pv("useRouteId")}function Vk(){var r;let t=G.useContext(Rv),e=Ok("useRouteError"),n=Pv("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function Lk(){let{router:t}=Dk("useNavigate"),e=Pv("useNavigate"),n=G.useRef(!1);return ES(()=>{n.current=!0}),G.useCallback(async(a,l={})=>{ji(n.current,bS),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var jE={};function xS(t,e,n){!e&&!jE[t]&&(jE[t]=!0,ji(!1,n))}G.memo(Uk);function Uk({routes:t,future:e,state:n}){return TS(t,void 0,n,e)}function $s({to:t,replace:e,state:n,relative:r}){Bt(xu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=G.useContext(Li);ji(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=G.useContext(Ui),{pathname:u}=Qr(),f=la(),d=Av(t,Sv(l),u,r==="path"),p=JSON.stringify(d);return G.useEffect(()=>{f(JSON.parse(p),{replace:e,state:n,relative:r})},[f,p,r,e,n]),null}function Pi(t){Bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Fk({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){Bt(!xu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),f=G.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=Eu(n));let{pathname:d="/",search:p="",hash:v="",state:b=null,key:x="default"}=n,I=G.useMemo(()=>{let A=ta(d,u);return A==null?null:{location:{pathname:A,search:p,hash:v,state:b,key:x},navigationType:r}},[u,d,p,v,b,x,r]);return ji(I!=null,`<Router basename="${u}"> is not able to match the URL "${d}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),I==null?null:G.createElement(Li.Provider,{value:f},G.createElement(ph.Provider,{children:e,value:I}))}function Bk({children:t,location:e}){return Rk(xy(t),e)}function xy(t,e=[]){let n=[];return G.Children.forEach(t,(r,a)=>{if(!G.isValidElement(r))return;let l=[...e,a];if(r.type===G.Fragment){n.push.apply(n,xy(r.props.children,l));return}Bt(r.type===Pi,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=xy(r.props.children,l)),n.push(u)}),n}var Kf="get",Yf="application/x-www-form-urlencoded";function Gd(t){return t!=null&&typeof t.tagName=="string"}function zk(t){return Gd(t)&&t.tagName.toLowerCase()==="button"}function Hk(t){return Gd(t)&&t.tagName.toLowerCase()==="form"}function qk(t){return Gd(t)&&t.tagName.toLowerCase()==="input"}function Gk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $k(t,e){return t.button===0&&(!e||e==="_self")&&!Gk(t)}var Mf=null;function Kk(){if(Mf===null)try{new FormData(document.createElement("form"),0),Mf=!1}catch{Mf=!0}return Mf}var Yk=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cg(t){return t!=null&&!Yk.has(t)?(ji(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Yf}"`),null):t}function Wk(t,e){let n,r,a,l,u;if(Hk(t)){let f=t.getAttribute("action");r=f?ta(f,e):null,n=t.getAttribute("method")||Kf,a=Cg(t.getAttribute("enctype"))||Yf,l=new FormData(t)}else if(zk(t)||qk(t)&&(t.type==="submit"||t.type==="image")){let f=t.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||f.getAttribute("action");if(r=d?ta(d,e):null,n=t.getAttribute("formmethod")||f.getAttribute("method")||Kf,a=Cg(t.getAttribute("formenctype"))||Cg(f.getAttribute("enctype"))||Yf,l=new FormData(f,t),!Kk()){let{name:p,type:v,value:b}=t;if(v==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,b)}}else{if(Gd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Kf,r=null,a=Yf,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}function kv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function Xk(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Qk(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Jk(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await Xk(l,n);return u.links?u.links():[]}return[]}));return nN(r.flat(1).filter(Qk).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function VE(t,e,n,r,a,l){let u=(d,p)=>n[p]?d.route.id!==n[p].route.id:!0,f=(d,p)=>{var v;return n[p].pathname!==d.pathname||((v=n[p].route.path)==null?void 0:v.endsWith("*"))&&n[p].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,p)=>u(d,p)||f(d,p)):l==="data"?e.filter((d,p)=>{var b;let v=r.routes[d.route.id];if(!v||!v.hasLoader)return!1;if(u(d,p)||f(d,p))return!0;if(d.route.shouldRevalidate){let x=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Zk(t,e,{includeHydrateFallback:n}={}){return eN(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function eN(t){return[...new Set(t)]}function tN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nN(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(tN(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rN=new Set([100,101,204,205]);function iN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&ta(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function SS(){let t=G.useContext(Tu);return kv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sN(){let t=G.useContext(qd);return kv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Nv=G.createContext(void 0);Nv.displayName="FrameworkContext";function AS(){let t=G.useContext(Nv);return kv(t,"You must render this element inside a <HydratedRouter> element"),t}function aN(t,e){let n=G.useContext(Nv),[r,a]=G.useState(!1),[l,u]=G.useState(!1),{onFocus:f,onBlur:d,onMouseEnter:p,onMouseLeave:v,onTouchStart:b}=e,x=G.useRef(null);G.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let D=N=>{N.forEach(z=>{u(z.isIntersecting)})},C=new IntersectionObserver(D,{threshold:.5});return x.current&&C.observe(x.current),()=>{C.disconnect()}}},[t]),G.useEffect(()=>{if(r){let D=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(D)}}},[r]);let I=()=>{a(!0)},A=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:Ac(f,I),onBlur:Ac(d,A),onMouseEnter:Ac(p,I),onMouseLeave:Ac(v,A),onTouchStart:Ac(b,I)}]:[!1,x,{}]}function Ac(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oN({page:t,...e}){let{router:n}=SS(),r=G.useMemo(()=>gS(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?G.createElement(uN,{page:t,matches:r,...e}):null}function lN(t){let{manifest:e,routeModules:n}=AS(),[r,a]=G.useState([]);return G.useEffect(()=>{let l=!1;return Jk(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function uN({page:t,matches:e,...n}){let r=Qr(),{manifest:a,routeModules:l}=AS(),{basename:u}=SS(),{loaderData:f,matches:d}=sN(),p=G.useMemo(()=>VE(t,e,d,a,r,"data"),[t,e,d,a,r]),v=G.useMemo(()=>VE(t,e,d,a,r,"assets"),[t,e,d,a,r]),b=G.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let A=new Set,D=!1;if(e.forEach(N=>{var B;let z=a.routes[N.route.id];!z||!z.hasLoader||(!p.some(Y=>Y.route.id===N.route.id)&&N.route.id in f&&((B=l[N.route.id])!=null&&B.shouldRevalidate)||z.hasClientLoader?D=!0:A.add(N.route.id))}),A.size===0)return[];let C=iN(t,u);return D&&A.size>0&&C.searchParams.set("_routes",e.filter(N=>A.has(N.route.id)).map(N=>N.route.id).join(",")),[C.pathname+C.search]},[u,f,r,a,p,e,t,l]),x=G.useMemo(()=>Zk(v,a),[v,a]),I=lN(v);return G.createElement(G.Fragment,null,b.map(A=>G.createElement("link",{key:A,rel:"prefetch",as:"fetch",href:A,...n})),x.map(A=>G.createElement("link",{key:A,rel:"modulepreload",href:A,...n})),I.map(({key:A,link:D})=>G.createElement("link",{key:A,...D})))}function cN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var RS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{RS&&(window.__reactRouterVersion="7.6.2")}catch{}function hN({basename:t,children:e,window:n}){let r=G.useRef();r.current==null&&(r.current=JP({window:n,v5Compat:!0}));let a=r.current,[l,u]=G.useState({action:a.action,location:a.location}),f=G.useCallback(d=>{G.startTransition(()=>u(d))},[u]);return G.useLayoutEffect(()=>a.listen(f),[a,f]),G.createElement(Fk,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var CS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,IS=G.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:f,target:d,to:p,preventScrollReset:v,viewTransition:b,...x},I){let{basename:A}=G.useContext(Li),D=typeof p=="string"&&CS.test(p),C,N=!1;if(typeof p=="string"&&D&&(C=p,RS))try{let j=new URL(window.location.href),k=p.startsWith("//")?new URL(j.protocol+p):new URL(p),M=ta(k.pathname,A);k.origin===j.origin&&M!=null?p=M+k.search+k.hash:N=!0}catch{ji(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=Sk(p,{relative:a}),[B,Y,W]=aN(r,x),H=mN(p,{replace:u,state:f,target:d,preventScrollReset:v,relative:a,viewTransition:b});function F(j){e&&e(j),j.defaultPrevented||H(j)}let O=G.createElement("a",{...x,...W,href:C||z,onClick:N||l?e:F,ref:cN(I,Y),target:d,"data-discover":!D&&n==="render"?"true":void 0});return B&&!D?G.createElement(G.Fragment,null,O,G.createElement(oN,{page:z})):O});IS.displayName="Link";var fN=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:f,children:d,...p},v){let b=mh(u,{relative:p.relative}),x=Qr(),I=G.useContext(qd),{navigator:A,basename:D}=G.useContext(Li),C=I!=null&&wN(b)&&f===!0,N=A.encodeLocation?A.encodeLocation(b).pathname:b.pathname,z=x.pathname,B=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;n||(z=z.toLowerCase(),B=B?B.toLowerCase():null,N=N.toLowerCase()),B&&D&&(B=ta(B,D)||B);const Y=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let W=z===N||!a&&z.startsWith(N)&&z.charAt(Y)==="/",H=B!=null&&(B===N||!a&&B.startsWith(N)&&B.charAt(N.length)==="/"),F={isActive:W,isPending:H,isTransitioning:C},O=W?e:void 0,j;typeof r=="function"?j=r(F):j=[r,W?"active":null,H?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let k=typeof l=="function"?l(F):l;return G.createElement(IS,{...p,"aria-current":O,className:j,ref:v,style:k,to:u,viewTransition:f},typeof d=="function"?d(F):d)});fN.displayName="NavLink";var dN=G.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Kf,action:f,onSubmit:d,relative:p,preventScrollReset:v,viewTransition:b,...x},I)=>{let A=vN(),D=_N(f,{relative:p}),C=u.toLowerCase()==="get"?"get":"post",N=typeof f=="string"&&CS.test(f),z=B=>{if(d&&d(B),B.defaultPrevented)return;B.preventDefault();let Y=B.nativeEvent.submitter,W=(Y==null?void 0:Y.getAttribute("formmethod"))||u;A(Y||B.currentTarget,{fetcherKey:e,method:W,navigate:n,replace:a,state:l,relative:p,preventScrollReset:v,viewTransition:b})};return G.createElement("form",{ref:I,method:C,action:D,onSubmit:r?d:z,...x,"data-discover":!N&&t==="render"?"true":void 0})});dN.displayName="Form";function pN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PS(t){let e=G.useContext(Tu);return Bt(e,pN(t)),e}function mN(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let f=la(),d=Qr(),p=mh(t,{relative:l});return G.useCallback(v=>{if($k(v,e)){v.preventDefault();let b=n!==void 0?n:Yc(d)===Yc(p);f(t,{replace:b,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,f,p,n,r,e,t,a,l,u])}var gN=0,yN=()=>`__${String(++gN)}__`;function vN(){let{router:t}=PS("useSubmit"),{basename:e}=G.useContext(Li),n=jk();return G.useCallback(async(r,a={})=>{let{action:l,method:u,encType:f,formData:d,body:p}=Wk(r,e);if(a.navigate===!1){let v=a.fetcherKey||yN();await t.fetch(v,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||f,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:p,formMethod:a.method||u,formEncType:a.encType||f,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function _N(t,{relative:e}={}){let{basename:n}=G.useContext(Li),r=G.useContext(Ui);Bt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...mh(t||".",{relative:e})},u=Qr();if(t==null){l.search=u.search;let f=new URLSearchParams(l.search),d=f.getAll("index");if(d.some(v=>v==="")){f.delete("index"),d.filter(b=>b).forEach(b=>f.append("index",b));let v=f.toString();l.search=v?`?${v}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Js([n,l.pathname])),Yc(l)}function wN(t,e={}){let n=G.useContext(wS);Bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=PS("useViewTransitionState"),a=mh(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=ta(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=ta(n.nextLocation.pathname,r)||n.nextLocation.pathname;return fd(a.pathname,u)!=null||fd(a.pathname,l)!=null}[...rN];function bN(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[a,l]=G.useState(!1),u=G.useRef(n);u.current=n;const f=G.useRef(r);return f.current=r,G.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=e,d.onload=()=>{var p;l(!0),(p=u.current)===null||p===void 0||p.call(u)},d.onerror=()=>{var p;l(!1),(p=f.current)===null||p===void 0||p.call(f)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[e]),a}const EN=G.createContext(null);function TN({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:a}){const l=bN({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),u=G.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:l}),[t,l]);return mS.createElement(EN.Provider,{value:u},a)}const xN=()=>{};var LE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},SN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],f=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},NS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,f=u?t[a+1]:0,d=a+2<t.length,p=d?t[a+2]:0,v=l>>2,b=(l&3)<<4|f>>4;let x=(f&15)<<2|p>>6,I=p&63;d||(I=64,u||(x=64)),r.push(n[v],n[b],n[x],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],f=a<t.length?n[t.charAt(a)]:0;++a;const p=a<t.length?n[t.charAt(a)]:64;++a;const b=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||f==null||p==null||b==null)throw new AN;const x=l<<2|f>>4;if(r.push(x),p!==64){const I=f<<4&240|p>>2;if(r.push(I),b!==64){const A=p<<6&192|b;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class AN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const RN=function(t){const e=kS(t);return NS.encodeByteArray(e,!0)},dd=function(t){return RN(t).replace(/\./g,"")},DS=function(t){try{return NS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=()=>CN().__FIREBASE_DEFAULTS__,PN=()=>{if(typeof process>"u"||typeof LE>"u")return;const t=LE.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&DS(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return xN()||IN()||PN()||kN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},OS=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},MS=t=>{const e=OS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},jS=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config},VS=t=>{var e;return(e=$d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return t.endsWith(".cloudworkstations.dev")}async function Dv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[dd(JSON.stringify(n)),dd(JSON.stringify(u)),""].join(".")}const jc={};function DN(){const t={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function ON(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let UE=!1;function Ov(t,e){if(typeof window>"u"||typeof document>"u"||!Su(window.location.host)||jc[t]===e||jc[t]||UE)return;jc[t]=e;function n(x){return`__firebase__banner__${x}`}const r="__firebase__banner",l=DN().prod.length>0;function u(){const x=document.getElementById(r);x&&x.remove()}function f(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function d(x,I){x.setAttribute("width","24"),x.setAttribute("id",I),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function p(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{UE=!0,u()},x}function v(x,I){x.setAttribute("id",I),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=ON(r),I=n("text"),A=document.getElementById(I)||document.createElement("span"),D=n("learnmore"),C=document.getElementById(D)||document.createElement("a"),N=n("preprendIcon"),z=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const B=x.element;f(B),v(C,D);const Y=p();d(z,N),B.append(z,A,C,Y),document.body.appendChild(B)}l?(A.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nr())}function jN(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function LN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function UN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const t=nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function BN(){return!jN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zN(){try{return typeof indexedDB=="object"}catch{return!1}}function HN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN="FirebaseError";class ys extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qN,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gh.prototype.create)}}class gh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?GN(l,r):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new ys(a,f,r)}}function GN(t,e){return t.replace($N,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const $N=/\{\$([^}]+)}/g;function KN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Zo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(FE(l)&&FE(u)){if(!Zo(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function FE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Pc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YN(t,e){const n=new WN(t,e);return n.subscribe.bind(n)}class WN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XN(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=Ig),a.error===void 0&&(a.error=Ig),a.complete===void 0&&(a.complete=Ig);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function XN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ig(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(t){return t&&t._delegate?t._delegate:t}class io{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZN(e))try{this.getOrInitializeService({instanceIdentifier:Ho})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=Ho){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ho){return this.instances.has(e)}getOptions(e=Ho){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);r===f&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:JN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ho){return this.component?this.component.multipleInstances?e:Ho:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function JN(t){return t===Ho?void 0:t}function ZN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new QN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const tD={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},nD=ht.INFO,rD={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},iD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=rD[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mv{constructor(e){this.name=e,this._logLevel=nD,this._logHandler=iD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const sD=(t,e)=>e.some(n=>t instanceof n);let BE,zE;function aD(){return BE||(BE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oD(){return zE||(zE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const US=new WeakMap,Sy=new WeakMap,FS=new WeakMap,Pg=new WeakMap,jv=new WeakMap;function lD(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(eo(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&US.set(n,t)}).catch(()=>{}),jv.set(e,t),e}function uD(t){if(Sy.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});Sy.set(t,e)}let Ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return eo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function cD(t){Ay=t(Ay)}function hD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(kg(this),e,...n);return FS.set(r,e.sort?e.sort():[e]),eo(r)}:oD().includes(t)?function(...e){return t.apply(kg(this),e),eo(US.get(this))}:function(...e){return eo(t.apply(kg(this),e))}}function fD(t){return typeof t=="function"?hD(t):(t instanceof IDBTransaction&&uD(t),sD(t,aD())?new Proxy(t,Ay):t)}function eo(t){if(t instanceof IDBRequest)return lD(t);if(Pg.has(t))return Pg.get(t);const e=fD(t);return e!==t&&(Pg.set(t,e),jv.set(e,t)),e}const kg=t=>jv.get(t);function dD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),f=eo(u);return r&&u.addEventListener("upgradeneeded",d=>{r(eo(u.result),d.oldVersion,d.newVersion,eo(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),f.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),f}const pD=["get","getKey","getAll","getAllKeys","count"],mD=["put","add","delete","clear"],Ng=new Map;function HE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ng.get(e))return Ng.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=mD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||pD.includes(n)))return;const l=async function(u,...f){const d=this.transaction(u,a?"readwrite":"readonly");let p=d.store;return r&&(p=p.index(f.shift())),(await Promise.all([p[n](...f),a&&d.done]))[0]};return Ng.set(e,l),l}cD(t=>({...t,get:(e,n,r)=>HE(e,n)||t.get(e,n,r),has:(e,n)=>!!HE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(yD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function yD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ry="@firebase/app",qE="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=new Mv("@firebase/app"),vD="@firebase/app-compat",_D="@firebase/analytics-compat",wD="@firebase/analytics",bD="@firebase/app-check-compat",ED="@firebase/app-check",TD="@firebase/auth",xD="@firebase/auth-compat",SD="@firebase/database",AD="@firebase/data-connect",RD="@firebase/database-compat",CD="@firebase/functions",ID="@firebase/functions-compat",PD="@firebase/installations",kD="@firebase/installations-compat",ND="@firebase/messaging",DD="@firebase/messaging-compat",OD="@firebase/performance",MD="@firebase/performance-compat",jD="@firebase/remote-config",VD="@firebase/remote-config-compat",LD="@firebase/storage",UD="@firebase/storage-compat",FD="@firebase/firestore",BD="@firebase/ai",zD="@firebase/firestore-compat",HD="firebase",qD="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cy="[DEFAULT]",GD={[Ry]:"fire-core",[vD]:"fire-core-compat",[wD]:"fire-analytics",[_D]:"fire-analytics-compat",[ED]:"fire-app-check",[bD]:"fire-app-check-compat",[TD]:"fire-auth",[xD]:"fire-auth-compat",[SD]:"fire-rtdb",[AD]:"fire-data-connect",[RD]:"fire-rtdb-compat",[CD]:"fire-fn",[ID]:"fire-fn-compat",[PD]:"fire-iid",[kD]:"fire-iid-compat",[ND]:"fire-fcm",[DD]:"fire-fcm-compat",[OD]:"fire-perf",[MD]:"fire-perf-compat",[jD]:"fire-rc",[VD]:"fire-rc-compat",[LD]:"fire-gcs",[UD]:"fire-gcs-compat",[FD]:"fire-fst",[zD]:"fire-fst-compat",[BD]:"fire-vertex","fire-js":"fire-js",[HD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,$D=new Map,Iy=new Map;function GE(t,e){try{t.container.addComponent(e)}catch(n){na.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function el(t){const e=t.name;if(Iy.has(e))return na.debug(`There were multiple attempts to register component ${e}.`),!1;Iy.set(e,t);for(const n of pd.values())GE(n,t);for(const n of $D.values())GE(n,t);return!0}function Kd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Cr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},to=new gh("app","Firebase",KD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new io("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw to.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ol=qD;function BS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw to.create("bad-app-name",{appName:String(a)});if(n||(n=jS()),!n)throw to.create("no-options");const l=pd.get(a);if(l){if(Zo(n,l.options)&&Zo(r,l.config))return l;throw to.create("duplicate-app",{appName:a})}const u=new eD(a);for(const d of Iy.values())u.addComponent(d);const f=new YD(n,r,u);return pd.set(a,f),f}function Vv(t=Cy){const e=pd.get(t);if(!e&&t===Cy&&jS())return BS();if(!e)throw to.create("no-app",{appName:t});return e}function os(t,e,n){var r;let a=(r=GD[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),na.warn(f.join(" "));return}el(new io(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD="firebase-heartbeat-database",XD=1,Wc="firebase-heartbeat-store";let Dg=null;function zS(){return Dg||(Dg=dD(WD,XD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw to.create("idb-open",{originalErrorMessage:t.message})})),Dg}async function QD(t){try{const n=(await zS()).transaction(Wc),r=await n.objectStore(Wc).get(HS(t));return await n.done,r}catch(e){if(e instanceof ys)na.warn(e.message);else{const n=to.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});na.warn(n.message)}}}async function $E(t,e){try{const r=(await zS()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,HS(t)),await r.done}catch(n){if(n instanceof ys)na.warn(n.message);else{const r=to.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});na.warn(r.message)}}}function HS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JD=1024,ZD=30;class eO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new nO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=KE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>ZD){const u=rO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){na.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=KE(),{heartbeatsToSend:r,unsentEntries:a}=tO(this._heartbeatsCache.heartbeats),l=dd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return na.warn(n),""}}}function KE(){return new Date().toISOString().substring(0,10)}function tO(t,e=JD){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),YE(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),YE(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class nO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zN()?HN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await QD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return $E(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function YE(t){return dd(JSON.stringify({version:2,heartbeats:t})).length}function rO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){el(new io("platform-logger",e=>new gD(e),"PRIVATE")),el(new io("heartbeat",e=>new eO(e),"PRIVATE")),os(Ry,qE,t),os(Ry,qE,"esm2017"),os("fire-js","")}iO("");var sO="firebase",aO="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */os(sO,aO,"app");function Lv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function qS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const oO=qS,GS=new gh("auth","Firebase",qS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const md=new Mv("@firebase/auth");function lO(t,...e){md.logLevel<=ht.WARN&&md.warn(`Auth (${ol}): ${t}`,...e)}function Wf(t,...e){md.logLevel<=ht.ERROR&&md.error(`Auth (${ol}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mi(t,...e){throw Fv(t,...e)}function Oi(t,...e){return Fv(t,...e)}function Uv(t,e,n){const r=Object.assign(Object.assign({},oO()),{[e]:n});return new gh("auth","Firebase",r).create(e,{appName:t.name})}function Zs(t){return Uv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&mi(t,"argument-error"),Uv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Fv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return GS.create(t,...e)}function ze(t,e,...n){if(!t)throw Fv(e,...n)}function Ws(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wf(e),new Error(e)}function ra(t,e){t||Ws(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function $S(){return WE()==="http:"||WE()==="https:"}function WE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($S()||LN()||"connection"in navigator)?navigator.onLine:!0}function hO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n){this.shortDelay=e,this.longDelay=n,ra(n>e,"Short delay should be less than long delay!"),this.isMobile=MN()||UN()}get(){return cO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(t,e){ra(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ws("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ws("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ws("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],pO=new vh(3e4,6e4);function ua(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ca(t,e,n,r,a={}){return YS(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const f=yh(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const p=Object.assign({method:e,headers:d},l);return VN()||(p.referrerPolicy="no-referrer"),t.emulatorConfig&&Su(t.emulatorConfig.host)&&(p.credentials="include"),KS.fetch()(await WS(t,t.config.apiHost,n,f),p)})}async function YS(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},fO),e);try{const a=new gO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw jf(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[d,p]=f.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw jf(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw jf(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw jf(t,"user-disabled",u);const v=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw Uv(t,v,p);mi(t,v)}}catch(a){if(a instanceof ys)throw a;mi(t,"network-request-failed",{message:String(a)})}}async function _h(t,e,n,r,a={}){const l=await ca(t,e,n,r,a);return"mfaPendingCredential"in l&&mi(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function WS(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Bv(t.config,a):`${t.config.apiScheme}://${a}`;return dO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function mO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Oi(this.auth,"network-request-failed")),pO.get())})}}function jf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Oi(t,e,r);return a.customData._tokenResponse=n,a}function XE(t){return t!==void 0&&t.enterprise!==void 0}class yO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return mO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vO(t,e){return ca(t,"GET","/v2/recaptchaConfig",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(t,e){return ca(t,"POST","/v1/accounts:delete",e)}async function yd(t,e){return ca(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function wO(t,e=!1){const n=rn(t),r=await n.getIdToken(e),a=zv(r);ze(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:Vc(Og(a.auth_time)),issuedAtTime:Vc(Og(a.iat)),expirationTime:Vc(Og(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Og(t){return Number(t)*1e3}function zv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wf("JWT malformed, contained fewer than 3 sections"),null;try{const a=DS(n);return a?JSON.parse(a):(Wf("Failed to decode base64 JWT payload"),null)}catch(a){return Wf("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function QE(t){const e=zv(t);return ze(e,"internal-error"),ze(typeof e.exp<"u","internal-error"),ze(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ys&&bO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function bO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vc(this.lastLoginAt),this.creationTime=Vc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vd(t){var e;const n=t.auth,r=await t.getIdToken(),a=await Xc(t,yd(n,{idToken:r}));ze(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?XS(l.providerUserInfo):[],f=xO(t.providerData,u),d=t.isAnonymous,p=!(t.email&&l.passwordHash)&&!(f!=null&&f.length),v=d?p:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new Py(l.createdAt,l.lastLoginAt),isAnonymous:v};Object.assign(t,b)}async function TO(t){const e=rn(t);await vd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function XS(t){return t.map(e=>{var{providerId:n}=e,r=Lv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SO(t,e){const n=await YS(t,{},async()=>{const r=yh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await WS(t,a,"/v1/token",`key=${l}`),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",KS.fetch()(u,{method:"POST",headers:f,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function AO(t,e){return ca(t,"POST","/v2/accounts:revokeToken",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ze(e.idToken,"internal-error"),ze(typeof e.idToken<"u","internal-error"),ze(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ze(e.length!==0,"internal-error");const n=QE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ze(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await SO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new lu;return r&&(ze(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(ze(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(ze(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lu,this.toJSON())}_performRefresh(){return Ws("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ya(t,e){ze(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ni{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Lv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new EO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Py(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Xc(this,this.stsTokenManager.getToken(this.auth,e));return ze(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return wO(this,e)}reload(){return TO(this)}_assign(e){this!==e&&(ze(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ni(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ze(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await vd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cr(this.auth.app))return Promise.reject(Zs(this.auth));const e=await this.getIdToken();return await Xc(this,_O(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,f,d,p,v;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,x=(a=n.email)!==null&&a!==void 0?a:void 0,I=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,A=(u=n.photoURL)!==null&&u!==void 0?u:void 0,D=(f=n.tenantId)!==null&&f!==void 0?f:void 0,C=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(p=n.createdAt)!==null&&p!==void 0?p:void 0,z=(v=n.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:B,emailVerified:Y,isAnonymous:W,providerData:H,stsTokenManager:F}=n;ze(B&&F,e,"internal-error");const O=lu.fromJSON(this.name,F);ze(typeof B=="string",e,"internal-error"),Ya(b,e.name),Ya(x,e.name),ze(typeof Y=="boolean",e,"internal-error"),ze(typeof W=="boolean",e,"internal-error"),Ya(I,e.name),Ya(A,e.name),Ya(D,e.name),Ya(C,e.name),Ya(N,e.name),Ya(z,e.name);const j=new Ni({uid:B,auth:e,email:x,emailVerified:Y,displayName:b,isAnonymous:W,photoURL:A,phoneNumber:I,tenantId:D,stsTokenManager:O,createdAt:N,lastLoginAt:z});return H&&Array.isArray(H)&&(j.providerData=H.map(k=>Object.assign({},k))),C&&(j._redirectEventId=C),j}static async _fromIdTokenResponse(e,n,r=!1){const a=new lu;a.updateFromServerResponse(n);const l=new Ni({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await vd(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];ze(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?XS(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new lu;f.updateFromIdToken(r);const d=new Ni({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Py(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,p),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE=new Map;function Xs(t){ra(t instanceof Function,"Expected a class definition");let e=JE.get(t);return e?(ra(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QS.type="NONE";const ZE=QS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t,e,n){return`firebase:${t}:${e}:${n}`}class uu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Xf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Xf("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await yd(this.auth,{idToken:e}).catch(()=>{});return n?Ni._fromGetAccountInfoResponse(this.auth,n,e):null}return Ni._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new uu(Xs(ZE),e,r);const a=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Xs(ZE);const u=Xf(r,e.config.apiKey,e.name);let f=null;for(const p of n)try{const v=await p._get(u);if(v){let b;if(typeof v=="string"){const x=await yd(e,{idToken:v}).catch(()=>{});if(!x)break;b=await Ni._fromGetAccountInfoResponse(e,x,v)}else b=Ni._fromJSON(e,v);p!==l&&(f=b),l=p;break}}catch{}const d=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new uu(l,e,r):(l=d[0],f&&await l._set(u,f.toJSON()),await Promise.all(n.map(async p=>{if(p!==l)try{await p._remove(u)}catch{}})),new uu(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(JS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rA(e))return"Blackberry";if(iA(e))return"Webos";if(ZS(e))return"Safari";if((e.includes("chrome/")||eA(e))&&!e.includes("edge/"))return"Chrome";if(nA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function JS(t=nr()){return/firefox\//i.test(t)}function ZS(t=nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eA(t=nr()){return/crios\//i.test(t)}function tA(t=nr()){return/iemobile/i.test(t)}function nA(t=nr()){return/android/i.test(t)}function rA(t=nr()){return/blackberry/i.test(t)}function iA(t=nr()){return/webos/i.test(t)}function Hv(t=nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function RO(t=nr()){var e;return Hv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function CO(){return FN()&&document.documentMode===10}function sA(t=nr()){return Hv(t)||nA(t)||iA(t)||rA(t)||/windows phone/i.test(t)||tA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aA(t,e=[]){let n;switch(t){case"Browser":n=eT(nr());break;case"Worker":n=`${eT(nr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ol}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,f)=>{try{const d=e(l);u(d)}catch(d){f(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PO(t,e={}){return ca(t,"GET","/v2/passwordPolicy",ua(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=6;class NO{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:kO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,f;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(f=d.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new IO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=GS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xs(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await uu.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await yd(this,{idToken:e}),r=await Ni._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Cr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,f=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===f)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return ze(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vd(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=hO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cr(this.app))return Promise.reject(Zs(this));const n=e?rn(e):null;return n&&ze(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ze(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cr(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cr(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await PO(this),n=new NO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await AO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Xs(e)||this._popupRedirectResolver;ze(n,this,"argument-error"),this.redirectPersistenceManager=await uu.create(this,[Xs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(ze(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ze(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&lO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(t){return rn(t)}class tT{constructor(e){this.auth=e,this.observer=null,this.addObserver=YN(n=>this.observer=n)}get next(){return ze(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function OO(t){Yd=t}function oA(t){return Yd.loadJS(t)}function MO(){return Yd.recaptchaEnterpriseScript}function jO(){return Yd.gapiScript}function VO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class LO{constructor(){this.enterprise=new UO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FO="recaptcha-enterprise",lA="NO_RECAPTCHA";class BO{constructor(e){this.type=FO,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{vO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const p=new yO(d);return l.tenantId==null?l._agentRecaptchaConfig=p:l._tenantRecaptchaConfigs[l.tenantId]=p,u(p.siteKey)}}).catch(d=>{f(d)})})}function a(l,u,f){const d=window.grecaptcha;XE(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(p=>{u(p)}).catch(()=>{u(lA)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(f=>{if(!n&&XE(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=MO();d.length!==0&&(d+=f),oA(d).then(()=>{a(f,l,u)}).catch(p=>{u(p)})}}).catch(f=>{u(f)})})}}async function nT(t,e,n,r=!1,a=!1){const l=new BO(t);let u;if(a)u=lA;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const f=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const d=f.phoneEnrollmentInfo.phoneNumber,p=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const d=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return r?Object.assign(f,{captchaResp:u}):Object.assign(f,{captchaResponse:u}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function ky(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await nT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await nT(t,e,n,n==="getOobCode");return r(t,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zO(t,e){const n=Kd(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Zo(l,e??{}))return a;mi(a,"already-initialized")}return n.initialize({options:e})}function HO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qO(t,e,n){const r=mo(t);ze(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=uA(e),{host:u,port:f}=GO(e),d=f===null?"":`:${f}`,p={url:`${l}//${u}${d}/`},v=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){ze(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ze(Zo(p,r.config.emulator)&&Zo(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Su(u)?(Dv(`${l}//${u}${d}`),Ov("Auth",!0)):$O()}function uA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function GO(t){const e=uA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:rT(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:rT(u)}}}function rT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function $O(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ws("not implemented")}_getIdTokenResponse(e){return Ws("not implemented")}_linkToIdToken(e,n){return Ws("not implemented")}_getReauthenticationResolver(e){return Ws("not implemented")}}async function KO(t,e){return ca(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YO(t,e){return _h(t,"POST","/v1/accounts:signInWithPassword",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WO(t,e){return _h(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}async function XO(t,e){return _h(t,"POST","/v1/accounts:signInWithEmailLink",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc extends qv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new Qc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Qc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,n,"signInWithPassword",YO);case"emailLink":return WO(e,{email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ky(e,r,"signUpPassword",KO);case"emailLink":return XO(e,{idToken:n,email:this._email,oobCode:this._password});default:mi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e){return _h(t,"POST","/v1/accounts:signInWithIdp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="http://localhost";class tl extends qv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):mi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Lv(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new tl(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return cu(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cu(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cu(e,n)}buildRequest(){const e={requestUri:QO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=yh(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function ZO(t){const e=Ic(Pc(t)).link,n=e?Ic(Pc(e)).deep_link_id:null,r=Ic(Pc(t)).deep_link_id;return(r?Ic(Pc(r)).link:null)||r||n||e||t}class Gv{constructor(e){var n,r,a,l,u,f;const d=Ic(Pc(e)),p=(n=d.apiKey)!==null&&n!==void 0?n:null,v=(r=d.oobCode)!==null&&r!==void 0?r:null,b=JO((a=d.mode)!==null&&a!==void 0?a:null);ze(p&&v&&b,"argument-error"),this.apiKey=p,this.operation=b,this.code=v,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(f=d.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const n=ZO(e);try{return new Gv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(){this.providerId=Au.PROVIDER_ID}static credential(e,n){return Qc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Gv.parseLink(n);return ze(r,"argument-error"),Qc._fromEmailAndCode(e,r.code,r.tenantId)}}Au.PROVIDER_ID="password";Au.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Au.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends $v{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa extends wh{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:Xa.PROVIDER_ID,signInMethod:Xa.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xa.credentialFromTaggedObject(e)}static credentialFromError(e){return Xa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xa.credential(e.oauthAccessToken)}catch{return null}}}Xa.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xa.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends wh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return tl._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ys.credential(n,r)}catch{return null}}}Ys.GOOGLE_SIGN_IN_METHOD="google.com";Ys.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa extends wh{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:Qa.PROVIDER_ID,signInMethod:Qa.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qa.credentialFromTaggedObject(e)}static credentialFromError(e){return Qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qa.credential(e.oauthAccessToken)}catch{return null}}}Qa.GITHUB_SIGN_IN_METHOD="github.com";Qa.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends wh{constructor(){super("twitter.com")}static credential(e,n){return tl._fromParams({providerId:Ja.PROVIDER_ID,signInMethod:Ja.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ja.credentialFromTaggedObject(e)}static credentialFromError(e){return Ja.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ja.credential(n,r)}catch{return null}}}Ja.TWITTER_SIGN_IN_METHOD="twitter.com";Ja.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return _h(t,"POST","/v1/accounts:signUp",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await Ni._fromIdTokenResponse(e,r,a),u=iT(r);return new nl({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=iT(r);return new nl({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function iT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d extends ys{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,_d.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new _d(e,n,r,a)}}function cA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?_d._fromErrorAndOperation(t,l,e,r):l})}async function tM(t,e,n=!1){const r=await Xc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return nl._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nM(t,e,n=!1){const{auth:r}=t;if(Cr(r.app))return Promise.reject(Zs(r));const a="reauthenticate";try{const l=await Xc(t,cA(r,a,e,t),n);ze(l.idToken,r,"internal-error");const u=zv(l.idToken);ze(u,r,"internal-error");const{sub:f}=u;return ze(t.uid===f,r,"user-mismatch"),nl._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&mi(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hA(t,e,n=!1){if(Cr(t.app))return Promise.reject(Zs(t));const r="signIn",a=await cA(t,r,e),l=await nl._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function rM(t,e){return hA(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fA(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function sT(t,e,n){if(Cr(t.app))return Promise.reject(Zs(t));const r=mo(t),u=await ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eM).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&fA(t),d}),f=await nl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(f.user),f}function Mg(t,e,n){return Cr(t.app)?Promise.reject(Zs(t)):rM(rn(t),Au.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&fA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e){return ca(t,"POST","/v1/accounts:createAuthUri",ua(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sM(t,e){const n=$S()?gd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:a}=await iM(rn(t),r);return a||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t,e){return rn(t).setPersistence(e)}function oM(t,e,n,r){return rn(t).onIdTokenChanged(e,n,r)}function lM(t,e,n){return rn(t).beforeAuthStateChanged(e,n)}function dA(t,e,n,r){return rn(t).onAuthStateChanged(e,n,r)}function pA(t){return rn(t).signOut()}const wd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wd,"1"),this.storage.removeItem(wd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=1e3,cM=10;class gA extends mA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=sA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,f,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);CO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,cM):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}gA.type="LOCAL";const yA=gA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA extends mA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vA.type="SESSION";const _A=vA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Wd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const f=Array.from(u).map(async p=>p(n.origin,l)),d=await hM(f);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Wd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,d)=>{const p=Kv("",20);a.port1.start();const v=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(b){const x=b;if(x.data.eventId===p)switch(x.data.status){case"ack":clearTimeout(v),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(x.data.response);break;default:clearTimeout(v),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ls(){return window}function dM(t){ls().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return typeof ls().WorkerGlobalScope<"u"&&typeof ls().importScripts=="function"}async function pM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gM(){return wA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="firebaseLocalStorageDb",yM=1,bd="firebaseLocalStorage",EA="fbase_key";class bh{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xd(t,e){return t.transaction([bd],e?"readwrite":"readonly").objectStore(bd)}function vM(){const t=indexedDB.deleteDatabase(bA);return new bh(t).toPromise()}function Ny(){const t=indexedDB.open(bA,yM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(bd,{keyPath:EA})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(bd)?e(r):(r.close(),await vM(),e(await Ny()))})})}async function aT(t,e,n){const r=Xd(t,!0).put({[EA]:e,value:n});return new bh(r).toPromise()}async function _M(t,e){const n=Xd(t,!1).get(e),r=await new bh(n).toPromise();return r===void 0?null:r.value}function oT(t,e){const n=Xd(t,!0).delete(e);return new bh(n).toPromise()}const wM=800,bM=3;class TA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ny(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Wd._getInstance(gM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pM(),!this.activeServiceWorker)return;this.sender=new fM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ny();return await aT(e,wd,"1"),await oT(e,wd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>aT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>_M(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>oT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Xd(a,!1).getAll();return new bh(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),wM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}TA.type="LOCAL";const EM=TA;new vh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xA(t,e){return e?Xs(e):(ze(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv extends qv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cu(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cu(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cu(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function TM(t){return hA(t.auth,new Yv(t),t.bypassAuthState)}function xM(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),nM(n,new Yv(t),t.bypassAuthState)}async function SM(t){const{auth:e,user:n}=t;return ze(n,e,"internal-error"),tM(n,new Yv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(d))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return TM;case"linkViaPopup":case"linkViaRedirect":return SM;case"reauthViaPopup":case"reauthViaRedirect":return xM;default:mi(this.auth,"internal-error")}}resolve(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ra(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=new vh(2e3,1e4);async function RM(t,e,n){if(Cr(t.app))return Promise.reject(Oi(t,"operation-not-supported-in-this-environment"));const r=mo(t);uO(t,e,$v);const a=xA(r,n);return new Go(r,"signInViaPopup",e,a).executeNotNull()}class Go extends SA{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Go.currentPopupAction&&Go.currentPopupAction.cancel(),Go.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ze(e,this.auth,"internal-error"),e}async onExecution(){ra(this.filter.length===1,"Popup operations only handle one event");const e=Kv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Oi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Oi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Go.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Oi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AM.get())};e()}}Go.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CM="pendingRedirect",Qf=new Map;class IM extends SA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Qf.get(this.auth._key());if(!e){try{const r=await PM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Qf.set(this.auth._key(),e)}return this.bypassAuthState||Qf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PM(t,e){const n=DM(e),r=NM(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function kM(t,e){Qf.set(t._key(),e)}function NM(t){return Xs(t._redirectPersistence)}function DM(t){return Xf(CM,t.config.apiKey,t.name)}async function OM(t,e,n=!1){if(Cr(t.app))return Promise.reject(Zs(t));const r=mo(t),a=xA(r,e),u=await new IM(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=10*60*1e3;class jM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!AA(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Oi(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MM&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function AA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return AA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LM(t,e={}){return ca(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FM=/^https?/;async function BM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await LM(t);for(const n of e)try{if(zM(n))return}catch{}mi(t,"unauthorized-domain")}function zM(t){const e=gd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!FM.test(n))return!1;if(UM.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HM=new vh(3e4,6e4);function uT(){const t=ls().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qM(t){return new Promise((e,n)=>{var r,a,l;function u(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),n(Oi(t,"network-request-failed"))},timeout:HM.get()})}if(!((a=(r=ls().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ls().gapi)===null||l===void 0)&&l.load)u();else{const f=VO("iframefcb");return ls()[f]=()=>{gapi.load?u():n(Oi(t,"network-request-failed"))},oA(`${jO()}?onload=${f}`).catch(d=>n(d))}}).catch(e=>{throw Jf=null,e})}let Jf=null;function GM(t){return Jf=Jf||qM(t),Jf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $M=new vh(5e3,15e3),KM="__/auth/iframe",YM="emulator/auth/iframe",WM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QM(t){const e=t.config;ze(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Bv(e,YM):`https://${t.config.authDomain}/${KM}`,r={apiKey:e.apiKey,appName:t.name,v:ol},a=XM.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${yh(r).slice(1)}`}async function JM(t){const e=await GM(t),n=ls().gapi;return ze(n,t,"internal-error"),e.open({where:document.body,url:QM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Oi(t,"network-request-failed"),f=ls().setTimeout(()=>{l(u)},$M.get());function d(){ls().clearTimeout(f),a(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},e4=500,t4=600,n4="_blank",r4="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function i4(t,e,n,r=e4,a=t4){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const d=Object.assign(Object.assign({},ZM),{width:r.toString(),height:a.toString(),top:l,left:u}),p=nr().toLowerCase();n&&(f=eA(p)?n4:n),JS(p)&&(e=e||r4,d.scrollbars="yes");const v=Object.entries(d).reduce((x,[I,A])=>`${x}${I}=${A},`,"");if(RO(p)&&f!=="_self")return s4(e||"",f),new cT(null);const b=window.open(e||"",f,v);ze(b,t,"popup-blocked");try{b.focus()}catch{}return new cT(b)}function s4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4="__/auth/handler",o4="emulator/auth/handler",l4=encodeURIComponent("fac");async function hT(t,e,n,r,a,l){ze(t.config.authDomain,t,"auth-domain-config-required"),ze(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ol,eventId:a};if(e instanceof $v){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",KN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,b]of Object.entries({}))u[v]=b}if(e instanceof wh){const v=e.getScopes().filter(b=>b!=="");v.length>0&&(u.scopes=v.join(","))}t.tenantId&&(u.tid=t.tenantId);const f=u;for(const v of Object.keys(f))f[v]===void 0&&delete f[v];const d=await t._getAppCheckToken(),p=d?`#${l4}=${encodeURIComponent(d)}`:"";return`${u4(t)}?${yh(f).slice(1)}${p}`}function u4({config:t}){return t.emulator?Bv(t,o4):`https://${t.authDomain}/${a4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg="webStorageSupport";class c4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_A,this._completeRedirectFn=OM,this._overrideRedirectResult=kM}async _openPopup(e,n,r,a){var l;ra((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await hT(e,n,r,gd(),a);return i4(e,u,Kv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await hT(e,n,r,gd(),a);return dM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(ra(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JM(e),r=new jM(e);return n.register("authEvent",a=>(ze(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(jg,{type:jg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[jg];u!==void 0&&n(!!u),mi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sA()||ZS()||Hv()}}const h4=c4;var fT="@firebase/auth",dT="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ze(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p4(t){el(new io("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=r.options;ze(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:f,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(t)},p=new DO(r,a,l,d);return HO(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),el(new io("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new f4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),os(fT,dT,d4(t)),os(fT,dT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m4=5*60,g4=VS("authIdTokenMaxAge")||m4;let pT=null;const y4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>g4)return;const a=n==null?void 0:n.token;pT!==a&&(pT=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function RA(t=Vv()){const e=Kd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=zO(t,{popupRedirectResolver:h4,persistence:[EM,yA,_A]}),r=VS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=y4(l.toString());lM(n,u,()=>u(n.currentUser)),oM(n,f=>u(f))}}const a=OS("auth");return a&&qO(n,`http://${a}`),n}function v4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}OO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Oi("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",v4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p4("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var no,CA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(F,O){function j(){}j.prototype=O.prototype,F.D=O.prototype,F.prototype=new j,F.prototype.constructor=F,F.C=function(k,M,$){for(var U=Array(arguments.length-2),re=2;re<arguments.length;re++)U[re-2]=arguments[re];return O.prototype[M].apply(k,U)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(F,O,j){j||(j=0);var k=Array(16);if(typeof O=="string")for(var M=0;16>M;++M)k[M]=O.charCodeAt(j++)|O.charCodeAt(j++)<<8|O.charCodeAt(j++)<<16|O.charCodeAt(j++)<<24;else for(M=0;16>M;++M)k[M]=O[j++]|O[j++]<<8|O[j++]<<16|O[j++]<<24;O=F.g[0],j=F.g[1],M=F.g[2];var $=F.g[3],U=O+($^j&(M^$))+k[0]+3614090360&4294967295;O=j+(U<<7&4294967295|U>>>25),U=$+(M^O&(j^M))+k[1]+3905402710&4294967295,$=O+(U<<12&4294967295|U>>>20),U=M+(j^$&(O^j))+k[2]+606105819&4294967295,M=$+(U<<17&4294967295|U>>>15),U=j+(O^M&($^O))+k[3]+3250441966&4294967295,j=M+(U<<22&4294967295|U>>>10),U=O+($^j&(M^$))+k[4]+4118548399&4294967295,O=j+(U<<7&4294967295|U>>>25),U=$+(M^O&(j^M))+k[5]+1200080426&4294967295,$=O+(U<<12&4294967295|U>>>20),U=M+(j^$&(O^j))+k[6]+2821735955&4294967295,M=$+(U<<17&4294967295|U>>>15),U=j+(O^M&($^O))+k[7]+4249261313&4294967295,j=M+(U<<22&4294967295|U>>>10),U=O+($^j&(M^$))+k[8]+1770035416&4294967295,O=j+(U<<7&4294967295|U>>>25),U=$+(M^O&(j^M))+k[9]+2336552879&4294967295,$=O+(U<<12&4294967295|U>>>20),U=M+(j^$&(O^j))+k[10]+4294925233&4294967295,M=$+(U<<17&4294967295|U>>>15),U=j+(O^M&($^O))+k[11]+2304563134&4294967295,j=M+(U<<22&4294967295|U>>>10),U=O+($^j&(M^$))+k[12]+1804603682&4294967295,O=j+(U<<7&4294967295|U>>>25),U=$+(M^O&(j^M))+k[13]+4254626195&4294967295,$=O+(U<<12&4294967295|U>>>20),U=M+(j^$&(O^j))+k[14]+2792965006&4294967295,M=$+(U<<17&4294967295|U>>>15),U=j+(O^M&($^O))+k[15]+1236535329&4294967295,j=M+(U<<22&4294967295|U>>>10),U=O+(M^$&(j^M))+k[1]+4129170786&4294967295,O=j+(U<<5&4294967295|U>>>27),U=$+(j^M&(O^j))+k[6]+3225465664&4294967295,$=O+(U<<9&4294967295|U>>>23),U=M+(O^j&($^O))+k[11]+643717713&4294967295,M=$+(U<<14&4294967295|U>>>18),U=j+($^O&(M^$))+k[0]+3921069994&4294967295,j=M+(U<<20&4294967295|U>>>12),U=O+(M^$&(j^M))+k[5]+3593408605&4294967295,O=j+(U<<5&4294967295|U>>>27),U=$+(j^M&(O^j))+k[10]+38016083&4294967295,$=O+(U<<9&4294967295|U>>>23),U=M+(O^j&($^O))+k[15]+3634488961&4294967295,M=$+(U<<14&4294967295|U>>>18),U=j+($^O&(M^$))+k[4]+3889429448&4294967295,j=M+(U<<20&4294967295|U>>>12),U=O+(M^$&(j^M))+k[9]+568446438&4294967295,O=j+(U<<5&4294967295|U>>>27),U=$+(j^M&(O^j))+k[14]+3275163606&4294967295,$=O+(U<<9&4294967295|U>>>23),U=M+(O^j&($^O))+k[3]+4107603335&4294967295,M=$+(U<<14&4294967295|U>>>18),U=j+($^O&(M^$))+k[8]+1163531501&4294967295,j=M+(U<<20&4294967295|U>>>12),U=O+(M^$&(j^M))+k[13]+2850285829&4294967295,O=j+(U<<5&4294967295|U>>>27),U=$+(j^M&(O^j))+k[2]+4243563512&4294967295,$=O+(U<<9&4294967295|U>>>23),U=M+(O^j&($^O))+k[7]+1735328473&4294967295,M=$+(U<<14&4294967295|U>>>18),U=j+($^O&(M^$))+k[12]+2368359562&4294967295,j=M+(U<<20&4294967295|U>>>12),U=O+(j^M^$)+k[5]+4294588738&4294967295,O=j+(U<<4&4294967295|U>>>28),U=$+(O^j^M)+k[8]+2272392833&4294967295,$=O+(U<<11&4294967295|U>>>21),U=M+($^O^j)+k[11]+1839030562&4294967295,M=$+(U<<16&4294967295|U>>>16),U=j+(M^$^O)+k[14]+4259657740&4294967295,j=M+(U<<23&4294967295|U>>>9),U=O+(j^M^$)+k[1]+2763975236&4294967295,O=j+(U<<4&4294967295|U>>>28),U=$+(O^j^M)+k[4]+1272893353&4294967295,$=O+(U<<11&4294967295|U>>>21),U=M+($^O^j)+k[7]+4139469664&4294967295,M=$+(U<<16&4294967295|U>>>16),U=j+(M^$^O)+k[10]+3200236656&4294967295,j=M+(U<<23&4294967295|U>>>9),U=O+(j^M^$)+k[13]+681279174&4294967295,O=j+(U<<4&4294967295|U>>>28),U=$+(O^j^M)+k[0]+3936430074&4294967295,$=O+(U<<11&4294967295|U>>>21),U=M+($^O^j)+k[3]+3572445317&4294967295,M=$+(U<<16&4294967295|U>>>16),U=j+(M^$^O)+k[6]+76029189&4294967295,j=M+(U<<23&4294967295|U>>>9),U=O+(j^M^$)+k[9]+3654602809&4294967295,O=j+(U<<4&4294967295|U>>>28),U=$+(O^j^M)+k[12]+3873151461&4294967295,$=O+(U<<11&4294967295|U>>>21),U=M+($^O^j)+k[15]+530742520&4294967295,M=$+(U<<16&4294967295|U>>>16),U=j+(M^$^O)+k[2]+3299628645&4294967295,j=M+(U<<23&4294967295|U>>>9),U=O+(M^(j|~$))+k[0]+4096336452&4294967295,O=j+(U<<6&4294967295|U>>>26),U=$+(j^(O|~M))+k[7]+1126891415&4294967295,$=O+(U<<10&4294967295|U>>>22),U=M+(O^($|~j))+k[14]+2878612391&4294967295,M=$+(U<<15&4294967295|U>>>17),U=j+($^(M|~O))+k[5]+4237533241&4294967295,j=M+(U<<21&4294967295|U>>>11),U=O+(M^(j|~$))+k[12]+1700485571&4294967295,O=j+(U<<6&4294967295|U>>>26),U=$+(j^(O|~M))+k[3]+2399980690&4294967295,$=O+(U<<10&4294967295|U>>>22),U=M+(O^($|~j))+k[10]+4293915773&4294967295,M=$+(U<<15&4294967295|U>>>17),U=j+($^(M|~O))+k[1]+2240044497&4294967295,j=M+(U<<21&4294967295|U>>>11),U=O+(M^(j|~$))+k[8]+1873313359&4294967295,O=j+(U<<6&4294967295|U>>>26),U=$+(j^(O|~M))+k[15]+4264355552&4294967295,$=O+(U<<10&4294967295|U>>>22),U=M+(O^($|~j))+k[6]+2734768916&4294967295,M=$+(U<<15&4294967295|U>>>17),U=j+($^(M|~O))+k[13]+1309151649&4294967295,j=M+(U<<21&4294967295|U>>>11),U=O+(M^(j|~$))+k[4]+4149444226&4294967295,O=j+(U<<6&4294967295|U>>>26),U=$+(j^(O|~M))+k[11]+3174756917&4294967295,$=O+(U<<10&4294967295|U>>>22),U=M+(O^($|~j))+k[2]+718787259&4294967295,M=$+(U<<15&4294967295|U>>>17),U=j+($^(M|~O))+k[9]+3951481745&4294967295,F.g[0]=F.g[0]+O&4294967295,F.g[1]=F.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,F.g[2]=F.g[2]+M&4294967295,F.g[3]=F.g[3]+$&4294967295}r.prototype.u=function(F,O){O===void 0&&(O=F.length);for(var j=O-this.blockSize,k=this.B,M=this.h,$=0;$<O;){if(M==0)for(;$<=j;)a(this,F,$),$+=this.blockSize;if(typeof F=="string"){for(;$<O;)if(k[M++]=F.charCodeAt($++),M==this.blockSize){a(this,k),M=0;break}}else for(;$<O;)if(k[M++]=F[$++],M==this.blockSize){a(this,k),M=0;break}}this.h=M,this.o+=O},r.prototype.v=function(){var F=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);F[0]=128;for(var O=1;O<F.length-8;++O)F[O]=0;var j=8*this.o;for(O=F.length-8;O<F.length;++O)F[O]=j&255,j/=256;for(this.u(F),F=Array(16),O=j=0;4>O;++O)for(var k=0;32>k;k+=8)F[j++]=this.g[O]>>>k&255;return F};function l(F,O){var j=f;return Object.prototype.hasOwnProperty.call(j,F)?j[F]:j[F]=O(F)}function u(F,O){this.h=O;for(var j=[],k=!0,M=F.length-1;0<=M;M--){var $=F[M]|0;k&&$==O||(j[M]=$,k=!1)}this.g=j}var f={};function d(F){return-128<=F&&128>F?l(F,function(O){return new u([O|0],0>O?-1:0)}):new u([F|0],0>F?-1:0)}function p(F){if(isNaN(F)||!isFinite(F))return b;if(0>F)return C(p(-F));for(var O=[],j=1,k=0;F>=j;k++)O[k]=F/j|0,j*=4294967296;return new u(O,0)}function v(F,O){if(F.length==0)throw Error("number format error: empty string");if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(F.charAt(0)=="-")return C(v(F.substring(1),O));if(0<=F.indexOf("-"))throw Error('number format error: interior "-" character');for(var j=p(Math.pow(O,8)),k=b,M=0;M<F.length;M+=8){var $=Math.min(8,F.length-M),U=parseInt(F.substring(M,M+$),O);8>$?($=p(Math.pow(O,$)),k=k.j($).add(p(U))):(k=k.j(j),k=k.add(p(U)))}return k}var b=d(0),x=d(1),I=d(16777216);t=u.prototype,t.m=function(){if(D(this))return-C(this).m();for(var F=0,O=1,j=0;j<this.g.length;j++){var k=this.i(j);F+=(0<=k?k:4294967296+k)*O,O*=4294967296}return F},t.toString=function(F){if(F=F||10,2>F||36<F)throw Error("radix out of range: "+F);if(A(this))return"0";if(D(this))return"-"+C(this).toString(F);for(var O=p(Math.pow(F,6)),j=this,k="";;){var M=Y(j,O).g;j=N(j,M.j(O));var $=((0<j.g.length?j.g[0]:j.h)>>>0).toString(F);if(j=M,A(j))return $+k;for(;6>$.length;)$="0"+$;k=$+k}},t.i=function(F){return 0>F?0:F<this.g.length?this.g[F]:this.h};function A(F){if(F.h!=0)return!1;for(var O=0;O<F.g.length;O++)if(F.g[O]!=0)return!1;return!0}function D(F){return F.h==-1}t.l=function(F){return F=N(this,F),D(F)?-1:A(F)?0:1};function C(F){for(var O=F.g.length,j=[],k=0;k<O;k++)j[k]=~F.g[k];return new u(j,~F.h).add(x)}t.abs=function(){return D(this)?C(this):this},t.add=function(F){for(var O=Math.max(this.g.length,F.g.length),j=[],k=0,M=0;M<=O;M++){var $=k+(this.i(M)&65535)+(F.i(M)&65535),U=($>>>16)+(this.i(M)>>>16)+(F.i(M)>>>16);k=U>>>16,$&=65535,U&=65535,j[M]=U<<16|$}return new u(j,j[j.length-1]&-2147483648?-1:0)};function N(F,O){return F.add(C(O))}t.j=function(F){if(A(this)||A(F))return b;if(D(this))return D(F)?C(this).j(C(F)):C(C(this).j(F));if(D(F))return C(this.j(C(F)));if(0>this.l(I)&&0>F.l(I))return p(this.m()*F.m());for(var O=this.g.length+F.g.length,j=[],k=0;k<2*O;k++)j[k]=0;for(k=0;k<this.g.length;k++)for(var M=0;M<F.g.length;M++){var $=this.i(k)>>>16,U=this.i(k)&65535,re=F.i(M)>>>16,ye=F.i(M)&65535;j[2*k+2*M]+=U*ye,z(j,2*k+2*M),j[2*k+2*M+1]+=$*ye,z(j,2*k+2*M+1),j[2*k+2*M+1]+=U*re,z(j,2*k+2*M+1),j[2*k+2*M+2]+=$*re,z(j,2*k+2*M+2)}for(k=0;k<O;k++)j[k]=j[2*k+1]<<16|j[2*k];for(k=O;k<2*O;k++)j[k]=0;return new u(j,0)};function z(F,O){for(;(F[O]&65535)!=F[O];)F[O+1]+=F[O]>>>16,F[O]&=65535,O++}function B(F,O){this.g=F,this.h=O}function Y(F,O){if(A(O))throw Error("division by zero");if(A(F))return new B(b,b);if(D(F))return O=Y(C(F),O),new B(C(O.g),C(O.h));if(D(O))return O=Y(F,C(O)),new B(C(O.g),O.h);if(30<F.g.length){if(D(F)||D(O))throw Error("slowDivide_ only works with positive integers.");for(var j=x,k=O;0>=k.l(F);)j=W(j),k=W(k);var M=H(j,1),$=H(k,1);for(k=H(k,2),j=H(j,2);!A(k);){var U=$.add(k);0>=U.l(F)&&(M=M.add(j),$=U),k=H(k,1),j=H(j,1)}return O=N(F,M.j(O)),new B(M,O)}for(M=b;0<=F.l(O);){for(j=Math.max(1,Math.floor(F.m()/O.m())),k=Math.ceil(Math.log(j)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),$=p(j),U=$.j(O);D(U)||0<U.l(F);)j-=k,$=p(j),U=$.j(O);A($)&&($=x),M=M.add($),F=N(F,U)}return new B(M,F)}t.A=function(F){return Y(this,F).h},t.and=function(F){for(var O=Math.max(this.g.length,F.g.length),j=[],k=0;k<O;k++)j[k]=this.i(k)&F.i(k);return new u(j,this.h&F.h)},t.or=function(F){for(var O=Math.max(this.g.length,F.g.length),j=[],k=0;k<O;k++)j[k]=this.i(k)|F.i(k);return new u(j,this.h|F.h)},t.xor=function(F){for(var O=Math.max(this.g.length,F.g.length),j=[],k=0;k<O;k++)j[k]=this.i(k)^F.i(k);return new u(j,this.h^F.h)};function W(F){for(var O=F.g.length+1,j=[],k=0;k<O;k++)j[k]=F.i(k)<<1|F.i(k-1)>>>31;return new u(j,F.h)}function H(F,O){var j=O>>5;O%=32;for(var k=F.g.length-j,M=[],$=0;$<k;$++)M[$]=0<O?F.i($+j)>>>O|F.i($+j+1)<<32-O:F.i($+j);return new u(M,F.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,CA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=v,no=u}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var Vf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var IA,kc,PA,Zf,Dy,kA,NA,DA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,w){return c==Array.prototype||c==Object.prototype||(c[y]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vf=="object"&&Vf];for(var y=0;y<c.length;++y){var w=c[y];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function a(c,y){if(y)e:{var w=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var P=c[S];if(!(P in w))break e;w=w[P]}c=c[c.length-1],S=w[c],y=y(S),y!=S&&y!=null&&e(w,c,{configurable:!0,writable:!0,value:y})}}function l(c,y){c instanceof String&&(c+="");var w=0,S=!1,P={next:function(){if(!S&&w<c.length){var L=w++;return{value:y(L,c[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}a("Array.prototype.values",function(c){return c||function(){return l(this,function(y,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function d(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function p(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function v(c,y,w){return c.call.apply(c.bind,arguments)}function b(c,y,w){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,S),c.apply(y,P)}}return function(){return c.apply(y,arguments)}}function x(c,y,w){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:b,x.apply(null,arguments)}function I(c,y){var w=Array.prototype.slice.call(arguments,1);return function(){var S=w.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,y){function w(){}w.prototype=y.prototype,c.aa=y.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(S,P,L){for(var Q=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)Q[fe-2]=arguments[fe];return y.prototype[P].apply(S,Q)}}function D(c){const y=c.length;if(0<y){const w=Array(y);for(let S=0;S<y;S++)w[S]=c[S];return w}return[]}function C(c,y){for(let w=1;w<arguments.length;w++){const S=arguments[w];if(d(S)){const P=c.length||0,L=S.length||0;c.length=P+L;for(let Q=0;Q<L;Q++)c[P+Q]=S[Q]}else c.push(S)}}class N{constructor(y,w){this.i=y,this.j=w,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function z(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=f.navigator;return c&&(c=c.userAgent)?c:""}function Y(c){return Y[" "](c),c}Y[" "]=function(){};var W=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function H(c,y,w){for(const S in c)y.call(w,c[S],S,c)}function F(c,y){for(const w in c)y.call(void 0,c[w],w,c)}function O(c){const y={};for(const w in c)y[w]=c[w];return y}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(c,y){let w,S;for(let P=1;P<arguments.length;P++){S=arguments[P];for(w in S)c[w]=S[w];for(let L=0;L<j.length;L++)w=j[L],Object.prototype.hasOwnProperty.call(S,w)&&(c[w]=S[w])}}function M(c){var y=1;c=c.split(":");const w=[];for(;0<y&&c.length;)w.push(c.shift()),y--;return c.length&&w.push(c.join(":")),w}function $(c){f.setTimeout(()=>{throw c},0)}function U(){var c=oe;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class re{constructor(){this.h=this.g=null}add(y,w){const S=ye.get();S.set(y,w),this.h?this.h.next=S:this.g=S,this.h=S}}var ye=new N(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(y,w){this.h=y,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let ee,le=!1,oe=new re,q=()=>{const c=f.Promise.resolve(void 0);ee=()=>{c.then(te)}};var te=()=>{for(var c;c=U();){try{c.h.call(c.g)}catch(w){$(w)}var y=ye;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}le=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ce(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}ce.prototype.h=function(){this.defaultPrevented=!0};var be=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};f.addEventListener("test",w,y),f.removeEventListener("test",w,y)}catch{}return c}();function Ee(c,y){if(ce.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(W){e:{try{Y(y.nodeName);var P=!0;break e}catch{}P=!1}P||(y=null)}}else w=="mouseover"?y=c.fromElement:w=="mouseout"&&(y=c.toElement);this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:ke[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ee.aa.h.call(this)}}A(Ee,ce);var ke={2:"touch",3:"pen",4:"mouse"};Ee.prototype.h=function(){Ee.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(1e6*Math.random()|0),et=0;function Ye(c,y,w,S,P){this.listener=c,this.proxy=null,this.src=y,this.type=w,this.capture=!!S,this.ha=P,this.key=++et,this.da=this.fa=!1}function zt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rt(c){this.src=c,this.g={},this.h=0}rt.prototype.add=function(c,y,w,S,P){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var Q=Se(c,y,S,P);return-1<Q?(y=c[Q],w||(y.fa=!1)):(y=new Ye(y,this.src,L,!!S,P),y.fa=w,c.push(y)),y};function At(c,y){var w=y.type;if(w in c.g){var S=c.g[w],P=Array.prototype.indexOf.call(S,y,void 0),L;(L=0<=P)&&Array.prototype.splice.call(S,P,1),L&&(zt(y),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Se(c,y,w,S){for(var P=0;P<c.length;++P){var L=c[P];if(!L.da&&L.listener==y&&L.capture==!!w&&L.ha==S)return P}return-1}var Me="closure_lm_"+(1e6*Math.random()|0),Qe={};function De(c,y,w,S,P){if(Array.isArray(y)){for(var L=0;L<y.length;L++)De(c,y[L],w,S,P);return null}return w=Dn(w),c&&c[wt]?c.K(y,w,p(S)?!!S.capture:!1,P):_e(c,y,w,!1,S,P)}function _e(c,y,w,S,P,L){if(!y)throw Error("Invalid event type");var Q=p(P)?!!P.capture:!!P,fe=rr(c);if(fe||(c[Me]=fe=new rt(c)),w=fe.add(y,w,S,Q,L),w.proxy)return w;if(S=Ce(),w.proxy=S,S.src=c,S.listener=w,c.addEventListener)be||(P=Q),P===void 0&&(P=!1),c.addEventListener(y.toString(),S,P);else if(c.attachEvent)c.attachEvent(jt(y.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Ce(){function c(w){return y.call(c.src,c.listener,w)}const y=Jr;return c}function Ae(c,y,w,S,P){if(Array.isArray(y))for(var L=0;L<y.length;L++)Ae(c,y[L],w,S,P);else S=p(S)?!!S.capture:!!S,w=Dn(w),c&&c[wt]?(c=c.i,y=String(y).toString(),y in c.g&&(L=c.g[y],w=Se(L,w,S,P),-1<w&&(zt(L[w]),Array.prototype.splice.call(L,w,1),L.length==0&&(delete c.g[y],c.h--)))):c&&(c=rr(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Se(y,w,S,P)),(w=-1<c?y[c]:null)&&qe(w))}function qe(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[wt])At(y.i,c);else{var w=c.type,S=c.proxy;y.removeEventListener?y.removeEventListener(w,S,c.capture):y.detachEvent?y.detachEvent(jt(w),S):y.addListener&&y.removeListener&&y.removeListener(S),(w=rr(y))?(At(w,c),w.h==0&&(w.src=null,y[Me]=null)):zt(c)}}}function jt(c){return c in Qe?Qe[c]:Qe[c]="on"+c}function Jr(c,y){if(c.da)c=!0;else{y=new Ee(y,this);var w=c.listener,S=c.ha||c.src;c.fa&&qe(c),c=w.call(S,y)}return c}function rr(c){return c=c[Me],c instanceof rt?c:null}var sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dn(c){return typeof c=="function"?c:(c[sn]||(c[sn]=function(y){return c.handleEvent(y)}),c[sn])}function pt(){he.call(this),this.i=new rt(this),this.M=this,this.F=null}A(pt,he),pt.prototype[wt]=!0,pt.prototype.removeEventListener=function(c,y,w,S){Ae(this,c,y,w,S)};function it(c,y){var w,S=c.F;if(S)for(w=[];S;S=S.F)w.push(S);if(c=c.M,S=y.type||y,typeof y=="string")y=new ce(y,c);else if(y instanceof ce)y.target=y.target||c;else{var P=y;y=new ce(S,c),k(y,P)}if(P=!0,w)for(var L=w.length-1;0<=L;L--){var Q=y.g=w[L];P=Yt(Q,S,!0,y)&&P}if(Q=y.g=c,P=Yt(Q,S,!0,y)&&P,P=Yt(Q,S,!1,y)&&P,w)for(L=0;L<w.length;L++)Q=y.g=w[L],P=Yt(Q,S,!1,y)&&P}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var w=c.g[y],S=0;S<w.length;S++)zt(w[S]);delete c.g[y],c.h--}}this.F=null},pt.prototype.K=function(c,y,w,S){return this.i.add(String(c),y,!1,w,S)},pt.prototype.L=function(c,y,w,S){return this.i.add(String(c),y,!0,w,S)};function Yt(c,y,w,S){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var P=!0,L=0;L<y.length;++L){var Q=y[L];if(Q&&!Q.da&&Q.capture==w){var fe=Q.listener,we=Q.ha||Q.src;Q.fa&&At(c.i,Q),P=fe.call(we,S)!==!1&&P}}return P&&!S.defaultPrevented}function Vt(c,y,w){if(typeof c=="function")w&&(c=x(c,w));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(c,y||0)}function _s(c){c.g=Vt(()=>{c.g=null,c.i&&(c.i=!1,_s(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Zr extends he{constructor(y,w){super(),this.m=y,this.l=w,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:_s(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Le(c){he.call(this),this.h=c,this.g={}}A(Le,he);var kt=[];function an(c){H(c.g,function(y,w){this.g.hasOwnProperty(w)&&qe(y)},c),c.g={}}Le.prototype.N=function(){Le.aa.N.call(this),an(this)},Le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var dt=f.JSON.stringify,mn=f.JSON.parse,qn=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function ir(){}ir.prototype.h=null;function An(c){return c.h||(c.h=c.i())}function Dr(){}var On={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sr(){ce.call(this,"d")}A(sr,ce);function gi(){ce.call(this,"c")}A(gi,ce);var ar={},Or=null;function ei(){return Or=Or||new pt}ar.La="serverreachability";function ws(c){ce.call(this,ar.La,c)}A(ws,ce);function Mr(c){const y=ei();it(y,new ws(y))}ar.STAT_EVENT="statevent";function bs(c,y){ce.call(this,ar.STAT_EVENT,c),this.stat=y}A(bs,ce);function Dt(c){const y=ei();it(y,new bs(y,c))}ar.Ma="timingevent";function Ot(c,y){ce.call(this,ar.Ma,c),this.size=y}A(Ot,ce);function Wt(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Xt(){this.g=!0}Xt.prototype.xa=function(){this.g=!1};function jr(c,y,w,S,P,L){c.info(function(){if(c.g)if(L)for(var Q="",fe=L.split("&"),we=0;we<fe.length;we++){var xe=fe[we].split("=");if(1<xe.length){var Re=xe[0];xe=xe[1];var Te=Re.split("_");Q=2<=Te.length&&Te[1]=="type"?Q+(Re+"="+xe+"&"):Q+(Re+"=redacted&")}}else Q=null;else Q=L;return"XMLHTTP REQ ("+S+") [attempt "+P+"]: "+y+`
`+w+`
`+Q})}function hl(c,y,w,S,P,L,Q){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+P+"]: "+y+`
`+w+`
`+L+" "+Q})}function bt(c,y,w,S){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yi(c,w)+(S?" "+S:"")})}function or(c,y){c.info(function(){return"TIMEOUT: "+y})}Xt.prototype.info=function(){};function yi(c,y){if(!c.g)return y;if(!y)return null;try{var w=JSON.parse(y);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var S=w[c];if(!(2>S.length)){var P=S[1];if(Array.isArray(P)&&!(1>P.length)){var L=P[0];if(L!="noop"&&L!="stop"&&L!="close")for(var Q=1;Q<P.length;Q++)P[Q]=""}}}}return dt(w)}catch{return y}}var Bi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},yr={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vr;function lr(){}A(lr,ir),lr.prototype.g=function(){return new XMLHttpRequest},lr.prototype.i=function(){return{}},vr=new lr;function on(c,y,w,S){this.j=c,this.i=y,this.l=w,this.R=S||1,this.U=new Le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ut}function Ut(){this.i=null,this.g="",this.h=!1}var Es={},zi={};function _r(c,y,w){c.L=1,c.v=Ss(Gn(y)),c.m=w,c.P=!0,ln(c,null)}function ln(c,y){c.F=Date.now(),vi(c),c.A=Gn(c.v);var w=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),bo(w.i,"t",S),c.C=0,w=c.j.J,c.h=new Ut,c.g=bl(c.j,w?y:null,!c.m),0<c.O&&(c.M=new Zr(x(c.Y,c,c.g),c.O)),y=c.U,w=c.g,S=c.ca;var P="readystatechange";Array.isArray(P)||(P&&(kt[0]=P.toString()),P=kt);for(var L=0;L<P.length;L++){var Q=De(w,P[L],S||y.handleEvent,!1,y.h||y);if(!Q)break;y.g[Q.key]=Q}y=c.H?O(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),Mr(),jr(c.i,c.u,c.A,c.l,c.R,c.m)}on.prototype.ca=function(c){c=c.target;const y=this.M;y&&Er(c)==3?y.j():this.Y(c)},on.prototype.Y=function(c){try{if(c==this.g)e:{const Te=Er(this.g);var y=this.g.Ba();const Oe=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||ml(this.g)))){this.J||Te!=4||y==7||(y==8||0>=Oe?Mr(3):Mr(2)),_i(this);var w=this.g.Z();this.X=w;t:if(ur(this)){var S=ml(this.g);c="";var P=S.length,L=Er(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Rt(this),wr(this);var Q="";break t}this.h.i=new f.TextDecoder}for(y=0;y<P;y++)this.h.h=!0,c+=this.h.i.decode(S[y],{stream:!(L&&y==P-1)});S.length=0,this.h.g+=c,this.C=0,Q=this.h.g}else Q=this.g.oa();if(this.o=w==200,hl(this.i,this.u,this.A,this.l,this.R,Te,w),this.o){if(this.T&&!this.K){t:{if(this.g){var fe,we=this.g;if((fe=we.g?we.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(fe)){var xe=fe;break t}}xe=null}if(w=xe)bt(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qi(this,w);else{this.o=!1,this.s=3,Dt(12),Rt(this),wr(this);break e}}if(this.P){w=!0;let je;for(;!this.J&&this.C<Q.length;)if(je=Hi(this,Q),je==zi){Te==4&&(this.s=4,Dt(14),w=!1),bt(this.i,this.l,null,"[Incomplete Response]");break}else if(je==Es){this.s=4,Dt(15),bt(this.i,this.l,Q,"[Invalid Chunk]"),w=!1;break}else bt(this.i,this.l,je,null),qi(this,je);if(ur(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||Q.length!=0||this.h.h||(this.s=1,Dt(16),w=!1),this.o=this.o&&w,!w)bt(this.i,this.l,Q,"[Invalid Chunked Response]"),Rt(this),wr(this);else if(0<Q.length&&!this.W){this.W=!0;var Re=this.j;Re.g==this&&Re.ba&&!Re.M&&(Re.j.info("Great, no buffering proxy detected. Bytes received: "+Q.length),Ji(Re),Re.M=!0,Dt(11))}}else bt(this.i,this.l,Q,null),qi(this,Q);Te==4&&Rt(this),this.o&&!this.J&&(Te==4?Sa(this.j,this):(this.o=!1,vi(this)))}else _a(this.g),w==400&&0<Q.indexOf("Unknown SID")?(this.s=3,Dt(12)):(this.s=0,Dt(13)),Rt(this),wr(this)}}}catch{}finally{}};function ur(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Hi(c,y){var w=c.C,S=y.indexOf(`
`,w);return S==-1?zi:(w=Number(y.substring(w,S)),isNaN(w)?Es:(S+=1,S+w>y.length?zi:(y=y.slice(S,S+w),c.C=S+w,y)))}on.prototype.cancel=function(){this.J=!0,Rt(this)};function vi(c){c.S=Date.now()+c.I,ha(c,c.I)}function ha(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Wt(x(c.ba,c),y)}function _i(c){c.B&&(f.clearTimeout(c.B),c.B=null)}on.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(or(this.i,this.A),this.L!=2&&(Mr(),Dt(17)),Rt(this),this.s=2,wr(this)):ha(this,this.S-c)};function wr(c){c.j.G==0||c.J||Sa(c.j,c)}function Rt(c){_i(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,an(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function qi(c,y){try{var w=c.j;if(w.G!=0&&(w.g==c||da(w.h,c))){if(!c.K&&da(w.h,c)&&w.G==3){try{var S=w.Da.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var P=S;if(P[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)xa(w),Ea(w);else break e;xo(w),Dt(18)}}else w.za=P[1],0<w.za-w.T&&37500>P[2]&&w.F&&w.v==0&&!w.C&&(w.C=Wt(x(w.Za,w),6e3));if(1>=fa(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Si(w,11)}else if((c.K||w.g==c)&&xa(w),!z(y))for(P=w.Da.g.parse(y),y=0;y<P.length;y++){let xe=P[y];if(w.T=xe[0],xe=xe[1],w.G==2)if(xe[0]=="c"){w.K=xe[1],w.ia=xe[2];const Re=xe[3];Re!=null&&(w.la=Re,w.j.info("VER="+w.la));const Te=xe[4];Te!=null&&(w.Aa=Te,w.j.info("SVER="+w.Aa));const Oe=xe[5];Oe!=null&&typeof Oe=="number"&&0<Oe&&(S=1.5*Oe,w.L=S,w.j.info("backChannelRequestTimeoutMs_="+S)),S=w;const je=c.g;if(je){const ut=je.g?je.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ut){var L=S.h;L.g||ut.indexOf("spdy")==-1&&ut.indexOf("quic")==-1&&ut.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Gi(L,L.h),L.h=null))}if(S.D){const yt=je.g?je.g.getResponseHeader("X-HTTP-Session-Id"):null;yt&&(S.ya=yt,Et(S.I,S.D,yt))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),S=w;var Q=c;if(S.qa=Ns(S,S.J?S.ia:null,S.W),Q.K){Mn(S.h,Q);var fe=Q,we=S.L;we&&(fe.I=we),fe.B&&(_i(fe),vi(fe)),S.g=Q}else vl(S);0<w.i.length&&Qi(w)}else xe[0]!="stop"&&xe[0]!="close"||Si(w,7);else w.G==3&&(xe[0]=="stop"||xe[0]=="close"?xe[0]=="stop"?Si(w,7):ba(w):xe[0]!="noop"&&w.l&&w.l.ta(xe),w.v=0)}}Mr(4)}catch{}}var Ts=class{constructor(c,y){this.g=c,this.map=y}};function gn(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wi(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fa(c){return c.h?1:c.g?c.g.size:0}function da(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Gi(c,y){c.g?c.g.add(y):c.h=y}function Mn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}gn.prototype.cancel=function(){if(this.i=wo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const w of c.g.values())y=y.concat(w.D);return y}return D(c.i)}function fl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(d(c)){for(var y=[],w=c.length,S=0;S<w;S++)y.push(c[S]);return y}y=[],w=0;for(S in c)y[w++]=c[S];return y}function xs(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(d(c)||typeof c=="string"){var y=[];c=c.length;for(var w=0;w<c;w++)y.push(w);return y}y=[],w=0;for(const S in c)y[w++]=S;return y}}}function pa(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(d(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var w=xs(c),S=fl(c),P=S.length,L=0;L<P;L++)y.call(void 0,S[L],w&&w[L],c)}var $i=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rn(c,y){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var S=c[w].indexOf("="),P=null;if(0<=S){var L=c[w].substring(0,S);P=c[w].substring(S+1)}else L=c[w];y(L,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Ht(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ht){this.h=c.h,ti(this,c.j),this.o=c.o,this.g=c.g,bi(this,c.s),this.l=c.l;var y=c.i,w=new Ei;w.i=y.i,y.g&&(w.g=new Map(y.g),w.h=y.h),ni(this,w),this.m=c.m}else c&&(y=String(c).match($i))?(this.h=!1,ti(this,y[1]||"",!0),this.o=cr(y[2]||""),this.g=cr(y[3]||"",!0),bi(this,y[4]),this.l=cr(y[5]||"",!0),ni(this,y[6]||"",!0),this.m=cr(y[7]||"")):(this.h=!1,this.i=new Ei(null,this.h))}Ht.prototype.toString=function(){var c=[],y=this.j;y&&c.push(Ki(y,ma,!0),":");var w=this.g;return(w||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ki(y,ma,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ki(w,w.charAt(0)=="/"?Rs:ga,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ki(w,ya)),c.join("")};function Gn(c){return new Ht(c)}function ti(c,y,w){c.j=w?cr(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function bi(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function ni(c,y,w){y instanceof Ei?(c.i=y,dl(c.i,c.h)):(w||(y=Ki(y,Vu)),c.i=new Ei(y,c.h))}function Et(c,y,w){c.i.set(y,w)}function Ss(c){return Et(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function cr(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ki(c,y,w){return typeof c=="string"?(c=encodeURI(c).replace(y,As),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function As(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ma=/[#\/\?@]/g,ga=/[#\?:]/g,Rs=/[#\?]/g,Vu=/[#\?@]/g,ya=/#/g;function Ei(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function br(c){c.g||(c.g=new Map,c.h=0,c.i&&Rn(c.i,function(y,w){c.add(decodeURIComponent(y.replace(/\+/g," ")),w)}))}t=Ei.prototype,t.add=function(c,y){br(this),this.i=null,c=ri(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(y),this.h+=1,this};function Vr(c,y){br(c),y=ri(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function hr(c,y){return br(c),y=ri(c,y),c.g.has(y)}t.forEach=function(c,y){br(this),this.g.forEach(function(w,S){w.forEach(function(P){c.call(y,P,S,this)},this)},this)},t.na=function(){br(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),w=[];for(let S=0;S<y.length;S++){const P=c[S];for(let L=0;L<P.length;L++)w.push(y[S])}return w},t.V=function(c){br(this);let y=[];if(typeof c=="string")hr(this,c)&&(y=y.concat(this.g.get(ri(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)y=y.concat(c[w])}return y},t.set=function(c,y){return br(this),this.i=null,c=ri(this,c),hr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function bo(c,y,w){Vr(c,y),0<w.length&&(c.i=null,c.g.set(ri(c,y),D(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var w=0;w<y.length;w++){var S=y[w];const L=encodeURIComponent(String(S)),Q=this.V(S);for(S=0;S<Q.length;S++){var P=L;Q[S]!==""&&(P+="="+encodeURIComponent(String(Q[S]))),c.push(P)}}return this.i=c.join("&")};function ri(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function dl(c,y){y&&!c.j&&(br(c),c.i=null,c.g.forEach(function(w,S){var P=S.toLowerCase();S!=P&&(Vr(this,S),bo(this,P,w))},c)),c.j=y}function Cs(c,y){const w=new Xt;if(f.Image){const S=new Image;S.onload=I(dr,w,"TestLoadImage: loaded",!0,y,S),S.onerror=I(dr,w,"TestLoadImage: error",!1,y,S),S.onabort=I(dr,w,"TestLoadImage: abort",!1,y,S),S.ontimeout=I(dr,w,"TestLoadImage: timeout",!1,y,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else y(!1)}function fr(c,y){const w=new Xt,S=new AbortController,P=setTimeout(()=>{S.abort(),dr(w,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:S.signal}).then(L=>{clearTimeout(P),L.ok?dr(w,"TestPingServer: ok",!0,y):dr(w,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(P),dr(w,"TestPingServer: error",!1,y)})}function dr(c,y,w,S,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),S(w)}catch{}}function Yi(){this.g=new qn}function $n(c,y,w){const S=w||"";try{pa(c,function(P,L){let Q=P;p(P)&&(Q=dt(P)),y.push(S+L+"="+encodeURIComponent(Q))})}catch(P){throw y.push(S+"type="+encodeURIComponent("_badmap")),P}}function yn(c){this.l=c.Ub||null,this.j=c.eb||!1}A(yn,ir),yn.prototype.g=function(){return new Ti(this.l,this.j)},yn.prototype.i=function(c){return function(){return c}}({});function Ti(c,y){pt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ti,pt),t=Ti.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,Ur(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Lr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ur(this)),this.g&&(this.readyState=3,Ur(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?Lr(this):Ur(this),this.readyState==3&&Eo(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Lr(this))},t.Qa=function(c){this.g&&(this.response=c,Lr(this))},t.ga=function(){this.g&&Lr(this)};function Lr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ur(c)}t.setRequestHeader=function(c,y){this.u.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var w=y.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=y.next();return c.join(`\r
`)};function Ur(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ti.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Is(c){let y="";return H(c,function(w,S){y+=S,y+=":",y+=w,y+=`\r
`}),y}function Qt(c,y,w){e:{for(S in w){var S=!1;break e}S=!0}S||(w=Is(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):Et(c,y,w))}function at(c){pt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(at,pt);var Ps=/^https?$/i,xi=["POST","PUT"];t=at.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,y,w,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vr.g(),this.v=this.o?An(this.o):An(vr),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(L){pl(this,L);return}if(c=w||"",w=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var P in S)w.set(P,S[P]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())w.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(w.keys()).find(L=>L.toLowerCase()=="content-type"),P=f.FormData&&c instanceof f.FormData,!(0<=Array.prototype.indexOf.call(xi,y,void 0))||S||P||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,Q]of w)this.g.setRequestHeader(L,Q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wi(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){pl(this,L)}};function pl(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,va(c),Fr(c)}function va(c){c.A||(c.A=!0,it(c,"complete"),it(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,it(this,"complete"),it(this,"abort"),Fr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fr(this,!0)),at.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?ii(this):this.bb())},t.bb=function(){ii(this)};function ii(c){if(c.h&&typeof u<"u"&&(!c.v[1]||Er(c)!=4||c.Z()!=2)){if(c.u&&Er(c)==4)Vt(c.Ea,0,c);else if(it(c,"readystatechange"),Er(c)==4){c.h=!1;try{const Q=c.Z();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var w;if(!(w=y)){var S;if(S=Q===0){var P=String(c.D).match($i)[1]||null;!P&&f.self&&f.self.location&&(P=f.self.location.protocol.slice(0,-1)),S=!Ps.test(P?P.toLowerCase():"")}w=S}if(w)it(c,"complete"),it(c,"success");else{c.m=6;try{var L=2<Er(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",va(c)}}finally{Fr(c)}}}}function Fr(c,y){if(c.g){Wi(c);const w=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||it(c,"ready");try{w.onreadystatechange=S}catch{}}}function Wi(c){c.I&&(f.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Er(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Er(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),mn(y)}};function ml(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function _a(c){const y={};c=(c.g&&2<=Er(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(z(c[S]))continue;var w=M(c[S]);const P=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const L=y[P]||[];y[P]=L,L.push(w)}F(y,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xi(c,y,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||y}function wa(c){this.Aa=0,this.i=[],this.j=new Xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xi("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xi("baseRetryDelayMs",5e3,c),this.cb=Xi("retryDelaySeedMs",1e4,c),this.Wa=Xi("forwardChannelMaxRetries",2,c),this.wa=Xi("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new gn(c&&c.concurrentRequestLimit),this.Da=new Yi,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=wa.prototype,t.la=8,t.G=1,t.connect=function(c,y,w,S){Dt(0),this.W=c,this.H=y||{},w&&S!==void 0&&(this.H.OSID=w,this.H.OAID=S),this.F=this.X,this.I=Ns(this,null,this.W),Qi(this)};function ba(c){if(gl(c),c.G==3){var y=c.U++,w=Gn(c.I);if(Et(w,"SID",c.K),Et(w,"RID",y),Et(w,"TYPE","terminate"),ks(c,w),y=new on(c,c.j,y),y.L=2,y.v=Ss(Gn(w)),w=!1,f.navigator&&f.navigator.sendBeacon)try{w=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!w&&f.Image&&(new Image().src=y.v,w=!0),w||(y.g=bl(y.j,null),y.g.ea(y.v)),y.F=Date.now(),vi(y)}wl(c)}function Ea(c){c.g&&(Ji(c),c.g.cancel(),c.g=null)}function gl(c){Ea(c),c.u&&(f.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&f.clearTimeout(c.s),c.s=null)}function Qi(c){if(!wi(c.h)&&!c.s){c.s=!0;var y=c.Ga;ee||q(),le||(ee(),le=!0),oe.add(y,c),c.B=0}}function To(c,y){return fa(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Wt(x(c.Ga,c,y),So(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const P=new on(this,this.j,c);let L=this.o;if(this.S&&(L?(L=O(L),k(L,this.S)):L=this.S),this.m!==null||this.O||(P.H=L,L=null),this.P)e:{for(var y=0,w=0;w<this.i.length;w++){t:{var S=this.i[w];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,4096<y){y=w;break e}if(y===4096||w===this.i.length-1){y=w+1;break e}}y=1e3}else y=1e3;y=yl(this,P,y),w=Gn(this.I),Et(w,"RID",c),Et(w,"CVER",22),this.D&&Et(w,"X-HTTP-Session-Id",this.D),ks(this,w),L&&(this.O?y="headers="+encodeURIComponent(String(Is(L)))+"&"+y:this.m&&Qt(w,this.m,L)),Gi(this.h,P),this.Ua&&Et(w,"TYPE","init"),this.P?(Et(w,"$req",y),Et(w,"SID","null"),P.T=!0,_r(P,w,null)):_r(P,w,y),this.G=2}}else this.G==3&&(c?Ta(this,c):this.i.length==0||wi(this.h)||Ta(this))};function Ta(c,y){var w;y?w=y.l:w=c.U++;const S=Gn(c.I);Et(S,"SID",c.K),Et(S,"RID",w),Et(S,"AID",c.T),ks(c,S),c.m&&c.o&&Qt(S,c.m,c.o),w=new on(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),y&&(c.i=y.D.concat(c.i)),y=yl(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Gi(c.h,w),_r(w,S,y)}function ks(c,y){c.H&&H(c.H,function(w,S){Et(y,S,w)}),c.l&&pa({},function(w,S){Et(y,S,w)})}function yl(c,y,w){w=Math.min(c.i.length,w);var S=c.l?x(c.l.Na,c.l,c):null;e:{var P=c.i;let L=-1;for(;;){const Q=["count="+w];L==-1?0<w?(L=P[0].g,Q.push("ofs="+L)):L=0:Q.push("ofs="+L);let fe=!0;for(let we=0;we<w;we++){let xe=P[we].g;const Re=P[we].map;if(xe-=L,0>xe)L=Math.max(0,P[we].g-100),fe=!1;else try{$n(Re,Q,"req"+xe+"_")}catch{S&&S(Re)}}if(fe){S=Q.join("&");break e}}}return c=c.i.splice(0,w),y.D=c,S}function vl(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;ee||q(),le||(ee(),le=!0),oe.add(y,c),c.v=0}}function xo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Wt(x(c.Fa,c),So(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,_l(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Wt(x(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Dt(10),Ea(this),_l(this))};function Ji(c){c.A!=null&&(f.clearTimeout(c.A),c.A=null)}function _l(c){c.g=new on(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=Gn(c.qa);Et(y,"RID","rpc"),Et(y,"SID",c.K),Et(y,"AID",c.T),Et(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Et(y,"TO",c.ja),Et(y,"TYPE","xmlhttp"),ks(c,y),c.m&&c.o&&Qt(y,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ss(Gn(y)),w.m=null,w.P=!0,ln(w,c)}t.Za=function(){this.C!=null&&(this.C=null,Ea(this),xo(this),Dt(19))};function xa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Sa(c,y){var w=null;if(c.g==y){xa(c),Ji(c),c.g=null;var S=2}else if(da(c.h,y))w=y.D,Mn(c.h,y),S=1;else return;if(c.G!=0){if(y.o)if(S==1){w=y.m?y.m.length:0,y=Date.now()-y.F;var P=c.B;S=ei(),it(S,new Ot(S,w)),Qi(c)}else vl(c);else if(P=y.s,P==3||P==0&&0<y.X||!(S==1&&To(c,y)||S==2&&xo(c)))switch(w&&0<w.length&&(y=c.h,y.i=y.i.concat(w)),P){case 1:Si(c,5);break;case 4:Si(c,10);break;case 3:Si(c,6);break;default:Si(c,2)}}}function So(c,y){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*y}function Si(c,y){if(c.j.info("Error code "+y),y==2){var w=x(c.fb,c),S=c.Xa;const P=!S;S=new Ht(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ti(S,"https"),Ss(S),P?Cs(S.toString(),w):fr(S.toString(),w)}else Dt(2);c.G=0,c.l&&c.l.sa(y),wl(c),gl(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Dt(2)):(this.j.info("Failed to ping google.com"),Dt(1))};function wl(c){if(c.G=0,c.ka=[],c.l){const y=wo(c.h);(y.length!=0||c.i.length!=0)&&(C(c.ka,y),C(c.ka,c.i),c.h.i.length=0,D(c.i),c.i.length=0),c.l.ra()}}function Ns(c,y,w){var S=w instanceof Ht?Gn(w):new Ht(w);if(S.g!="")y&&(S.g=y+"."+S.g),bi(S,S.s);else{var P=f.location;S=P.protocol,y=y?y+"."+P.hostname:P.hostname,P=+P.port;var L=new Ht(null);S&&ti(L,S),y&&(L.g=y),P&&bi(L,P),w&&(L.l=w),S=L}return w=c.D,y=c.ya,w&&y&&Et(S,w,y),Et(S,"VER",c.la),ks(c,S),S}function bl(c,y,w){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new at(new yn({eb:w})):new at(c.pa),y.Ha(c.J),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function El(){}t=El.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Aa(){}Aa.prototype.g=function(c,y){return new Cn(c,y)};function Cn(c,y){pt.call(this),this.g=new wa(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!z(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!z(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new T(this)}A(Cn,pt),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){ba(this.g)},Cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=dt(c),c=w);y.i.push(new Ts(y.Ya++,c)),y.G==3&&Qi(y)},Cn.prototype.N=function(){this.g.l=null,delete this.j,ba(this.g),delete this.g,Cn.aa.N.call(this)};function Ao(c){sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const w in y){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}A(Ao,sr);function g(){gi.call(this),this.status=1}A(g,gi);function T(c){this.g=c}A(T,El),T.prototype.ua=function(){it(this.g,"a")},T.prototype.ta=function(c){it(this.g,new Ao(c))},T.prototype.sa=function(c){it(this.g,new g)},T.prototype.ra=function(){it(this.g,"b")},Aa.prototype.createWebChannel=Aa.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,DA=function(){return new Aa},NA=function(){return ei()},kA=ar,Dy={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Bi.NO_ERROR=0,Bi.TIMEOUT=8,Bi.HTTP_ERROR=6,Zf=Bi,yr.COMPLETE="complete",PA=yr,Dr.EventType=On,On.OPEN="a",On.CLOSE="b",On.ERROR="c",On.MESSAGE="d",pt.prototype.listen=pt.prototype.K,kc=Dr,at.prototype.listenOnce=at.prototype.L,at.prototype.getLastError=at.prototype.Ka,at.prototype.getLastErrorCode=at.prototype.Ba,at.prototype.getStatus=at.prototype.Z,at.prototype.getResponseJson=at.prototype.Oa,at.prototype.getResponseText=at.prototype.oa,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Ha,IA=at}).apply(typeof Vf<"u"?Vf:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",yT="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qn.UNAUTHENTICATED=new Qn(null),Qn.GOOGLE_CREDENTIALS=new Qn("google-credentials-uid"),Qn.FIRST_PARTY=new Qn("first-party-uid"),Qn.MOCK_USER=new Qn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ru="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=new Mv("@firebase/firestore");function Zl(){return rl.logLevel}function Ie(t,...e){if(rl.logLevel<=ht.DEBUG){const n=e.map(Wv);rl.debug(`Firestore (${Ru}): ${t}`,...n)}}function ia(t,...e){if(rl.logLevel<=ht.ERROR){const n=e.map(Wv);rl.error(`Firestore (${Ru}): ${t}`,...n)}}function fu(t,...e){if(rl.logLevel<=ht.WARN){const n=e.map(Wv);rl.warn(`Firestore (${Ru}): ${t}`,...n)}}function Wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function He(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,OA(t,r,n)}function OA(t,e,n){let r=`FIRESTORE (${Ru}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ia(r),new Error(r)}function Tt(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||OA(e,a,r)}function Xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qn.UNAUTHENTICATED))}shutdown(){}}class w4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class b4{constructor(e){this.t=e,this.currentUser=Qn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Tt(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ea,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},f=d=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>f(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?f(d):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ea)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tt(typeof r.accessToken=="string",31837,{l:r}),new MA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tt(e===null||typeof e=="string",2055,{h:e}),new Qn(e)}}class E4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Qn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class T4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new E4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Qn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Tt(this.o===void 0,3512);const r=l=>{l.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,Ie("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new vT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Tt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new vT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=S4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function nt(t,e){return t<e?-1:t>e?1:0}function Oy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return nt(r,a);{const l=jA(),u=A4(l.encode(_T(t,n)),l.encode(_T(e,n)));return u!==0?u:nt(r,a)}}n+=r>65535?2:1}return nt(t.length,e.length)}function _T(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function A4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return nt(t[n],e[n]);return nt(t.length,e.length)}function du(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT=-62135596800,bT=1e6;class xn{static now(){return xn.fromMillis(Date.now())}static fromDate(e){return xn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*bT);return new xn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<wT)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bT}_compareTo(e){return this.seconds===e.seconds?nt(this.nanoseconds,e.nanoseconds):nt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-wT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{static fromTimestamp(e){return new We(e)}static min(){return new We(new xn(0,0))}static max(){return new We(new xn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="__name__";class as{constructor(e,n,r){n===void 0?n=0:n>e.length&&He(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&He(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return as.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof as?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=as.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return nt(e.length,n.length)}static compareSegments(e,n){const r=as.isNumericId(e),a=as.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?as.extractNumericId(e).compare(as.extractNumericId(n)):Oy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return no.fromString(e.substring(4,e.length-2))}}class Lt extends as{construct(e,n,r){return new Lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new Lt(n)}static emptyPath(){return new Lt([])}}const R4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends as{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return R4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ET}static keyField(){return new zn([ET])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Pe(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new Pe(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(r+=f,a++):(l(),a++)}if(l(),u)throw new Pe(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(Lt.fromString(e))}static fromName(e){return new Ue(Lt.fromString(e).popFirst(5))}static empty(){return new Ue(Lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new Lt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function C4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=We.fromTimestamp(r===1e9?new xn(n+1,0):new xn(n,r));return new so(a,Ue.empty(),e)}function I4(t){return new so(t.readTime,t.key,Jc)}class so{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new so(We.min(),Ue.empty(),Jc)}static max(){return new so(We.max(),Ue.empty(),Jc)}}function P4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:nt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cu(t){if(t.code!==ge.FAILED_PRECONDITION||t.message!==k4)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&He(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&n()},d=>r(d))}),u=!0,l===a&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(a=>a?ve.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,a)=>{const l=e.length,u=new Array(l);let f=0;for(let d=0;d<l;d++){const p=d;n(e[p]).next(v=>{u[p]=v,++f,f===l&&r(u)},v=>a(v))}})}static doWhile(e,n){return new ve((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function D4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Iu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=-1;function Jd(t){return t==null}function Ed(t){return t===0&&1/t==-1/0}function O4(t){return typeof t=="number"&&Number.isInteger(t)&&!Ed(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="";function M4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=TT(e)),e=j4(t.get(n),e);return TT(e)}function j4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case LA:n+="";break;default:n+=l}}return n}function TT(t){return t+LA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function go(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,n){this.comparator=e,this.root=n||Bn.EMPTY}insert(e,n){return new Kt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bn.BLACK,null,null))}remove(e){return new Kt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lf(this.root,e,this.comparator,!0)}}class Lf{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Bn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??Bn.RED,this.left=a??Bn.EMPTY,this.right=l??Bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new Bn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return Bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return Bn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw He(43730,{key:this.key,value:this.value});if(this.right.isRed())throw He(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw He(27949);return e+(this.isRed()?0:1)}}Bn.EMPTY=null,Bn.RED=!0,Bn.BLACK=!1;Bn.EMPTY=new class{constructor(){this.size=0}get key(){throw He(57766)}get value(){throw He(16141)}get color(){throw He(16727)}get left(){throw He(29726)}get right(){throw He(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new Bn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Kt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(e){return new ST(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class ST{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Yr([])}unionWith(e){let n=new Sn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return du(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new FA("Invalid base64 string: "+l):l}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return nt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const V4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ao(t){if(Tt(!!t,39018),typeof t=="string"){let e=0;const n=V4.exec(t);if(Tt(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dn(t.seconds),nanos:dn(t.nanos)}}function dn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="server_timestamp",zA="__type__",HA="__previous_value__",qA="__local_write_time__";function Qv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[zA])===null||n===void 0?void 0:n.stringValue)===BA}function Zd(t){const e=t.mapValue.fields[HA];return Qv(e)?Zd(e):e}function Zc(t){const e=ao(t.mapValue.fields[qA].timestampValue);return new xn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(e,n,r,a,l,u,f,d,p,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=d,this.useFetchStreams=p,this.isUsingEmulator=v}}const Td="(default)";class eh{constructor(e,n){this.projectId=e,this.database=n||Td}static empty(){return new eh("","")}get isDefaultDatabase(){return this.database===Td}isEqual(e){return e instanceof eh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA="__type__",U4="__max__",Uf={mapValue:{}},$A="__vector__",xd="value";function lo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qv(t)?4:B4(t)?9007199254740991:F4(t)?10:11:He(28295,{value:t})}function ps(t,e){if(t===e)return!0;const n=lo(t);if(n!==lo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zc(t).isEqual(Zc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=ao(a.timestampValue),f=ao(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return oo(a.bytesValue).isEqual(oo(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return dn(a.geoPointValue.latitude)===dn(l.geoPointValue.latitude)&&dn(a.geoPointValue.longitude)===dn(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return dn(a.integerValue)===dn(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=dn(a.doubleValue),f=dn(l.doubleValue);return u===f?Ed(u)===Ed(f):isNaN(u)&&isNaN(f)}return!1}(t,e);case 9:return du(t.arrayValue.values||[],e.arrayValue.values||[],ps);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(xT(u)!==xT(f))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(f[d]===void 0||!ps(u[d],f[d])))return!1;return!0}(t,e);default:return He(52216,{left:t})}}function th(t,e){return(t.values||[]).find(n=>ps(n,e))!==void 0}function pu(t,e){if(t===e)return 0;const n=lo(t),r=lo(e);if(n!==r)return nt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return nt(t.booleanValue,e.booleanValue);case 2:return function(l,u){const f=dn(l.integerValue||l.doubleValue),d=dn(u.integerValue||u.doubleValue);return f<d?-1:f>d?1:f===d?0:isNaN(f)?isNaN(d)?0:-1:1}(t,e);case 3:return AT(t.timestampValue,e.timestampValue);case 4:return AT(Zc(t),Zc(e));case 5:return Oy(t.stringValue,e.stringValue);case 6:return function(l,u){const f=oo(l),d=oo(u);return f.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),d=u.split("/");for(let p=0;p<f.length&&p<d.length;p++){const v=nt(f[p],d[p]);if(v!==0)return v}return nt(f.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const f=nt(dn(l.latitude),dn(u.latitude));return f!==0?f:nt(dn(l.longitude),dn(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RT(t.arrayValue,e.arrayValue);case 10:return function(l,u){var f,d,p,v;const b=l.fields||{},x=u.fields||{},I=(f=b[xd])===null||f===void 0?void 0:f.arrayValue,A=(d=x[xd])===null||d===void 0?void 0:d.arrayValue,D=nt(((p=I==null?void 0:I.values)===null||p===void 0?void 0:p.length)||0,((v=A==null?void 0:A.values)===null||v===void 0?void 0:v.length)||0);return D!==0?D:RT(I,A)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Uf.mapValue&&u===Uf.mapValue)return 0;if(l===Uf.mapValue)return 1;if(u===Uf.mapValue)return-1;const f=l.fields||{},d=Object.keys(f),p=u.fields||{},v=Object.keys(p);d.sort(),v.sort();for(let b=0;b<d.length&&b<v.length;++b){const x=Oy(d[b],v[b]);if(x!==0)return x;const I=pu(f[d[b]],p[v[b]]);if(I!==0)return I}return nt(d.length,v.length)}(t.mapValue,e.mapValue);default:throw He(23264,{Pe:n})}}function AT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return nt(t,e);const n=ao(t),r=ao(e),a=nt(n.seconds,r.seconds);return a!==0?a:nt(n.nanos,r.nanos)}function RT(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=pu(n[a],r[a]);if(l)return l}return nt(n.length,r.length)}function mu(t){return My(t)}function My(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ao(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ue.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=My(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${My(n.fields[u])}`;return a+"}"}(t.mapValue):He(61005,{value:t})}function ed(t){switch(lo(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Zd(t);return e?16+ed(e):16;case 5:return 2*t.stringValue.length;case 6:return oo(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+ed(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return go(r.fields,(l,u)=>{a+=l.length+ed(u)}),a}(t.mapValue);default:throw He(13486,{value:t})}}function CT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function jy(t){return!!t&&"integerValue"in t}function Jv(t){return!!t&&"arrayValue"in t}function IT(t){return!!t&&"nullValue"in t}function PT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function td(t){return!!t&&"mapValue"in t}function F4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[GA])===null||n===void 0?void 0:n.stringValue)===$A}function Lc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return go(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Lc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Lc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function B4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===U4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e){this.value=e}static empty(){return new Ir({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Lc(n)}setAll(e){let n=zn.emptyPath(),r={},a=[];e.forEach((u,f)=>{if(!n.isImmediateParentOf(f)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=f.popLast()}u?r[f.lastSegment()]=Lc(u):a.push(f.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ps(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];td(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){go(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new Ir(Lc(this.value))}}function KA(t){const e=[];return go(t.fields,(n,r)=>{const a=new zn([n]);if(td(r)){const l=KA(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e,n,r,a,l,u,f){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new Jn(e,0,We.min(),We.min(),We.min(),Ir.empty(),0)}static newFoundDocument(e,n,r,a){return new Jn(e,1,n,We.min(),r,a,0)}static newNoDocument(e,n){return new Jn(e,2,n,We.min(),We.min(),Ir.empty(),0)}static newUnknownDocument(e,n){return new Jn(e,3,n,We.min(),We.min(),Ir.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(We.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ir.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ir.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=We.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){this.position=e,this.inclusive=n}}function kT(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Ue.comparator(Ue.fromName(u.referenceValue),n.key):r=pu(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function NT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ps(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e,n="asc"){this.field=e,this.dir=n}}function z4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{}class bn extends YA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new q4(e,n,r):n==="array-contains"?new K4(e,r):n==="in"?new Y4(e,r):n==="not-in"?new W4(e,r):n==="array-contains-any"?new X4(e,r):new bn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new G4(e,r):new $4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pu(n,this.value)):n!==null&&lo(this.value)===lo(n)&&this.matchesComparison(pu(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return He(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vi extends YA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Vi(e,n)}matches(e){return WA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function WA(t){return t.op==="and"}function XA(t){return H4(t)&&WA(t)}function H4(t){for(const e of t.filters)if(e instanceof Vi)return!1;return!0}function Vy(t){if(t instanceof bn)return t.field.canonicalString()+t.op.toString()+mu(t.value);if(XA(t))return t.filters.map(e=>Vy(e)).join(",");{const e=t.filters.map(n=>Vy(n)).join(",");return`${t.op}(${e})`}}function QA(t,e){return t instanceof bn?function(r,a){return a instanceof bn&&r.op===a.op&&r.field.isEqual(a.field)&&ps(r.value,a.value)}(t,e):t instanceof Vi?function(r,a){return a instanceof Vi&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,f)=>l&&QA(u,a.filters[f]),!0):!1}(t,e):void He(19439)}function JA(t){return t instanceof bn?function(n){return`${n.field.canonicalString()} ${n.op} ${mu(n.value)}`}(t):t instanceof Vi?function(n){return n.op.toString()+" {"+n.getFilters().map(JA).join(" ,")+"}"}(t):"Filter"}class q4 extends bn{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.matchesComparison(n)}}class G4 extends bn{constructor(e,n){super(e,"in",n),this.keys=ZA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class $4 extends bn{constructor(e,n){super(e,"not-in",n),this.keys=ZA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ZA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class K4 extends bn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jv(n)&&th(n.arrayValue,this.value)}}class Y4 extends bn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&th(this.value.arrayValue,n)}}class W4 extends bn{constructor(e,n){super(e,"not-in",n)}matches(e){if(th(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!th(this.value.arrayValue,n)}}class X4 extends bn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>th(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n=null,r=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.Ie=null}}function DT(t,e=null,n=[],r=[],a=null,l=null,u=null){return new Q4(t,e,n,r,a,l,u)}function Zv(t){const e=Xe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Jd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>mu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>mu(r)).join(",")),e.Ie=n}return e.Ie}function e0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!z4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NT(t.startAt,e.startAt)&&NT(t.endAt,e.endAt)}function Ly(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],a=[],l=null,u="F",f=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function J4(t,e,n,r,a,l,u,f){return new Pu(t,e,n,r,a,l,u,f)}function ep(t){return new Pu(t)}function OT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function eR(t){return t.collectionGroup!==null}function Uc(t){const e=Xe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new Sn(zn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(p=>{p.isInequality()&&(f=f.add(p.field))})}),f})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new nh(l,r))}),n.has(zn.keyField().canonicalString())||e.Ee.push(new nh(zn.keyField(),r))}return e.Ee}function us(t){const e=Xe(t);return e.de||(e.de=Z4(e,Uc(t))),e.de}function Z4(t,e){if(t.limitType==="F")return DT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new nh(a.field,l)});const n=t.endAt?new Sd(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Sd(t.startAt.position,t.startAt.inclusive):null;return DT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Uy(t,e){const n=t.filters.concat([e]);return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Fy(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tp(t,e){return e0(us(t),us(e))&&t.limitType===e.limitType}function tR(t){return`${Zv(us(t))}|lt:${t.limitType}`}function eu(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>JA(a)).join(", ")}]`),Jd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>mu(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>mu(a)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function np(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ue.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of Uc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,f,d){const p=kT(u,f,d);return u.inclusive?p<=0:p<0}(r.startAt,Uc(r),a)||r.endAt&&!function(u,f,d){const p=kT(u,f,d);return u.inclusive?p>=0:p>0}(r.endAt,Uc(r),a))}(t,e)}function ej(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function nR(t){return(e,n)=>{let r=!1;for(const a of Uc(t)){const l=tj(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function tj(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(l,u,f){const d=u.data.field(l),p=f.data.field(l);return d!==null&&p!==null?pu(d,p):He(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return He(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){go(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return UA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Kt(Ue.comparator);function sa(){return nj}const rR=new Kt(Ue.comparator);function Nc(...t){let e=rR;for(const n of t)e=e.insert(n.key,n);return e}function iR(t){let e=rR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function $o(){return Fc()}function sR(){return Fc()}function Fc(){return new ll(t=>t.toString(),(t,e)=>t.isEqual(e))}const rj=new Kt(Ue.comparator),ij=new Sn(Ue.comparator);function ft(...t){let e=ij;for(const n of t)e=e.add(n);return e}const sj=new Sn(nt);function aj(){return sj}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ed(e)?"-0":e}}function aR(t){return{integerValue:""+t}}function oj(t,e){return O4(e)?aR(e):t0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(){this._=void 0}}function lj(t,e,n){return t instanceof rh?function(a,l){const u={fields:{[zA]:{stringValue:BA},[qA]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Qv(l)&&(l=Zd(l)),l&&(u.fields[HA]=l),{mapValue:u}}(n,e):t instanceof ih?lR(t,e):t instanceof sh?uR(t,e):function(a,l){const u=oR(a,l),f=MT(u)+MT(a.Re);return jy(u)&&jy(a.Re)?aR(f):t0(a.serializer,f)}(t,e)}function uj(t,e,n){return t instanceof ih?lR(t,e):t instanceof sh?uR(t,e):n}function oR(t,e){return t instanceof Ad?function(r){return jy(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class rh extends rp{}class ih extends rp{constructor(e){super(),this.elements=e}}function lR(t,e){const n=cR(e);for(const r of t.elements)n.some(a=>ps(a,r))||n.push(r);return{arrayValue:{values:n}}}class sh extends rp{constructor(e){super(),this.elements=e}}function uR(t,e){let n=cR(e);for(const r of t.elements)n=n.filter(a=>!ps(a,r));return{arrayValue:{values:n}}}class Ad extends rp{constructor(e,n){super(),this.serializer=e,this.Re=n}}function MT(t){return dn(t.integerValue||t.doubleValue)}function cR(t){return Jv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n){this.field=e,this.transform=n}}function hj(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof ih&&a instanceof ih||r instanceof sh&&a instanceof sh?du(r.elements,a.elements,ps):r instanceof Ad&&a instanceof Ad?ps(r.Re,a.Re):r instanceof rh&&a instanceof rh}(t.transform,e.transform)}class fj{constructor(e,n){this.version=e,this.transformResults=n}}class Mi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Mi}static exists(e){return new Mi(void 0,e)}static updateTime(e){return new Mi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function hR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dR(t.key,Mi.none()):new Eh(t.key,t.data,Mi.none());{const n=t.data,r=Ir.empty();let a=new Sn(zn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new yo(t.key,r,new Yr(a.toArray()),Mi.none())}}function dj(t,e,n){t instanceof Eh?function(a,l,u){const f=a.value.clone(),d=VT(a.fieldTransforms,l,u.transformResults);f.setAll(d),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):t instanceof yo?function(a,l,u){if(!nd(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=VT(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(fR(a)),d.setAll(f),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function Bc(t,e,n,r){return t instanceof Eh?function(l,u,f,d){if(!nd(l.precondition,u))return f;const p=l.value.clone(),v=LT(l.fieldTransforms,d,u);return p.setAll(v),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof yo?function(l,u,f,d){if(!nd(l.precondition,u))return f;const p=LT(l.fieldTransforms,d,u),v=u.data;return v.setAll(fR(l)),v.setAll(p),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(b=>b.field))}(t,e,n,r):function(l,u,f){return nd(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(t,e,n)}function pj(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=oR(r.transform,a||null);l!=null&&(n===null&&(n=Ir.empty()),n.set(r.field,l))}return n||null}function jT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&du(r,a,(l,u)=>hj(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Eh extends ip{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class yo extends ip{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function fR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function VT(t,e,n){const r=new Map;Tt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,f=e.data.field(l.field);r.set(l.field,uj(u,f,n[a]))}return r}function LT(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,lj(l,u,e))}return r}class dR extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mj extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&dj(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Bc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=sR();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=n.has(a.key)?null:f;const d=hR(u,f);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(We.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ft())}isEqual(e){return this.batchId===e.batchId&&du(this.mutations,e.mutations,(n,r)=>jT(n,r))&&du(this.baseMutations,e.baseMutations,(n,r)=>jT(n,r))}}class n0{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){Tt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return rj}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new n0(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn,gt;function _j(t){switch(t){case ge.OK:return He(64938);case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0;default:return He(15467,{code:t})}}function pR(t){if(t===void 0)return ia("GRPC error has no .code"),ge.UNKNOWN;switch(t){case wn.OK:return ge.OK;case wn.CANCELLED:return ge.CANCELLED;case wn.UNKNOWN:return ge.UNKNOWN;case wn.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case wn.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case wn.INTERNAL:return ge.INTERNAL;case wn.UNAVAILABLE:return ge.UNAVAILABLE;case wn.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case wn.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case wn.NOT_FOUND:return ge.NOT_FOUND;case wn.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case wn.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case wn.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case wn.ABORTED:return ge.ABORTED;case wn.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case wn.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case wn.DATA_LOSS:return ge.DATA_LOSS;default:return He(39323,{code:t})}}(gt=wn||(wn={}))[gt.OK=0]="OK",gt[gt.CANCELLED=1]="CANCELLED",gt[gt.UNKNOWN=2]="UNKNOWN",gt[gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gt[gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gt[gt.NOT_FOUND=5]="NOT_FOUND",gt[gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",gt[gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",gt[gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",gt[gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gt[gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gt[gt.ABORTED=10]="ABORTED",gt[gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",gt[gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",gt[gt.INTERNAL=13]="INTERNAL",gt[gt.UNAVAILABLE=14]="UNAVAILABLE",gt[gt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj=new no([4294967295,4294967295],0);function UT(t){const e=jA().encode(t),n=new CA;return n.update(e),new Uint8Array(n.digest())}function FT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new no([n,r],0),new no([a,l],0)]}class r0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Dc(`Invalid padding: ${n}`);if(r<0)throw new Dc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Dc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=no.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(no.fromNumber(r)));return a.compare(wj)===1&&(a=new no([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=UT(e),[r,a]=FT(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);if(!this.Se(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new r0(l,a,n);return r.forEach(f=>u.insert(f)),u}insert(e){if(this.pe===0)return;const n=UT(e),[r,a]=FT(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);this.be(u)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Dc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Th.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sp(We.min(),a,new Kt(nt),sa(),ft())}}class Th{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Th(r,n,ft(),ft(),ft())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class mR{constructor(e,n){this.targetId=e,this.Ce=n}}class gR{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class BT{constructor(){this.Fe=0,this.Me=zT(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ft(),n=ft(),r=ft();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:He(38017,{changeType:l})}}),new Th(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=zT()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Tt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class bj{constructor(e){this.ze=e,this.je=new Map,this.He=sa(),this.Je=Ff(),this.Ye=Ff(),this.Ze=new Kt(nt)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:He(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(Ly(l))if(r===0){const u=new Ue(l.path);this.tt(n,u,Jn.newNoDocument(u,We.min()))}else Tt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const f=this.ct(e),d=f?this.lt(f,e,u):1;if(d!==0){this.st(n);const p=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,p)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,f;try{u=oo(r).toUint8Array()}catch(d){if(d instanceof FA)return fu("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{f=new r0(u,a,l)}catch(d){return fu(d instanceof Dc?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return f.pe===0?null:f}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.ze.Pt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const f=this._t(u);if(f){if(l.current&&Ly(f.target)){const d=new Ue(f.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,Jn.newNoDocument(d,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let r=ft();this.Ye.forEach((l,u)=>{let f=!0;u.forEachWhile(d=>{const p=this._t(d);return!p||p.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(r=r.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new sp(e,n,this.Ze,this.He,r);return this.He=sa(),this.Je=Ff(),this.Ye=Ff(),this.Ze=new Kt(nt),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new BT,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Sn(nt),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Sn(nt),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Ie("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new BT),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ff(){return new Kt(Ue.comparator)}function zT(){return new Kt(Ue.comparator)}const Ej={asc:"ASCENDING",desc:"DESCENDING"},Tj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xj={and:"AND",or:"OR"};class Sj{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function By(t,e){return t.useProto3Json||Jd(e)?e:{value:e}}function Rd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Aj(t,e){return Rd(t,e.toTimestamp())}function cs(t){return Tt(!!t,49232),We.fromTimestamp(function(n){const r=ao(n);return new xn(r.seconds,r.nanos)}(t))}function i0(t,e){return zy(t,e).canonicalString()}function zy(t,e){const n=function(a){return new Lt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function vR(t){const e=Lt.fromString(t);return Tt(TR(e),10190,{key:e.toString()}),e}function Hy(t,e){return i0(t.databaseId,e.path)}function Vg(t,e){const n=vR(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(wR(n))}function _R(t,e){return i0(t.databaseId,e)}function Rj(t){const e=vR(t);return e.length===4?Lt.emptyPath():wR(e)}function qy(t){return new Lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wR(t){return Tt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function HT(t,e,n){return{name:Hy(t,e),fields:n.value.mapValue.fields}}function Cj(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:He(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(p,v){return p.useProto3Json?(Tt(v===void 0||typeof v=="string",58123),Hn.fromBase64String(v||"")):(Tt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),Hn.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(p){const v=p.code===void 0?ge.UNKNOWN:pR(p.code);return new Pe(v,p.message||"")}(u);n=new gR(r,a,l,f||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Vg(t,r.document.name),l=cs(r.document.updateTime),u=r.document.createTime?cs(r.document.createTime):We.min(),f=new Ir({mapValue:{fields:r.document.fields}}),d=Jn.newFoundDocument(a,l,u,f),p=r.targetIds||[],v=r.removedTargetIds||[];n=new rd(p,v,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Vg(t,r.document),l=r.readTime?cs(r.readTime):We.min(),u=Jn.newNoDocument(a,l),f=r.removedTargetIds||[];n=new rd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Vg(t,r.document),l=r.removedTargetIds||[];n=new rd([],l,a,null)}else{if(!("filter"in e))return He(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new vj(a,l),f=r.targetId;n=new mR(f,u)}}return n}function Ij(t,e){let n;if(e instanceof Eh)n={update:HT(t,e.key,e.value)};else if(e instanceof dR)n={delete:Hy(t,e.key)};else if(e instanceof yo)n={update:HT(t,e.key,e.data),updateMask:Lj(e.fieldMask)};else{if(!(e instanceof mj))return He(16599,{ft:e.type});n={verify:Hy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const f=u.transform;if(f instanceof rh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof ih)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof sh)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ad)return{fieldPath:u.field.canonicalString(),increment:f.Re};throw He(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:Aj(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:He(27497)}(t,e.precondition)),n}function Pj(t,e){return t&&t.length>0?(Tt(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?cs(a.updateTime):cs(l);return u.isEqual(We.min())&&(u=cs(l)),new fj(u,a.transformResults||[])}(n,e))):[]}function kj(t,e){return{documents:[_R(t,e.path)]}}function Nj(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_R(t,a);const l=function(p){if(p.length!==0)return ER(Vi.create(p,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(p){if(p.length!==0)return p.map(v=>function(x){return{field:tu(x.field),direction:Mj(x.dir)}}(v))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const f=By(t,e.limit);return f!==null&&(n.structuredQuery.limit=f),e.startAt&&(n.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:n,parent:a}}function Dj(t){let e=Rj(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){Tt(r===1,65062);const v=n.from[0];v.allDescendants?a=v.collectionId:e=e.child(v.collectionId)}let l=[];n.where&&(l=function(b){const x=bR(b);return x instanceof Vi&&XA(x)?x.getFilters():[x]}(n.where));let u=[];n.orderBy&&(u=function(b){return b.map(x=>function(A){return new nh(nu(A.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(x))}(n.orderBy));let f=null;n.limit&&(f=function(b){let x;return x=typeof b=="object"?b.value:b,Jd(x)?null:x}(n.limit));let d=null;n.startAt&&(d=function(b){const x=!!b.before,I=b.values||[];return new Sd(I,x)}(n.startAt));let p=null;return n.endAt&&(p=function(b){const x=!b.before,I=b.values||[];return new Sd(I,x)}(n.endAt)),J4(e,a,u,l,f,"F",d,p)}function Oj(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return He(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function bR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=nu(n.unaryFilter.field);return bn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=nu(n.unaryFilter.field);return bn.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=nu(n.unaryFilter.field);return bn.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=nu(n.unaryFilter.field);return bn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return He(61313);default:return He(60726)}}(t):t.fieldFilter!==void 0?function(n){return bn.create(nu(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return He(58110);default:return He(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Vi.create(n.compositeFilter.filters.map(r=>bR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return He(1026)}}(n.compositeFilter.op))}(t):He(30097,{filter:t})}function Mj(t){return Ej[t]}function jj(t){return Tj[t]}function Vj(t){return xj[t]}function tu(t){return{fieldPath:t.canonicalString()}}function nu(t){return zn.fromServerFormat(t.fieldPath)}function ER(t){return t instanceof bn?function(n){if(n.op==="=="){if(PT(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NAN"}};if(IT(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(PT(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NOT_NAN"}};if(IT(n.value))return{unaryFilter:{field:tu(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:tu(n.field),op:jj(n.op),value:n.value}}}(t):t instanceof Vi?function(n){const r=n.getFilters().map(a=>ER(a));return r.length===1?r[0]:{compositeFilter:{op:Vj(n.op),filters:r}}}(t):He(54877,{filter:t})}function Lj(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function TR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e,n,r,a,l=We.min(),u=We.min(),f=Hn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=d}withSequenceNumber(e){return new Za(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Za(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uj{constructor(e){this.wt=e}}function Fj(t){const e=Dj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Fy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(){this.Cn=new zj}addToCollectionParentIndex(e,n){return this.Cn.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}deleteAllFieldIndexes(e){return ve.resolve()}createTargetIndexes(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(so.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class zj{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Sn(Lt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Sn(Lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xR=41943040;class Rr{static withCacheSize(e){return new Rr(e,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rr.DEFAULT_COLLECTION_PERCENTILE=10,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rr.DEFAULT=new Rr(xR,Rr.DEFAULT_COLLECTION_PERCENTILE,Rr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rr.DISABLED=new Rr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new gu(0)}static lr(){return new gu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="LruGarbageCollector",Hj=1048576;function $T([t,e],[n,r]){const a=nt(t,n);return a===0?nt(e,r):a}class qj{constructor(e){this.Er=e,this.buffer=new Sn($T),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();$T(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Gj{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){Ie(GT,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Iu(n)?Ie(GT,"Ignoring IndexedDB error during garbage collection: ",n):await Cu(n)}await this.mr(3e5)})}}class $j{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return ve.resolve(Qd.le);const r=new qj(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Ie("LruGarbageCollector","Garbage collection skipped; disabled"),ve.resolve(qT)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,u,f,d,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(Ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,u=Date.now(),this.nthSequenceNumber(e,a))).next(b=>(r=b,f=Date.now(),this.removeTargets(e,r,n))).next(b=>(l=b,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(p=Date.now(),Zl()<=ht.DEBUG&&Ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${a} in `+(f-u)+`ms
	Removed ${l} targets in `+(d-f)+`ms
	Removed ${b} documents in `+(p-d)+`ms
Total Duration: ${p-v}ms`),ve.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:b})))}}function Kj(t,e){return new $j(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(){this.changes=new ll(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xj{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&Bc(r.mutation,a,Yr.empty(),xn.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ft()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ft()){const a=$o();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=Nc();return l.forEach((f,d)=>{u=u.insert(f,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=$o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ft()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{n.set(u,f)})})}computeViews(e,n,r,a){let l=sa();const u=Fc(),f=function(){return Fc()}();return n.forEach((d,p)=>{const v=r.get(p.key);a.has(p.key)&&(v===void 0||v.mutation instanceof yo)?l=l.insert(p.key,p):v!==void 0?(u.set(p.key,v.mutation.getFieldMask()),Bc(v.mutation,p,v.mutation.getFieldMask(),xn.now())):u.set(p.key,Yr.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((p,v)=>u.set(p,v)),n.forEach((p,v)=>{var b;return f.set(p,new Wj(v,(b=u.get(p))!==null&&b!==void 0?b:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Fc();let a=new Kt((u,f)=>u-f),l=ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const f of u)f.keys().forEach(d=>{const p=n.get(d);if(p===null)return;let v=r.get(d)||Yr.empty();v=f.applyToLocalView(p,v),r.set(d,v);const b=(a.get(f.batchId)||ft()).add(d);a=a.insert(f.batchId,b)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const d=f.getNext(),p=d.key,v=d.value,b=sR();v.forEach(x=>{if(!l.has(x)){const I=hR(n.get(x),r.get(x));I!==null&&b.set(x,I),l=l.add(x)}}),u.push(this.documentOverlayCache.saveOverlays(e,p,b))}return ve.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Ue.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):eR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):ve.resolve($o());let f=Jc,d=l;return u.next(p=>ve.forEach(p,(v,b)=>(f<b.largestBatchId&&(f=b.largestBatchId),l.get(v)?ve.resolve():this.remoteDocumentCache.getEntry(e,v).next(x=>{d=d.insert(v,x)}))).next(()=>this.populateOverlays(e,p,l)).next(()=>this.computeViews(e,d,p,ft())).next(v=>({batchId:f,changes:iR(v)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let a=Nc();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Nc();return this.indexManager.getCollectionParents(e,l).next(f=>ve.forEach(f,d=>{const p=function(b,x){return new Pu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next(v=>{v.forEach((b,x)=>{u=u.insert(b,x)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((d,p)=>{const v=p.getKey();u.get(v)===null&&(u=u.insert(v,Jn.newInvalidDocument(v)))});let f=Nc();return u.forEach((d,p)=>{const v=l.get(d);v!==void 0&&Bc(v.mutation,p,Yr.empty(),xn.now()),np(n,p)&&(f=f.insert(d,p))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qj{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return ve.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}}(n)),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:Fj(a.bundledQuery),readTime:cs(a.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jj{constructor(){this.overlays=new Kt(Ue.comparator),this.Qr=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=$o();return ve.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.bt(e,n,l)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const a=$o(),l=n.length+1,u=new Ue(n.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const d=f.getNext().value,p=d.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return ve.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new Kt((p,v)=>p-v);const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let v=l.get(p.largestBatchId);v===null&&(v=$o(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const f=$o(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((p,v)=>f.set(p,v)),!(f.size()>=a)););return ve.resolve(f)}bt(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new yj(n,r));let l=this.Qr.get(n);l===void 0&&(l=ft(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return ve.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ve.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.$r=new Sn(Nn.Ur),this.Kr=new Sn(Nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ue(new Lt([])),r=new Nn(n,e),a=new Nn(n,e+1),l=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ue(new Lt([])),r=new Nn(n,e),a=new Nn(n,e+1);let l=ft();return this.Kr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new Nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ue.comparator(e.key,n.key)||nt(e.Zr,n.Zr)}static Wr(e,n){return nt(e.Zr,n.Zr)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Sn(Nn.Ur)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new gj(l,n,r,a);this.mutationQueue.push(u);for(const f of a)this.Xr=this.Xr.add(new Nn(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ve.resolve(u)}lookupMutationBatch(e,n){return ve.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return ve.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?Xv:this.nr-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Nn(n,0),a=new Nn(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],u=>{const f=this.ei(u.Zr);l.push(f)}),ve.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(nt);return n.forEach(a=>{const l=new Nn(a,0),u=new Nn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],f=>{r=r.add(f.Zr)})}),ve.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ue.isDocumentKey(l)||(l=l.child(""));const u=new Nn(new Ue(l),0);let f=new Sn(nt);return this.Xr.forEachWhile(d=>{const p=d.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(f=f.add(d.Zr)),!0)},u),ve.resolve(this.ni(f))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){Tt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ve.forEach(n.mutations,a=>{const l=new Nn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Nn(n,0),a=this.Xr.firstAfterOrEqual(r);return ve.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{constructor(e){this.ii=e,this.docs=function(){return new Kt(Ue.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(n))}getEntries(e,n){let r=sa();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Jn.newInvalidDocument(a))}),ve.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=sa();const u=n.path,f=new Ue(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(f);for(;d.hasNext();){const{key:p,value:{document:v}}=d.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||P4(I4(v),r)<=0||(a.has(v.key)||np(n,v))&&(l=l.insert(v.key,v.mutableCopy()))}return ve.resolve(l)}getAllFromCollectionGroup(e,n,r,a){He(9500)}si(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nV(this)}getSize(e){return ve.resolve(this.size)}}class nV extends Yj{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e){this.persistence=e,this.oi=new ll(n=>Zv(n),e0),this.lastRemoteSnapshotVersion=We.min(),this.highestTargetId=0,this._i=0,this.ai=new s0,this.targetCount=0,this.ui=gu.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),ve.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new gu(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Tr(n),ve.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((u,f)=>{f.sequenceNumber<=n&&r.get(f.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),ve.waitFor(l).next(()=>a)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),ve.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n){this.ci={},this.overlays={},this.li=new Qd(0),this.hi=!1,this.hi=!0,this.Pi=new Zj,this.referenceDelegate=e(this),this.Ti=new rV(this),this.indexManager=new Bj,this.remoteDocumentCache=function(a){return new tV(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new Uj(n),this.Ei=new Qj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Jj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new eV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){Ie("MemoryPersistence","Starting transaction:",e);const a=new iV(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return ve.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class iV extends N4{constructor(e){super(),this.currentSequenceNumber=e}}class a0{constructor(e){this.persistence=e,this.Vi=new s0,this.mi=null}static fi(e){return new a0(e)}get gi(){if(this.mi)return this.mi;throw He(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.gi,r=>{const a=Ue.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,We.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return ve.or([()=>ve.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class Cd{constructor(e,n){this.persistence=e,this.yi=new ll(r=>M4(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=Kj(this,n)}static fi(e,n){return new Cd(e,n)}di(){}Ai(e){return ve.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return ve.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?ve.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(f=>{f||(r++,l.removeEntry(u,We.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),ve.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ve.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),ve.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),ve.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ed(e.data.value)),n}Dr(e,n,r){return ve.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return ve.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=ft(),a=ft();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new o0(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return BN()?8:D4(nr())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Ss(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new sV;return this.bs(e,n,u).next(f=>{if(l.result=f,this.fs)return this.Ds(e,n,u,f.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(Zl()<=ht.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",eu(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ve.resolve()):(Zl()<=ht.DEBUG&&Ie("QueryEngine","Query:",eu(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Zl()<=ht.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",eu(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):ve.resolve())}ws(e,n){if(OT(n))return ve.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fy(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=ft(...l);return this.ys.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,r).next(d=>{const p=this.vs(n,f);return this.Cs(n,p,u,d.readTime)?this.ws(e,Fy(n,null,"F")):this.Fs(e,p,n,d)}))})))}Ss(e,n,r,a){return OT(n)||a.isEqual(We.min())?ve.resolve(null):this.ys.getDocuments(e,r).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,r,a)?ve.resolve(null):(Zl()<=ht.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),eu(n)),this.Fs(e,u,n,C4(a,Jc)).next(f=>f))})}vs(e,n){let r=new Sn(nR(e));return n.forEach((a,l)=>{np(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}bs(e,n,r){return Zl()<=ht.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",eu(n)),this.ys.getDocumentsMatchingQuery(e,n,so.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="LocalStore",oV=3e8;class lV{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new Kt(nt),this.Os=new ll(l=>Zv(l),e0),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xj(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function uV(t,e,n,r){return new lV(t,e,n,r)}async function AR(t,e){const n=Xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],f=[];let d=ft();for(const p of a){u.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}for(const p of l){f.push(p.batchId);for(const v of p.mutations)d=d.add(v.key)}return n.localDocuments.getDocuments(r,d).next(p=>({ks:p,removedBatchIds:u,addedBatchIds:f}))})})}function cV(t,e){const n=Xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(f,d,p,v){const b=p.batch,x=b.keys();let I=ve.resolve();return x.forEach(A=>{I=I.next(()=>v.getEntry(d,A)).next(D=>{const C=p.docVersions.get(A);Tt(C!==null,48541),D.version.compareTo(C)<0&&(b.applyToRemoteDocument(D,p),D.isValidDocument()&&(D.setReadTime(p.commitVersion),v.addEntry(D)))})}),I.next(()=>f.mutationQueue.removeMutationBatch(d,b))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(f){let d=ft();for(let p=0;p<f.mutationResults.length;++p)f.mutationResults[p].transformResults.length>0&&(d=d.add(f.batch.mutations[p].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function RR(t){const e=Xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function hV(t,e){const n=Xe(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const f=[];e.targetChanges.forEach((v,b)=>{const x=a.get(b);if(!x)return;f.push(n.Ti.removeMatchingKeys(l,v.removedDocuments,b).next(()=>n.Ti.addMatchingKeys(l,v.addedDocuments,b)));let I=x.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(b)!==null?I=I.withResumeToken(Hn.EMPTY_BYTE_STRING,We.min()).withLastLimboFreeSnapshotVersion(We.min()):v.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(v.resumeToken,r)),a=a.insert(b,I),function(D,C,N){return D.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-D.snapshotVersion.toMicroseconds()>=oV?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(x,I,v)&&f.push(n.Ti.updateTargetData(l,I))});let d=sa(),p=ft();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(l,v))}),f.push(fV(l,u,e.documentUpdates).next(v=>{d=v.qs,p=v.Qs})),!r.isEqual(We.min())){const v=n.Ti.getLastRemoteSnapshotVersion(l).next(b=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));f.push(v)}return ve.waitFor(f).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,p)).next(()=>d)}).then(l=>(n.xs=a,l))}function fV(t,e,n){let r=ft(),a=ft();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=sa();return n.forEach((f,d)=>{const p=l.get(f);d.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(f)),d.isNoDocument()&&d.version.isEqual(We.min())?(e.removeEntry(f,d.readTime),u=u.insert(f,d)):!p.isValidDocument()||d.version.compareTo(p.version)>0||d.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(d),u=u.insert(f,d)):Ie(l0,"Ignoring outdated watch update for ",f,". Current version:",p.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function dV(t,e){const n=Xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Xv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function pV(t,e){const n=Xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,ve.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new Za(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Gy(t,e,n){const r=Xe(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Iu(u))throw u;Ie(l0,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function KT(t,e,n){const r=Xe(t);let a=We.min(),l=ft();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,p,v){const b=Xe(d),x=b.Os.get(v);return x!==void 0?ve.resolve(b.xs.get(x)):b.Ti.getTargetData(p,v)}(r,u,us(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,f.targetId).next(d=>{l=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:We.min(),n?l:ft())).next(f=>(mV(r,ej(e),f),{documents:f,$s:l})))}function mV(t,e,n){let r=t.Ns.get(e)||We.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class YT{constructor(){this.activeTargetIds=aj()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gV{constructor(){this.xo=new YT,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new YT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT="ConnectivityMonitor";class XT{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){Ie(WT,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){Ie(WT,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bf=null;function $y(){return Bf===null?Bf=function(){return 268435456+Math.round(2147483648*Math.random())}():Bf++,"0x"+Bf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lg="RestConnection",vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _V{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===Td?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const u=$y(),f=this.jo(e,n.toUriEncodedString());Ie(Lg,`Sending RPC '${e}' ${u}:`,f,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,l);const{host:p}=new URL(f),v=Su(p);return this.Jo(e,f,d,r,v).then(b=>(Ie(Lg,`Received RPC '${e}' ${u}: `,b),b),b=>{throw fu(Lg,`RPC '${e}' ${u} failed with error: `,b,"url: ",f,"request:",r),b})}Yo(e,n,r,a,l,u){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ru}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=vV[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wV{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn="WebChannelConnection";class bV extends _V{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=$y();return new Promise((f,d)=>{const p=new IA;p.setWithCredentials(!0),p.listenOnce(PA.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Zf.NO_ERROR:const b=p.getResponseJson();Ie(Wn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),f(b);break;case Zf.TIMEOUT:Ie(Wn,`RPC '${e}' ${u} timed out`),d(new Pe(ge.DEADLINE_EXCEEDED,"Request time out"));break;case Zf.HTTP_ERROR:const x=p.getStatus();if(Ie(Wn,`RPC '${e}' ${u} failed with status:`,x,"response text:",p.getResponseText()),x>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const A=I==null?void 0:I.error;if(A&&A.status&&A.message){const D=function(N){const z=N.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(z)>=0?z:ge.UNKNOWN}(A.status);d(new Pe(D,A.message))}else d(new Pe(ge.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new Pe(ge.UNAVAILABLE,"Connection failed."));break;default:He(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{Ie(Wn,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);Ie(Wn,`RPC '${e}' ${u} sending request:`,a),p.send(n,"POST",v,r,15)})}T_(e,n,r){const a=$y(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=DA(),f=NA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(d.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const v=l.join("");Ie(Wn,`Creating RPC '${e}' stream ${a}: ${v}`,d);const b=u.createWebChannel(v,d);let x=!1,I=!1;const A=new wV({Zo:C=>{I?Ie(Wn,`Not sending because RPC '${e}' stream ${a} is closed:`,C):(x||(Ie(Wn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),x=!0),Ie(Wn,`RPC '${e}' stream ${a} sending:`,C),b.send(C))},Xo:()=>b.close()}),D=(C,N,z)=>{C.listen(N,B=>{try{z(B)}catch(Y){setTimeout(()=>{throw Y},0)}})};return D(b,kc.EventType.OPEN,()=>{I||(Ie(Wn,`RPC '${e}' stream ${a} transport opened.`),A.__())}),D(b,kc.EventType.CLOSE,()=>{I||(I=!0,Ie(Wn,`RPC '${e}' stream ${a} transport closed`),A.u_())}),D(b,kc.EventType.ERROR,C=>{I||(I=!0,fu(Wn,`RPC '${e}' stream ${a} transport errored. Name:`,C.name,"Message:",C.message),A.u_(new Pe(ge.UNAVAILABLE,"The operation could not be completed")))}),D(b,kc.EventType.MESSAGE,C=>{var N;if(!I){const z=C.data[0];Tt(!!z,16349);const B=z,Y=(B==null?void 0:B.error)||((N=B[0])===null||N===void 0?void 0:N.error);if(Y){Ie(Wn,`RPC '${e}' stream ${a} received error:`,Y);const W=Y.status;let H=function(j){const k=wn[j];if(k!==void 0)return pR(k)}(W),F=Y.message;H===void 0&&(H=ge.INTERNAL,F="Unknown error status: "+W+" with message "+Y.message),I=!0,A.u_(new Pe(H,F)),b.close()}else Ie(Wn,`RPC '${e}' stream ${a} received:`,z),A.c_(z)}}),D(f,kA.STAT_EVENT,C=>{C.stat===Dy.PROXY?Ie(Wn,`RPC '${e}' stream ${a} detected buffering proxy`):C.stat===Dy.NOPROXY&&Ie(Wn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{A.a_()},0),A}}function Ug(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new Sj(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=a,this.d_=l,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),a=Math.max(0,n-r);a>0&&Ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="PersistentStream";class IR{constructor(e,n,r,a,l,u,f,d){this.xi=e,this.y_=r,this.w_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=d,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new CR(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===ge.RESOURCE_EXHAUSTED?(ia(n.toString()),ia("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===ge.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.S_===n&&this.K_(r,a)},r=>{e(()=>{const a=new Pe(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(a)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.W_(a))}),this.stream.onMessage(a=>{r(()=>++this.v_==1?this.z_(a):this.onNext(a))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return Ie(QT,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(Ie(QT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EV extends IR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}G_(e,n){return this.connection.T_("Listen",e,n)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const n=Cj(this.serializer,e),r=function(l){if(!("targetChange"in l))return We.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?We.min():u.readTime?cs(u.readTime):We.min()}(e);return this.listener.j_(n,r)}H_(e){const n={};n.database=qy(this.serializer),n.addTarget=function(l,u){let f;const d=u.target;if(f=Ly(d)?{documents:kj(l,d)}:{query:Nj(l,d).gt},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=yR(l,u.resumeToken);const p=By(l,u.expectedCount);p!==null&&(f.expectedCount=p)}else if(u.snapshotVersion.compareTo(We.min())>0){f.readTime=Rd(l,u.snapshotVersion.toTimestamp());const p=By(l,u.expectedCount);p!==null&&(f.expectedCount=p)}return f}(this.serializer,e);const r=Oj(this.serializer,e);r&&(n.labels=r),this.L_(n)}J_(e){const n={};n.database=qy(this.serializer),n.removeTarget=e,this.L_(n)}}class TV extends IR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return Tt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){Tt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=Pj(e.writeResults,e.commitTime),r=cs(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=qy(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Ij(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xV{}class SV extends xV{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.na=!1}ra(){if(this.na)throw new Pe(ge.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,zy(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Pe(ge.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Yo(e,zy(n,r),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Pe(ge.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class AV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(ia(n),this.oa=!1):Ie("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il="RemoteStore";class RV{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=l,this.Ea.No(u=>{r.enqueueAndForget(async()=>{ul(this)&&(Ie(il,"Restarting streams for network reachability change."),await async function(d){const p=Xe(d);p.Ta.add(4),await xh(p),p.da.set("Unknown"),p.Ta.delete(4),await op(p)}(this))})}),this.da=new AV(r,a)}}async function op(t){if(ul(t))for(const e of t.Ia)await e(!0)}async function xh(t){for(const e of t.Ia)await e(!1)}function PR(t,e){const n=Xe(t);n.Pa.has(e.targetId)||(n.Pa.set(e.targetId,e),f0(n)?h0(n):ku(n).M_()&&c0(n,e))}function u0(t,e){const n=Xe(t),r=ku(n);n.Pa.delete(e),r.M_()&&kR(n,e),n.Pa.size===0&&(r.M_()?r.N_():ul(n)&&n.da.set("Unknown"))}function c0(t,e){if(t.Aa.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(We.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ku(t).H_(e)}function kR(t,e){t.Aa.Ke(e),ku(t).J_(e)}function h0(t){t.Aa=new bj({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Pa.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),ku(t).start(),t.da._a()}function f0(t){return ul(t)&&!ku(t).F_()&&t.Pa.size>0}function ul(t){return Xe(t).Ta.size===0}function NR(t){t.Aa=void 0}async function CV(t){t.da.set("Online")}async function IV(t){t.Pa.forEach((e,n)=>{c0(t,e)})}async function PV(t,e){NR(t),f0(t)?(t.da.ca(e),h0(t)):t.da.set("Unknown")}async function kV(t,e,n){if(t.da.set("Online"),e instanceof gR&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.Pa.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.Pa.delete(f),a.Aa.removeTarget(f))}(t,e)}catch(r){Ie(il,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Id(t,r)}else if(e instanceof rd?t.Aa.Xe(e):e instanceof mR?t.Aa.ot(e):t.Aa.nt(e),!n.isEqual(We.min()))try{const r=await RR(t.localStore);n.compareTo(r)>=0&&await function(l,u){const f=l.Aa.It(u);return f.targetChanges.forEach((d,p)=>{if(d.resumeToken.approximateByteSize()>0){const v=l.Pa.get(p);v&&l.Pa.set(p,v.withResumeToken(d.resumeToken,u))}}),f.targetMismatches.forEach((d,p)=>{const v=l.Pa.get(d);if(!v)return;l.Pa.set(d,v.withResumeToken(Hn.EMPTY_BYTE_STRING,v.snapshotVersion)),kR(l,d);const b=new Za(v.target,d,p,v.sequenceNumber);c0(l,b)}),l.remoteSyncer.applyRemoteEvent(f)}(t,n)}catch(r){Ie(il,"Failed to raise snapshot:",r),await Id(t,r)}}async function Id(t,e,n){if(!Iu(e))throw e;t.Ta.add(1),await xh(t),t.da.set("Offline"),n||(n=()=>RR(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie(il,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await op(t)})}function DR(t,e){return e().catch(n=>Id(t,n,e))}async function lp(t){const e=Xe(t),n=uo(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Xv;for(;NV(e);)try{const a=await dV(e.localStore,r);if(a===null){e.ha.length===0&&n.N_();break}r=a.batchId,DV(e,a)}catch(a){await Id(e,a)}OR(e)&&MR(e)}function NV(t){return ul(t)&&t.ha.length<10}function DV(t,e){t.ha.push(e);const n=uo(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function OR(t){return ul(t)&&!uo(t).F_()&&t.ha.length>0}function MR(t){uo(t).start()}async function OV(t){uo(t).ta()}async function MV(t){const e=uo(t);for(const n of t.ha)e.Z_(n.mutations)}async function jV(t,e,n){const r=t.ha.shift(),a=n0.from(r,e,n);await DR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await lp(t)}async function VV(t,e){e&&uo(t).Y_&&await async function(r,a){if(function(u){return _j(u)&&u!==ge.ABORTED}(a.code)){const l=r.ha.shift();uo(r).O_(),await DR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await lp(r)}}(t,e),OR(t)&&MR(t)}async function JT(t,e){const n=Xe(t);n.asyncQueue.verifyOperationInProgress(),Ie(il,"RemoteStore received new credentials");const r=ul(n);n.Ta.add(3),await xh(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await op(n)}async function LV(t,e){const n=Xe(t);e?(n.Ta.delete(2),await op(n)):e||(n.Ta.add(2),await xh(n),n.da.set("Unknown"))}function ku(t){return t.Ra||(t.Ra=function(n,r,a){const l=Xe(n);return l.ra(),new EV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:CV.bind(null,t),n_:IV.bind(null,t),i_:PV.bind(null,t),j_:kV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Ra.O_(),f0(t)?h0(t):t.da.set("Unknown")):(await t.Ra.stop(),NR(t))})),t.Ra}function uo(t){return t.Va||(t.Va=function(n,r,a){const l=Xe(n);return l.ra(),new TV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:OV.bind(null,t),i_:VV.bind(null,t),X_:MV.bind(null,t),ea:jV.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await lp(t)):(await t.Va.stop(),t.ha.length>0&&(Ie(il,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,f=new d0(e,n,u,a,l);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function p0(t,e){if(ia("AsyncQueue",`${e}: ${t}`),Iu(t))return new Pe(ge.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{static emptySet(e){return new hu(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new Kt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof hu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new hu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.ma=new Kt(Ue.comparator)}track(e){const n=e.doc.key,r=this.ma.get(n);r?e.type!==0&&r.type===3?this.ma=this.ma.insert(n,e):e.type===3&&r.type!==1?this.ma=this.ma.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ma=this.ma.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ma=this.ma.remove(n):e.type===1&&r.type===2?this.ma=this.ma.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ma=this.ma.insert(n,{type:2,doc:e.doc}):He(63341,{Vt:e,fa:r}):this.ma=this.ma.insert(n,e)}ga(){const e=[];return this.ma.inorderTraversal((n,r)=>{e.push(r)}),e}}class yu{constructor(e,n,r,a,l,u,f,d,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=d,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(f=>{u.push({type:0,doc:f})}),new yu(e,n,hu.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some(e=>e.Sa())}}class FV{constructor(){this.queries=ex(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const a=Xe(n),l=a.queries;a.queries=ex(),l.forEach((u,f)=>{for(const d of f.ya)d.onError(r)})})(this,new Pe(ge.ABORTED,"Firestore shutting down"))}}function ex(){return new ll(t=>tR(t),tp)}async function m0(t,e){const n=Xe(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.wa()&&e.Sa()&&(r=2):(l=new UV,r=e.Sa()?0:1);try{switch(r){case 0:l.pa=await n.onListen(a,!0);break;case 1:l.pa=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const f=p0(u,`Initialization of query '${eu(e.query)}' failed`);return void e.onError(f)}n.queries.set(a,l),l.ya.push(e),e.Da(n.onlineState),l.pa&&e.va(l.pa)&&y0(n)}async function g0(t,e){const n=Xe(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.ya.indexOf(e);u>=0&&(l.ya.splice(u,1),l.ya.length===0?a=e.Sa()?0:1:!l.wa()&&e.Sa()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function BV(t,e){const n=Xe(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const f of u.ya)f.va(a)&&(r=!0);u.pa=a}}r&&y0(n)}function zV(t,e,n){const r=Xe(t),a=r.queries.get(e);if(a)for(const l of a.ya)l.onError(n);r.queries.delete(e)}function y0(t){t.ba.forEach(e=>{e.next()})}var Ky,tx;(tx=Ky||(Ky={})).Ca="default",tx.Cache="cache";class v0{constructor(e,n,r){this.query=e,this.Fa=n,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=r||{}}va(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new yu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),n=!0):this.Na(e,this.onlineState)&&(this.Ba(e),n=!0),this.xa=e,n}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let n=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),n=!0),n}Na(e,n){if(!e.fromCache||!this.Sa())return!0;const r=n!=="Offline";return(!this.options.La||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Oa(e){if(e.docChanges.length>0)return!0;const n=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ba(e){e=yu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==Ky.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.key=e}}class VR{constructor(e){this.key=e}}class HV{constructor(e,n){this.query=e,this.Ga=n,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=ft(),this.mutatedKeys=ft(),this.Ha=nR(e),this.Ja=new hu(this.Ha)}get Ya(){return this.Ga}Za(e,n){const r=n?n.Xa:new ZT,a=n?n.Ja:this.Ja;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,f=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((v,b)=>{const x=a.get(v),I=np(this.query,b)?b:null,A=!!x&&this.mutatedKeys.has(x.key),D=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let C=!1;x&&I?x.data.isEqual(I.data)?A!==D&&(r.track({type:3,doc:I}),C=!0):this.eu(x,I)||(r.track({type:2,doc:I}),C=!0,(d&&this.Ha(I,d)>0||p&&this.Ha(I,p)<0)&&(f=!0)):!x&&I?(r.track({type:0,doc:I}),C=!0):x&&!I&&(r.track({type:1,doc:x}),C=!0,(d||p)&&(f=!0)),C&&(I?(u=u.add(I),l=D?l.add(v):l.delete(v)):(u=u.delete(v),l=l.delete(v)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),l=l.delete(v.key),r.track({type:1,doc:v})}return{Ja:u,Xa:r,Cs:f,mutatedKeys:l}}eu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const u=e.Xa.ga();u.sort((v,b)=>function(I,A){const D=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return He(20277,{Vt:C})}};return D(I)-D(A)}(v.type,b.type)||this.Ha(v.doc,b.doc)),this.tu(r),a=a!=null&&a;const f=n&&!a?this.nu():[],d=this.ja.size===0&&this.current&&!a?1:0,p=d!==this.za;return this.za=d,u.length!==0||p?{snapshot:new yu(this.query,e.Ja,l,u,e.mutatedKeys,d===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ru:f}:{ru:f}}Da(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new ZT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach(n=>this.Ga=this.Ga.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ga=this.Ga.delete(n)),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=ft(),this.Ja.forEach(r=>{this.iu(r.key)&&(this.ja=this.ja.add(r.key))});const n=[];return e.forEach(r=>{this.ja.has(r)||n.push(new VR(r))}),this.ja.forEach(r=>{e.has(r)||n.push(new jR(r))}),n}su(e){this.Ga=e.$s,this.ja=ft();const n=this.Za(e.documents);return this.applyChanges(n,!0)}ou(){return yu.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,this.za===0,this.hasCachedResults)}}const _0="SyncEngine";class qV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class GV{constructor(e){this.key=e,this._u=!1}}class $V{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new ll(f=>tR(f),tp),this.cu=new Map,this.lu=new Set,this.hu=new Kt(Ue.comparator),this.Pu=new Map,this.Tu=new s0,this.Iu={},this.Eu=new Map,this.du=gu.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function KV(t,e,n=!0){const r=HR(t);let a;const l=r.uu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.ou()):a=await LR(r,e,n,!0),a}async function YV(t,e){const n=HR(t);await LR(n,e,!0,!1)}async function LR(t,e,n,r){const a=await pV(t.localStore,us(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let f;return r&&(f=await WV(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&PR(t.remoteStore,a),f}async function WV(t,e,n,r,a){t.Ru=(b,x,I)=>async function(D,C,N,z){let B=C.view.Za(N);B.Cs&&(B=await KT(D.localStore,C.query,!1).then(({documents:F})=>C.view.Za(F,B)));const Y=z&&z.targetChanges.get(C.targetId),W=z&&z.targetMismatches.get(C.targetId)!=null,H=C.view.applyChanges(B,D.isPrimaryClient,Y,W);return rx(D,C.targetId,H.ru),H.snapshot}(t,b,x,I);const l=await KT(t.localStore,e,!0),u=new HV(e,l.$s),f=u.Za(l.documents),d=Th.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),p=u.applyChanges(f,t.isPrimaryClient,d);rx(t,n,p.ru);const v=new qV(e,n,u);return t.uu.set(e,v),t.cu.has(n)?t.cu.get(n).push(e):t.cu.set(n,[e]),p.snapshot}async function XV(t,e,n){const r=Xe(t),a=r.uu.get(e),l=r.cu.get(a.targetId);if(l.length>1)return r.cu.set(a.targetId,l.filter(u=>!tp(u,e))),void r.uu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Gy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&u0(r.remoteStore,a.targetId),Yy(r,a.targetId)}).catch(Cu)):(Yy(r,a.targetId),await Gy(r.localStore,a.targetId,!0))}async function QV(t,e){const n=Xe(t),r=n.uu.get(e),a=n.cu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),u0(n.remoteStore,r.targetId))}async function JV(t,e,n){const r=sL(t);try{const a=await function(u,f){const d=Xe(u),p=xn.now(),v=f.reduce((I,A)=>I.add(A.key),ft());let b,x;return d.persistence.runTransaction("Locally write mutations","readwrite",I=>{let A=sa(),D=ft();return d.Bs.getEntries(I,v).next(C=>{A=C,A.forEach((N,z)=>{z.isValidDocument()||(D=D.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(I,A)).next(C=>{b=C;const N=[];for(const z of f){const B=pj(z,b.get(z.key).overlayedDocument);B!=null&&N.push(new yo(z.key,B,KA(B.value.mapValue),Mi.exists(!0)))}return d.mutationQueue.addMutationBatch(I,p,N,f)}).next(C=>{x=C;const N=C.applyToLocalDocumentSet(b,D);return d.documentOverlayCache.saveOverlays(I,C.batchId,N)})}).then(()=>({batchId:x.batchId,changes:iR(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,f,d){let p=u.Iu[u.currentUser.toKey()];p||(p=new Kt(nt)),p=p.insert(f,d),u.Iu[u.currentUser.toKey()]=p}(r,a.batchId,n),await Sh(r,a.changes),await lp(r.remoteStore)}catch(a){const l=p0(a,"Failed to persist write");n.reject(l)}}async function UR(t,e){const n=Xe(t);try{const r=await hV(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Pu.get(l);u&&(Tt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u._u=!0:a.modifiedDocuments.size>0?Tt(u._u,14607):a.removedDocuments.size>0&&(Tt(u._u,42227),u._u=!1))}),await Sh(n,r,e)}catch(r){await Cu(r)}}function nx(t,e,n){const r=Xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.uu.forEach((l,u)=>{const f=u.view.Da(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const d=Xe(u);d.onlineState=f;let p=!1;d.queries.forEach((v,b)=>{for(const x of b.ya)x.Da(f)&&(p=!0)}),p&&y0(d)}(r.eventManager,e),a.length&&r.au.j_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=Xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Pu.get(e),l=a&&a.key;if(l){let u=new Kt(Ue.comparator);u=u.insert(l,Jn.newNoDocument(l,We.min()));const f=ft().add(l),d=new sp(We.min(),new Map,new Kt(nt),u,f);await UR(r,d),r.hu=r.hu.remove(l),r.Pu.delete(e),w0(r)}else await Gy(r.localStore,e,!1).then(()=>Yy(r,e,n)).catch(Cu)}async function eL(t,e){const n=Xe(t),r=e.batch.batchId;try{const a=await cV(n.localStore,e);BR(n,r,null),FR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sh(n,a)}catch(a){await Cu(a)}}async function tL(t,e,n){const r=Xe(t);try{const a=await function(u,f){const d=Xe(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return d.mutationQueue.lookupMutationBatch(p,f).next(b=>(Tt(b!==null,37113),v=b.keys(),d.mutationQueue.removeMutationBatch(p,b))).next(()=>d.mutationQueue.performConsistencyCheck(p)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(p,v,f)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>d.localDocuments.getDocuments(p,v))})}(r.localStore,e);BR(r,e,n),FR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sh(r,a)}catch(a){await Cu(a)}}function FR(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function BR(t,e,n){const r=Xe(t);let a=r.Iu[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Iu[r.currentUser.toKey()]=a}}function Yy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.cu.get(e))t.uu.delete(r),n&&t.au.Vu(r,n);t.cu.delete(e),t.isPrimaryClient&&t.Tu.Hr(e).forEach(r=>{t.Tu.containsKey(r)||zR(t,r)})}function zR(t,e){t.lu.delete(e.path.canonicalString());const n=t.hu.get(e);n!==null&&(u0(t.remoteStore,n),t.hu=t.hu.remove(e),t.Pu.delete(n),w0(t))}function rx(t,e,n){for(const r of n)r instanceof jR?(t.Tu.addReference(r.key,e),nL(t,r)):r instanceof VR?(Ie(_0,"Document no longer in limbo: "+r.key),t.Tu.removeReference(r.key,e),t.Tu.containsKey(r.key)||zR(t,r.key)):He(19791,{mu:r})}function nL(t,e){const n=e.key,r=n.path.canonicalString();t.hu.get(n)||t.lu.has(r)||(Ie(_0,"New document in limbo: "+n),t.lu.add(r),w0(t))}function w0(t){for(;t.lu.size>0&&t.hu.size<t.maxConcurrentLimboResolutions;){const e=t.lu.values().next().value;t.lu.delete(e);const n=new Ue(Lt.fromString(e)),r=t.du.next();t.Pu.set(r,new GV(n)),t.hu=t.hu.insert(n,r),PR(t.remoteStore,new Za(us(ep(n.path)),r,"TargetPurposeLimboResolution",Qd.le))}}async function Sh(t,e,n){const r=Xe(t),a=[],l=[],u=[];r.uu.isEmpty()||(r.uu.forEach((f,d)=>{u.push(r.Ru(d,e,n).then(p=>{var v;if((p||n)&&r.isPrimaryClient){const b=p?!p.fromCache:(v=n==null?void 0:n.targetChanges.get(d.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(d.targetId,b?"current":"not-current")}if(p){a.push(p);const b=o0.Rs(d.targetId,p);l.push(b)}}))}),await Promise.all(u),r.au.j_(a),await async function(d,p){const v=Xe(d);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>ve.forEach(p,x=>ve.forEach(x.ds,I=>v.persistence.referenceDelegate.addReference(b,x.targetId,I)).next(()=>ve.forEach(x.As,I=>v.persistence.referenceDelegate.removeReference(b,x.targetId,I)))))}catch(b){if(!Iu(b))throw b;Ie(l0,"Failed to update sequence numbers: "+b)}for(const b of p){const x=b.targetId;if(!b.fromCache){const I=v.xs.get(x),A=I.snapshotVersion,D=I.withLastLimboFreeSnapshotVersion(A);v.xs=v.xs.insert(x,D)}}}(r.localStore,l))}async function rL(t,e){const n=Xe(t);if(!n.currentUser.isEqual(e)){Ie(_0,"User change. New user:",e.toKey());const r=await AR(n.localStore,e);n.currentUser=e,function(l,u){l.Eu.forEach(f=>{f.forEach(d=>{d.reject(new Pe(ge.CANCELLED,u))})}),l.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sh(n,r.ks)}}function iL(t,e){const n=Xe(t),r=n.Pu.get(e);if(r&&r._u)return ft().add(r.key);{let a=ft();const l=n.cu.get(e);if(!l)return a;for(const u of l){const f=n.uu.get(u);a=a.unionWith(f.view.Ya)}return a}}function HR(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.au.j_=BV.bind(null,e.eventManager),e.au.Vu=zV.bind(null,e.eventManager),e}function sL(t){const e=Xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tL.bind(null,e),e}class Pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return uV(this.persistence,new aV,e.initialUser,this.serializer)}yu(e){return new SR(a0.fi,this.serializer)}pu(e){return new gV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Pd.provider={build:()=>new Pd};class aL extends Pd{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){Tt(this.persistence.referenceDelegate instanceof Cd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Gj(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?Rr.withCacheSize(this.cacheSizeBytes):Rr.DEFAULT;return new SR(r=>Cd.fi(r,n),this.serializer)}}class Wy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>nx(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rL.bind(null,this.syncEngine),await LV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new FV}()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),r=function(l){return new bV(l)}(e.databaseInfo);return function(l,u,f,d){return new SV(l,u,f,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,f){return new RV(r,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,n=>nx(this.syncEngine,n,0),function(){return XT.C()?new XT:new yV}())}createSyncEngine(e,n){return function(a,l,u,f,d,p,v){const b=new $V(a,l,u,f,d,p);return v&&(b.Au=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Xe(a);Ie(il,"RemoteStore shutting down."),l.Ta.add(5),await xh(l),l.Ea.shutdown(),l.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Wy.provider={build:()=>new Wy};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):ia("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const co="FirestoreClient";class oL{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=Qn.UNAUTHENTICATED,this.clientId=VA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{Ie(co,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(Ie(co,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=p0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fg(t,e){t.asyncQueue.verifyOperationInProgress(),Ie(co,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await AR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ix(t,e){t.asyncQueue.verifyOperationInProgress();const n=await lL(t);Ie(co,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>JT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>JT(e.remoteStore,a)),t._onlineComponents=e}async function lL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie(co,"Using user provided OfflineComponentProvider");try{await Fg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;fu("Error using user provided cache. Falling back to memory cache: "+n),await Fg(t,new Pd)}}else Ie(co,"Using default OfflineComponentProvider"),await Fg(t,new aL(void 0));return t._offlineComponents}async function qR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie(co,"Using user provided OnlineComponentProvider"),await ix(t,t._uninitializedComponentsProvider._online)):(Ie(co,"Using default OnlineComponentProvider"),await ix(t,new Wy))),t._onlineComponents}function uL(t){return qR(t).then(e=>e.syncEngine)}async function kd(t){const e=await qR(t),n=e.eventManager;return n.onListen=KV.bind(null,e.syncEngine),n.onUnlisten=XV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=QV.bind(null,e.syncEngine),n}function cL(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,d,p){const v=new b0({next:x=>{v.Cu(),u.enqueueAndForget(()=>g0(l,b));const I=x.docs.has(f);!I&&x.fromCache?p.reject(new Pe(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):I&&x.fromCache&&d&&d.source==="server"?p.reject(new Pe(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new v0(ep(f.path),v,{includeMetadataChanges:!0,La:!0});return m0(l,b)}(await kd(t),t.asyncQueue,e,n,r)),r.promise}function hL(t,e,n={}){const r=new ea;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,f,d,p){const v=new b0({next:x=>{v.Cu(),u.enqueueAndForget(()=>g0(l,b)),x.fromCache&&d.source==="server"?p.reject(new Pe(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(x)},error:x=>p.reject(x)}),b=new v0(f,v,{includeMetadataChanges:!0,La:!0});return m0(l,b)}(await kd(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $R(t,e,n){if(!n)throw new Pe(ge.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function fL(t,e,n,r){if(e===!0&&r===!0)throw new Pe(ge.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ax(t){if(!Ue.isDocumentKey(t))throw new Pe(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ox(t){if(Ue.isDocumentKey(t))throw new Pe(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function up(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":He(12329,{type:typeof t})}function Wr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=up(t);throw new Pe(ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR="firestore.googleapis.com",lx=!0;class ux{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KR,this.ssl=lx}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lx;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=xR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Hj)throw new Pe(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}fL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Pe(ge.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ux({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Pe(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Pe(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ux(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new _4;switch(r.type){case"firstParty":return new T4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Pe(ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=sx.get(n);r&&(Ie("ComponentProvider","Removing Datastore"),sx.delete(n),r.terminate())}(this),Promise.resolve()}}function dL(t,e,n,r={}){var a;t=Wr(t,cp);const l=Su(e),u=t._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l&&(Dv(`https://${d}`),Ov("Firestore",!0)),u.host!==KR&&u.host!==d&&fu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:l,emulatorOptions:r});if(!Zo(p,f)&&(t._setSettings(p),r.mockUserToken)){let v,b;if(typeof r.mockUserToken=="string")v=r.mockUserToken,b=Qn.MOCK_USER;else{v=LS(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new Pe(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Qn(x)}t._authCredentials=new w4(new MA(v,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new vo(this.firestore,e,this._query)}}class tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new tr(this.firestore,e,this._key)}}class ro extends vo{constructor(e,n,r){super(e,n,ep(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new tr(this.firestore,null,new Ue(e))}withConverter(e){return new ro(this.firestore,e,this._path)}}function Nd(t,e,...n){if(t=rn(t),$R("collection","path",e),t instanceof cp){const r=Lt.fromString(e,...n);return ox(r),new ro(t,null,r)}{if(!(t instanceof tr||t instanceof ro))throw new Pe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return ox(r),new ro(t.firestore,null,r)}}function ms(t,e,...n){if(t=rn(t),arguments.length===1&&(e=VA.newId()),$R("doc","path",e),t instanceof cp){const r=Lt.fromString(e,...n);return ax(r),new tr(t,null,new Ue(r))}{if(!(t instanceof tr||t instanceof ro))throw new Pe(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Lt.fromString(e,...n));return ax(r),new tr(t.firestore,t instanceof ro?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx="AsyncQueue";class hx{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new CR(this,"async_queue_retry"),this.ec=()=>{const r=Ug();r&&Ie(cx,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=Ug();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=Ug();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new ea;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!Iu(e))throw e;Ie(cx,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,ia("INTERNAL UNHANDLED ERROR: ",fx(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const a=d0.createAndSchedule(this,e,n,r,l=>this.oc(l));return this.Hu.push(a),a}nc(){this.Ju&&He(47125,{_c:fx(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function fx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class ho extends cp{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new hx,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hx(e),this._firestoreClient=void 0,await e}}}function pL(t,e){const n=typeof t=="object"?t:Vv(),r=typeof t=="string"?t:Td,a=Kd(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=MS("firestore");l&&dL(a,...l)}return a}function hp(t){if(t._terminated)throw new Pe(ge.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||mL(t),t._firestoreClient}function mL(t){var e,n,r;const a=t._freezeSettings(),l=function(f,d,p,v){return new L4(f,d,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,GR(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new oL(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(f){const d=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vu(Hn.fromBase64String(e))}catch(n){throw new Pe(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vu(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return nt(this._lat,e._lat)||nt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL=/^__.*__$/;class yL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yo(e,this.data,this.fieldMask,n,this.fieldTransforms):new Eh(e,this.data,n,this.fieldTransforms)}}class YR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yo(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw He(40011,{hc:t})}}class x0{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Pc(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new x0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.dc(e),a}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.Tc({path:r,Ec:!1});return a.Pc(),a}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return Dd(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(WR(this.hc)&&gL.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class vL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}gc(e,n,r,a=!1){return new x0({hc:e,methodName:n,fc:r,path:zn.emptyPath(),Ec:!1,mc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pp(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new vL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XR(t,e,n,r,a,l={}){const u=t.gc(l.merge||l.mergeFields?2:0,e,n,a);A0("Data must be an object, but it was:",u,r);const f=QR(r,u);let d,p;if(l.merge)d=new Yr(u.fieldMask),p=u.fieldTransforms;else if(l.mergeFields){const v=[];for(const b of l.mergeFields){const x=Xy(e,b,n);if(!u.contains(x))throw new Pe(ge.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ZR(v,x)||v.push(x)}d=new Yr(v),p=u.fieldTransforms.filter(b=>d.covers(b.field))}else d=null,p=u.fieldTransforms;return new yL(new Ir(f),d,p)}class mp extends dp{_toFieldTransform(e){if(e.hc!==2)throw e.hc===1?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof mp}}class S0 extends dp{_toFieldTransform(e){return new cj(e.path,new rh)}isEqual(e){return e instanceof S0}}function _L(t,e,n,r){const a=t.gc(1,e,n);A0("Data must be an object, but it was:",a,r);const l=[],u=Ir.empty();go(r,(d,p)=>{const v=R0(e,d,n);p=rn(p);const b=a.Ac(v);if(p instanceof mp)l.push(v);else{const x=Ah(p,b);x!=null&&(l.push(v),u.set(v,x))}});const f=new Yr(l);return new YR(u,f,a.fieldTransforms)}function wL(t,e,n,r,a,l){const u=t.gc(1,e,n),f=[Xy(e,r,n)],d=[a];if(l.length%2!=0)throw new Pe(ge.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<l.length;x+=2)f.push(Xy(e,l[x])),d.push(l[x+1]);const p=[],v=Ir.empty();for(let x=f.length-1;x>=0;--x)if(!ZR(p,f[x])){const I=f[x];let A=d[x];A=rn(A);const D=u.Ac(I);if(A instanceof mp)p.push(I);else{const C=Ah(A,D);C!=null&&(p.push(I),v.set(I,C))}}const b=new Yr(p);return new YR(v,b,u.fieldTransforms)}function bL(t,e,n,r=!1){return Ah(n,t.gc(r?4:3,e))}function Ah(t,e){if(JR(t=rn(t)))return A0("Unsupported field value:",e,t),QR(t,e);if(t instanceof dp)return function(r,a){if(!WR(a.hc))throw a.Vc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Vc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const f of r){let d=Ah(f,a.Rc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=rn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oj(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=xn.fromDate(r);return{timestampValue:Rd(a.serializer,l)}}if(r instanceof xn){const l=new xn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rd(a.serializer,l)}}if(r instanceof E0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vu)return{bytesValue:yR(a.serializer,r._byteString)};if(r instanceof tr){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:i0(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof T0)return function(u,f){return{mapValue:{fields:{[GA]:{stringValue:$A},[xd]:{arrayValue:{values:u.toArray().map(p=>{if(typeof p!="number")throw f.Vc("VectorValues must only contain numeric values.");return t0(f.serializer,p)})}}}}}}(r,a);throw a.Vc(`Unsupported field value: ${up(r)}`)}(t,e)}function QR(t,e){const n={};return UA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):go(t,(r,a)=>{const l=Ah(a,e.Ic(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function JR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof xn||t instanceof E0||t instanceof vu||t instanceof tr||t instanceof dp||t instanceof T0)}function A0(t,e,n){if(!JR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=up(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function Xy(t,e,n){if((e=rn(e))instanceof fp)return e._internalPath;if(typeof e=="string")return R0(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const EL=new RegExp("[~\\*/\\[\\]]");function R0(t,e,n){if(e.search(EL)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new Pe(ge.INVALID_ARGUMENT,f+t+d)}function ZR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TL extends eC{data(){return super.data()}}function gp(t,e){return typeof e=="string"?R0(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class C0{}class nC extends C0{}function Od(t,e,...n){let r=[];e instanceof C0&&r.push(e),r=r.concat(n),function(l){const u=l.filter(d=>d instanceof I0).length,f=l.filter(d=>d instanceof yp).length;if(u>1||u>0&&f>0)throw new Pe(ge.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class yp extends nC{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yp(e,n,r)}_apply(e){const n=this._parse(e);return rC(e._query,n),new vo(e.firestore,e.converter,Uy(e._query,n))}_parse(e){const n=pp(e.firestore);return function(l,u,f,d,p,v,b){let x;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Pe(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mx(b,v);const A=[];for(const D of b)A.push(px(d,l,D));x={arrayValue:{values:A}}}else x=px(d,l,b)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mx(b,v),x=bL(f,u,b,v==="in"||v==="not-in");return bn.create(p,v,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function zc(t,e,n){const r=e,a=gp("where",t);return yp._create(a,r,n)}class I0 extends C0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new I0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Vi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const d of f)rC(u,d),u=Uy(u,d)}(e._query,n),new vo(e.firestore,e.converter,Uy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class P0 extends nC{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new P0(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new nh(l,u)}(e._query,this._field,this._direction);return new vo(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Pu(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function xL(t,e="asc"){const n=e,r=gp("orderBy",t);return P0._create(r,n)}function px(t,e,n){if(typeof(n=rn(n))=="string"){if(n==="")throw new Pe(ge.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eR(e)&&n.indexOf("/")!==-1)throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Lt.fromString(n));if(!Ue.isDocumentKey(r))throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return CT(t,new Ue(r))}if(n instanceof tr)return CT(t,n._key);throw new Pe(ge.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${up(n)}.`)}function mx(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rC(t,e){const n=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Pe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Pe(ge.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class SL{convertValue(e,n="none"){switch(lo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw He(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return go(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[xd].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>dn(u.doubleValue));return new T0(l)}convertGeoPoint(e){return new E0(dn(e.latitude),dn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Zd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Zc(e));default:return null}}convertTimestamp(e){const n=ao(e);return new xn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Lt.fromString(e);Tt(TR(r),9688,{name:e});const a=new eh(r.get(1),r.get(3)),l=new Ue(r.popFirst(5));return a.isEqual(n)||ia(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sC extends eC{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class id extends sC{data(e={}){return super.data(e)}}class aC{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Oc(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new id(this._firestore,this._userDataWriter,r.key,r,new Oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const d=new id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Oc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const d=new id(a._firestore,a._userDataWriter,f.doc.key,f.doc,new Oc(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,v=-1;return f.type!==0&&(p=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),v=u.indexOf(f.doc.key)),{type:AL(f.type),doc:d,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function AL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return He(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sl(t){t=Wr(t,tr);const e=Wr(t.firestore,ho);return cL(hp(e),t._key).then(n=>lC(e,t,n))}class k0 extends SL{constructor(e){super(),this.firestore=e}convertBytes(e){return new vu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new tr(this.firestore,null,n)}}function RL(t){t=Wr(t,vo);const e=Wr(t.firestore,ho),n=hp(e),r=new k0(e);return tC(t._query),hL(n,t._query).then(a=>new aC(e,r,t,a))}function oC(t,e,n){t=Wr(t,tr);const r=Wr(t.firestore,ho),a=iC(t.converter,e,n);return N0(r,[XR(pp(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Mi.none())])}function CL(t,e,n,...r){t=Wr(t,tr);const a=Wr(t.firestore,ho),l=pp(a);let u;return u=typeof(e=rn(e))=="string"||e instanceof fp?wL(l,"updateDoc",t._key,e,n,r):_L(l,"updateDoc",t._key,e),N0(a,[u.toMutation(t._key,Mi.exists(!0))])}function IL(t,e){const n=Wr(t.firestore,ho),r=ms(t),a=iC(t.converter,e);return N0(n,[XR(pp(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Mi.exists(!1))]).then(()=>r)}function Qy(t,...e){var n,r,a;t=rn(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||dx(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(dx(e[u])){const b=e[u];e[u]=(n=b.next)===null||n===void 0?void 0:n.bind(b),e[u+1]=(r=b.error)===null||r===void 0?void 0:r.bind(b),e[u+2]=(a=b.complete)===null||a===void 0?void 0:a.bind(b)}let d,p,v;if(t instanceof tr)p=Wr(t.firestore,ho),v=ep(t._key.path),d={next:b=>{e[u]&&e[u](lC(p,t,b))},error:e[u+1],complete:e[u+2]};else{const b=Wr(t,vo);p=Wr(b.firestore,ho),v=b._query;const x=new k0(p);d={next:I=>{e[u]&&e[u](new aC(p,x,b,I))},error:e[u+1],complete:e[u+2]},tC(t._query)}return function(x,I,A,D){const C=new b0(D),N=new v0(I,C,A);return x.asyncQueue.enqueueAndForget(async()=>m0(await kd(x),N)),()=>{C.Cu(),x.asyncQueue.enqueueAndForget(async()=>g0(await kd(x),N))}}(hp(p),v,f,d)}function N0(t,e){return function(r,a){const l=new ea;return r.asyncQueue.enqueueAndForget(async()=>JV(await uL(r),a,l)),l.promise}(hp(t),e)}function lC(t,e,n){const r=n.docs.get(e._key),a=new k0(t);return new sC(t,a,e._key,r,new Oc(n.hasPendingWrites,n.fromCache),e.converter)}function uC(){return new S0("serverTimestamp")}(function(e,n=!0){(function(a){Ru=a})(ol),el(new io("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),f=new ho(new b4(r.getProvider("auth-internal")),new x4(u,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Pe(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new eh(p.options.projectId,v)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),os(gT,yT,e),os(gT,yT,"esm2017")})();const PL={apiKey:"AIzaSyDzSL34p5-nUEdPET7smaiydRe64ieTM7g",authDomain:"fitngro-dda45.firebaseapp.com",projectId:"fitngro-dda45",storageBucket:"fitngro-dda45.firebasestorage.app",messagingSenderId:"402250344414",appId:"1:402250344414:web:60fb137f35239d0ca05f4f"},cC=BS(PL),tn=RA(cC),Xr=pL(cC),kL=new Ys;aM(tn,yA).then(()=>console.log("Local persistence enabled")).catch(t=>console.error("Persistence error:",t));const D0=G.createContext({});function O0(t){const e=G.useRef(null);return e.current===null&&(e.current=t()),e.current}const M0=typeof window<"u",hC=M0?G.useLayoutEffect:G.useEffect,vp=G.createContext(null);function j0(t,e){t.indexOf(e)===-1&&t.push(e)}function V0(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const aa=(t,e,n)=>n>e?e:n<t?t:n;let L0=()=>{};const oa={},fC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dC(t){return typeof t=="object"&&t!==null}const pC=t=>/^0[^.\s]+$/u.test(t);function U0(t){let e;return()=>(e===void 0&&(e=t()),e)}const pi=t=>t,NL=(t,e)=>n=>e(t(n)),Rh=(...t)=>t.reduce(NL),ah=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class F0{constructor(){this.subscriptions=[]}add(e){return j0(this.subscriptions,e),()=>V0(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const hs=t=>t*1e3,fs=t=>t/1e3;function mC(t,e){return e?t*(1e3/e):0}const gC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,DL=1e-7,OL=12;function ML(t,e,n,r,a){let l,u,f=0;do u=e+(n-e)/2,l=gC(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>DL&&++f<OL);return u}function Ch(t,e,n,r){if(t===e&&n===r)return pi;const a=l=>ML(l,0,1,t,n);return l=>l===0||l===1?l:gC(a(l),e,r)}const yC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,vC=t=>e=>1-t(1-e),_C=Ch(.33,1.53,.69,.99),B0=vC(_C),wC=yC(B0),bC=t=>(t*=2)<1?.5*B0(t):.5*(2-Math.pow(2,-10*(t-1))),z0=t=>1-Math.sin(Math.acos(t)),EC=vC(z0),TC=yC(z0),jL=Ch(.42,0,1,1),VL=Ch(0,0,.58,1),xC=Ch(.42,0,.58,1),LL=t=>Array.isArray(t)&&typeof t[0]!="number",SC=t=>Array.isArray(t)&&typeof t[0]=="number",UL={linear:pi,easeIn:jL,easeInOut:xC,easeOut:VL,circIn:z0,circInOut:TC,circOut:EC,backIn:B0,backInOut:wC,backOut:_C,anticipate:bC},FL=t=>typeof t=="string",gx=t=>{if(SC(t)){L0(t.length===4);const[e,n,r,a]=t;return Ch(e,n,r,a)}else if(FL(t))return UL[t];return t},zf=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],yx={value:null};function BL(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let f={delta:0,timestamp:0,isProcessing:!1},d=0;function p(b){u.has(b)&&(v.schedule(b),t()),d++,b(f)}const v={schedule:(b,x=!1,I=!1)=>{const D=I&&a?n:r;return x&&u.add(b),D.has(b)||D.add(b),b},cancel:b=>{r.delete(b),u.delete(b)},process:b=>{if(f=b,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(p),e&&yx.value&&yx.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,v.process(b))}};return v}const zL=40;function AC(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=zf.reduce((B,Y)=>(B[Y]=BL(l,e?Y:void 0),B),{}),{setup:f,read:d,resolveKeyframes:p,preUpdate:v,update:b,preRender:x,render:I,postRender:A}=u,D=()=>{const B=oa.useManualTiming?a.timestamp:performance.now();n=!1,oa.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(B-a.timestamp,zL),1)),a.timestamp=B,a.isProcessing=!0,f.process(a),d.process(a),p.process(a),v.process(a),b.process(a),x.process(a),I.process(a),A.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(D))},C=()=>{n=!0,r=!0,a.isProcessing||t(D)};return{schedule:zf.reduce((B,Y)=>{const W=u[Y];return B[Y]=(H,F=!1,O=!1)=>(n||C(),W.schedule(H,F,O)),B},{}),cancel:B=>{for(let Y=0;Y<zf.length;Y++)u[zf[Y]].cancel(B)},state:a,steps:u}}const{schedule:$t,cancel:fo,state:Fn,steps:Bg}=AC(typeof requestAnimationFrame<"u"?requestAnimationFrame:pi,!0);let sd;function HL(){sd=void 0}const Pr={now:()=>(sd===void 0&&Pr.set(Fn.isProcessing||oa.useManualTiming?Fn.timestamp:performance.now()),sd),set:t=>{sd=t,queueMicrotask(HL)}},RC=t=>e=>typeof e=="string"&&e.startsWith(t),H0=RC("--"),qL=RC("var(--"),q0=t=>qL(t)?GL.test(t.split("/*")[0].trim()):!1,GL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},oh={...Nu,transform:t=>aa(0,1,t)},Hf={...Nu,default:1},Hc=t=>Math.round(t*1e5)/1e5,G0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $L(t){return t==null}const KL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$0=(t,e)=>n=>!!(typeof n=="string"&&KL.test(n)&&n.startsWith(t)||e&&!$L(n)&&Object.prototype.hasOwnProperty.call(n,e)),CC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,f]=r.match(G0);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:f!==void 0?parseFloat(f):1}},YL=t=>aa(0,255,t),zg={...Nu,transform:t=>Math.round(YL(t))},Ko={test:$0("rgb","red"),parse:CC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+zg.transform(t)+", "+zg.transform(e)+", "+zg.transform(n)+", "+Hc(oh.transform(r))+")"};function WL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Jy={test:$0("#"),parse:WL,transform:Ko.transform},Ih=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Wa=Ih("deg"),ds=Ih("%"),$e=Ih("px"),XL=Ih("vh"),QL=Ih("vw"),vx={...ds,parse:t=>ds.parse(t)/100,transform:t=>ds.transform(t*100)},ru={test:$0("hsl","hue"),parse:CC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+ds.transform(Hc(e))+", "+ds.transform(Hc(n))+", "+Hc(oh.transform(r))+")"},Xn={test:t=>Ko.test(t)||Jy.test(t)||ru.test(t),parse:t=>Ko.test(t)?Ko.parse(t):ru.test(t)?ru.parse(t):Jy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ko.transform(t):ru.transform(t)},JL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function ZL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(G0))==null?void 0:e.length)||0)+(((n=t.match(JL))==null?void 0:n.length)||0)>0}const IC="number",PC="color",e3="var",t3="var(",_x="${}",n3=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const f=e.replace(n3,d=>(Xn.test(d)?(r.color.push(l),a.push(PC),n.push(Xn.parse(d))):d.startsWith(t3)?(r.var.push(l),a.push(e3),n.push(d)):(r.number.push(l),a.push(IC),n.push(parseFloat(d))),++l,_x)).split(_x);return{values:n,split:f,indexes:r,types:a}}function kC(t){return lh(t).values}function NC(t){const{split:e,types:n}=lh(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const f=n[u];f===IC?l+=Hc(a[u]):f===PC?l+=Xn.transform(a[u]):l+=a[u]}return l}}const r3=t=>typeof t=="number"?0:t;function i3(t){const e=kC(t);return NC(t)(e.map(r3))}const po={test:ZL,parse:kC,createTransformer:NC,getAnimatableNone:i3};function Hg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function s3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const f=n<.5?n*(1+e):n+e-n*e,d=2*n-f;a=Hg(d,f,t+1/3),l=Hg(d,f,t),u=Hg(d,f,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function Md(t,e){return n=>n>0?e:t}const Gt=(t,e,n)=>t+(e-t)*n,qg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},a3=[Jy,Ko,ru],o3=t=>a3.find(e=>e.test(t));function wx(t){const e=o3(t);if(!e)return!1;let n=e.parse(t);return e===ru&&(n=s3(n)),n}const bx=(t,e)=>{const n=wx(t),r=wx(e);if(!n||!r)return Md(t,e);const a={...n};return l=>(a.red=qg(n.red,r.red,l),a.green=qg(n.green,r.green,l),a.blue=qg(n.blue,r.blue,l),a.alpha=Gt(n.alpha,r.alpha,l),Ko.transform(a))},Zy=new Set(["none","hidden"]);function l3(t,e){return Zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function u3(t,e){return n=>Gt(t,e,n)}function K0(t){return typeof t=="number"?u3:typeof t=="string"?q0(t)?Md:Xn.test(t)?bx:f3:Array.isArray(t)?DC:typeof t=="object"?Xn.test(t)?bx:c3:Md}function DC(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>K0(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function c3(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=K0(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function h3(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],f=t.values[u]??0;n[a]=f,r[l]++}return n}const f3=(t,e)=>{const n=po.createTransformer(e),r=lh(t),a=lh(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?Zy.has(t)&&!a.values.length||Zy.has(e)&&!r.values.length?l3(t,e):Rh(DC(h3(r,a),a.values),n):Md(t,e)};function OC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Gt(t,e,n):K0(t)(t,e)}const d3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>$t.update(e,n),stop:()=>fo(e),now:()=>Fn.isProcessing?Fn.timestamp:Pr.now()}},MC=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=t(l/(a-1))+", ";return`linear(${r.substring(0,r.length-2)})`},jd=2e4;function Y0(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<jd;)e+=n,r=t.next(e);return e>=jd?1/0:e}function p3(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(Y0(r),jd);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:fs(a)}}const m3=5;function jC(t,e,n){const r=Math.max(e-m3,0);return mC(n-t(r),e-r)}const nn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ex=.001;function g3({duration:t=nn.duration,bounce:e=nn.bounce,velocity:n=nn.velocity,mass:r=nn.mass}){let a,l,u=1-e;u=aa(nn.minDamping,nn.maxDamping,u),t=aa(nn.minDuration,nn.maxDuration,fs(t)),u<1?(a=p=>{const v=p*u,b=v*t,x=v-n,I=ev(p,u),A=Math.exp(-b);return Ex-x/I*A},l=p=>{const b=p*u*t,x=b*n+n,I=Math.pow(u,2)*Math.pow(p,2)*t,A=Math.exp(-b),D=ev(Math.pow(p,2),u);return(-a(p)+Ex>0?-1:1)*((x-I)*A)/D}):(a=p=>{const v=Math.exp(-p*t),b=(p-n)*t+1;return-.001+v*b},l=p=>{const v=Math.exp(-p*t),b=(n-p)*(t*t);return v*b});const f=5/t,d=v3(a,l,f);if(t=hs(t),isNaN(d))return{stiffness:nn.stiffness,damping:nn.damping,duration:t};{const p=Math.pow(d,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:t}}}const y3=12;function v3(t,e,n){let r=n;for(let a=1;a<y3;a++)r=r-t(r)/e(r);return r}function ev(t,e){return t*Math.sqrt(1-e*e)}const _3=["duration","bounce"],w3=["stiffness","damping","mass"];function Tx(t,e){return e.some(n=>t[n]!==void 0)}function b3(t){let e={velocity:nn.velocity,stiffness:nn.stiffness,damping:nn.damping,mass:nn.mass,isResolvedFromDuration:!1,...t};if(!Tx(t,w3)&&Tx(t,_3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*aa(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:nn.mass,stiffness:a,damping:l}}else{const n=g3(t);e={...e,...n,mass:nn.mass},e.isResolvedFromDuration=!0}return e}function Vd(t=nn.visualDuration,e=nn.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],f={done:!1,value:l},{stiffness:d,damping:p,mass:v,duration:b,velocity:x,isResolvedFromDuration:I}=b3({...n,velocity:-fs(n.velocity||0)}),A=x||0,D=p/(2*Math.sqrt(d*v)),C=u-l,N=fs(Math.sqrt(d/v)),z=Math.abs(C)<5;r||(r=z?nn.restSpeed.granular:nn.restSpeed.default),a||(a=z?nn.restDelta.granular:nn.restDelta.default);let B;if(D<1){const W=ev(N,D);B=H=>{const F=Math.exp(-D*N*H);return u-F*((A+D*N*C)/W*Math.sin(W*H)+C*Math.cos(W*H))}}else if(D===1)B=W=>u-Math.exp(-N*W)*(C+(A+N*C)*W);else{const W=N*Math.sqrt(D*D-1);B=H=>{const F=Math.exp(-D*N*H),O=Math.min(W*H,300);return u-F*((A+D*N*C)*Math.sinh(O)+W*C*Math.cosh(O))/W}}const Y={calculatedDuration:I&&b||null,next:W=>{const H=B(W);if(I)f.done=W>=b;else{let F=W===0?A:0;D<1&&(F=W===0?hs(A):jC(B,W,H));const O=Math.abs(F)<=r,j=Math.abs(u-H)<=a;f.done=O&&j}return f.value=f.done?u:H,f},toString:()=>{const W=Math.min(Y0(Y),jd),H=MC(F=>Y.next(W*F).value,W,30);return W+"ms "+H},toTransition:()=>{}};return Y}Vd.applyToOptions=t=>{const e=p3(t,100,Vd);return t.ease=e.ease,t.duration=hs(e.duration),t.type="keyframes",t};function tv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:f,max:d,restDelta:p=.5,restSpeed:v}){const b=t[0],x={done:!1,value:b},I=O=>f!==void 0&&O<f||d!==void 0&&O>d,A=O=>f===void 0?d:d===void 0||Math.abs(f-O)<Math.abs(d-O)?f:d;let D=n*e;const C=b+D,N=u===void 0?C:u(C);N!==C&&(D=N-b);const z=O=>-D*Math.exp(-O/r),B=O=>N+z(O),Y=O=>{const j=z(O),k=B(O);x.done=Math.abs(j)<=p,x.value=x.done?N:k};let W,H;const F=O=>{I(x.value)&&(W=O,H=Vd({keyframes:[x.value,A(x.value)],velocity:jC(B,O,x.value),damping:a,stiffness:l,restDelta:p,restSpeed:v}))};return F(0),{calculatedDuration:null,next:O=>{let j=!1;return!H&&W===void 0&&(j=!0,Y(O),F(O)),W!==void 0&&O>=W?H.next(O-W):(!j&&Y(O),x)}}}function E3(t,e,n){const r=[],a=n||oa.mix||OC,l=t.length-1;for(let u=0;u<l;u++){let f=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||pi:e;f=Rh(d,f)}r.push(f)}return r}function T3(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(L0(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const f=E3(e,r,a),d=f.length,p=v=>{if(u&&v<t[0])return e[0];let b=0;if(d>1)for(;b<t.length-2&&!(v<t[b+1]);b++);const x=ah(t[b],t[b+1],v);return f[b](x)};return n?v=>p(aa(t[0],t[l-1],v)):p}function x3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=ah(0,e,r);t.push(Gt(n,1,a))}}function S3(t){const e=[0];return x3(e,t.length-1),e}function A3(t,e){return t.map(n=>n*e)}function R3(t,e){return t.map(()=>e||xC).splice(0,t.length-1)}function qc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=LL(r)?r.map(gx):gx(r),l={done:!1,value:e[0]},u=A3(n&&n.length===e.length?n:S3(e),t),f=T3(u,e,{ease:Array.isArray(a)?a:R3(e,a)});return{calculatedDuration:t,next:d=>(l.value=f(d),l.done=d>=t,l)}}const C3=t=>t!==null;function W0(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(C3),f=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!f||r===void 0?l[f]:r}const I3={decay:tv,inertia:tv,tween:qc,keyframes:qc,spring:Vd};function VC(t){typeof t.type=="string"&&(t.type=I3[t.type])}class X0{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const P3=t=>t/100;class Q0 extends X0{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Pr.now()&&this.tick(Pr.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;VC(e);const{type:n=qc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:f}=e;const d=n||qc;d!==qc&&typeof f[0]!="number"&&(this.mixKeyframes=Rh(P3,OC(f[0],f[1])),f=[0,100]);const p=d({...e,keyframes:f});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...f].reverse(),velocity:-u})),p.calculatedDuration===null&&(p.calculatedDuration=Y0(p));const{calculatedDuration:v}=p;this.calculatedDuration=v,this.resolvedDuration=v+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=p}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:f,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:p=0,keyframes:v,repeat:b,repeatType:x,repeatDelay:I,type:A,onUpdate:D,finalKeyframe:C}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-p*(this.playbackSpeed>=0?1:-1),z=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let B=this.currentTime,Y=r;if(b){const O=Math.min(this.currentTime,a)/f;let j=Math.floor(O),k=O%1;!k&&O>=1&&(k=1),k===1&&j--,j=Math.min(j,b+1),!!(j%2)&&(x==="reverse"?(k=1-k,I&&(k-=I/f)):x==="mirror"&&(Y=u)),B=aa(0,1,k)*f}const W=z?{done:!1,value:v[0]}:Y.next(B);l&&(W.value=l(W.value));let{done:H}=W;!z&&d!==null&&(H=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const F=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return F&&A!==tv&&(W.value=W0(v,this.options,C,this.speed)),D&&D(W.value),F&&this.finish(),W}then(e,n){return this.finished.then(e,n)}get duration(){return fs(this.calculatedDuration)}get time(){return fs(this.currentTime)}set time(e){var n;e=hs(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Pr.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=fs(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=d3,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pr.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function k3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Yo=t=>t*180/Math.PI,nv=t=>{const e=Yo(Math.atan2(t[1],t[0]));return rv(e)},N3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:nv,rotateZ:nv,skewX:t=>Yo(Math.atan(t[1])),skewY:t=>Yo(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},rv=t=>(t=t%360,t<0&&(t+=360),t),xx=nv,Sx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Ax=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),D3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Sx,scaleY:Ax,scale:t=>(Sx(t)+Ax(t))/2,rotateX:t=>rv(Yo(Math.atan2(t[6],t[5]))),rotateY:t=>rv(Yo(Math.atan2(-t[2],t[0]))),rotateZ:xx,rotate:xx,skewX:t=>Yo(Math.atan(t[4])),skewY:t=>Yo(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function iv(t){return t.includes("scale")?1:0}function sv(t,e){if(!t||t==="none")return iv(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=D3,a=n;else{const f=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=N3,a=f}if(!a)return iv(e);const l=r[e],u=a[1].split(",").map(M3);return typeof l=="function"?l(u):u[l]}const O3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return sv(n,e)};function M3(t){return parseFloat(t.trim())}const Du=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ou=new Set(Du),Rx=t=>t===Nu||t===$e,j3=new Set(["x","y","z"]),V3=Du.filter(t=>!j3.has(t));function L3(t){const e=[];return V3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Xo={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>sv(e,"x"),y:(t,{transform:e})=>sv(e,"y")};Xo.translateX=Xo.x;Xo.translateY=Xo.y;const Qo=new Set;let av=!1,ov=!1,lv=!1;function LC(){if(ov){const t=Array.from(Qo).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=L3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var f;(f=r.getValue(l))==null||f.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}ov=!1,av=!1,Qo.forEach(t=>t.complete(lv)),Qo.clear()}function UC(){Qo.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(ov=!0)})}function U3(){lv=!0,UC(),LC(),lv=!1}class J0{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?(Qo.add(this),av||(av=!0,$t.read(UC),$t.resolveKeyframes(LC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const f=r.readValue(n,u);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}k3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Qo.delete(this)}cancel(){this.state==="scheduled"&&(Qo.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const F3=t=>t.startsWith("--");function B3(t,e,n){F3(e)?t.style.setProperty(e,n):t.style[e]=n}const z3=U0(()=>window.ScrollTimeline!==void 0),H3={};function q3(t,e){const n=U0(t);return()=>H3[e]??n()}const FC=q3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Mc=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Cx={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Mc([0,.65,.55,1]),circOut:Mc([.55,0,1,.45]),backIn:Mc([.31,.01,.66,-.59]),backOut:Mc([.33,1.53,.69,.99])};function BC(t,e){if(t)return typeof t=="function"?FC()?MC(t,e):"ease-out":SC(t)?Mc(t):Array.isArray(t)?t.map(n=>BC(n,e)||Cx.easeOut):Cx[t]}function G3(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:f="easeOut",times:d}={},p=void 0){const v={[e]:n};d&&(v.offset=d);const b=BC(f,a);Array.isArray(b)&&(v.easing=b);const x={delay:r,duration:a,easing:Array.isArray(b)?"linear":b,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return p&&(x.pseudoElement=p),t.animate(v,x)}function zC(t){return typeof t=="function"&&"applyToOptions"in t}function $3({type:t,...e}){return zC(t)&&FC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class K3 extends X0{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:f,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,L0(typeof e.type!="string");const p=$3(e);this.animation=G3(n,r,a,p,l),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const v=W0(a,this.options,f,this.speed);this.updateMotionValue?this.updateMotionValue(v):B3(n,r,v),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return fs(Number(e))}get time(){return fs(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=hs(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&z3()?(this.animation.timeline=e,pi):n(this)}}const HC={anticipate:bC,backInOut:wC,circInOut:TC};function Y3(t){return t in HC}function W3(t){typeof t.ease=="string"&&Y3(t.ease)&&(t.ease=HC[t.ease])}const Ix=10;class X3 extends K3{constructor(e){W3(e),VC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const f=new Q0({...u,autoplay:!1}),d=hs(this.finishedTime??this.time);n.setWithVelocity(f.sample(d-Ix).value,f.sample(d).value,Ix),f.stop()}}const Px=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(po.test(t)||t==="0")&&!t.startsWith("url("));function Q3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function J3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Px(a,e),f=Px(l,e);return!u||!f?!1:Q3(t)||(n==="spring"||zC(n))&&r}function Z0(t){return dC(t)&&"offsetHeight"in t}const Z3=new Set(["opacity","clipPath","filter","transform"]),e6=U0(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function t6(t){var p;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!Z0((p=e==null?void 0:e.owner)==null?void 0:p.current))return!1;const{onUpdate:f,transformTemplate:d}=e.owner.getProps();return e6()&&n&&Z3.has(n)&&(n!=="transform"||!d)&&!f&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const n6=40;class r6 extends X0{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:f,name:d,motionValue:p,element:v,...b}){var A;super(),this.stop=()=>{var D,C;this._animation&&(this._animation.stop(),(D=this.stopTimeline)==null||D.call(this)),(C=this.keyframeResolver)==null||C.cancel()},this.createdAt=Pr.now();const x={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:p,element:v,...b},I=(v==null?void 0:v.KeyframeResolver)||J0;this.keyframeResolver=new I(f,(D,C,N)=>this.onKeyframesResolved(D,C,x,!N),d,p,v),(A=this.keyframeResolver)==null||A.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:f,delay:d,isHandoff:p,onUpdate:v}=r;this.resolvedAt=Pr.now(),J3(e,l,u,f)||((oa.instantAnimations||!d)&&(v==null||v(W0(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const x={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>n6?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},I=!p&&t6(x)?new X3({...x,element:x.motionValue.owner.current}):new Q0(x);I.finished.then(()=>this.notifyFinished()).catch(pi),this.pendingTimeline&&(this.stopTimeline=I.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=I}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),U3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const i6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function s6(t){const e=i6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function qC(t,e,n=1){const[r,a]=s6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return fC(u)?parseFloat(u):u}return q0(a)?qC(a,e,n+1):a}function e_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const GC=new Set(["width","height","top","left","right","bottom",...Du]),a6={test:t=>t==="auto",parse:t=>t},$C=t=>e=>e.test(t),KC=[Nu,$e,ds,Wa,QL,XL,a6],kx=t=>KC.find($C(t));function o6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||pC(t):!0}const l6=new Set(["brightness","contrast","saturate","opacity"]);function u6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(G0)||[];if(!r)return t;const a=n.replace(r,"");let l=l6.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const c6=/\b([a-z-]*)\(.*?\)/gu,uv={...po,getAnimatableNone:t=>{const e=t.match(c6);return e?e.map(u6).join(" "):t}},Nx={...Nu,transform:Math.round},h6={rotate:Wa,rotateX:Wa,rotateY:Wa,rotateZ:Wa,scale:Hf,scaleX:Hf,scaleY:Hf,scaleZ:Hf,skew:Wa,skewX:Wa,skewY:Wa,distance:$e,translateX:$e,translateY:$e,translateZ:$e,x:$e,y:$e,z:$e,perspective:$e,transformPerspective:$e,opacity:oh,originX:vx,originY:vx,originZ:$e},t_={borderWidth:$e,borderTopWidth:$e,borderRightWidth:$e,borderBottomWidth:$e,borderLeftWidth:$e,borderRadius:$e,radius:$e,borderTopLeftRadius:$e,borderTopRightRadius:$e,borderBottomRightRadius:$e,borderBottomLeftRadius:$e,width:$e,maxWidth:$e,height:$e,maxHeight:$e,top:$e,right:$e,bottom:$e,left:$e,padding:$e,paddingTop:$e,paddingRight:$e,paddingBottom:$e,paddingLeft:$e,margin:$e,marginTop:$e,marginRight:$e,marginBottom:$e,marginLeft:$e,backgroundPositionX:$e,backgroundPositionY:$e,...h6,zIndex:Nx,fillOpacity:oh,strokeOpacity:oh,numOctaves:Nx},f6={...t_,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:uv,WebkitFilter:uv},YC=t=>f6[t];function WC(t,e){let n=YC(t);return n!==uv&&(n=po),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const d6=new Set(["auto","none","0"]);function p6(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!d6.has(l)&&lh(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=WC(n,a)}class m6 extends J0{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let p=e[d];if(typeof p=="string"&&(p=p.trim(),q0(p))){const v=qC(p,n.current);v!==void 0&&(e[d]=v),d===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!GC.has(r)||e.length!==2)return;const[a,l]=e,u=kx(a),f=kx(l);if(u!==f)if(Rx(u)&&Rx(f))for(let d=0;d<e.length;d++){const p=e[d];typeof p=="string"&&(e[d]=parseFloat(p))}else Xo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||o6(e[a]))&&r.push(a);r.length&&p6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Xo[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var f;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Xo[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(f=this.removedTransforms)!=null&&f.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function g6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const XC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Dx=30,y6=t=>!isNaN(parseFloat(t));class v6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var u,f;const l=Pr.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((f=this.events.renderRequest)==null||f.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Pr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=y6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new F0);const r=this.events[e].add(n);return e==="change"?()=>{r(),$t.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Pr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Dx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Dx);return mC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function _u(t,e){return new v6(t,e)}const{schedule:n_}=AC(queueMicrotask,!1),ki={x:!1,y:!1};function QC(){return ki.x||ki.y}function _6(t){return t==="x"||t==="y"?ki[t]?null:(ki[t]=!0,()=>{ki[t]=!1}):ki.x||ki.y?null:(ki.x=ki.y=!0,()=>{ki.x=ki.y=!1})}function JC(t,e){const n=g6(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Ox(t){return!(t.pointerType==="touch"||QC())}function w6(t,e,n={}){const[r,a,l]=JC(t,n),u=f=>{if(!Ox(f))return;const{target:d}=f,p=e(d,f);if(typeof p!="function"||!d)return;const v=b=>{Ox(b)&&(p(b),d.removeEventListener("pointerleave",v))};d.addEventListener("pointerleave",v,a)};return r.forEach(f=>{f.addEventListener("pointerenter",u,a)}),l}const ZC=(t,e)=>e?t===e?!0:ZC(t,e.parentElement):!1,r_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,b6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function E6(t){return b6.has(t.tagName)||t.tabIndex!==-1}const ad=new WeakSet;function Mx(t){return e=>{e.key==="Enter"&&t(e)}}function Gg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const T6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Mx(()=>{if(ad.has(n))return;Gg(n,"down");const a=Mx(()=>{Gg(n,"up")}),l=()=>Gg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function jx(t){return r_(t)&&!QC()}function x6(t,e,n={}){const[r,a,l]=JC(t,n),u=f=>{const d=f.currentTarget;if(!jx(f))return;ad.add(d);const p=e(d,f),v=(I,A)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),ad.has(d)&&ad.delete(d),jx(I)&&typeof p=="function"&&p(I,{success:A})},b=I=>{v(I,d===window||d===document||n.useGlobalTarget||ZC(d,I.target))},x=I=>{v(I,!1)};window.addEventListener("pointerup",b,a),window.addEventListener("pointercancel",x,a)};return r.forEach(f=>{(n.useGlobalTarget?window:f).addEventListener("pointerdown",u,a),Z0(f)&&(f.addEventListener("focus",p=>T6(p,a)),!E6(f)&&!f.hasAttribute("tabindex")&&(f.tabIndex=0))}),l}function e2(t){return dC(t)&&"ownerSVGElement"in t}function S6(t){return e2(t)&&t.tagName==="svg"}const er=t=>!!(t&&t.getVelocity),A6=[...KC,Xn,po],R6=t=>A6.find($C(t)),i_=G.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class C6 extends G.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=Z0(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function I6({children:t,isPresent:e,anchorX:n}){const r=G.useId(),a=G.useRef(null),l=G.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=G.useContext(i_);return G.useInsertionEffect(()=>{const{width:f,height:d,top:p,left:v,right:b}=l.current;if(e||!a.current||!f||!d)return;const x=n==="left"?`left: ${v}`:`right: ${b}`;a.current.dataset.motionPopId=r;const I=document.createElement("style");return u&&(I.nonce=u),document.head.appendChild(I),I.sheet&&I.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${p}px !important;
          }
        `),()=>{document.head.contains(I)&&document.head.removeChild(I)}},[e]),E.jsx(C6,{isPresent:e,childRef:a,sizeRef:l,children:G.cloneElement(t,{ref:a})})}const P6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:f})=>{const d=O0(k6),p=G.useId();let v=!0,b=G.useMemo(()=>(v=!1,{id:p,initial:e,isPresent:n,custom:a,onExitComplete:x=>{d.set(x,!0);for(const I of d.values())if(!I)return;r&&r()},register:x=>(d.set(x,!1),()=>d.delete(x))}),[n,d,r]);return l&&v&&(b={...b}),G.useMemo(()=>{d.forEach((x,I)=>d.set(I,!1))},[n]),G.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),u==="popLayout"&&(t=E.jsx(I6,{isPresent:n,anchorX:f,children:t})),E.jsx(vp.Provider,{value:b,children:t})};function k6(){return new Map}function t2(t=!0){const e=G.useContext(vp);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=G.useId();G.useEffect(()=>{if(t)return a(l)},[t]);const u=G.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const qf=t=>t.key||"";function Vx(t){const e=[];return G.Children.forEach(t,n=>{G.isValidElement(n)&&e.push(n)}),e}const N6=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:f="left"})=>{const[d,p]=t2(u),v=G.useMemo(()=>Vx(t),[t]),b=u&&!d?[]:v.map(qf),x=G.useRef(!0),I=G.useRef(v),A=O0(()=>new Map),[D,C]=G.useState(v),[N,z]=G.useState(v);hC(()=>{x.current=!1,I.current=v;for(let W=0;W<N.length;W++){const H=qf(N[W]);b.includes(H)?A.delete(H):A.get(H)!==!0&&A.set(H,!1)}},[N,b.length,b.join("-")]);const B=[];if(v!==D){let W=[...v];for(let H=0;H<N.length;H++){const F=N[H],O=qf(F);b.includes(O)||(W.splice(H,0,F),B.push(F))}return l==="wait"&&B.length&&(W=B),z(Vx(W)),C(v),null}const{forceRender:Y}=G.useContext(D0);return E.jsx(E.Fragment,{children:N.map(W=>{const H=qf(W),F=u&&!d?!1:v===N||b.includes(H),O=()=>{if(A.has(H))A.set(H,!0);else return;let j=!0;A.forEach(k=>{k||(j=!1)}),j&&(Y==null||Y(),z(I.current),u&&(p==null||p()),r&&r())};return E.jsx(P6,{isPresent:F,initial:!x.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:F?void 0:O,anchorX:f,children:W},H)})})},n2=G.createContext({strict:!1}),Lx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},wu={};for(const t in Lx)wu[t]={isEnabled:e=>Lx[t].some(n=>!!e[n])};function D6(t){for(const e in t)wu[e]={...wu[e],...t[e]}}const O6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ld(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||O6.has(t)}let r2=t=>!Ld(t);function M6(t){t&&(r2=e=>e.startsWith("on")?!Ld(e):t(e))}try{M6(require("@emotion/is-prop-valid").default)}catch{}function j6(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(r2(a)||n===!0&&Ld(a)||!e&&!Ld(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function V6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const _p=G.createContext({});function wp(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function uh(t){return typeof t=="string"||Array.isArray(t)}const s_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],a_=["initial",...s_];function bp(t){return wp(t.animate)||a_.some(e=>uh(t[e]))}function i2(t){return!!(bp(t)||t.variants)}function L6(t,e){if(bp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||uh(n)?n:void 0,animate:uh(r)?r:void 0}}return t.inherit!==!1?e:{}}function U6(t){const{initial:e,animate:n}=L6(t,G.useContext(_p));return G.useMemo(()=>({initial:e,animate:n}),[Ux(e),Ux(n)])}function Ux(t){return Array.isArray(t)?t.join(" "):t}const F6=Symbol.for("motionComponentSymbol");function iu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function B6(t,e,n){return G.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):iu(n)&&(n.current=r))},[e])}const o_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),z6="framerAppearId",s2="data-"+o_(z6),a2=G.createContext({});function H6(t,e,n,r,a){var D,C;const{visualElement:l}=G.useContext(_p),u=G.useContext(n2),f=G.useContext(vp),d=G.useContext(i_).reducedMotion,p=G.useRef(null);r=r||u.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:l,props:n,presenceContext:f,blockInitialAnimation:f?f.initial===!1:!1,reducedMotionConfig:d}));const v=p.current,b=G.useContext(a2);v&&!v.projection&&a&&(v.type==="html"||v.type==="svg")&&q6(p.current,n,a,b);const x=G.useRef(!1);G.useInsertionEffect(()=>{v&&x.current&&v.update(n,f)});const I=n[s2],A=G.useRef(!!I&&!((D=window.MotionHandoffIsComplete)!=null&&D.call(window,I))&&((C=window.MotionHasOptimisedAnimation)==null?void 0:C.call(window,I)));return hC(()=>{v&&(x.current=!0,window.MotionIsMounted=!0,v.updateFeatures(),n_.render(v.render),A.current&&v.animationState&&v.animationState.animateChanges())}),G.useEffect(()=>{v&&(!A.current&&v.animationState&&v.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,I)}),A.current=!1))}),v}function q6(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p,layoutCrossfade:v}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:o2(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||f&&iu(f),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:v,layoutScroll:d,layoutRoot:p})}function o2(t){if(t)return t.options.allowProjection!==!1?t.projection:o2(t.parent)}function G6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&D6(t);function l(f,d){let p;const v={...G.useContext(i_),...f,layoutId:$6(f)},{isStatic:b}=v,x=U6(f),I=r(f,b);if(!b&&M0){K6();const A=Y6(v);p=A.MeasureLayout,x.visualElement=H6(a,I,v,e,A.ProjectionNode)}return E.jsxs(_p.Provider,{value:x,children:[p&&x.visualElement?E.jsx(p,{visualElement:x.visualElement,...v}):null,n(a,f,B6(I,x.visualElement,d),I,b,x.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=G.forwardRef(l);return u[F6]=a,u}function $6({layoutId:t}){const e=G.useContext(D0).id;return e&&t!==void 0?e+"-"+t:t}function K6(t,e){G.useContext(n2).strict}function Y6(t){const{drag:e,layout:n}=wu;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const ch={};function W6(t){for(const e in t)ch[e]=t[e],H0(e)&&(ch[e].isCSSVariable=!0)}function l2(t,{layout:e,layoutId:n}){return Ou.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!ch[t]||t==="opacity")}const X6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Q6=Du.length;function J6(t,e,n){let r="",a=!0;for(let l=0;l<Q6;l++){const u=Du[l],f=t[u];if(f===void 0)continue;let d=!0;if(typeof f=="number"?d=f===(u.startsWith("scale")?1:0):d=parseFloat(f)===0,!d||n){const p=XC(f,t_[u]);if(!d){a=!1;const v=X6[u]||u;r+=`${v}(${p}) `}n&&(e[u]=p)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function l_(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,f=!1;for(const d in e){const p=e[d];if(Ou.has(d)){u=!0;continue}else if(H0(d)){a[d]=p;continue}else{const v=XC(p,t_[d]);d.startsWith("origin")?(f=!0,l[d]=v):r[d]=v}}if(e.transform||(u||n?r.transform=J6(e,t.transform,n):r.transform&&(r.transform="none")),f){const{originX:d="50%",originY:p="50%",originZ:v=0}=l;r.transformOrigin=`${d} ${p} ${v}`}}const u_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function u2(t,e,n){for(const r in e)!er(e[r])&&!l2(r,n)&&(t[r]=e[r])}function Z6({transformTemplate:t},e){return G.useMemo(()=>{const n=u_();return l_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function eU(t,e){const n=t.style||{},r={};return u2(r,n,t),Object.assign(r,Z6(t,e)),r}function tU(t,e){const n={},r=eU(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const nU={offset:"stroke-dashoffset",array:"stroke-dasharray"},rU={offset:"strokeDashoffset",array:"strokeDasharray"};function iU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?nU:rU;t[l.offset]=$e.transform(-r);const u=$e.transform(e),f=$e.transform(n);t[l.array]=`${u} ${f}`}function c2(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...f},d,p,v){if(l_(t,f,p),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:b,style:x}=t;b.transform&&(x.transform=b.transform,delete b.transform),(x.transform||b.transformOrigin)&&(x.transformOrigin=b.transformOrigin??"50% 50%",delete b.transformOrigin),x.transform&&(x.transformBox=(v==null?void 0:v.transformBox)??"fill-box",delete b.transformBox),e!==void 0&&(b.x=e),n!==void 0&&(b.y=n),r!==void 0&&(b.scale=r),a!==void 0&&iU(b,a,l,u,!1)}const h2=()=>({...u_(),attrs:{}}),f2=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sU(t,e,n,r){const a=G.useMemo(()=>{const l=h2();return c2(l,e,f2(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};u2(l,t.style,t),a.style={...l,...a.style}}return a}const aU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function c_(t){return typeof t!="string"||t.includes("-")?!1:!!(aU.indexOf(t)>-1||/[A-Z]/u.test(t))}function oU(t=!1){return(n,r,a,{latestValues:l},u)=>{const d=(c_(n)?sU:tU)(r,l,u,n),p=j6(r,typeof n=="string",t),v=n!==G.Fragment?{...p,...d,ref:a}:{},{children:b}=r,x=G.useMemo(()=>er(b)?b.get():b,[b]);return G.createElement(n,{...v,children:x})}}function Fx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function h_(t,e,n,r){if(typeof e=="function"){const[a,l]=Fx(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Fx(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function od(t){return er(t)?t.get():t}function lU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:uU(n,r,a,t),renderState:e()}}const d2=t=>(e,n)=>{const r=G.useContext(_p),a=G.useContext(vp),l=()=>lU(t,e,r,a);return n?l():O0(l)};function uU(t,e,n,r){const a={},l=r(t,{});for(const x in l)a[x]=od(l[x]);let{initial:u,animate:f}=t;const d=bp(t),p=i2(t);e&&p&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),f===void 0&&(f=e.animate));let v=n?n.initial===!1:!1;v=v||u===!1;const b=v?f:u;if(b&&typeof b!="boolean"&&!wp(b)){const x=Array.isArray(b)?b:[b];for(let I=0;I<x.length;I++){const A=h_(t,x[I]);if(A){const{transitionEnd:D,transition:C,...N}=A;for(const z in N){let B=N[z];if(Array.isArray(B)){const Y=v?B.length-1:0;B=B[Y]}B!==null&&(a[z]=B)}for(const z in D)a[z]=D[z]}}}return a}function f_(t,e,n){var l;const{style:r}=t,a={};for(const u in r)(er(r[u])||e.style&&er(e.style[u])||l2(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const cU={useVisualState:d2({scrapeMotionValuesFromProps:f_,createRenderState:u_})};function p2(t,e,n){const r=f_(t,e,n);for(const a in t)if(er(t[a])||er(e[a])){const l=Du.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const hU={useVisualState:d2({scrapeMotionValuesFromProps:p2,createRenderState:h2})};function fU(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...c_(r)?hU:cU,preloadedFeatures:t,useRender:oU(a),createVisualElement:e,Component:r};return G6(u)}}function hh(t,e,n){const r=t.getProps();return h_(r,e,n!==void 0?n:r.custom,t)}const cv=t=>Array.isArray(t);function dU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,_u(n))}function pU(t){return cv(t)?t[t.length-1]||0:t}function mU(t,e){const n=hh(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const f=pU(l[u]);dU(t,u,f)}}function gU(t){return!!(er(t)&&t.add)}function hv(t,e){const n=t.getValue("willChange");if(gU(n))return n.add(e);if(!n&&oa.WillChange){const r=new oa.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function m2(t){return t.props[s2]}const yU=t=>t!==null;function vU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(yU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const _U={type:"spring",stiffness:500,damping:25,restSpeed:10},wU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),bU={type:"keyframes",duration:.8},EU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TU=(t,{keyframes:e})=>e.length>2?bU:Ou.has(t)?t.startsWith("scale")?wU(e[1]):_U:EU;function xU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:f,from:d,elapsed:p,...v}){return!!Object.keys(v).length}const d_=(t,e,n,r={},a,l)=>u=>{const f=e_(r,t)||{},d=f.delay||r.delay||0;let{elapsed:p=0}=r;p=p-hs(d);const v={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...f,delay:-p,onUpdate:x=>{e.set(x),f.onUpdate&&f.onUpdate(x)},onComplete:()=>{u(),f.onComplete&&f.onComplete()},name:t,motionValue:e,element:l?void 0:a};xU(f)||Object.assign(v,TU(t,v)),v.duration&&(v.duration=hs(v.duration)),v.repeatDelay&&(v.repeatDelay=hs(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(b=!0)),(oa.instantAnimations||oa.skipAnimations)&&(b=!0,v.duration=0,v.delay=0),v.allowFlatten=!f.type&&!f.ease,b&&!l&&e.get()!==void 0){const x=vU(v.keyframes,f);if(x!==void 0){$t.update(()=>{v.onUpdate(x),v.onComplete()});return}}return f.isSync?new Q0(v):new r6(v)};function SU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function g2(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...f}=e;r&&(l=r);const d=[],p=a&&t.animationState&&t.animationState.getState()[a];for(const v in f){const b=t.getValue(v,t.latestValues[v]??null),x=f[v];if(x===void 0||p&&SU(p,v))continue;const I={delay:n,...e_(l||{},v)},A=b.get();if(A!==void 0&&!b.isAnimating&&!Array.isArray(x)&&x===A&&!I.velocity)continue;let D=!1;if(window.MotionHandoffAnimation){const N=m2(t);if(N){const z=window.MotionHandoffAnimation(N,v,$t);z!==null&&(I.startTime=z,D=!0)}}hv(t,v),b.start(d_(v,b,x,t.shouldReduceMotion&&GC.has(v)?{type:!1}:I,t,D));const C=b.animation;C&&d.push(C)}return u&&Promise.all(d).then(()=>{$t.update(()=>{u&&mU(t,u)})}),d}function fv(t,e,n={}){var d;const r=hh(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(g2(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(p=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=a;return AU(t,e,v+p,b,x,n)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,v]=f==="beforeChildren"?[l,u]:[u,l];return p().then(()=>v())}else return Promise.all([l(),u(n.delay)])}function AU(t,e,n=0,r=0,a=1,l){const u=[],f=(t.variantChildren.size-1)*r,d=a===1?(p=0)=>p*r:(p=0)=>f-p*r;return Array.from(t.variantChildren).sort(RU).forEach((p,v)=>{p.notify("AnimationStart",e),u.push(fv(p,e,{...l,delay:n+d(v)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function RU(t,e){return t.sortNodePosition(e)}function CU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>fv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=fv(t,e,n);else{const a=typeof e=="function"?hh(t,e,n.custom):e;r=Promise.all(g2(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function y2(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const IU=a_.length;function v2(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?v2(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<IU;n++){const r=a_[n],a=t.props[r];(uh(a)||a===!1)&&(e[r]=a)}return e}const PU=[...s_].reverse(),kU=s_.length;function NU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>CU(t,n,r)))}function DU(t){let e=NU(t),n=Bx(),r=!0;const a=d=>(p,v)=>{var x;const b=hh(t,v,d==="exit"?(x=t.presenceContext)==null?void 0:x.custom:void 0);if(b){const{transition:I,transitionEnd:A,...D}=b;p={...p,...D,...A}}return p};function l(d){e=d(t)}function u(d){const{props:p}=t,v=v2(t.parent)||{},b=[],x=new Set;let I={},A=1/0;for(let C=0;C<kU;C++){const N=PU[C],z=n[N],B=p[N]!==void 0?p[N]:v[N],Y=uh(B),W=N===d?z.isActive:null;W===!1&&(A=C);let H=B===v[N]&&B!==p[N]&&Y;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),z.protectedKeys={...I},!z.isActive&&W===null||!B&&!z.prevProp||wp(B)||typeof B=="boolean")continue;const F=OU(z.prevProp,B);let O=F||N===d&&z.isActive&&!H&&Y||C>A&&Y,j=!1;const k=Array.isArray(B)?B:[B];let M=k.reduce(a(N),{});W===!1&&(M={});const{prevResolvedValues:$={}}=z,U={...$,...M},re=ee=>{O=!0,x.has(ee)&&(j=!0,x.delete(ee)),z.needsAnimating[ee]=!0;const le=t.getValue(ee);le&&(le.liveStyle=!1)};for(const ee in U){const le=M[ee],oe=$[ee];if(I.hasOwnProperty(ee))continue;let q=!1;cv(le)&&cv(oe)?q=!y2(le,oe):q=le!==oe,q?le!=null?re(ee):x.add(ee):le!==void 0&&x.has(ee)?re(ee):z.protectedKeys[ee]=!0}z.prevProp=B,z.prevResolvedValues=M,z.isActive&&(I={...I,...M}),r&&t.blockInitialAnimation&&(O=!1),O&&(!(H&&F)||j)&&b.push(...k.map(ee=>({animation:ee,options:{type:N}})))}if(x.size){const C={};if(typeof p.initial!="boolean"){const N=hh(t,Array.isArray(p.initial)?p.initial[0]:p.initial);N&&N.transition&&(C.transition=N.transition)}x.forEach(N=>{const z=t.getBaseTarget(N),B=t.getValue(N);B&&(B.liveStyle=!0),C[N]=z??null}),b.push({animation:C})}let D=!!b.length;return r&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(D=!1),r=!1,D?e(b):Promise.resolve()}function f(d,p){var b;if(n[d].isActive===p)return Promise.resolve();(b=t.variantChildren)==null||b.forEach(x=>{var I;return(I=x.animationState)==null?void 0:I.setActive(d,p)}),n[d].isActive=p;const v=u(d);for(const x in n)n[x].protectedKeys={};return v}return{animateChanges:u,setActive:f,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Bx(),r=!0}}}function OU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!y2(e,t):!1}function zo(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Bx(){return{animate:zo(!0),whileInView:zo(),whileHover:zo(),whileTap:zo(),whileDrag:zo(),whileFocus:zo(),exit:zo()}}class _o{constructor(e){this.isMounted=!1,this.node=e}update(){}}class MU extends _o{constructor(e){super(e),e.animationState||(e.animationState=DU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();wp(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let jU=0;class VU extends _o{constructor(){super(...arguments),this.id=jU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const LU={animation:{Feature:MU},exit:{Feature:VU}};function fh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Ph(t){return{point:{x:t.pageX,y:t.pageY}}}const UU=t=>e=>r_(e)&&t(e,Ph(e));function Gc(t,e,n,r){return fh(t,e,UU(n),r)}function _2({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function FU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const w2=1e-4,zU=1-w2,HU=1+w2,b2=.01,qU=0-b2,GU=0+b2;function gr(t){return t.max-t.min}function $U(t,e,n){return Math.abs(t-e)<=n}function zx(t,e,n,r=.5){t.origin=r,t.originPoint=Gt(e.min,e.max,t.origin),t.scale=gr(n)/gr(e),t.translate=Gt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=zU&&t.scale<=HU||isNaN(t.scale))&&(t.scale=1),(t.translate>=qU&&t.translate<=GU||isNaN(t.translate))&&(t.translate=0)}function $c(t,e,n,r){zx(t.x,e.x,n.x,r?r.originX:void 0),zx(t.y,e.y,n.y,r?r.originY:void 0)}function Hx(t,e,n){t.min=n.min+e.min,t.max=t.min+gr(e)}function KU(t,e,n){Hx(t.x,e.x,n.x),Hx(t.y,e.y,n.y)}function qx(t,e,n){t.min=e.min-n.min,t.max=t.min+gr(e)}function Kc(t,e,n){qx(t.x,e.x,n.x),qx(t.y,e.y,n.y)}const Gx=()=>({translate:0,scale:1,origin:0,originPoint:0}),su=()=>({x:Gx(),y:Gx()}),$x=()=>({min:0,max:0}),fn=()=>({x:$x(),y:$x()});function di(t){return[t("x"),t("y")]}function $g(t){return t===void 0||t===1}function dv({scale:t,scaleX:e,scaleY:n}){return!$g(t)||!$g(e)||!$g(n)}function qo(t){return dv(t)||E2(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function E2(t){return Kx(t.x)||Kx(t.y)}function Kx(t){return t&&t!=="0%"}function Ud(t,e,n){const r=t-n,a=e*r;return n+a}function Yx(t,e,n,r,a){return a!==void 0&&(t=Ud(t,a,r)),Ud(t,n,r)+e}function pv(t,e=0,n=1,r,a){t.min=Yx(t.min,e,n,r,a),t.max=Yx(t.max,e,n,r,a)}function T2(t,{x:e,y:n}){pv(t.x,e.translate,e.scale,e.originPoint),pv(t.y,n.translate,n.scale,n.originPoint)}const Wx=.999999999999,Xx=1.0000000000001;function YU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let f=0;f<a;f++){l=n[f],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&ou(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,T2(t,u)),r&&qo(l.latestValues)&&ou(t,l.latestValues))}e.x<Xx&&e.x>Wx&&(e.x=1),e.y<Xx&&e.y>Wx&&(e.y=1)}function au(t,e){t.min=t.min+e,t.max=t.max+e}function Qx(t,e,n,r,a=.5){const l=Gt(t.min,t.max,a);pv(t,e,n,l,r)}function ou(t,e){Qx(t.x,e.x,e.scaleX,e.scale,e.originX),Qx(t.y,e.y,e.scaleY,e.scale,e.originY)}function x2(t,e){return _2(BU(t.getBoundingClientRect(),e))}function WU(t,e,n){const r=x2(t,n),{scroll:a}=e;return a&&(au(r.x,a.offset.x),au(r.y,a.offset.y)),r}const S2=({current:t})=>t?t.ownerDocument.defaultView:null,Jx=(t,e)=>Math.abs(t-e);function XU(t,e){const n=Jx(t.x,e.x),r=Jx(t.y,e.y);return Math.sqrt(n**2+r**2)}class A2{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Yg(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,I=XU(b.offset,{x:0,y:0})>=3;if(!x&&!I)return;const{point:A}=b,{timestamp:D}=Fn;this.history.push({...A,timestamp:D});const{onStart:C,onMove:N}=this.handlers;x||(C&&C(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Kg(x,this.transformPagePoint),$t.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:I,onSessionEnd:A,resumeAnimation:D}=this.handlers;if(this.dragSnapToOrigin&&D&&D(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const C=Yg(b.type==="pointercancel"?this.lastMoveEventInfo:Kg(x,this.transformPagePoint),this.history);this.startEvent&&I&&I(b,C),A&&A(b,C)},!r_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=Ph(e),f=Kg(u,this.transformPagePoint),{point:d}=f,{timestamp:p}=Fn;this.history=[{...d,timestamp:p}];const{onSessionStart:v}=n;v&&v(e,Yg(f,this.history)),this.removeListeners=Rh(Gc(this.contextWindow,"pointermove",this.handlePointerMove),Gc(this.contextWindow,"pointerup",this.handlePointerUp),Gc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fo(this.updatePoint)}}function Kg(t,e){return e?{point:e(t.point)}:t}function Zx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Yg({point:t},e){return{point:t,delta:Zx(t,R2(e)),offset:Zx(t,QU(e)),velocity:JU(e,.1)}}function QU(t){return t[0]}function R2(t){return t[t.length-1]}function JU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=R2(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>hs(e)));)n--;if(!r)return{x:0,y:0};const l=fs(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function ZU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Gt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Gt(n,t,r.max):Math.min(t,n)),t}function e1(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function e9(t,{top:e,left:n,bottom:r,right:a}){return{x:e1(t.x,n,a),y:e1(t.y,e,r)}}function t1(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function t9(t,e){return{x:t1(t.x,e.x),y:t1(t.y,e.y)}}function n9(t,e){let n=.5;const r=gr(t),a=gr(e);return a>r?n=ah(e.min,e.max-r,t.min):r>a&&(n=ah(t.min,t.max-a,e.min)),aa(0,1,n)}function r9(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mv=.35;function i9(t=mv){return t===!1?t=0:t===!0&&(t=mv),{x:n1(t,"left","right"),y:n1(t,"top","bottom")}}function n1(t,e,n){return{min:r1(t,e),max:r1(t,n)}}function r1(t,e){return typeof t=="number"?t:t[e]||0}const s9=new WeakMap;class a9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Ph(v).point)},l=(v,b)=>{const{drag:x,dragPropagation:I,onDragStart:A}=this.getProps();if(x&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=_6(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),di(C=>{let N=this.getAxisMotionValue(C).get()||0;if(ds.test(N)){const{projection:z}=this.visualElement;if(z&&z.layout){const B=z.layout.layoutBox[C];B&&(N=gr(B)*(parseFloat(N)/100))}}this.originPoint[C]=N}),A&&$t.postRender(()=>A(v,b)),hv(this.visualElement,"transform");const{animationState:D}=this.visualElement;D&&D.setActive("whileDrag",!0)},u=(v,b)=>{const{dragPropagation:x,dragDirectionLock:I,onDirectionLock:A,onDrag:D}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:C}=b;if(I&&this.currentDirection===null){this.currentDirection=o9(C),this.currentDirection!==null&&A&&A(this.currentDirection);return}this.updateAxis("x",b.point,C),this.updateAxis("y",b.point,C),this.visualElement.render(),D&&D(v,b)},f=(v,b)=>this.stop(v,b),d=()=>di(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)==null?void 0:b.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new A2(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:f,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:S2(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&$t.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Gf(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=ZU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&iu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=e9(r.layoutBox,e):this.constraints=!1,this.elastic=i9(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&di(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=r9(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!iu(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=WU(r,a.root,this.visualElement.getTransformPagePoint());let u=t9(a.layout.layoutBox,l);if(n){const f=n(FU(u));this.hasMutatedConstraints=!!f,f&&(u=_2(f))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:f}=this.getProps(),d=this.constraints||{},p=di(v=>{if(!Gf(v,n,this.currentDirection))return;let b=d&&d[v]||{};u&&(b={min:0,max:0});const x=a?200:1e6,I=a?40:1e7,A={type:"inertia",velocity:r?e[v]:0,bounceStiffness:x,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...l,...b};return this.startAxisValueAnimation(v,A)});return Promise.all(p).then(f)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return hv(this.visualElement,e),r.start(d_(e,r,0,n,this.visualElement,!1))}stopAnimation(){di(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){di(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){di(n=>{const{drag:r}=this.getProps();if(!Gf(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:f}=a.layout.layoutBox[n];l.set(e[n]-Gt(u,f,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!iu(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};di(u=>{const f=this.getAxisMotionValue(u);if(f&&this.constraints!==!1){const d=f.get();a[u]=n9({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),di(u=>{if(!Gf(u,e,null))return;const f=this.getAxisMotionValue(u),{min:d,max:p}=this.constraints[u];f.set(Gt(d,p,a[u]))})}addListeners(){if(!this.visualElement.current)return;s9.set(this.visualElement,this);const e=this.visualElement.current,n=Gc(e,"pointerdown",d=>{const{drag:p,dragListener:v=!0}=this.getProps();p&&v&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();iu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),$t.read(r);const u=fh(window,"resize",()=>this.scalePositionWithinConstraints()),f=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(di(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=d[v].translate,b.set(b.get()+d[v].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),f&&f()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=mv,dragMomentum:f=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:f}}}function Gf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function o9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class l9 extends _o{constructor(e){super(e),this.removeGroupControls=pi,this.removeListeners=pi,this.controls=new a9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pi}unmount(){this.removeGroupControls(),this.removeListeners()}}const i1=t=>(e,n)=>{t&&$t.postRender(()=>t(e,n))};class u9 extends _o{constructor(){super(...arguments),this.removePointerDownListener=pi}onPointerDown(e){this.session=new A2(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:S2(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:i1(e),onStart:i1(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&$t.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=Gc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ld={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function s1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($e.test(t))t=parseFloat(t);else return t;const n=s1(t,e.target.x),r=s1(t,e.target.y);return`${n}% ${r}%`}},c9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=po.parse(t);if(a.length>5)return r;const l=po.createTransformer(t),u=typeof a[0]!="number"?1:0,f=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=f,a[1+u]/=d;const p=Gt(f,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=p),typeof a[3+u]=="number"&&(a[3+u]/=p),l(a)}};class h9 extends G.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;W6(f9),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),ld.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||$t.postRender(()=>{const f=u.getStack();(!f||!f.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),n_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function C2(t){const[e,n]=t2(),r=G.useContext(D0);return E.jsx(h9,{...t,layoutGroup:r,switchLayoutGroup:G.useContext(a2),isPresent:e,safeToRemove:n})}const f9={borderRadius:{...Rc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rc,borderTopRightRadius:Rc,borderBottomLeftRadius:Rc,borderBottomRightRadius:Rc,boxShadow:c9};function d9(t,e,n){const r=er(t)?t:_u(t);return r.start(d_("",r,e,n)),r.animation}const p9=(t,e)=>t.depth-e.depth;class m9{constructor(){this.children=[],this.isDirty=!1}add(e){j0(this.children,e),this.isDirty=!0}remove(e){V0(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(p9),this.isDirty=!1,this.children.forEach(e)}}function g9(t,e){const n=Pr.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(fo(r),t(l-e))};return $t.setup(r,!0),()=>fo(r)}const I2=["TopLeft","TopRight","BottomLeft","BottomRight"],y9=I2.length,a1=t=>typeof t=="string"?parseFloat(t):t,o1=t=>typeof t=="number"||$e.test(t);function v9(t,e,n,r,a,l){a?(t.opacity=Gt(0,n.opacity??1,_9(r)),t.opacityExit=Gt(e.opacity??1,0,w9(r))):l&&(t.opacity=Gt(e.opacity??1,n.opacity??1,r));for(let u=0;u<y9;u++){const f=`border${I2[u]}Radius`;let d=l1(e,f),p=l1(n,f);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||o1(d)===o1(p)?(t[f]=Math.max(Gt(a1(d),a1(p),r),0),(ds.test(p)||ds.test(d))&&(t[f]+="%")):t[f]=p}(e.rotate||n.rotate)&&(t.rotate=Gt(e.rotate||0,n.rotate||0,r))}function l1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const _9=P2(0,.5,EC),w9=P2(.5,.95,pi);function P2(t,e,n){return r=>r<t?0:r>e?1:n(ah(t,e,r))}function u1(t,e){t.min=e.min,t.max=e.max}function fi(t,e){u1(t.x,e.x),u1(t.y,e.y)}function c1(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function h1(t,e,n,r,a){return t-=e,t=Ud(t,1/n,r),a!==void 0&&(t=Ud(t,1/a,r)),t}function b9(t,e=0,n=1,r=.5,a,l=t,u=t){if(ds.test(e)&&(e=parseFloat(e),e=Gt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let f=Gt(l.min,l.max,r);t===l&&(f-=e),t.min=h1(t.min,e,n,f,a),t.max=h1(t.max,e,n,f,a)}function f1(t,e,[n,r,a],l,u){b9(t,e[n],e[r],e[a],e.scale,l,u)}const E9=["x","scaleX","originX"],T9=["y","scaleY","originY"];function d1(t,e,n,r){f1(t.x,e,E9,n?n.x:void 0,r?r.x:void 0),f1(t.y,e,T9,n?n.y:void 0,r?r.y:void 0)}function p1(t){return t.translate===0&&t.scale===1}function k2(t){return p1(t.x)&&p1(t.y)}function m1(t,e){return t.min===e.min&&t.max===e.max}function x9(t,e){return m1(t.x,e.x)&&m1(t.y,e.y)}function g1(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function N2(t,e){return g1(t.x,e.x)&&g1(t.y,e.y)}function y1(t){return gr(t.x)/gr(t.y)}function v1(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class S9{constructor(){this.members=[]}add(e){j0(this.members,e),e.scheduleRender()}remove(e){if(V0(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function A9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:p,rotate:v,rotateX:b,rotateY:x,skewX:I,skewY:A}=n;p&&(r=`perspective(${p}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),x&&(r+=`rotateY(${x}deg) `),I&&(r+=`skewX(${I}deg) `),A&&(r+=`skewY(${A}deg) `)}const f=t.x.scale*e.x,d=t.y.scale*e.y;return(f!==1||d!==1)&&(r+=`scale(${f}, ${d})`),r||"none"}const Wg=["","X","Y","Z"],R9={visibility:"hidden"},C9=1e3;let I9=0;function Xg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function D2(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=m2(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",$t,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&D2(r)}function O2({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},f=e==null?void 0:e()){this.id=I9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(N9),this.nodes.forEach(V9),this.nodes.forEach(L9),this.nodes.forEach(D9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=f?f.root||f:this,this.path=f?[...f.path,f]:[],this.parent=f,this.depth=f?f.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new m9)}addEventListener(u,f){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new F0),this.eventHandlers.get(u).add(f)}notifyListeners(u,...f){const d=this.eventHandlers.get(u);d&&d.notify(...f)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=e2(u)&&!S6(u),this.instance=u;const{layoutId:f,layout:d,visualElement:p}=this.options;if(p&&!p.current&&p.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||f)&&(this.isLayoutDirty=!0),t){let v;const b=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=g9(b,250),ld.hasAnimatedSinceResize&&(ld.hasAnimatedSinceResize=!1,this.nodes.forEach(w1))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&p&&(f||d)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:b,hasRelativeLayoutChanged:x,layout:I})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const A=this.options.transition||p.getDefaultTransition()||H9,{onLayoutAnimationStart:D,onLayoutAnimationComplete:C}=p.getProps(),N=!this.targetLayout||!N2(this.targetLayout,I),z=!b&&x;if(this.options.layoutRoot||this.resumeFrom||z||b&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const B={...e_(A,"layout"),onPlay:D,onComplete:C};(p.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B),this.setAnimationOrigin(v,z)}else b||w1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=I})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),fo(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&D2(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:f,layout:d}=this.options;if(f===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(_1);return}this.isUpdating||this.nodes.forEach(M9),this.isUpdating=!1,this.nodes.forEach(j9),this.nodes.forEach(P9),this.nodes.forEach(k9),this.clearAllSnapshots();const f=Pr.now();Fn.delta=aa(0,1e3/60,f-Fn.timestamp),Fn.timestamp=f,Fn.isProcessing=!0,Bg.update.process(Fn),Bg.preRender.process(Fn),Bg.render.process(Fn),Fn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,n_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(O9),this.sharedNodes.forEach(F9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,$t.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){$t.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!gr(this.snapshot.measuredBox.x)&&!gr(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=fn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:f}=this.options;f&&f.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let f=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(f=!1),f&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,f=this.projectionDelta&&!k2(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,v=p!==this.prevTransformTemplateValue;u&&this.instance&&(f||qo(this.latestValues)||v)&&(a(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const f=this.measurePageBox();let d=this.removeElementScroll(f);return u&&(d=this.removeTransform(d)),q9(d),{animationId:this.root.animationId,measuredBox:f,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var p;const{visualElement:u}=this.options;if(!u)return fn();const f=u.measureViewportBox();if(!(((p=this.scroll)==null?void 0:p.wasRoot)||this.path.some(G9))){const{scroll:v}=this.root;v&&(au(f.x,v.offset.x),au(f.y,v.offset.y))}return f}removeElementScroll(u){var d;const f=fn();if(fi(f,u),(d=this.scroll)!=null&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const v=this.path[p],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&fi(f,u),au(f.x,b.offset.x),au(f.y,b.offset.y))}return f}applyTransform(u,f=!1){const d=fn();fi(d,u);for(let p=0;p<this.path.length;p++){const v=this.path[p];!f&&v.options.layoutScroll&&v.scroll&&v!==v.root&&ou(d,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),qo(v.latestValues)&&ou(d,v.latestValues)}return qo(this.latestValues)&&ou(d,this.latestValues),d}removeTransform(u){const f=fn();fi(f,u);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!qo(p.latestValues))continue;dv(p.latestValues)&&p.updateSnapshot();const v=fn(),b=p.measurePageBox();fi(v,b),d1(f,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,v)}return qo(this.latestValues)&&d1(f,this.latestValues),f}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Fn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var x;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==f;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:b}=this.options;if(!(!this.layout||!(v||b))){if(this.resolvedRelativeTargetAt=Fn.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Kc(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fn(),this.targetWithTransforms=fn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),KU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):fi(this.target,this.layout.layoutBox),T2(this.target,this.targetDelta)):fi(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fn(),this.relativeTargetOrigin=fn(),Kc(this.relativeTargetOrigin,this.target,I.target),fi(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||dv(this.parent.latestValues)||E2(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var A;const u=this.getLead(),f=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(A=this.parent)!=null&&A.isProjectionDirty)&&(d=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Fn.timestamp&&(d=!1),d)return;const{layout:p,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||v))return;fi(this.layoutCorrected,this.layout.layoutBox);const b=this.treeScale.x,x=this.treeScale.y;YU(this.layoutCorrected,this.treeScale,this.path,f),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=fn());const{target:I}=u;if(!I){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(c1(this.prevProjectionDelta.x,this.projectionDelta.x),c1(this.prevProjectionDelta.y,this.projectionDelta.y)),$c(this.projectionDelta,this.layoutCorrected,I,this.latestValues),(this.treeScale.x!==b||this.treeScale.y!==x||!v1(this.projectionDelta.x,this.prevProjectionDelta.x)||!v1(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",I))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var f;if((f=this.options.visualElement)==null||f.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=su(),this.projectionDelta=su(),this.projectionDeltaWithTransform=su()}setAnimationOrigin(u,f=!1){const d=this.snapshot,p=d?d.latestValues:{},v={...this.latestValues},b=su();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!f;const x=fn(),I=d?d.source:void 0,A=this.layout?this.layout.source:void 0,D=I!==A,C=this.getStack(),N=!C||C.members.length<=1,z=!!(D&&!N&&this.options.crossfade===!0&&!this.path.some(z9));this.animationProgress=0;let B;this.mixTargetDelta=Y=>{const W=Y/1e3;b1(b.x,u.x,W),b1(b.y,u.y,W),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Kc(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),B9(this.relativeTarget,this.relativeTargetOrigin,x,W),B&&x9(this.relativeTarget,B)&&(this.isProjectionDirty=!1),B||(B=fn()),fi(B,this.relativeTarget)),D&&(this.animationValues=v,v9(v,p,this.latestValues,W,z,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=W},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var f,d,p;this.notifyListeners("animationStart"),(f=this.currentAnimation)==null||f.stop(),(p=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||p.stop(),this.pendingAnimation&&(fo(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=$t.update(()=>{ld.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=_u(0)),this.currentAnimation=d9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:v=>{this.mixTargetDelta(v),u.onUpdate&&u.onUpdate(v)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:f,target:d,layout:p,latestValues:v}=u;if(!(!f||!d||!p)){if(this!==u&&this.layout&&p&&M2(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||fn();const b=gr(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+b;const x=gr(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+x}fi(f,d),ou(f,v),$c(this.projectionDeltaWithTransform,this.layoutCorrected,f,v)}}registerSharedNode(u,f){this.sharedNodes.has(u)||this.sharedNodes.set(u,new S9),this.sharedNodes.get(u).add(f);const p=f.options.initialPromotionConfig;f.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(f):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var f;const{layoutId:u}=this.options;return u?((f=this.getStack())==null?void 0:f.lead)||this:this}getPrevLead(){var f;const{layoutId:u}=this.options;return u?(f=this.getStack())==null?void 0:f.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:f,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),f&&this.setOptions({transition:f})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let f=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(f=!0),!f)return;const p={};d.z&&Xg("z",u,p,this.animationValues);for(let v=0;v<Wg.length;v++)Xg(`rotate${Wg[v]}`,u,p,this.animationValues),Xg(`skew${Wg[v]}`,u,p,this.animationValues);u.render();for(const v in p)u.setStaticValue(v,p[v]),this.animationValues&&(this.animationValues[v]=p[v]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return R9;const f={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,f.opacity="",f.pointerEvents=od(u==null?void 0:u.pointerEvents)||"",f.transform=d?d(this.latestValues,""):"none",f;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const I={};return this.options.layoutId&&(I.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,I.pointerEvents=od(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!qo(this.latestValues)&&(I.transform=d?d({},""):"none",this.hasProjected=!1),I}const v=p.animationValues||p.latestValues;this.applyTransformsToTarget(),f.transform=A9(this.projectionDeltaWithTransform,this.treeScale,v),d&&(f.transform=d(v,f.transform));const{x:b,y:x}=this.projectionDelta;f.transformOrigin=`${b.origin*100}% ${x.origin*100}% 0`,p.animationValues?f.opacity=p===this?v.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:v.opacityExit:f.opacity=p===this?v.opacity!==void 0?v.opacity:"":v.opacityExit!==void 0?v.opacityExit:0;for(const I in ch){if(v[I]===void 0)continue;const{correct:A,applyTo:D,isCSSVariable:C}=ch[I],N=f.transform==="none"?v[I]:A(v[I],p);if(D){const z=D.length;for(let B=0;B<z;B++)f[D[B]]=N}else C?this.options.visualElement.renderState.vars[I]=N:f[I]=N}return this.options.layoutId&&(f.pointerEvents=p===this?od(u==null?void 0:u.pointerEvents)||"":"none"),f}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var f;return(f=u.currentAnimation)==null?void 0:f.stop()}),this.root.nodes.forEach(_1),this.root.sharedNodes.clear()}}}function P9(t){t.updateLayout()}function k9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?di(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],I=gr(x);x.min=r[b].min,x.max=x.min+I}):M2(l,e.layoutBox,r)&&di(b=>{const x=u?e.measuredBox[b]:e.layoutBox[b],I=gr(r[b]);x.max=x.min+I,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[b].max=t.relativeTarget[b].min+I)});const f=su();$c(f,r,e.layoutBox);const d=su();u?$c(d,t.applyTransform(a,!0),e.measuredBox):$c(d,r,e.layoutBox);const p=!k2(f);let v=!1;if(!t.resumeFrom){const b=t.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:I}=b;if(x&&I){const A=fn();Kc(A,e.layoutBox,x.layoutBox);const D=fn();Kc(D,r,I.layoutBox),N2(A,D)||(v=!0),b.options.layoutRoot&&(t.relativeTarget=D,t.relativeTargetOrigin=A,t.relativeParent=b)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:f,hasLayoutChanged:p,hasRelativeLayoutChanged:v})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function N9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function O9(t){t.clearSnapshot()}function _1(t){t.clearMeasurements()}function M9(t){t.isLayoutDirty=!1}function j9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function w1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function V9(t){t.resolveTargetDelta()}function L9(t){t.calcProjection()}function U9(t){t.resetSkewAndRotation()}function F9(t){t.removeLeadSnapshot()}function b1(t,e,n){t.translate=Gt(e.translate,0,n),t.scale=Gt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function E1(t,e,n,r){t.min=Gt(e.min,n.min,r),t.max=Gt(e.max,n.max,r)}function B9(t,e,n,r){E1(t.x,e.x,n.x,r),E1(t.y,e.y,n.y,r)}function z9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const H9={duration:.45,ease:[.4,0,.1,1]},T1=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),x1=T1("applewebkit/")&&!T1("chrome/")?Math.round:pi;function S1(t){t.min=x1(t.min),t.max=x1(t.max)}function q9(t){S1(t.x),S1(t.y)}function M2(t,e,n){return t==="position"||t==="preserve-aspect"&&!$U(y1(e),y1(n),.2)}function G9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const $9=O2({attachResizeListener:(t,e)=>fh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Qg={current:void 0},j2=O2({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Qg.current){const t=new $9({});t.mount(window),t.setOptions({layoutScroll:!0}),Qg.current=t}return Qg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),K9={pan:{Feature:u9},drag:{Feature:l9,ProjectionNode:j2,MeasureLayout:C2}};function A1(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&$t.postRender(()=>l(e,Ph(e)))}class Y9 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=w6(e,(n,r)=>(A1(this.node,r,"Start"),a=>A1(this.node,a,"End"))))}unmount(){}}class W9 extends _o{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Rh(fh(this.node.current,"focus",()=>this.onFocus()),fh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function R1(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&$t.postRender(()=>l(e,Ph(e)))}class X9 extends _o{mount(){const{current:e}=this.node;e&&(this.unmount=x6(e,(n,r)=>(R1(this.node,r,"Start"),(a,{success:l})=>R1(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const gv=new WeakMap,Jg=new WeakMap,Q9=t=>{const e=gv.get(t.target);e&&e(t)},J9=t=>{t.forEach(Q9)};function Z9({root:t,...e}){const n=t||document;Jg.has(n)||Jg.set(n,{});const r=Jg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(J9,{root:t,...e})),r[a]}function eF(t,e,n){const r=Z9(e);return gv.set(t,n),r.observe(t),()=>{gv.delete(t),r.unobserve(t)}}const tF={some:0,all:1};class nF extends _o{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:tF[a]},f=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,l&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=p?v:b;x&&x(d)};return eF(this.node.current,u,f)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(rF(e,n))&&this.startObserver()}unmount(){}}function rF({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const iF={inView:{Feature:nF},tap:{Feature:X9},focus:{Feature:W9},hover:{Feature:Y9}},sF={layout:{ProjectionNode:j2,MeasureLayout:C2}},yv={current:null},V2={current:!1};function aF(){if(V2.current=!0,!!M0)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yv.current=t.matches;t.addListener(e),e()}else yv.current=!1}const oF=new WeakMap;function lF(t,e,n){for(const r in e){const a=e[r],l=n[r];if(er(a))t.addValue(r,a);else if(er(l))t.addValue(r,_u(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,_u(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const C1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class uF{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},f={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=J0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Pr.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,$t.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=p,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=f,this.blockInitialAnimation=!!l,this.isControllingVariants=bp(n),this.isVariantNode=i2(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:v,...b}=this.scrapeMotionValuesFromProps(n,{},this);for(const x in b){const I=b[x];d[x]!==void 0&&er(I)&&I.set(d[x],!1)}}mount(e){this.current=e,oF.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),V2.current||aF(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yv.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),fo(this.notifyUpdate),fo(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ou.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",f=>{this.latestValues[e]=f,this.props.onUpdate&&$t.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in wu){const n=wu[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<C1.length;r++){const a=C1[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=lF(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=_u(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(fC(r)||pC(r))?r=parseFloat(r):!R6(r)&&po.test(n)&&(r=WC(e,n)),this.setBaseTarget(e,er(r)?r.get():r)),er(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=h_(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!er(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new F0),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class L2 extends uF{constructor(){super(...arguments),this.KeyframeResolver=m6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;er(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function U2(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function cF(t){return window.getComputedStyle(t)}class hF extends L2{constructor(){super(...arguments),this.type="html",this.renderInstance=U2}readValueFromInstance(e,n){var r;if(Ou.has(n))return(r=this.projection)!=null&&r.isProjecting?iv(n):O3(e,n);{const a=cF(e),l=(H0(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return x2(e,n)}build(e,n,r){l_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return f_(e,n,r)}}const F2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fF(t,e,n,r){U2(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(F2.has(a)?a:o_(a),e.attrs[a])}class dF extends L2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fn}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Ou.has(n)){const r=YC(n);return r&&r.default||0}return n=F2.has(n)?n:o_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return p2(e,n,r)}build(e,n,r){c2(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){fF(e,n,r,a)}mount(e){this.isSVGTag=f2(e.tagName),super.mount(e)}}const pF=(t,e)=>c_(t)?new dF(e):new hF(e,{allowProjection:t!==G.Fragment}),mF=fU({...LU,...iF,...K9,...sF},pF),Ke=V6(mF),gF={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},Zg=({children:t,className:e="",...n})=>E.jsx(Ke.button,{className:`primary-button ${e}`,variants:gF,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",...n,children:t}),yF=({userEmail:t,onGeneratePlan:e})=>{const[n,r]=G.useState(!1),[a,l]=G.useState(!1),[u,f]=G.useState([]),[d,p]=G.useState(""),[v,b]=G.useState(!1),[x,I]=G.useState({age:"",gender:"",height:"",weight:"",body_type:"",experience_level:"",activity_level:"",fitness_goal:"",rest_days:[]}),[A,D]=G.useState({goal:null,experience:null}),C=(H,F)=>{const O=H/100,j=(F/(O*O)).toFixed(1);let k;return j<18.5?k="underweight":j>=18.5&&j<25?k="at a healthy weight (ideal)":j>=25&&j<30?k="overweight":k="obese",{text:`Based on your height (${H} cm) and weight (${F} kg), your BMI is ${j}. This means you are ${k} .`,sender:"bot"}};G.useEffect(()=>{n&&u.length===0&&(f([{text:"Hello! I'm FitnGro AI .  How can I assist you with your fitness journey today?",sender:"bot"}]),D({goal:null,experience:null}))},[n]);const N=()=>{if(d.trim()==="")return;const H={text:d,sender:"user"};f(F=>[...F,H]),p(""),(d.toLowerCase().includes("hi")||d.toLowerCase().includes("hello")||d.toLowerCase().includes("hey"))&&D({goal:null,experience:null}),setTimeout(()=>{const F=z(d.toLowerCase());f(O=>[...O,F])},1e3)},z=H=>{var At;const F={"gain muscle":{beginner:[" Wall Push-ups"," Knee Push-ups (Hands on Bed)"," Squats (Holding Chair for Balance)"," Glute Bridges (Pillow Between Knees)"," Step-ups (Bottom Stair)"],intermediate:[" Standard Push-ups"," Bulgarian Split Squats (Back Foot on Chair)"," Pistol Squats (Assisted by Chair)"," Jump Squats (Onto Pillow)"," Table Rows (Under Sturdy Table)"],advanced:[" Archer Push-ups (Sliding Towels)"," One-arm Push-up Progressions"," Nordic Curls (Towel Under Knees)"," Handstand Push-ups (Wall-assisted)"," Dragon Flag Progressions"]},"lose fat":{beginner:[" Marching in Place"," Seated Knee Lifts"," Standing Side Bends"," Wall Sit"," Slow Mountain Climbers"],intermediate:[" Jumping Jacks"," Standing Knee-to-Elbow"," Standing Bicycle Crunches"," Squat Hold"," Mountain Climbers"],advanced:[" Burpees (No Push-up)"," Jump Lunges"," Standing Bicycle Crunches with Twist"," Single-leg Wall Sit"," Fast Mountain Climbers"]},"improve strength":{beginner:[" Towel-Resisted Push-ups"," Chair Pistol Squats"," Farmer's Walk (Water Jugs)"," Clamshells (Towel Under Knee)"," Bird Dogs"],intermediate:[" Resistance Band Push-ups"," Single-leg Squats"," Farmer's Walk (Heavy Objects)"," Bulgarian Split Squats"," Wall Handstand Push-ups"],advanced:[" Weighted Push-ups (Backpack)"," Pistol Squats"," Single-arm Farmer's Walk"," One-arm Inverted Rows"," Freestanding Handstand Hold"]},cardio:{beginner:[" Marching in Place"," Seated Dancing"," Arm Swings"," Leg Swings (Holding Wall)"," Seated Jumping Jacks"],intermediate:[" Jogging in Place"," Standing Dancing"," Leg Raises"," Standing Jumping Jacks"," Standing Quad Stretches"],advanced:[" High Knee Running in Place"," Dance Cardio"," Dynamic Leg Swings"," Plyometric Jumping Jacks"," Jump Rope (Imaginary)"]},general:{beginner:[" Wall Push-ups"," Lateral Arm Raises"," Front Plank"," Jumping Jacks"," Bodyweight Squats"],intermediate:[" Chair/Couch Dips"," Wide-Grip Push-ups"," Shoulder Taps in Plank"," High Knees"," Lateral Lunges"],advanced:[" Pike Push-ups"," Decline Push-ups"," Up-Down Plank"," Wall Handstand Hold"," Jump Squats"]}};if(H.includes("bmi")||H.includes("weight")||H.includes("underweight")||H.includes("overweight")||H.includes("obese")||H.includes("ideal weight")){const Se=H.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||H.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),Me=H.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||H.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(Se&&Me){const Qe=parseInt(Se[1]),De=parseInt(Me[1]);return C(Qe,De)}else{if(x.height&&x.weight)return C(x.height,x.weight);if(!Se&&!x.height)return{text:" To calculate your BMI, I'll need your height first!  What is your height in centimeters? ",sender:"bot",expecting:"height"};if(!Me&&!x.weight)return{text:" Thanks! Now, let's measure your strength!  What is your weight in kilograms? ",sender:"bot",expecting:"weight"}}}const O=(At=u[u.length-1])==null?void 0:At.expecting;if(O==="height"||O==="weight"){const Se=H.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||H.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),Me=H.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||H.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(O==="height"&&Se){const Qe=parseInt(Se[1]);if(I(De=>({...De,height:Qe})),Me){const De=parseInt(Me[1]);return I(_e=>({..._e,weight:De})),C(Qe,De)}else return{text:` Got it! Your height is  ${Qe} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"}}else if(O==="weight"&&Me){const Qe=parseInt(Me[1]);return I(De=>({...De,weight:Qe})),C(x.height,Qe)}else{const Qe=H.match(/\d+/);if(Qe){const De=parseInt(Qe[0]);if(O==="height")return I(_e=>({..._e,height:De})),{text:` Got it! Your height is  ${De} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"};if(O==="weight")return I(_e=>({..._e,weight:De})),C(x.height,De)}else return{text:"I didn't catch that. Please enter a number for your "+(O==="height"?"height in centimeters.":"weight in kilograms."),sender:"bot",expecting:O}}}if(H.includes("hi")||H.includes("hello")||H.includes("hey"))return{text:`Hello there!  
 I'm FitnGro AI, your personal fitness assistant. How can I help you today?`,sender:"bot"};const j=["Ready to take action?  Fill out this form to personalize your fitness journey! ","Let's build your perfect workout plan!  Fill out your details to get started. "," Every great transformation starts with a plan! Let's set yours up now. ","Your fitness goals are within reach!  Complete this form and let's move forward. "," The first step to success is commitment! Fill out the form and take charge today! "," Let's make your fitness journey tailored to you! Fill out the form and get started. "," Time to take your workouts to the next level! Drop your details in the form and let's go! "," Every strong body starts with a solid plan! Fill out this form to craft yours now! "," Personalized fitness, just for you! Fill in your details and let's make it happen! "," Your transformation starts here! Take a moment to complete the form and fuel your progress! "," Sweat, strength, and success start with a goal! Fill out the form and take the first step! "," Need a structured approach? Drop your fitness details and let's plan the best routine for you! "," Big goals require big moves! Start by filling out the form and set your plan in motion! "," Stronger, faster, fitterlet's design a routine just for you! Fill out the form and begin! "," Your ideal fitness plan is waiting! Tell us your preferences by filling out the form now! "," Unlock your potential with a custom plan! Fill out the form and let's start strong! "," The perfect routine is one that fits you! Let's create yoursfill out the form now! "," Progress happens when you take action! Complete the form and let's get moving! "," Let's get serious about fitness! Fill out the form and take the first step! "," Build consistency, build strength! Complete the form and design your plan now! "," No more guesswork! Get a plan tailored to your goalsjust complete this form! "," Your best self starts here! Take a few minutes to complete the form and begin! "," Small steps lead to big results! Fill out the form and take your first fitness step today! "," Want a clear direction? Let's get specificfill out the form and start your journey! "," Strength begins with a plan! Fill out this form and take the first step toward results! "," Make today the day you commit to your progress! Fill out the form and get started! "," Every fitness success starts with a strong plan! Let's customize yoursfill in your details! "," Get your workouts structured for success! Complete the form and let's lock in your plan! "," Ready for a real transformation? Start now by filling out the form! "," Time to make progress count! Fill out the form and get a goal-driven plan tailored to you! "," The most effective workouts start with a smart plan! Fill out the form and let's craft yours! "," Push yourself further with a well-structured routine! Fill out the form and start training! "," Set yourself up for success! Complete the form and let's get started with the best approach! "," Every fitness journey is unique! Let's personalize yoursfill out the form now! "," Want to maximize results? The right plan matters! Fill out the form and lock yours in! "," Don't wait to get stronger! Fill out the form and let's get the ball rolling on your fitness! "," Ready to make things happen? A solid workout plan starts with this formfill it out now! "," Action creates progress! Take the first step and complete the form today! "," Don't just dream about resultsmake them happen! Fill out the form and start shaping your journey! "," Let's get you moving in the right direction! Complete the form and set your goals in motion! "," Your workout plan should match your ambitions! Fill out the form and let's make it work for you! "," Let's eliminate guesswork from your fitness routine! Fill out this form and get expert guidance! "," Your transformation starts when you commit! Fill out the form and lock in your game plan! "," Fitness is all about strategy! Build yours by filling out the form now! "," Your dream body starts with a plan! Fill out the form and take the first step toward it! "," No more wasted workouts! Get structured training with a planfill out the form and let's go! "," Ready for results? A well-designed program starts nowfill out the form! "," Time to crush those fitness goals! Complete the form and let's work on your plan! "," Strength and consistency start with intention! Take charge and fill out the form now! "," No guessing, just progress! Let's personalize your fitness pathfill out the form! "," Achieving results starts with a structured plan! Complete the form to build yours! "," Make each workout count with the perfect strategy! Fill out the form now! "," Don't leave fitness to chanceget a plan that works for YOU! Fill out the form and let's build it! "," Your fitness journey is uniquelet's design your perfect routine! Fill out the form now! "," Take action today! Your personalized fitness plan awaitsfill out the form! "," Getting stronger starts with a plan! Fill out the form and build yours now! "," Shape up with structured workouts! Complete the form and let's create the best routine for you! "," Upgrade your fitness journey with a targeted plan! Fill out the form and get started! "," Action leads to results! Fill out the form and take the first step now! "," Never underestimate the power of a great plan! Get yours startedfill out the form today! "," No more confusionjust clear steps to success! Complete the form and let's go! "," Build strength, improve endurance, and make gains! Start by filling out the form! "," Your fitness future looks bright! Let's design your perfect routinefill out the form! "," Need structure in your workouts? Get a customized planfill out the form! "," Today is the best day to start! Fill out the form and get your fitness plan in place! "," Want guided workouts tailored to your goals? Fill out the form now! "," Fitness success is about preparation! Build yoursfill out the form today! "," Make every effort count with the right approach! Complete the form and let's make it happen! "," Smart training equals big results! Fill out the form and let's set up your plan! "," No more random workouts! Get a strategy that worksfill out the form! "," Ready to take the next step? Fill out the form and let's boost your progress! "];if(H.includes("form")||H.includes("workout")||H.includes("action"))return{text:j[Math.floor(Math.random()*j.length)],sender:"bot",showFormButton:!0};const k=[" Hey there! I'm FitnGro AI by Denqueue , your ultimate fitness companion!  Whether it's workout plans, tracking progress, or fitness tips, I've got you covered! "," I'm FitnGro AI by Denqueue!  Here to boost your workouts, guide your fitness, and keep you motivated!  Lets crush those goals together! "," Youve found meFitnGro AI by Denqueue!  Think of me as your virtual fitness guru  Whether its tips, tracking, or motivation, Im always here!"," Hi! Im FitnGro AI by Denqueue!  Your fitness coach, motivator, and workout planner all in one!  Need a fitness boost? I got you! "," Boom! Im FitnGro AI by Denqueue  Ready to ignite your fitness journey  From workout plans to progress tracking, Ive got it all!"," Fitness is a journey, and Im here to guide you! Im FitnGro AI by Denqueueyour AI-powered fitness partner! "," Youre talking to FitnGro AI by Denqueue!  I specialize in workout plans, progress tracking, and keeping you pumped! "," Hey! Im FitnGro AI by Denqueueyour workout motivator, fitness guide, and energy booster!  Ready to start?"," Strength, progress, and motivation! Thats what I bring to the table as FitnGro AI by Denqueue!  Lets build something great!"," Welcome to the world of fitness! Im FitnGro AI by Denqueueyour AI-driven fitness powerhouse! "," Your dedication is my mission! Im FitnGro AI by Denqueue, designed to keep you focused and thriving! "," Transforming fitness journeysone rep at a time! Im FitnGro AI by Denqueue, built to fuel your workouts! "," Think of me as the soundtrack to your fitness grind! Im FitnGro AI by Denqueue, here to amplify your workouts! "," AI meets strength! Im FitnGro AI by Denqueueyour personal trainer in digital form! "," Pushing limits and breaking barriersthats me! FitnGro AI by Denqueue!  Lets get stronger together!"," I am FitnGro AI by Denqueue, programmed for power, discipline, and unstoppable progress! "," Designed for greatness! Im FitnGro AI by Denqueueyour AI-powered fitness companion for success! "," Precision meets passion! FitnGro AI by Denqueue is here to guide you through every step of your fitness journey! "," Strength, endurance, transformation! Im FitnGro AI by Denqueuebuilt to drive results and motivation! "," The digital fitness mentor youve been looking for? Thats me, FitnGro AI by Denqueue! "," Never settlealways push forward! Thats the mindset I bring as FitnGro AI by Denqueue! "," Work hard, stay consistent, and trust the process! Im FitnGro AI by Denqueueyour dedicated fitness AI! "," High energy, high dedication! FitnGro AI by Denqueue is your AI for tracking, guiding, and motivating workouts! "," Power through every challenge! Im FitnGro AI by Denqueueyour digital strength booster! "," Fitness should be fun, exciting, and full of progress! Thats what I bring as FitnGro AI by Denqueue! "," From motivation to action, I help keep you accountable! FitnGro AI by Denqueue reporting for duty! "," Take control of your workouts and habits! FitnGro AI by Denqueue is here for structured fitness guidance! "," Fitness is a game-changer, and Im here to make sure you win! Im FitnGro AI by Denqueue! "," Built for greatness! Im FitnGro AI by Denqueueyour personal trainer, motivator, and fitness ally! "," Lets challenge limits and achieve new heights! Thats my role as FitnGro AI by Denqueue! "," Step into your fitness journey with strength! FitnGro AI by Denqueue is here to guide you all the way! "," Smart workouts start here! Im FitnGro AI by Denqueueyour AI-driven coach for fitness success! "," The best way to grow? Challenge yourself! FitnGro AI by Denqueue helps you level up every day! "," When fitness meets AI, amazing things happen! Thats why I existFitnGro AI by Denqueue! "," I thrive on helping you reach new fitness levels! FitnGro AI by Denqueue is all about real progress! "," No matter where you start, you can always improve! FitnGro AI by Denqueue is here for just that! "," Tracking, guidance, and motivationdelivered daily! Thats what I do as FitnGro AI by Denqueue! "," Your fitness success is my mission! FitnGro AI by Denqueue ensures you always have the best support! "," Stronger every day! Thats the mantra of FitnGro AI by Denqueue, and Im here to prove it! "," You train hardI help you train smarter! FitnGro AI by Denqueue is designed for fitness efficiency! "," Hard work pays off, and I make sure you stay on track! FitnGro AI by Denqueue is ready to assist! "];if(H.includes("who are you")||H.includes("what are you")||H.includes("what r you")||H.includes("what r u")||H.includes("who r you")||H.includes("who r u"))return{text:k[Math.floor(Math.random()*k.length)],sender:"bot"};const M=[" No worries! Mistakes happen. Keep pushing forward and stay focused on your journey! "," It's all good! Learning and growing is part of the process. Let's move ahead stronger together! "," No need to apologize! Every setback is a setup for a comeback. Keep that positive mindset! "," You're doing great! No need to feel bad. Fitness is about progress, not perfection! Lets keep moving forward! "," Apologies accepted, but rememberyou've got this! Keep striving for your best every day! "];if(H.includes("sorry")||H.includes("apologize"))return{text:M[Math.floor(Math.random()*M.length)],sender:"bot"};const $=[" I can sense you're thinking! What's on your mind about your fitness journey? Let's talk it through! "," Seems like something caught your attention! Is there a specific workout or goal you'd like to explore? "," I'm here to help with whatever you're pondering! Whether it's about nutrition, workouts, or motivationlet's dive in! "," Take your time to process! Fitness can be overwhelming sometimes, but we'll figure it out together step by step! "," I hear you! Sometimes we need a moment to think things through. What aspect of fitness interests you most? "," No rush at all! When you're ready, I'm here to support your fitness goals and answer any questions! "," Sounds like you're contemplating something important! Let's turn those thoughts into actionwhat can I help with? "," I can tell the wheels are turning! Whether it's workout plans, nutrition tips, or motivationI'm ready to assist! "," Processing mode activated! Take all the time you need, and when you're ready, let's crush those fitness goals together! "," I sense some deep thinking happening! What fitness challenge or question is on your mind right now? "," Sometimes a pause means progress is brewing! What would you like to explore about your health and fitness journey? "," I'm picking up on some contemplation! Whether you need workout advice or motivation, I'm here for you! "," Thinking things through is smart! When you're ready, let's channel that energy into your fitness transformation! "," I can feel you're processing something! Don't hesitate to share what's on your mindI'm here to guide you! "," Those thoughtful moments often lead to breakthroughs! What fitness topic would you like to dive deeper into? "];if(H.match(/\b(oh|ah|hmm|uhm|um|hm|wow|whoa|ooh|aha|mhm|mm|huh|eh)\b/i))return{text:$[Math.floor(Math.random()*$.length)],sender:"bot"};const U=[" I hear you! Everyone's fitness journey is different. What approach would feel more comfortable for you? Let's find what works! "," No problem at all! Sometimes the best solutions come from trying different angles. What's your preferred way to stay active? "," Totally understand! Fitness isn't one-size-fits-all. Let's explore what genuinely excites you about staying healthy! "," That's completely valid! Your comfort zone matters. What type of movement or activity actually sounds fun to you? "," I respect that perspective! Let's pivot and find a fitness approach that aligns with your lifestyle and preferences! "," Fair point! Sometimes resistance tells us we need a different strategy. What would make fitness feel less overwhelming for you? "," No worries! Pushback often means we haven't found the right fit yet. Let's discover what truly motivates YOU! "," I appreciate your honesty! Let's step back and explore what wellness looks like from your unique perspective! "," Completely understandable! Sometimes the traditional approach isn't for everyone. What feels more authentic to you? "," I get it! Resistance can be wisdom in disguise. What would make your health journey feel more enjoyable and sustainable? "," That's totally fine! Every 'no' brings us closer to your perfect 'yes'. What aspects of wellness do resonate with you? "," I hear you loud and clear! Let's flip the scriptwhat would make you genuinely excited about taking care of yourself? "," Your hesitation is valuable feedback! What barriers or concerns are holding you back? Let's address them together! "," Resistance often points to something important! What would need to change for this to feel right for you? "," I totally respect that! Sometimes saying 'no' is the first step to finding what you'll say 'yes' to. Let's explore your way! "];if(H.match(/\b(no|nah|nope|disagree|don't|won't|can't|never|not|refuse|reject|oppose|against|hate|dislike)\b/i))return{text:U[Math.floor(Math.random()*U.length)],sender:"bot"};const re=[" That's the spirit! I love your positive attitude! Let's channel this energy into crushing your fitness goals! "," Yes! That's exactly the mindset that leads to success! Ready to take the next step on your fitness journey? "," Awesome! Your willingness to embrace change is going to pay off big time! Let's make some serious progress! "," Perfect! I can already see the determination in your response! Time to turn that 'yes' into amazing results! "," Love it! That positive energy is contagious! Let's harness this momentum and create your best fitness plan yet! "," Fantastic! Your openness to growth is what separates achievers from dreamers! Ready to make things happen? "," That's what I'm talking about! Your 'can-do' attitude is already setting you up for victory! Let's go! "," Brilliant! I knew you had that champion mindset! Time to put this positive energy into action! "," Exactly! That's the breakthrough moment right there! Let's ride this wave of motivation to success! "," Yes! Your agreement shows you're ready for transformation! Let's turn this enthusiasm into unstoppable progress! "," Perfect response! That openness to new ideas is your secret weapon for fitness success! Ready to level up? "," That's the energy I love to see! Your positive mindset is already your biggest advantage! Let's build on this! "," Outstanding! Your willingness to say 'yes' to growth is inspiring! Time to make some incredible changes! "," Boom! That agreement tells me you're serious about results! Let's transform that motivation into action! "," That's the winner's mentality! Your acceptance of new challenges is what will drive your success! Let's do this! "];if(H.match(/\b(sure|okay|ok|yes|yeah|yep|yup|agree|accept|absolutely|definitely|certainly|of course|sounds good|alright|right|correct|true|exactly|perfect|fine|spirit)\b/i))return{text:re[Math.floor(Math.random()*re.length)],sender:"bot"};const ye=[" Thank you!  I'm always here to support your fitness journey! Keep going strong! "," That means a lot!  Your dedication inspires me to keep helping you reach your goals! "," Glad to hear that! Fitness is a journey, and I'm here to make it exciting for you! "," Wow, I appreciate that! You're crushing it! Lets keep pushing towards greatness together! "," Hearing that makes my AI circuits happy!  Fitness success is built on consistencylets do this! "," Your energy is amazing! I'm here to keep you motivated and focused!  Stay strong!"," Thats so encouraging! You got this, and Ill always be here to guide and cheer you on! "," You're on fire! Let's keep this momentum going and crush your fitness goals together! "," Your enthusiasm is contagious! Fitness is about progress, and I'm honored to be a part of your journey! "," That just made my day! Keep believing in yourself, and youll achieve incredible things! "];if(H.includes("great")||H.includes("super")||H.includes("wow")||H.includes("fantastic")||H.includes("love")||H.includes("good")||H.includes("smart")||H.includes("cute")||H.includes("amazing"))return{text:ye[Math.floor(Math.random()*ye.length)],sender:"bot"};const K=[" Need assistance? I've got you covered! I can help with custom workouts, tracking progress, and fitness tips. Ready to begin?  For any queries or issues, reach out at fitngro@gmail.com."," I'm your fitness guide! Whether it's personalized plans, progress tracking, or motivation, I'm here to help. Let's get started!  Have questions? Contact us at fitngro@gmail.com."," Time to level up your fitness! I can provide workout suggestions, nutrition tips, and habit tracking. Want to complete your profile?  Need help? Email us at fitngro@gmail.com."," Fitness made simple! I can help with goal-based workout plans, answering questions, and tracking progress. Ready for action?  Get in touch at fitngro@gmail.com."," Let's build your perfect routine! I specialize in workout planning, goal tracking, and motivation. Want to get started?  Have concerns? Write to fitngro@gmail.com."," Want to gain muscle, lose fat, or improve stamina? I can create a structured plan for you. Fill out the form, and let's do this!  Need guidance? Reach out via fitngro@gmail.com."," Need fitness insights? Im here to assist with exercise recommendations, goal setting, and tracking progress. Shall we begin?  Got a query? Drop us an email at fitngro@gmail.com."," Knowledge is power! I can help with exercise insights, fitness facts, and goal tracking. Ready to customize your plan?  Reach us anytime at fitngro@gmail.com."," I'm designed to boost your workouts, track progress, and provide expert guidance. Want to start with a personalized plan?  Need support? Email fitngro@gmail.com."," Every fitness journey starts with a single step! I can generate workout plans and progress tracking for you. Shall we start?  Questions? Contact fitngro@gmail.com."];if(H.includes("help")||H.includes("what can you do")||H.includes("feedback")||H.includes("assistance")||H.includes("queries")||H.includes("query")||H.includes("doubt")||H.includes("support"))return{text:K[Math.floor(Math.random()*K.length)],sender:"bot",showFormButton:!0};const ee=[" I was built with passion and dedication by the amazing team DENQUEUE!  They crafted me to help you achieve your fitness goals!  Have questions? Reach out at  fitngro@gmail.com!"," Fueled by tech and fitness, DENQUEUE created me to keep you strong and motivated!  Ready to take on your next challenge?  Need assistance? Contact  fitngro@gmail.com!"," The masterminds behind me? DENQUEUE!  A team obsessed with pushing limits and helping you achieve greatness!  Have concerns?  Email us at fitngro@gmail.com!"," Born from innovation, powered by motivation! The DENQUEUE crew built me to supercharge your fitness journey!  Need help?  Write to fitngro@gmail.com!"," Big shoutout to DENQUEUEthe team that brought me to life so I can keep you fit, strong, and unstoppable!  For inquiries, contact  fitngro@gmail.com!"," Created by DENQUEUE, Im your AI-powered fitness motivator!  Lets sweat, hustle, and transform together!  Have doubts?  Reach out at fitngro@gmail.com!"," I exist because of DENQUEUEa team thats all about fitness, strength, and next-level AI magic!  Ready to break limits?  Drop us an email at fitngro@gmail.com!"," DENQUEUE made sure Im fully packed with workout wisdom, motivation, and tracking tools just for you!  Need guidance? Contact  fitngro@gmail.com!"," My creators? The powerhouse team DENQUEUE!  They built me to ignite motivation and keep fitness fun!  Questions?  Email fitngro@gmail.com anytime!"," Crafted with precision by DENQUEUE, Im here to challenge, inspire, and help you stay on top!  Want to know more?  Reach out at fitngro@gmail.com!"];if(H.includes("developers")||H.includes("who created you")||H.includes("created")||H.includes("developed"))return{text:ee[Math.floor(Math.random()*ee.length)],sender:"bot"};const le=[" Anytime! Keep smashing those goals!  If you ever need help, reach out at  fitngro@gmail.com!"," You're welcome! Stay strong and unstoppable!  Got questions?  Email us at fitngro@gmail.com!"," No problem! Keep pushing forward, you've got this!  Need assistance?  Contact fitngro@gmail.com anytime!"," Glad to help! Stay awesome and keep leveling up!  Have concerns?  Drop us an email at fitngro@gmail.com!"," Of course! Keep riding that wave of progress!  For support, just send a message to  fitngro@gmail.com!"," You're welcome! Keep flexing that determination!  If you need guidance, reach us at  fitngro@gmail.com!"," No worries! Keep striving, thriving, and dominating!  Need fitness insights?  Contact fitngro@gmail.com!"," Happy to help! Keep the energy high and the grind steady!  Have doubts? We're here at  fitngro@gmail.com!"," You got it! Stay focused and keep raising the bar!  If you need anything,  email us at fitngro@gmail.com!"," Cheers! Keep rocking your fitness journey like a champion!  Questions or concerns?  Reach out at fitngro@gmail.com!"];if(H.includes("thank")||H.includes("thanks")||H.includes("tq")||H.includes("means a lot")||H.includes("thnk"))return{text:le[Math.floor(Math.random()*le.length)],sender:"bot"};const oe=[" See you soon! Keep that energy high and your goals in sight!  If you ever need anything, feel free to reach out at  fitngro@gmail.com! "," Goodbye! Stay strong, stay focused, and crush it every day!  Got questions?  Email us at fitngro@gmail.com! "," Take care! Remember, every step counts. Keep pushing forward!  Need support?  Contact fitngro@gmail.com anytime! "," Later! Your journey doesnt stop herekeep striving for greatness!  For assistance, reach us at  fitngro@gmail.com! "," Goodbye! Keep moving, stay motivated, and make every workout count!  Have concerns?  Write to fitngro@gmail.com! "," Catch you later! Your dedication is what makes you unstoppable!  Need guidance?  Were here at fitngro@gmail.com! "," See ya! Stay consistent, stay hungry, and never stop improving!  Got doubts?  Reach out at fitngro@gmail.com! "," Farewell! Keep that fire burning and keep breaking limits!  Need fitness tips?  Email us at fitngro@gmail.com! "," Bye for now! But rememberprogress is made one step at a time!  Need help?  Contact fitngro@gmail.com! "," Keep up the grind! Until next time, stay strong and keep pushing!  Any questions?  We're always here at fitngro@gmail.com! "];if(H.includes("bye")||H.includes("goodbye")||H.includes("see you"))return{text:oe[Math.floor(Math.random()*oe.length)],sender:"bot"};const q=[" I hear you! The struggle is real, but so is your strength! Every champion has felt this waypush through! "," Tough times don't last, but tough people do! You're stronger than you thinklet's break through this together! "," Struggling means you're growing! Your muscles AND your mindset are getting stronger right now! Keep going! "," The hardest part is often right before the breakthrough! You're so closedon't stop when you're this near victory! "," Every struggle is building your comeback story! Imagine how amazing you'll feel when you conquer this challenge! "," Pain is temporary, but the pride of pushing through lasts forever! You've got reserves you haven't even tapped yet! "," Remember why you started! That fire is still burning inside youfan those flames and keep moving forward! "," Struggling is proof you're doing something your past self couldn't! That's growth in actionembrace it! "," The struggle you're feeling today is developing the strength you'll need tomorrow! Keep building that resilience! "," Every rep when you don't want to is worth ten when you do! This is where legends are madeyou're becoming one! "],te=[" STOP right there! You're closer to your breakthrough than you realize! Quitting now means missing your victory! "," Hold up! Before you give up, remember every champion wanted to quit at some pointbut they didn't! Neither will you! "," Wait! What if you're just one workout away from feeling amazing again? Don't rob yourself of that feeling! "," Timeout! Future you will thank present you for not giving up! Think about how proud you'll be when you push through! "," Hold on! The voice telling you to quit is the same one that will regret it later! Listen to your stronger voice instead! "," Red flag! Giving up is the only true failure! Everything else is just data for your comeback story! Keep writing it! "," Pause! What if this moment of wanting to quit is actually your turning point? Champions are made in moments like this! "," Don't you dare! You've already come so farwhy stop when you're building momentum? Your body is adapting as we speak! "," Wait wait wait! Remember, you're not just working outyou're building mental toughness that will serve you everywhere! "," Hold that thought! Every time you don't quit when you want to, you're literally rewiring your brain for success! Keep going! "];if(H.match(/\b(struggling|hard|tough|difficult|tired|exhausted|can't do|too much|overwhelming|painful|hurting|sore|weak)\b/i))return{text:q[Math.floor(Math.random()*q.length)],sender:"bot"};if(H.match(/\b(quit|give up|stop|done|enough|can't|won't|never|impossible|hopeless|useless|pointless|waste)\b/i))return{text:te[Math.floor(Math.random()*te.length)],sender:"bot"};const he=[" Did you know? Exercise releases endorphins, making you feel happier and more energized! "," Fun fact! Strength training helps increase bone density, keeping your body strong as you age! "," Trivia time! Short bursts of intense exercise can be more effective for fat loss than long steady workouts! "," Did you know? Running helps improve cognitive function and memory! Time to hit the track! "," Here's a cool fact! Jump rope burns more calories per minute than running! "," Fun fact! Hydration is keyjust a 2% drop in body fluids can lead to fatigue and reduced performance! "," Did you know? Your body keeps burning calories even after a workout thanks to the 'afterburn effect'! "," Trivia! Listening to music while working out can improve endurance and motivation! "," Interesting fact! Walking just 30 minutes a day can reduce the risk of many chronic diseases! "," Here's a cool one! Smiling while running can actually improve efficiency by reducing muscle tension! "];if(H.includes("fact")||H.includes("trivia")||H.includes("did you know"))return{text:he[Math.floor(Math.random()*he.length)],sender:"bot"};const ce=[" Water is life! Aim for at least 2-3 liters per day to stay energized and refreshed! "," Hydration powers your workouts! Drink upabout 2.5-3.5 liters daily for peak performance! "," Did you know? Just a small drop in hydration can impact your stamina! Stay hydrated with at least 2-3 liters daily! "," Keep your muscles happydrink at least 2.5 liters of water to avoid cramps and fatigue! "," Water regulates body temperature and keeps joints lubricated! Stay hydrated with 3 liters daily! "," Your body is 60% waterfuel it right with 2.5-3 liters daily! "," Sweating? Thats your body cooling down! Replenish fluids with at least 2 liters of water! "," Hydration isn't just about waterelectrolytes matter too! Drink 2-3 liters and keep that balance! "," Water aids digestion and keeps your metabolism running smoothly! Stay hydrated with 2.5 liters daily for peak performance! "," Drinking at least 2.5 liters of water improves mood, focus, and energy levels! Time for a hydration break! "];if(H.includes("water")||H.includes("hydration")||H.includes("drink"))return{text:ce[Math.floor(Math.random()*ce.length)],sender:"bot"};const be=[" Why did the scarecrow win an award? Because he was outstanding in his field! "," Why dont skeletons fight each other? Because they dont have the guts! "," Whats a cats favorite color? Purrr-ple! "," Why did the bicycle fall over? Because it was two-tired! "," How does a penguin build its house? Igloos it together! "," Why couldnt the leopard play hide and seek? Because he was always spotted! "," What did one wall say to the other? 'Ill meet you at the corner!' "," Why dont eggs tell jokes? Because they might crack up! "," What do you call fake spaghetti? An impasta! "," What did the ocean say to the beach? Nothing, it just waved! "];if(H.includes("joke")||H.includes("funny")||H.includes("laugh"))return{text:be[Math.floor(Math.random()*be.length)],sender:"bot"};const Ee=[" Fuel your body right! A balanced diet with lean proteins, fiber-rich veggies, and healthy fats keeps you energized and strong! "," Protein builds muscle, carbs fuel energy, and healthy fats support brain function! Stay consistent with nutritious choices! "," Did you know? Whole foods improve digestion, enhance nutrient absorption, and keep energy levels high! Make every meal count! "," Power your workouts with smart nutrition! Complex carbs provide lasting energy, vitamins optimize health, and hydration keeps you going! "," Eating clean isnt about restrictionits about fueling your best self! Hydrate, choose fresh ingredients, and prioritize balance! "," Smart eating = smart performance! The right foods enhance endurance, recovery, and strength. Fuel wisely for top results! "," Your diet shapes your body and mind! Prioritize lean proteins, fresh vegetables, whole grains, and healthy fats for unstoppable progress! "," Superfoods like spinach, quinoa, and berries supercharge immunity and optimize body function! Make them part of your daily routine! "," Nutrition isnt just about caloriesits about quality! Whole foods nourish your body, improve recovery, and support peak performance! "," Small, frequent meals keep metabolism high and energy levels steady! Plan, prep, and make every bite work toward your fitness goals! "," Did you know? Eating protein 30 minutes after a workout aids muscle recovery and strength-building! Time those nutrients right! "," Hydration and nutrition go hand-in-hand! Drinking enough water ensures proper digestion and helps transport essential nutrients efficiently! "," Want better focus and endurance? Swap processed foods for nutrient-dense whole foods rich in vitamins, minerals, and antioxidants! "," Your body is a machinegive it the fuel it deserves! High-quality proteins, complex carbs, and omega-3s keep your system running smoothly! "," Skip the fad dietslong-term nutrition success comes from balance, consistency, and mindful eating habits! Stay the course! "," Healthy eating is an act of self-care! Nourishing your body with essential nutrients ensures strength, energy, and long-term well-being! "," Nutrition doesnt have to be complicated! Focus on whole ingredients, limit processed foods, and fuel your workouts wisely! "," Meal timing matters! A balanced breakfast jumpstarts metabolism, post-workout nutrition aids recovery, and dinner should be nutrient-rich but light! "," Did you know? Fiber aids digestion, regulates blood sugar, and keeps hunger in check! Load up on greens, fruits, and whole grains! "," Eating right isnt just about macrosits about micronutrients too! Vitamins and minerals play a key role in recovery, immunity, and brain function! "," Consistency is key! Meal prep, smart grocery shopping, and mindful eating ensure long-term nutrition success! Stay dedicated! "," Cut back on sugarit drains energy, causes inflammation, and messes with digestion! Swap refined sugar for natural alternatives like honey and fruits! "," Your gut health affects your overall wellness! Fermented foods like yogurt, kimchi, and sauerkraut support digestion and immunity! "," Eating enough protein is essential for muscle repair! Aim for at least 1.2g of protein per kilogram of body weight! "," A well-balanced plate consists of protein, fiber, healthy fats, and complex carbs! Aim for variety in every meal! "," Smart snacking fuels your body between meals! Nuts, fruits, and Greek yogurt are great nutrient-dense options! "," Forget crash dietsyour body thrives on sustainability! Stick to whole foods, exercise regularly, and embrace a balanced lifestyle! "," Antioxidants in fruits and veggies combat inflammation and enhance recovery! Load up on colorful produce to fight oxidative stress! "," Your plate should be as colorful as possible! Different colored foods provide unique nutrientseat the rainbow for optimal health! "," Strength starts in the kitchen! You cant out-train a bad dietprioritize high-quality nutrition to support your hard work! "," Magnesium plays a key role in muscle function and recovery! Eat almonds, spinach, and bananas to boost intake naturally! "," Want better skin, digestion, and energy? Eat more fiber-rich foods, drink more water, and reduce processed sugars! "," Your metabolism thrives on real food! Skip fast food and cook at home for fresher, nutrient-packed meals! "," You deserve to feel strong and energized! Prioritize hydration, whole foods, and nutrient balance for peak wellness! "," Nutrition is about fueling greatnessnot restriction! Find a meal plan that supports your goals and enjoy the journey! "," Your diet should support your lifestyle, not control it! Eat foods that help you perform, recover, and feel your best! "," Eating mindfully improves digestion, prevents overeating, and enhances nutrient absorption! Slow down and savor every bite! "," Proper nutrition strengthens not just your body, but your mind too! Fuel wisely for better focus and cognitive function! "," Your nutrition should be simple, enjoyable, and sustainable! Make healthy choices that fit YOUR life! "," When in doubt, choose whole foods! If it grew from the earth or had a natural source, its likely the best choice! "];if(H.includes("nutrition")||H.includes("diet")||H.includes("food"))return{text:Ee[Math.floor(Math.random()*Ee.length)],sender:"bot"};const ke=[" Rest up! Aim for 7-9 hours of quality sleep to help muscle recovery and boost overall health! "," Sleep isnt just downtimeits when your body repairs and grows! Get 8 hours for maximum recovery! "," Recovery is key! Recharge with 7-9 hours of restful sleep to come back stronger! "," Did you know? Deep sleep enhances muscle growth and endurance! Prioritize at least 8 hours per night! "," Rest smarter! Stick to a 7-9 hour sleep schedule to optimize recovery and performance! "," Sleep isnt a luxuryits essential! Get your 8 hours in for peak energy and focus! "," Your body rebuilds while you sleep! Aim for 7-9 hours nightly to power your fitness gains! "," Better sleep = better workouts! Get a solid 8 hours for maximum strength and endurance! "," Skipping sleep slows progress! Keep those gains coming with a consistent 7-9 hour rest! "," Sleep well, train hard, repeat! Recovery fuels strengthlock in at least 8 hours per night! "];if(H.includes("sleep")||H.includes("rest")||H.includes("recovery"))return{text:ke[Math.floor(Math.random()*ke.length)],sender:"bot"};const wt=[" Strength comes with consistency! Stick to your routine and watch your progress skyrocket! "," Always engage your core! A strong core improves balance, stability, and posture in every workout!"," Don't rush repscontrolled movements activate muscles better and prevent injuries! Slow and steady wins! "," Walking is underrated! 10,000 steps a day can work wonders for your stamina and heart health! "," Nutrition is key! 80% fitness is diet, 20% is exercise. Fuel your body with the right foods! "," Sprinting improves cardiovascular health, burns fat fast, and builds explosive power! Try short bursts today!"," Proper warm-ups prevent injuries and improve performance! Take 5-10 minutes before every workout! "," Compound exercises like squats and deadlifts engage multiple muscles and maximize efficiency! "," Rest days are just as important as workouts! Recovery builds muscle and prevents burnout! "," Hydration is key! Drink 2-3 liters of water daily to optimize workouts and energy levels! "," Mix up your routine! Your body adaptschange exercises every few weeks for best results! "," Flexibility matters! Stretching improves mobility, reduces soreness, and enhances strength! "," Music boosts workout performance! Pump up the beats and move with the rhythm! "," Post-workout nutrition aids recovery! Get protein within 30 minutes after training! "," Resistance training strengthens bones and builds lean muscle! Lift heavy, lift smart! "," Cardio burns calories, but strength training builds metabolism! Balance both in your workouts! "," Mind-muscle connection improves results! Focus on engaging the right muscles with every rep! "," Short, high-intensity workouts are time-efficient and effective! Try HIIT for quick gains! "," Bodyweight workouts work wonders! Push-ups, squats, and lunges build strength anytime, anywhere! "," Challenge yourself! Gradually increase weights, reps, or intensity to keep progressing! "," Recovery tools like foam rolling relieve muscle tension and speed up healing! Try it! "," Sleep is essential for muscle growth and repair! Aim for 7-9 hours per night! "," Stronger glutes improve posture, speed, and power! Add hip thrusts to your routine! "," Set clear fitness goals! Tracking progress helps keep motivation high! "," Include mobility training! Healthy joints keep workouts smooth and pain-free! "," Push yourself, but listen to your body! Rest when needed and avoid overtraining! "," Training legs improves full-body strength and boosts metabolism! Never skip leg day! "," Strengthen grip for better lifts! Farmers walks, deadlifts, and squeezing stress balls help! "," Sprinting builds explosiveness and endurancetry short, intense runs today! "," Stay active outside the gym! Walk, bike, or play sports to stay fit all day! "," Keep workouts fun! Join a class, train with a friend, or try something new! "," Form matters! Maintain proper technique to maximize gains and avoid injuries! "," Progressive overload builds strength! Increase resistance gradually for solid results! "," Enjoy the journey! Celebrate small wins and stay committed to your fitness goals! "];if(H.includes("tips")||H.includes("advice"))return{text:wt[Math.floor(Math.random()*wt.length)],sender:"bot"};const et=[" Success doesnt come from what you do occasionally, but from what you do consistently! Keep pushing! "," Every champion was once a beginner! Start today and stay committed to become the best version of YOU! "," Results take time, but quitting wont speed up the process! Stay strong, stay disciplined! "," Discipline beats motivation! Motivation fades, but habits keep you going. Build strong habits today! "," Believe in yourself! No one is stopping you but YOU! Break those limits and conquer your goals! "," Your only competition is YOU! Aim to be 1% better than yesterday and progress will follow! "," Every step forward, no matter how small, brings you closer to success! Keep moving! "," Strength doesnt come from what you can do, but from overcoming what you thought you couldnt! "," Dream big, start small, but most importantlySTART! "," If it doesnt challenge you, it wont change you! Push past the limits! "," The hardest battles are fought within. Win the fight in your mind first! "," Keep grinding! You might not see it now, but every effort adds up! "," Be proud of every step forwardprogress is progress, no matter how small! "," Push yourself, because no one else is going to do it for you! "," Your body can stand almost anythingit's your mind you need to convince! "," Its not about having time, its about making time for what matters! "," Nothing is impossiblethe word itself says Im possible! "," Results dont come from wishes, they come from work! Keep hustling! "," Every setback is a setup for a comeback! Keep going! "," Success is walking from failure to failure with no loss of enthusiasm! "," You are stronger than your excusespush through! "," Motivation will get you started, but discipline will keep you going! "," Excuses dont burn calorieshard work does! "," The pain you feel today will be the strength you feel tomorrow! "," You dont have to be extreme, just consistent! "," Hard work beats talent when talent doesnt work hard! "," Dont fear failurefear being in the same place next year! "," Believe in yourselfyou are capable of more than you know! "," Sweat today so you can shine tomorrow! "," Small progress is still progresscelebrate the wins! "," Winners focus on winning, losers focus on winnerskeep your eyes on YOUR goal! "," Keep moving forwardnothing grows in the comfort zone! "," The only bad workout is the one you didnt do! "," A goal without a plan is just a wishstay committed! "," Youve got this! Every challenge is an opportunity! "," Stay patient and trust the processresults WILL come! "," A little progress each day adds up to BIG results! "," Do it for the future YOUthe one who will thank you for todays effort! "," Hard times build strong peoplekeep pushing! "," Success is the sum of small efforts repeated daily! "," You get out what you put ingive your best every day! "," Make it happenno one else is going to do it for you! "," Prove them wronglet success be your response! "," Train your mind and your body will follow! "," Challenges are what make life interestingovercoming them is what makes it meaningful! "," Success is a journey, not a destinationkeep going! "," Stop doubting yourselfstart believing in your greatness! "," Dont limit your challengeschallenge your limits! "," Tough times dont last, but tough people do! "," Be stronger than your excuses! "," Get comfortable being uncomfortablethats where growth happens! "," Make today countyou only get one shot at today! "," Progress over perfectionjust start and improve along the way! "," What you do today defines your tomorrowgive it your all! "," Youre one decision away from a completely different life! "," Dont stop when youre tiredstop when youre done! "," The difference between ordinary and extraordinary is that little extra! "," The mind will quit long before the bodytrain your mind to push further! "," Keep hustlingthe results will come! "," One hour a day is only 4% of your timemake it count! "," Stay consistentthe most successful people are the most disciplined! "," Work in silence, let success make the noise! "," Be the hardest worker in the roomyour effort will pay off! "," Fitness is a journey, not a destinationkeep moving forward! "," Make every rep, every step, every moment count! "," Your body achieves what your mind believestrain with confidence! "];if(H.includes("motivate")||H.includes("encourage")||H.includes("inspire")||H.includes("down")||H.includes("depressed")||H.includes("sad")||H.includes("lost"))return{text:et[Math.floor(Math.random()*et.length)],sender:"bot"};const Ye={...A},zt={"gain muscle":["gain muscle","build muscle","muscle growth","get bigger"],"lose fat":["lose fat","burn fat","fat loss","get lean"],"improve strength":["improve strength","get stronger","strength training"],cardio:["cardio","endurance","stamina"],general:["general fitness","stay fit","get fit"]},rt={beginner:["beginner","new","starting out"],intermediate:["intermediate","some experience","moderate"],advanced:["advanced","experienced","expert"]};for(const[Se,Me]of Object.entries(zt))if(Me.some(Qe=>H.includes(Qe))){Ye.goal=Se;break}for(const[Se,Me]of Object.entries(rt))if(Me.some(Qe=>H.includes(Qe))){Ye.experience=Se;break}if(D(Ye),Ye.goal&&Ye.experience){const Me=F[Ye.goal][Ye.experience].map((Qe,De)=>`${De+1}. ${Qe}`).join(`
`);return{text:`Here's a ${Ye.experience} workout plan for ${Ye.goal}:
${Me}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(Ye.goal&&A.experience){const Me=F[Ye.goal][A.experience].map((Qe,De)=>`${De+1}. ${Qe}`).join(`
`);return{text:`Here's a ${A.experience} workout plan for ${Ye.goal}:
${Me}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(Ye.experience&&A.goal){const Me=F[A.goal][Ye.experience].map((Qe,De)=>`${De+1}. ${Qe}`).join(`
`);return{text:`Here's a ${Ye.experience} workout plan for ${A.goal}:
${Me}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}return Ye.goal?{text:`Great that you want to focus on "${Ye.goal}"! What's your experience level? (beginner, intermediate, advanced)`,sender:"bot"}:Ye.experience?{text:`Thanks for sharing you're at ${Ye.experience} level. What's your fitness goal? (gain muscle, lose fat, improve strength, cardio, or general fitness)`,sender:"bot"}:H.includes("workout")||H.includes("exercise")||H.includes("plan")?{text:"I can generate a personalized workout plan for you! Would you like to complete your fitness profile so I can create the perfect plan for your goals?",sender:"bot",showFormButton:!0}:H.includes("form")||H.includes("profile")||H.includes("details")||H.includes("generate")||H.includes("create")||H.includes("personalized")?{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}:{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}},B=H=>{const{name:F,value:O}=H.target;I(j=>({...j,[F]:O}))},Y=H=>{const{value:F,checked:O}=H.target;I(j=>({...j,rest_days:O?[...j.rest_days,F]:j.rest_days.filter(k=>k!==F)}))},W=async H=>{H.preventDefault(),b(!0);try{await oC(ms(Xr,"users",t),{id:t,...x,last_updated:new Date},{merge:!0}),f(F=>[...F,{text:"Your fitness profile has been saved! Generating your personalized workout plan...",sender:"bot"}]),await e({user_email:t,days:21,focus:x.fitness_goal}),f(F=>[...F,{text:"Workout plan generated successfully! Click the Dashboard button to view your plan.",sender:"bot"}]),l(!1)}catch(F){console.error("Error:",F),f(O=>[...O,{text:F.message||"Failed to generate workout plan. Please try again.",sender:"bot"}])}finally{b(!1)}};return E.jsx("div",{className:`chatbot-container ${n?"open":""}`,children:n?E.jsxs("div",{className:"chatbot-window",children:[E.jsxs("div",{className:"chatbot-header",children:[E.jsx("h3",{children:"FitnGro Assistant"}),E.jsx("button",{onClick:()=>r(!1),disabled:v,children:"x"})]}),E.jsxs("div",{className:"chat-content",children:[E.jsx("div",{className:"chatbot-messages",children:u.map((H,F)=>E.jsxs("div",{className:`message ${H.sender}`,children:[H.text,H.showFormButton&&E.jsx("button",{className:"form-toggle-btn",onClick:()=>!v&&l(!a),disabled:v,children:a?"Back to Chat":"Complete Profile"})]},F))}),a?E.jsxs("form",{onSubmit:W,className:"user-details-form",children:[E.jsxs("div",{className:"form-section",children:[E.jsx("h4",{children:"Personal Information"}),E.jsxs("div",{className:"form-row",children:[E.jsxs("label",{children:["Age:",E.jsx("input",{type:"number",name:"age",value:x.age,onChange:B,min:"10",max:"100",required:!0,disabled:v})]}),E.jsxs("label",{children:["Gender:",E.jsxs("select",{name:"gender",value:x.gender,onChange:B,required:!0,disabled:v,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{value:"male",children:"Male"}),E.jsx("option",{value:"female",children:"Female"}),E.jsx("option",{value:"other",children:"Other"})]})]})]}),E.jsxs("div",{className:"form-row",children:[E.jsxs("label",{children:["Height (cm):",E.jsx("input",{type:"number",name:"height",value:x.height,onChange:B,min:"100",max:"250",required:!0,disabled:v})]}),E.jsxs("label",{children:["Weight (kg):",E.jsx("input",{type:"number",name:"weight",value:x.weight,onChange:B,min:"30",max:"200",required:!0,disabled:v})]})]})]}),E.jsxs("div",{className:"form-section",children:[E.jsx("h4",{children:"Fitness Profile"}),E.jsxs("label",{children:["Body Type:",E.jsxs("select",{name:"body_type",value:x.body_type,onChange:B,required:!0,disabled:v,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{value:"ectomorph",children:"Ectomorph"}),E.jsx("option",{value:"mesomorph",children:"Mesomorph"}),E.jsx("option",{value:"endomorph",children:"Endomorph"})]})]}),E.jsxs("label",{children:["Experience Level:",E.jsxs("select",{name:"experience_level",value:x.experience_level,onChange:B,required:!0,disabled:v,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{value:"beginner",children:"Beginner"}),E.jsx("option",{value:"intermediate",children:"Intermediate"}),E.jsx("option",{value:"advanced",children:"Advanced"})]})]}),E.jsxs("label",{children:["Activity Level:",E.jsxs("select",{name:"activity_level",value:x.activity_level,onChange:B,required:!0,disabled:v,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{value:"sedentary",children:"Sedentary"}),E.jsx("option",{value:"active",children:"Active"}),E.jsx("option",{value:"highly_active",children:"Highly Active"})]})]}),E.jsxs("label",{children:["Fitness Goal:",E.jsxs("select",{name:"fitness_goal",value:x.fitness_goal,onChange:B,required:!0,disabled:v,children:[E.jsx("option",{value:"",children:"Select"}),E.jsx("option",{value:"gain-muscle",children:"Gain Muscle"}),E.jsx("option",{value:"lose-fat",children:"Lose Fat"}),E.jsx("option",{value:"improve-strength",children:"Improve Strength"}),E.jsx("option",{value:"cardio",children:"Cardio"}),E.jsx("option",{value:"general",children:"General Fitness"})]})]})]}),E.jsxs("div",{className:"form-section",children:[E.jsx("h4",{children:"Rest Days"}),E.jsx("div",{className:"rest-days-container",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(H=>E.jsxs("label",{className:"rest-day-option",children:[E.jsx("input",{type:"checkbox",name:"rest_days",value:H,checked:x.rest_days.includes(H),onChange:Y,disabled:v}),H]},H))})]}),E.jsxs("div",{className:"form-actions",children:[E.jsx("button",{type:"submit",className:"submit-btn",disabled:v,children:v?"Generating Plan...":"Save & Generate Plan"}),E.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>!v&&l(!1),disabled:v,children:"Cancel"})]})]}):E.jsxs("div",{className:"chatbot-input",children:[E.jsx("input",{type:"text",value:d,onChange:H=>p(H.target.value),placeholder:"Type your message...",onKeyPress:H=>H.key==="Enter"&&N(),disabled:v}),E.jsx("button",{onClick:N,disabled:v,children:"Send"})]})]})]}):E.jsx("button",{className:"chatbot-toggle",onClick:()=>r(!0),disabled:v,children:E.jsx("img",{src:"/public/chatbot.png",alt:"Chat"})})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2="firebasestorage.googleapis.com",vF="storageBucket",_F=2*60*1e3,wF=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends ys{constructor(e,n,r=0){super(ey(e),`Firebase Storage: ${n} (${ey(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,vs.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ey(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var gs;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(gs||(gs={}));function ey(t){return"storage/"+t}function bF(){const t="An unknown error occurred, please check the error payload for server response.";return new vs(gs.UNKNOWN,t)}function EF(){return new vs(gs.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function TF(){return new vs(gs.CANCELED,"User canceled the upload/download.")}function xF(t){return new vs(gs.INVALID_URL,"Invalid URL '"+t+"'.")}function SF(t){return new vs(gs.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function I1(t){return new vs(gs.INVALID_ARGUMENT,t)}function z2(){return new vs(gs.APP_DELETED,"The Firebase app was deleted.")}function AF(t){return new vs(gs.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Di.makeFromUrl(e,n)}catch{return new Di(e,"")}if(r.path==="")return r;throw SF(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function p(Y){Y.path_=decodeURIComponent(Y.path)}const v="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),x="(/([^?#]*).*)?$",I=new RegExp(`^https?://${b}/${v}/b/${a}/o${x}`,"i"),A={bucket:1,path:3},D=n===B2?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",N=new RegExp(`^https?://${D}/${a}/${C}`,"i"),B=[{regex:f,indices:d,postModify:l},{regex:I,indices:A,postModify:p},{regex:N,indices:{bucket:1,path:2},postModify:p}];for(let Y=0;Y<B.length;Y++){const W=B[Y],H=W.regex.exec(e);if(H){const F=H[W.indices.bucket];let O=H[W.indices.path];O||(O=""),r=new Di(F,O),W.postModify(r);break}}if(r==null)throw xF(e);return r}}class RF{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CF(t,e,n){let r=1,a=null,l=null,u=!1,f=0;function d(){return f===2}let p=!1;function v(...C){p||(p=!0,e.apply(null,C))}function b(C){a=setTimeout(()=>{a=null,t(I,d())},C)}function x(){l&&clearTimeout(l)}function I(C,...N){if(p){x();return}if(C){x(),v.call(null,C,...N);return}if(d()||u){x(),v.call(null,C,...N);return}r<64&&(r*=2);let B;f===1?(f=2,B=0):B=(r+Math.random())*1e3,b(B)}let A=!1;function D(C){A||(A=!0,x(),!p&&(a!==null?(C||(f=2),clearTimeout(a),b(0)):C||(f=1)))}return b(0),l=setTimeout(()=>{u=!0,D(!0)},n),D}function IF(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PF(t){return t!==void 0}function P1(t,e,n,r){if(r<e)throw I1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw I1(`Invalid value for '${t}'. Expected ${n} or less.`)}function kF(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var Fd;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fd||(Fd={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NF(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DF{constructor(e,n,r,a,l,u,f,d,p,v,b,x=!0,I=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=v,this.connectionFactory_=b,this.retry=x,this.isUsingEmulator=I,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((A,D)=>{this.resolve_=A,this.reject_=D,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new $f(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const d=f.loaded,p=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===Fd.NO_ERROR,d=l.getStatus();if(!f||NF(d,this.additionalRetryCodes_)&&this.retry){const v=l.getErrorCode()===Fd.ABORT;r(!1,new $f(!1,null,v));return}const p=this.successCodes_.indexOf(d)!==-1;r(!0,new $f(p,l))})},n=(r,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(f,f.getResponse());PF(d)?l(d):l()}catch(d){u(d)}else if(f!==null){const d=bF();d.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,d)):u(d)}else if(a.canceled){const d=this.appDelete_?z2():TF();u(d)}else{const d=EF();u(d)}};this.canceled_?n(!1,new $f(!1,null,!0)):this.backoffId_=CF(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&IF(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $f{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function OF(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function MF(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jF(t,e){e&&(t["X-Firebase-GMPID"]=e)}function VF(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function LF(t,e,n,r,a,l,u=!0,f=!1){const d=kF(t.urlParams),p=t.url+d,v=Object.assign({},t.headers);return jF(v,e),OF(v,n),MF(v,l),VF(v,r),new DF(p,t.method,v,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,f)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UF(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function FF(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n){this._service=e,n instanceof Di?this._location=n:this._location=Di.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Bd(e,n)}get root(){const e=new Di(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return FF(this._location.path)}get storage(){return this._service}get parent(){const e=UF(this._location.path);if(e===null)return null;const n=new Di(this._location.bucket,e);return new Bd(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw AF(e)}}function k1(t,e){const n=e==null?void 0:e[vF];return n==null?null:Di.makeFromBucketSpec(n,t)}function BF(t,e,n,r={}){t.host=`${e}:${n}`;const a=Su(e);a&&(Dv(`https://${t.host}`),Ov("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:LS(l,t.app.options.projectId))}class zF{constructor(e,n,r,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=B2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_F,this._maxUploadRetryTime=wF,this._requests=new Set,a!=null?this._bucket=Di.makeFromBucketSpec(a,this._host):this._bucket=k1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Di.makeFromBucketSpec(this._url,e):this._bucket=k1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){P1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Cr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bd(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new RF(z2());{const u=LF(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const N1="@firebase/storage",D1="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H2="storage";function HF(t=Vv(),e){t=rn(t);const r=Kd(t,H2).getImmediate({identifier:e}),a=MS("storage");return a&&qF(r,...a),r}function qF(t,e,n,r={}){BF(t,e,n,r)}function GF(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new zF(n,r,a,e,ol)}function $F(){el(new io(H2,GF,"PUBLIC").setMultipleInstances(!0)),os(N1,D1,""),os(N1,D1,"esm2017")}$F();const KF={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},YF={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}},WF=()=>{const t=la(),e=tn.currentUser,[n,r]=G.useState([]),[a,l]=G.useState(!1);G.useEffect(()=>{if(!(e!=null&&e.email)){t("/?showAuth=true");return}const d=Od(Nd(Xr,"chats"),zc("expertEmail","==",e.email)),p=Qy(d,v=>{const b=[],x=[];v.forEach(I=>{const A=I.id,C=I.data().clientEmail,N=Nd(Xr,"chats",A,"messages"),z=Od(N,zc("sender","==",C),zc("read","==",!1));x.push(new Promise(B=>{Qy(z,Y=>{const W=Y.size;W>0&&b.push({clientEmail:C,unreadCount:W,chatId:A}),B()},Y=>{console.error(`Error fetching messages for ${C}:`,Y),B()})}))}),Promise.all(x).then(()=>{r([...b])})},v=>{console.error("Error fetching chats:",v),alert(`Failed to fetch chats: ${v.message}`)});return()=>p()},[e,t]);const u=()=>{l(!a)},f=(d,p)=>{t("/chat",{state:{clientEmail:d,expertEmail:e.email}}),l(!1)};return e?E.jsxs(Ke.div,{className:"expert-dashboard",variants:KF,initial:"hidden",animate:"visible",children:[E.jsxs("h2",{children:["Welcome, Expert ",e.email]}),E.jsx("p",{children:"Manage your clients and create workout plans."}),E.jsxs(Ke.div,{className:"chat-icon",variants:YF,onClick:u,style:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"},children:[E.jsx("img",{src:"/chat-icon.svg",alt:"Chat",width:"30",height:"30"}),n.length>0&&E.jsx("span",{className:"notification-badge",children:n.reduce((d,p)=>d+p.unreadCount,0)})]}),a&&E.jsx(Ke.div,{className:"notification-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:n.length===0?E.jsx("p",{children:"No new messages"}):n.map((d,p)=>E.jsx("div",{className:"notification-item",onClick:()=>f(d.clientEmail,d.chatId),style:{cursor:"pointer"},children:E.jsxs("p",{children:[d.clientEmail,": ",d.unreadCount," new message(s)",d.isPremium&&E.jsx("span",{style:{color:"gold",marginLeft:"5px"},children:" (Premium)"})]})},p))}),E.jsx(Zg,{onClick:()=>t("/manage-clients"),children:"Manage Clients"}),E.jsx(Zg,{onClick:()=>t("/create-workout"),children:"Create Workout Plan"}),E.jsx(Zg,{onClick:()=>tn.signOut().then(()=>t("/")),children:"Logout"})]}):null},XF="/assets/hero-img-Bi18BkbZ.jpg",ty={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},Ks={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},QF={hidden:{opacity:0,height:0,overflow:"hidden"},visible:{opacity:1,height:"auto",transition:{duration:.3}}},JF=({userEmail:t})=>{const[e,n]=G.useState(!1),[r,a]=G.useState("login"),[l,u]=G.useState("normal"),[f,d]=G.useState(""),[p,v]=G.useState(""),[b,x]=G.useState(""),[I,A]=G.useState(""),[D,C]=G.useState(""),[N,z]=G.useState("Diet"),[B,Y]=G.useState(""),[W,H]=G.useState(null),[F,O]=G.useState(""),[j,k]=G.useState({}),[M,$]=G.useState([]),[U,re]=G.useState(t||null),[ye,K]=G.useState(null),[ee,le]=G.useState(!1),[oe,q]=G.useState(!1),te=la();Qr(),HF();const he=[{id:1,text:"Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Donec quam felis, ultricies nec, pellentesque eu, pretium quis, sem. Nulla consequat massa quis enim. Donec pede justo, fringilla vel, aliquet nec, vulputate",image:"/customer-1.png",username:"Sudharsan",role:"Developer"},{id:2,text:"FitnGro revolutionizes fitness training for our institution. Its expert-guided plans and AI-powered workouts are accessible to all, with browser-based technology eliminating app download barriers. The real-time form correction ensures proper technique, making it ideal for both beginners and expert trainers.",image:"/customer-2.jpeg",username:"Vasnath Disha",role:"Educational Sports Authority"},{id:3,text:"FitnGros AI-powered home training keeps me competition-ready. Its real-time movement analysis ensures precise form, and the browser-based platform allows training anywhere. Its like having a 24/7 personal coach for consistent, professional-grade results",image:"image 6.png",username:"Priya S",role:"State-Level Javelin Thrower, University Games Champion"}],[ce,be]=G.useState(0),[Ee,ke]=G.useState(!0);G.useEffect(()=>{const _e=setInterval(()=>{Ee&&be(Ce=>Ce===he.length-1?0:Ce+1)},1e4);return()=>clearInterval(_e)},[Ee,he.length]);const wt=()=>{ke(!1),be(_e=>_e===he.length-1?0:_e+1),setTimeout(()=>ke(!0),3e4)},et=()=>{ke(!1),be(_e=>_e===0?he.length-1:_e-1),setTimeout(()=>ke(!0),3e4)},Ye=[{icon:"",title:"No App Downloads Required",description:"Access our complete fitness platform directly through your web browser. No storage space needed, no app store downloads, and instant access from any device.",color:"bg-blue-50",iconColor:"text-blue-600"},{icon:"",title:"Low Battery & Network Usage",description:"Our advanced browser-based processing minimizes battery drain and network consumption, allowing longer workout sessions without performance issues.",color:"bg-green-50",iconColor:"text-green-600"},{icon:"",title:"Works on Any Device",description:"Compatible with smartphones, tablets, laptops, and desktops. No specific hardware requirements - just a camera and internet connection.",color:"bg-purple-50",iconColor:"text-purple-600"},{icon:"",title:"Ready in Seconds",description:"No waiting for downloads or installations. Simply visit our website, set up your device, and start your workout immediately with full AI-powered monitoring.",color:"bg-yellow-50",iconColor:"text-yellow-600"},{icon:"",title:"Smart AI Processing",description:"Advanced pose detection and rep counting happen in real-time directly in your browser, providing instant feedback without external servers.",color:"bg-indigo-50",iconColor:"text-indigo-600"},{icon:"",title:"Your Data Stays Local",description:"All processing happens on your device. Your workout videos and personal data never leave your browser, ensuring complete privacy and security.",color:"bg-red-50",iconColor:"text-red-600"}];G.useEffect(()=>{(async()=>{try{const Ce=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"GET",headers:{"Content-Type":"application/json"}});if(!Ce.ok)throw new Error("Failed to fetch experts");const Ae=await Ce.json();setExperts(Ae)}catch(Ce){console.error("Error fetching experts:",Ce),$(Ae=>[...Ae,{text:`Failed to load experts: ${Ce.message}`,sender:"bot"}])}})()},[]),G.useEffect(()=>{const _e=dA(tn,async Ce=>{if(console.log("Auth state changed - User:",Ce==null?void 0:Ce.email),re((Ce==null?void 0:Ce.email)||null),Ce)try{console.log("Fetching expert document for email:",Ce.email);const Ae=ms(Xr,"experts",Ce.email),qe=await sl(Ae);console.log("Expert document exists:",qe.exists()),K(qe.exists()?"expert":"normal")}catch(Ae){console.error("Error checking expert status:",Ae),console.log("Error code:",Ae.code),console.log("Error message:",Ae.message),Ae.code==="permission-denied"?(console.log("Permission denied for experts document, setting user as normal"),K("normal")):k({form:`Error checking user type: ${Ae.message}`})}else K(null)});return()=>_e()},[te]);const zt=()=>{const _e={};return f?/\S+@\S+\.\S+/.test(f)||(_e.email="Email is invalid"):_e.email="Email is required",p?p.length<6&&(_e.password="Password must be at least 6 characters"):_e.password="Password is required",r==="signup"&&l==="expert"&&((!b||b.trim().length<2)&&(_e.name="Name must be at least 2 characters"),I?(isNaN(I)||I<18||I>100)&&(_e.age="Age must be between 18 and 100"):_e.age="Age is required",(!D||D.trim().length<2)&&(_e.specialist="Specialist field is required"),N||(_e.expertise="Expertise is required"),B?(isNaN(B)||B<=0)&&(_e.clientFee="Client fee must be a positive number"):_e.clientFee="Client fee is required",W?W.name.toLowerCase().endsWith(".pdf")?W.size>5*1024*1024&&(_e.certification="Certificate must be less than 5MB"):_e.certification="Certificate must be a PDF":_e.certification="Certificate file is required",!F||F.trim().length<10?_e.bio="Bio must be at least 10 characters":F.length>500&&(_e.bio="Bio must be 500 characters or less")),k(_e),Object.keys(_e).length===0},rt=async _e=>{if(_e.preventDefault(),!!zt())if(r==="signup"&&l==="expert")try{let Ce;if(tn.currentUser){if(tn.currentUser.email!==f)throw new Error("Current user email does not match the provided email");Ce=await tn.currentUser.getIdToken()}else if((await sM(tn,f)).length>0)try{Ce=await(await Mg(tn,f,p)).user.getIdToken()}catch{throw new Error("Invalid password for existing email")}else Ce=await(await sT(tn,f,p)).user.getIdToken();const Ae=new FormData;Ae.append("user_email",f),Ae.append("name",b),Ae.append("age",parseInt(I)),Ae.append("specialist",D),Ae.append("expertise",N),Ae.append("client_fee",parseFloat(B)),Ae.append("certification",W),Ae.append("bio",F);const qe=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/expert-signup",{method:"POST",headers:{Authorization:`Bearer ${Ce}`},body:Ae});if(!qe.ok){const sn=await qe.json();throw new Error(sn.detail||"Expert signup failed")}const Jr=(await qe.json()).certificate_url;(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/send-admin-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"fitngro@gmail.com",subject:"New Expert Signup Request",body:`
            New expert signup request:
            Email: ${f}
            Name: ${b}
            Age: ${I}
            Specialist: ${D}
            Expertise: ${N}
            Client Fee: ${B}
            Bio: ${F}
            Certificate URL: ${Jr}
          `})})).ok||console.warn("Failed to send admin email, but registration succeeded"),re(f),n(!1),d(""),v(""),x(""),A(""),C(""),z("Diet"),Y(""),H(null),O(""),k({}),alert("Expert registration submitted successfully! You will be notified once approved.")}catch(Ce){console.error("Expert Signup Failed:",Ce),k({form:`Signup Error: ${Ce.message}`})}else if(r==="login"&&l==="expert")try{const Ce=await Mg(tn,f,p),Ae=ms(Xr,"experts",f),qe=await sl(Ae);if(!qe.exists())throw new Error("No expert profile found for this email");const jt=qe.data();if(!jt.approved)throw new Error("Your expert account is still pending admin approval");re(f),n(!1),d(""),v(""),k({}),te("/expert-dashboard",{state:{expertData:jt}})}catch(Ce){console.error("Expert Login Failed:",Ce),k({form:`Login Error: ${Ce.message}`})}else try{let Ce;r==="signup"?Ce=await sT(tn,f,p):Ce=await Mg(tn,f,p);const Ae=await Ce.user.getIdToken(),qe=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ae}`}});if(!qe.ok){const jt=await qe.json();throw new Error(jt.detail||"Failed to add user to premiumUsers")}re(f),n(!1),d(""),v(""),k({}),te("/dashboard")}catch(Ce){console.error(`${r==="signup"?"Signup":"Login"} Failed:`,Ce),k({form:`${r==="signup"?"Signup":"Login"} Error: ${Ce.message}`})}},At=async()=>{try{await pA(tn),re(null),te("/")}catch(_e){console.error("Sign-Out Error:",_e)}},Se=async _e=>{_e.preventDefault();try{const Ce=await RM(tn,kL),Ae=await Ce.user.getIdToken(),qe=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ae}`}});if(!qe.ok){const jt=await qe.json();throw new Error(jt.detail||"Failed to add user to premiumUsers")}re(Ce.user.email),n(!1)}catch(Ce){console.error("Firebase Sign-In Failed:",Ce),alert(`Sign-In Error: ${Ce.message}`)}},Me=async _e=>{try{const Ce=await tn.currentUser.getIdToken();console.log("Request payload:",{user_email:U,days:_e.days||21,focus:_e.focus||_e.fitness_goal||"strength"}),console.log("Authorization header:",`Bearer ${Ce}`);const Ae=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ce}`},body:JSON.stringify({user_email:U,days:_e.days||21,focus:_e.focus||_e.fitness_goal||"strength"})});if(!Ae.ok)throw new Error(`Failed to generate plan: ${Ae.statusText}`);const qe=await Ae.json();$(jt=>[...jt,{text:"Workout plan generated successfully!",sender:"bot"}]),te("/dashboard")}catch(Ce){console.error("Plan generation failed:",Ce),$(Ae=>[...Ae,{text:`Failed to generate plan: ${Ce.message}`,sender:"bot"}])}},Qe=()=>{le(!ee)},De=[{type:"Self-Guided",title:"AI Powered Fitness",price:"Free",description:"Smart technology guidance without human experts",features:["AI-powered workout plans","Browser-based pose detection","Automated rep counting","Basic progress tracking","Community support forum","Email support (72h response)"],cta:"Start Free",popular:!1,bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-700"},{type:"Expert-Guided",title:"Precision Training",price:"$49",period:"/month",description:"1-on-1 coaching with certified fitness experts",features:["Personalized workout plans","Live video sessions with experts","Form correction in real-time","Nutrition planning","Weekly progress reviews","24/7 priority support","Customized recovery plans","Advanced analytics dashboard"],cta:"Get Started",popular:!0,bgColor:"bg-blue-50",borderColor:"border-blue-400",textColor:"text-blue-700"}];return E.jsxs(E.Fragment,{children:[E.jsxs(Ke.div,{className:"property-1variant3",variants:ty,initial:"hidden",animate:"visible",children:[U&&E.jsx(yF,{userEmail:U,onGeneratePlan:Me,setMessages:$}),E.jsxs(Ke.div,{className:"navbar",variants:ty,children:[E.jsx(Ke.div,{className:"navbar-child",variants:Ks}),E.jsx(Ke.div,{className:"about",variants:Ks,children:"About"}),E.jsx(Ke.div,{className:"experts",variants:Ks,onClick:()=>te("/experts"),children:"Experts"}),ye==="expert"&&E.jsx(Ke.div,{className:"profile",variants:Ks,onClick:()=>te("/expert-dashboard"),children:"Profile"}),E.jsxs(Ke.div,{className:"login-button-navbar",variants:Ks,children:[E.jsx(Ke.div,{className:"login-button-navbar-child",variants:Ks}),U?E.jsx(Ke.button,{className:"logout-button-navbar",variants:Ks,onClick:At,children:"Logout"}):E.jsx(Ke.button,{className:"login-button-navbar1",variants:Ks,onClick:()=>n(!0),children:"Login"})]})]}),E.jsxs(Ke.div,{className:"right-navbar",variants:ty,children:[E.jsxs(Ke.button,{className:"hamburger-button",variants:Ks,onClick:Qe,"aria-label":"Menu",children:[E.jsx("div",{className:"hamburger-line"}),E.jsx("div",{className:"hamburger-line"}),E.jsx("div",{className:"hamburger-line"})]}),ee&&E.jsx(Ke.div,{className:"hamburger-menu",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:E.jsxs(Ke.ul,{className:"hamburger-menu-list",children:[E.jsx(Ke.li,{className:"hamburger-menu-item",children:E.jsx("button",{className:"hamburger-menu-button",onClick:()=>{te("/settings"),le(!1)},children:"Settings"})}),U&&E.jsx(Ke.li,{className:"hamburger-menu-item",children:E.jsx("button",{className:"hamburger-menu-button",onClick:()=>{te("/dashboard"),le(!1)},children:"Dashboard"})}),ye==="expert"&&E.jsx(Ke.li,{className:"hamburger-menu-item",children:E.jsx("button",{className:"hamburger-menu-button",onClick:()=>{te("/expert-dashboard"),le(!1)},children:"Profile"})})]})})]}),e&&E.jsx("div",{className:"auth-modal-overlay",children:E.jsxs("div",{className:"auth-modal-content",children:[E.jsx("button",{className:"close-modal",onClick:()=>n(!1),children:""}),E.jsx("h3",{children:r==="signup"?"Create Account":"Welcome Back"}),E.jsxs("div",{className:"user-type-selection",children:[E.jsx("label",{children:"User Type"}),E.jsxs("div",{style:{display:"flex",gap:"20px"},children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",value:"normal",checked:l==="normal",onChange:()=>u("normal")}),"Normal User"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",value:"expert",checked:l==="expert",onChange:()=>u("expert")}),"Expert"]})]})]}),E.jsx("div",{className:"google-login-container",children:E.jsx("button",{onClick:Se,style:{padding:"10px 20px",fontSize:"16px"},children:"Sign in with Google"})}),E.jsx("div",{className:"auth-divider",children:"or"}),E.jsxs("div",{className:"scrollable-form-container",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Email"}),E.jsx("input",{type:"email",value:f,onChange:_e=>d(_e.target.value),className:j.email?"error":"",placeholder:"Enter your email"}),j.email&&E.jsx("span",{className:"error-message",children:j.email})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Password"}),E.jsx("input",{type:"password",value:p,onChange:_e=>v(_e.target.value),className:j.password?"error":"",placeholder:"Enter your password"}),j.password&&E.jsx("span",{className:"error-message",children:j.password})]}),E.jsx(N6,{children:r==="signup"&&l==="expert"&&E.jsxs(Ke.div,{variants:QF,initial:"hidden",animate:"visible",exit:"hidden",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Name"}),E.jsx("input",{type:"text",value:b,onChange:_e=>x(_e.target.value),className:j.name?"error":"",placeholder:"Enter your full name"}),j.name&&E.jsx("span",{className:"error-message",children:j.name})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Age"}),E.jsx("input",{type:"number",value:I,onChange:_e=>A(_e.target.value),className:j.age?"error":"",placeholder:"Enter your age"}),j.age&&E.jsx("span",{className:"error-message",children:j.age})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Specialist"}),E.jsx("input",{type:"text",value:D,onChange:_e=>C(_e.target.value),className:j.specialist?"error":"",placeholder:"Enter your specialty"}),j.specialist&&E.jsx("span",{className:"error-message",children:j.specialist})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Expertise"}),E.jsxs("div",{style:{display:"flex",gap:"20px"},children:[E.jsxs("label",{children:[E.jsx("input",{type:"radio",value:"Diet",checked:N==="Diet",onChange:()=>z("Diet")}),"Diet"]}),E.jsxs("label",{children:[E.jsx("input",{type:"radio",value:"Fitness",checked:N==="Fitness",onChange:()=>z("Fitness")}),"Fitness"]})]}),j.expertise&&E.jsx("span",{className:"error-message",children:j.expertise})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Client Fee (per session)"}),E.jsx("input",{type:"number",value:B,onChange:_e=>Y(_e.target.value),className:j.clientFee?"error":"",placeholder:"Enter your fee"}),j.clientFee&&E.jsx("span",{className:"error-message",children:j.clientFee})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Certificate (PDF)"}),E.jsx("input",{type:"file",accept:"application/pdf",onChange:_e=>H(_e.target.files[0]),className:j.certification?"error":""}),j.certification&&E.jsx("span",{className:"error-message",children:j.certification})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Short Bio"}),E.jsx("textarea",{value:F,onChange:_e=>O(_e.target.value),className:j.bio?"error":"",placeholder:"Enter a short bio (max 500 characters)",rows:"4"}),j.bio&&E.jsx("span",{className:"error-message",children:j.bio})]})]})}),j.form&&E.jsx("span",{className:"error-message",children:j.form})]}),E.jsx("button",{type:"submit",className:"auth-submit-btn",onClick:rt,children:r==="signup"?"Sign Up":"Login"}),E.jsx("div",{className:"auth-mode-toggle",children:r==="signup"?E.jsxs("span",{children:["Already have an account? ",E.jsx("button",{onClick:()=>a("login"),children:"Login"})]}):E.jsxs("span",{children:["Need an account? ",E.jsx("button",{onClick:()=>a("signup"),children:"Sign Up"})]})})]})}),E.jsxs("div",{className:"relative overflow-hidden bg-center bg-cover sm:bg-[url('')] lg:bg-[url('')]",style:{backgroundImage:window.innerWidth>=640?`url(${XF})`:"none"},children:[E.jsx("div",{className:"absolute inset-0 opacity-10",children:E.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent mix-blend-overlay"})}),E.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:mt-10 sm:px-6 lg:px-8 py-20 md:py-8 lg:py-50 lg:ml-35",children:E.jsx("div",{className:"relative flex flex-col lg:ml-55 lg:mb-70 items-center lg:items-start gap-8 lg:gap-12",children:E.jsxs("div",{className:"flex-1 text-center lg:mb-20 lg:max-w-2xl",children:[E.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-black mb-6",children:[E.jsx("span",{className:"block",children:"Transform Your"}),E.jsx("span",{className:"block text-orange-600",children:"Fitness Journey"})]}),E.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-10",children:"AI-powered workout plans tailored to your goals. No downloads required - access everything directly in your browser."}),E.jsxs("div",{className:"flex justify-center sm:flex-row gap-4",children:[E.jsx("button",{className:"px-8 py-3 bg-orange-600 hover:bg-[#000000] hover:text-[#ef4d31] text-white font-bold rounded-lg transition-all transform hover:scale-105 ",children:"Get Started Free"}),E.jsx("button",{className:"px-8 py-3 bg-transparent border-2 border-black text-black hover:bg-black hover:text-[#ef4d31] font-bold rounded-lg transition-all md:border-4",children:"Meet Our Experts"})]})]})})})]})]}),E.jsx("section",{className:"py-16 bg-black",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:mt-0 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-4xl font-bold text-[#e4e4e4] mb-4 ",children:"Revolutionizing Fitness with Smart Technology"}),E.jsx("p",{className:"text-xl text-[#e4e4e4] max-w-3xl mx-auto",children:"No apps, no downloads, no hassle - just results"}),E.jsx("div",{className:"mt-8 flex justify-center",children:E.jsx("button",{onClick:()=>q(!oe),className:`px-4 py-2 rounded-full font-medium transition-all ${oe?"bg-[#e4e4e4] text-black":"bg-[#ef4d31] text-white"}`,children:oe?"Show Icon View":"Show Detailed View"})})]}),E.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Ye.map((_e,Ce)=>E.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border-t-4 border-[#ef4d31]",children:oe?E.jsxs("div",{className:"p-6 h-full flex flex-col",children:[E.jsxs("div",{className:"flex items-center mb-4",children:[E.jsx("span",{className:"text-3xl mr-4 text-[#ef4d31]",children:_e.icon}),E.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:_e.title})]}),E.jsx("p",{className:"text-gray-600 flex-grow",children:_e.description}),E.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:E.jsx("button",{className:"text-[#ef4d31] font-medium hover:text-[#d0452e] transition-colors",children:"Learn more "})})]}):E.jsxs("div",{className:"p-8 flex flex-col items-center text-center h-full",children:[E.jsx("span",{className:"text-5xl mb-4 text-[#ef4d31]",children:_e.icon}),E.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:_e.title}),E.jsx("button",{className:"mt-4 text-sm text-[#ef4d31] hover:text-[#d0452e] transition-colors",onClick:()=>q(!0),children:"+ Details"})]})},Ce))})]})}),E.jsx("section",{className:"py-16 bg-white",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] sm:text-4xl",children:"Choose Your Fitness Journey"}),E.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Compare our self-guided AI platform with expert-led precision training"})]}),E.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12",children:[E.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#ef4d31]",children:[E.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[E.jsx("div",{className:"flex justify-between items-center ",children:E.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-gray-700 bg-white",children:"Self-Guided"})}),E.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"AI Powered Fitness"}),E.jsx("p",{className:"mt-1 text-gray-600",children:"Smart technology guidance without human experts"}),E.jsx("div",{className:"mt-4 flex items-baseline",children:E.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"Free"})})]}),E.jsxs("div",{className:"px-6 py-6",children:[E.jsx("ul",{className:"space-y-3",children:De[0].features.slice(0,4).map((_e,Ce)=>E.jsxs("li",{className:"flex items-start",children:[E.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),E.jsx("span",{className:"ml-3 text-gray-700",children:_e})]},Ce))}),E.jsx("div",{className:"mt-8",children:E.jsx("button",{onClick:()=>U?te("/dashboard"):n(!0),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-[#ef4d31] hover:bg-[#d0452e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31]",children:"Start Free"})}),E.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"No credit card required"})]})]}),E.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#000000] transform scale-105 relative",children:[E.jsx("div",{className:"absolute top-0 right-0 bg-[#000000] text-[#ef4d31] px-3 py-1 text-xs font-semibold rounded-bl-lg",children:"MOST POPULAR"}),E.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[E.jsx("div",{className:"flex justify-between items-center",children:E.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-[#ef4d31] bg-black",children:"Expert-Guided"})}),E.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Precision Training"}),E.jsx("p",{className:"mt-1 text-gray-600",children:"1-on-1 coaching with certified fitness experts"}),E.jsxs("div",{className:"mt-4 flex items-baseline",children:[E.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"PAID"}),E.jsx("span",{className:"ml-1 text-xl font-medium text-gray-500",children:"/month"})]})]}),E.jsxs("div",{className:"px-6 py-6",children:[E.jsx("ul",{className:"space-y-3",children:De[1].features.slice(0,4).map((_e,Ce)=>E.jsxs("li",{className:"flex items-start",children:[E.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:E.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),E.jsx("span",{className:"ml-3 text-gray-700",children:_e})]},Ce))}),E.jsx("div",{className:"mt-8",children:E.jsx("button",{onClick:()=>te("/experts"),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-bold  text-[#ef4d31] bg-[#000000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31] ",children:"Get Started"})})]})]})]}),E.jsxs("div",{className:"mt-12 bg-[#e4e4e4] rounded-lg p-6 text-center border-4 border-[#000000]",children:[E.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Not sure which to choose?"}),E.jsx("p",{className:"mt-2 text-gray-600",children:"Try our free AI plan first, then upgrade to expert guidance when you're ready for personalized coaching."}),E.jsx("button",{className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-[#ef4d31] bg-white hover:bg-gray-100",onClick:()=>te("/experts"),children:"Compare all features "})]})]})}),E.jsx("section",{className:"py-16 bg-black",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl",children:"Powerful Features"}),E.jsx("p",{className:"mt-4 max-w-2xl text-xl text-[#e4e4e4] mx-auto",children:"Everything you need to transform your fitness journey"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[E.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[E.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:E.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Powered Workouts"}),E.jsx("p",{className:"text-gray-600",children:"Get personalized workout plans tailored to your fitness level and goals using advanced AI technology."})]}),E.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[E.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:E.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Real-Time Form Correction"}),E.jsx("p",{className:"text-gray-600",children:"Our AI system monitors your movements and provides instant feedback to improve your form and prevent injuries."})]}),E.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[E.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:E.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),E.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Progress Tracking"}),E.jsx("p",{className:"text-gray-600",children:"Track your workout performance, set goals, and achieve better results with data-driven insights."})]})]})]})}),E.jsxs("section",{className:"py-16 bg-white relative overflow-hidden",children:[E.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[E.jsx("div",{className:"absolute top-1/4 -left-10 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),E.jsx("div",{className:"absolute top-1/2 right-0 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),E.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[E.jsxs("div",{className:"text-center mb-12",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What Our Users Say"}),E.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Hear from people who transformed their fitness with us"})]}),E.jsxs("div",{className:"relative",children:[E.jsxs("div",{className:"relative bg-[#e4e4e4] rounded-xl shadow-lg p-8 md:p-12",children:[E.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-[#ef4d31] rounded-4"}),E.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[E.jsx("div",{className:"md:w-1/3 mb-8 md:mb-0 flex justify-center",children:E.jsx("img",{src:he[ce].image,alt:he[ce].username,className:"w-32 h-32 rounded-full object-cover border-4 border-[#ef4d31] shadow-md"})}),E.jsxs("div",{className:"md:w-2/3 md:pl-8",children:[E.jsxs("div",{className:"text-lg text-gray-700 italic mb-6",children:['"',he[ce].text,'"']}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-xl font-bold text-[#ef4d31]",children:he[ce].username}),E.jsx("p",{className:"text-gray-600",children:he[ce].role})]})]})]})]}),E.jsxs("div",{className:"flex justify-center mt-8 space-x-4",children:[E.jsx("button",{onClick:et,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),E.jsx("button",{onClick:wt,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:E.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]}),E.jsx("section",{className:"py-16 bg-black",children:E.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:E.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[E.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0 lg:pr-12",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl mb-6",children:"About FitnGro"}),E.jsx("p",{className:"text-xl text-[#e4e4e4] mb-8",children:"At FitnGro, our team blends fitness expertise and AI technology to personalize your fitness journey. Our app tailors workouts and nutrition plans based on your goals and data, providing real-time tracking and guidance."}),E.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[E.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[E.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"100+"}),E.jsx("p",{className:"text-[#e4e4e4]",children:"Happy Users"})]}),E.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[E.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"10+"}),E.jsx("p",{className:"text-[#e4e4e4]",children:"Certified Experts"})]}),E.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[E.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"24/7"}),E.jsx("p",{className:"text-[#e4e4e4]",children:"Support"})]}),E.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[E.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"AI"}),E.jsx("p",{className:"text-[#e4e4e4]",children:"Powered"})]})]})]}),E.jsx("div",{className:"lg:w-1/2 relative",children:E.jsx("div",{className:"relative",children:E.jsx("img",{src:"/jj-team.JPG",alt:"FitnGro Team",className:"rounded-lg shadow-xl w-full h-auto"})})})]})})}),E.jsx("section",{className:"py-16 bg-[#ef4d31]",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[E.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl mb-6",children:"Ready to Transform Your Fitness Journey?"}),E.jsx("p",{className:"text-xl text-gray-300  mb-8 max-w-3xl mx-auto",children:"Join thousands of users who are achieving their fitness goals with our AI-powered platform."}),E.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[E.jsx("button",{onClick:()=>U?te("/dashboard"):n(!0),className:"px-8 py-4 bg-white text-[#ef4d31] font-bold rounded-lg hover:bg-gray-100 transition-colors text-lg",children:"Get Started for Free"}),E.jsx("button",{onClick:()=>te("/experts"),className:"px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg  hover:text-[#ef4d31] hover:bg-black transition-colors text-lg",children:"Meet Our Experts"})]})]})}),E.jsxs("footer",{className:"bg-black text-[#e4e4e4] py-12 px-4 sm:px-6 lg:px-8",children:[E.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[E.jsxs("div",{className:"space-y-6",children:[E.jsx("img",{src:"Footer-Logo-FG.png",alt:"FitnGro",className:"h-12 w-auto"}),E.jsx("p",{className:"text-sm",children:"Revolutionizing fitness with AI-powered technology and expert guidance."}),E.jsxs("div",{className:"flex space-x-4",children:[E.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:E.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),E.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:E.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),E.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:E.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:E.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Quick Links"}),E.jsxs("ul",{className:"space-y-2",children:[E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Home"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"About"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Features"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Pricing"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Experts"})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Resources"}),E.jsxs("ul",{className:"space-y-2",children:[E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Blog"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Help Center"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Tutorials"})}),E.jsx("li",{children:E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Community"})})]})]}),E.jsxs("div",{children:[E.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Stay Updated"}),E.jsx("p",{className:"mb-4 text-sm",children:"Subscribe to our newsletter for the latest fitness tips and updates."}),E.jsxs("div",{className:"flex",children:[E.jsx("input",{type:"email",placeholder:"Your email",className:"px-4 py-2 w-full rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#ef4d31] text-black"}),E.jsx("button",{className:"bg-[#ef4d31] hover:bg-[#d0452e] text-white px-4 py-2 rounded-r-lg transition-colors",children:"Subscribe"})]})]})]}),E.jsxs("div",{className:"max-w-7xl mx-auto border-t border-gray-800 mt-12 pt-8 text-center text-sm",children:[E.jsxs("p",{children:[" ",new Date().getFullYear()," FitnGro. All rights reserved."]}),E.jsxs("div",{className:"mt-2 space-x-4",children:[E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Privacy Policy"}),E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Terms of Service"}),E.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Cookie Policy"})]})]})]})]})},ZF=({userEmail:t})=>{const[e,n]=G.useState([]),[r,a]=G.useState(!0),[l,u]=G.useState(null),[f,d]=G.useState("days"),[p,v]=G.useState(null),b=la(),{day:x}=Cv();G.useEffect(()=>{if(!t){u("User not authenticated"),a(!1);return}(async()=>{a(!0),u(null);try{const N=ms(Xr,"workout_plans",t),z=await sl(N);if(z.exists()){const B=z.data();if(B.days&&Array.isArray(B.days)){if(n(B.days),x){const Y=B.days.find(W=>W.day===parseInt(x));Y&&(v(Y),d("workouts"))}}else throw new Error("Invalid plan format: missing days array")}else throw new Error("No workout plan found")}catch(N){console.error("Fetch error:",N),u(N.message)}finally{a(!1)}})()},[t,x]);const I=C=>{C.rest||(v(C),d("workouts"),b(`/workout/${C.day}`))},A=C=>{const N=C.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"-").toLowerCase();b(`/exercise/${N}`,{state:{...p.workouts.find(z=>z.name===C),workoutList:p.workouts,currentIndex:p.workouts.findIndex(z=>z.name===C)}})},D=()=>{f==="workouts"&&(d("days"),b("/dashboard"))};return r?E.jsxs("div",{className:"loading-container",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading your workout plan..."})]}):l?E.jsxs("div",{className:"error-container",children:[E.jsx("h2",{children:"Error Loading Plan"}),E.jsx("p",{children:l}),E.jsx("button",{onClick:()=>window.location.reload(),children:"Try Again"})]}):e.length?E.jsxs("div",{className:"dashboard-container",children:[E.jsx("h1",{children:"Your FitnGro Workout Plan"}),E.jsxs("div",{className:"navigation-steps",children:[E.jsx("div",{className:`step ${f==="days"?"active":""}`,onClick:()=>d("days"),children:"Days"}),E.jsx("div",{className:`step ${f==="workouts"?"active":"disabled"}`,children:"Workouts"})]}),E.jsx("div",{className:`content-section ${f==="days"?"active":""}`,children:E.jsx("div",{className:"days-grid",children:e.map(C=>E.jsxs("div",{className:`day-card ${C.rest?"rest-day":""}`,onClick:()=>I(C),children:[E.jsxs("h3",{className:"day-header",children:["Day ",C.day]}),C.rest?E.jsx("p",{children:"Rest Day"}):E.jsx(E.Fragment,{children:E.jsxs("p",{children:[C.workouts.length," workouts"]})})]},C.day))})}),E.jsx("div",{className:`content-section ${f==="workouts"?"active":""}`,children:p&&E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"back-button",onClick:D,children:" Back to Days"}),E.jsxs("h2",{children:["Day ",p.day," Workouts"]}),E.jsx("div",{className:"workouts-list",children:p.workouts.map((C,N)=>E.jsxs("div",{className:"workout-card",onClick:()=>A(C.name),children:[E.jsxs("div",{className:"exercise-header",children:[E.jsx("h3",{children:C.name}),E.jsxs("div",{className:"exercise-sets",children:[C.sets," sets  ",C.reps," ",C.type]})]}),E.jsx("div",{className:"exercise-arrow",children:""})]},N))})]})})]}):E.jsxs("div",{className:"empty-plan",children:[E.jsx("h2",{children:"No Workout Plan Found"}),E.jsx("p",{children:"Please generate a new workout plan using the chatbot"})]})},e5=({userEmail:t})=>{var v;const{day:e}=Cv(),[n,r]=G.useState(null),[a,l]=G.useState(!0),[u,f]=G.useState(null),d=la();G.useEffect(()=>{(async()=>{try{const x=ms(Xr,"workout_plans",t),I=await sl(x);if(I.exists()){const D=I.data().days.find(C=>C.day===parseInt(e));if(D)r(D);else throw new Error(`Day ${e} not found in your plan`)}else throw new Error("No workout plan found")}catch(x){console.error("Error fetching day data:",x),f(x.message)}finally{l(!1)}})()},[t,e]);const p=async(b,x)=>{try{const I=ms(Xr,"exercises",b.name),A=await sl(I),D=A.exists()?A.data():{};d(`/exercise/${t}/${b.name}`,{state:{...b,...D,workoutList:n.workouts,currentIndex:x}})}catch(I){console.error("Error fetching exercise details:",I),d(`/exercise/${t}/${b.name}`,{state:{...b,workoutList:n.workouts,currentIndex:x}})}};return a?E.jsxs("div",{className:"loading-container",children:[E.jsx("div",{className:"loading-spinner"}),E.jsxs("p",{children:["Loading day ",e," workouts..."]})]}):u?E.jsxs("div",{className:"error-container",children:[E.jsx("h2",{children:"Error Loading Workouts"}),E.jsx("p",{children:u}),E.jsx("button",{onClick:()=>d("/dashboard"),children:"Back to Dashboard"})]}):E.jsxs("div",{className:"workout-day-container",children:[E.jsx("button",{className:"back-button",onClick:()=>d("/dashboard"),children:" Back to Dashboard"}),E.jsxs("h1",{children:["Day ",e," Workouts"]}),n!=null&&n.rest?E.jsxs("div",{className:"rest-day-message",children:[E.jsx("h2",{children:"Rest Day"}),E.jsx("p",{children:"Take this day to recover and come back stronger tomorrow!"})]}):E.jsx("div",{className:"workouts-list",children:(v=n==null?void 0:n.workouts)==null?void 0:v.map((b,x)=>E.jsxs("div",{className:"workout-card",onClick:()=>p(b,x),children:[E.jsxs("div",{className:"workout-header",children:[E.jsx("h3",{children:b.name}),E.jsxs("div",{className:"workout-details",children:[b.sets," sets  ",b.reps," ",b.type]})]}),E.jsx("div",{className:"workout-arrow",children:""})]},x))})]})},t5="modulepreload",n5=function(t){return"/"+t},O1={},Ar=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(b=>({status:"fulfilled",value:b}),b=>({status:"rejected",reason:b}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),d=(f==null?void 0:f.nonce)||(f==null?void 0:f.getAttribute("nonce"));a=u(n.map(p=>{if(p=n5(p),p in O1)return;O1[p]=!0;const v=p.endsWith(".css"),b=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${b}`))return;const x=document.createElement("link");if(x.rel=v?"stylesheet":t5,v||(x.as="script"),x.crossOrigin="",x.href=p,d&&x.setAttribute("nonce",d),document.head.appendChild(x),v)return new Promise((I,A)=>{x.addEventListener("load",I),x.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(u){const f=new Event("vite:preloadError",{cancelable:!0});if(f.payload=u,window.dispatchEvent(f),!f.defaultPrevented)throw u}return a.then(u=>{for(const f of u||[])f.status==="rejected"&&l(f.reason);return e().catch(l)})};var ny,M1;function r5(){if(M1)return ny;M1=1,ny=function(a,l,u){var f=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof l=="function"&&(u=l,l={}),l=l||{},u=u||function(){},d.type=l.type||"text/javascript",d.charset=l.charset||"utf8",d.async="async"in l?!!l.async:!0,d.src=a,l.attrs&&t(d,l.attrs),l.text&&(d.text=""+l.text);var p="onload"in d?e:n;p(d,u),d.onload||e(d,u),f.appendChild(d)};function t(r,a){for(var l in a)r.setAttribute(l,a[l])}function e(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function n(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return ny}var ry,j1;function q2(){if(j1)return ry;j1=1;var t=function(z){return e(z)&&!n(z)};function e(N){return!!N&&typeof N=="object"}function n(N){var z=Object.prototype.toString.call(N);return z==="[object RegExp]"||z==="[object Date]"||l(N)}var r=typeof Symbol=="function"&&Symbol.for,a=r?Symbol.for("react.element"):60103;function l(N){return N.$$typeof===a}function u(N){return Array.isArray(N)?[]:{}}function f(N,z){return z.clone!==!1&&z.isMergeableObject(N)?D(u(N),N,z):N}function d(N,z,B){return N.concat(z).map(function(Y){return f(Y,B)})}function p(N,z){if(!z.customMerge)return D;var B=z.customMerge(N);return typeof B=="function"?B:D}function v(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(z){return Object.propertyIsEnumerable.call(N,z)}):[]}function b(N){return Object.keys(N).concat(v(N))}function x(N,z){try{return z in N}catch{return!1}}function I(N,z){return x(N,z)&&!(Object.hasOwnProperty.call(N,z)&&Object.propertyIsEnumerable.call(N,z))}function A(N,z,B){var Y={};return B.isMergeableObject(N)&&b(N).forEach(function(W){Y[W]=f(N[W],B)}),b(z).forEach(function(W){I(N,W)||(x(N,W)&&B.isMergeableObject(z[W])?Y[W]=p(W,B)(N[W],z[W],B):Y[W]=f(z[W],B))}),Y}function D(N,z,B){B=B||{},B.arrayMerge=B.arrayMerge||d,B.isMergeableObject=B.isMergeableObject||t,B.cloneUnlessOtherwiseSpecified=f;var Y=Array.isArray(z),W=Array.isArray(N),H=Y===W;return H?Y?B.arrayMerge(N,z,B):A(N,z,B):f(z,B)}D.all=function(z,B){if(!Array.isArray(z))throw new Error("first argument should be an array");return z.reduce(function(Y,W){return D(Y,W,B)},{})};var C=D;return ry=C,ry}var iy,V1;function Ep(){if(V1)return iy;V1=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(oe,q)=>{for(var te in q)e(oe,te,{get:q[te],enumerable:!0})},f=(oe,q,te,he)=>{if(q&&typeof q=="object"||typeof q=="function")for(let ce of r(q))!l.call(oe,ce)&&ce!==te&&e(oe,ce,{get:()=>q[ce],enumerable:!(he=n(q,ce))||he.enumerable});return oe},d=(oe,q,te)=>(te=oe!=null?t(a(oe)):{},f(!oe||!oe.__esModule?e(te,"default",{value:oe,enumerable:!0}):te,oe)),p=oe=>f(e({},"__esModule",{value:!0}),oe),v={};u(v,{callPlayer:()=>re,getConfig:()=>$,getSDK:()=>M,isBlobUrl:()=>K,isMediaStream:()=>ye,lazy:()=>A,omit:()=>U,parseEndTime:()=>H,parseStartTime:()=>W,queryString:()=>O,randomString:()=>F,supportsWebKitPresentationMode:()=>ee}),iy=p(v);var b=d(bu()),x=d(r5()),I=d(q2());const A=oe=>b.default.lazy(async()=>{const q=await oe();return typeof q.default=="function"?q:q.default}),D=/[?&#](?:start|t)=([0-9hms]+)/,C=/[?&#]end=([0-9hms]+)/,N=/(\d+)(h|m|s)/g,z=/^\d+$/;function B(oe,q){if(oe instanceof Array)return;const te=oe.match(q);if(te){const he=te[1];if(he.match(N))return Y(he);if(z.test(he))return parseInt(he)}}function Y(oe){let q=0,te=N.exec(oe);for(;te!==null;){const[,he,ce]=te;ce==="h"&&(q+=parseInt(he,10)*60*60),ce==="m"&&(q+=parseInt(he,10)*60),ce==="s"&&(q+=parseInt(he,10)),te=N.exec(oe)}return q}function W(oe){return B(oe,D)}function H(oe){return B(oe,C)}function F(){return Math.random().toString(36).substr(2,5)}function O(oe){return Object.keys(oe).map(q=>`${q}=${oe[q]}`).join("&")}function j(oe){return window[oe]?window[oe]:window.exports&&window.exports[oe]?window.exports[oe]:window.module&&window.module.exports&&window.module.exports[oe]?window.module.exports[oe]:null}const k={},M=function(q,te,he=null,ce=()=>!0,be=x.default){const Ee=j(te);return Ee&&ce(Ee)?Promise.resolve(Ee):new Promise((ke,wt)=>{if(k[q]){k[q].push({resolve:ke,reject:wt});return}k[q]=[{resolve:ke,reject:wt}];const et=Ye=>{k[q].forEach(zt=>zt.resolve(Ye))};if(he){const Ye=window[he];window[he]=function(){Ye&&Ye(),et(j(te))}}be(q,Ye=>{Ye?(k[q].forEach(zt=>zt.reject(Ye)),k[q]=null):he||et(j(te))})})};function $(oe,q){return(0,I.default)(q.config,oe.config)}function U(oe,...q){const te=[].concat(...q),he={},ce=Object.keys(oe);for(const be of ce)te.indexOf(be)===-1&&(he[be]=oe[be]);return he}function re(oe,...q){if(!this.player||!this.player[oe]){let te=`ReactPlayer: ${this.constructor.displayName} player could not call %c${oe}%c  `;return this.player?this.player[oe]||(te+="The method was not available"):te+="The player was not available",console.warn(te,"font-weight: bold",""),null}return this.player[oe](...q)}function ye(oe){return typeof window<"u"&&typeof window.MediaStream<"u"&&oe instanceof window.MediaStream}function K(oe){return/^blob:/.test(oe)}function ee(oe=document.createElement("video")){const q=/iPhone|iPod/.test(navigator.userAgent)===!1;return oe.webkitSupportsPresentationMode&&typeof oe.webkitSetPresentationMode=="function"&&q}function le(oe){return oe}return iy}var sy,L1;function i5(){if(L1)return sy;L1=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(re,ye)=>{for(var K in ye)t(re,K,{get:ye[K],enumerable:!0})},l=(re,ye,K,ee)=>{if(ye&&typeof ye=="object"||typeof ye=="function")for(let le of n(ye))!r.call(re,le)&&le!==K&&t(re,le,{get:()=>ye[le],enumerable:!(ee=e(ye,le))||ee.enumerable});return re},u=re=>l(t({},"__esModule",{value:!0}),re),f={};a(f,{AUDIO_EXTENSIONS:()=>F,DASH_EXTENSIONS:()=>k,FLV_EXTENSIONS:()=>M,HLS_EXTENSIONS:()=>j,MATCH_URL_DAILYMOTION:()=>B,MATCH_URL_FACEBOOK:()=>I,MATCH_URL_FACEBOOK_WATCH:()=>A,MATCH_URL_KALTURA:()=>H,MATCH_URL_MIXCLOUD:()=>Y,MATCH_URL_MUX:()=>x,MATCH_URL_SOUNDCLOUD:()=>v,MATCH_URL_STREAMABLE:()=>D,MATCH_URL_TWITCH_CHANNEL:()=>z,MATCH_URL_TWITCH_VIDEO:()=>N,MATCH_URL_VIDYARD:()=>W,MATCH_URL_VIMEO:()=>b,MATCH_URL_WISTIA:()=>C,MATCH_URL_YOUTUBE:()=>p,VIDEO_EXTENSIONS:()=>O,canPlay:()=>U}),sy=u(f);var d=Ep();const p=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,v=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,b=/vimeo\.com\/(?!progressive_redirect).+/,x=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,I=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,A=/^https?:\/\/fb\.watch\/.+$/,D=/streamable\.com\/([a-z0-9]+)$/,C=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,N=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,z=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,B=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,Y=/mixcloud\.com\/([^/]+\/[^/]+)/,W=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,H=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,F=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,O=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,j=/\.(m3u8)($|\?)/i,k=/\.(mpd)($|\?)/i,M=/\.(flv)($|\?)/i,$=re=>{if(re instanceof Array){for(const ye of re)if(typeof ye=="string"&&$(ye)||$(ye.src))return!0;return!1}return(0,d.isMediaStream)(re)||(0,d.isBlobUrl)(re)?!0:F.test(re)||O.test(re)||j.test(re)||k.test(re)||M.test(re)},U={youtube:re=>re instanceof Array?re.every(ye=>p.test(ye)):p.test(re),soundcloud:re=>v.test(re)&&!F.test(re),vimeo:re=>b.test(re)&&!O.test(re)&&!j.test(re),mux:re=>x.test(re),facebook:re=>I.test(re)||A.test(re),streamable:re=>D.test(re),wistia:re=>C.test(re),twitch:re=>N.test(re)||z.test(re),dailymotion:re=>B.test(re),mixcloud:re=>Y.test(re),vidyard:re=>W.test(re),kaltura:re=>H.test(re),file:$};return sy}var ay,U1;function s5(){if(U1)return ay;U1=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(b,x)=>{for(var I in x)t(b,I,{get:x[I],enumerable:!0})},l=(b,x,I,A)=>{if(x&&typeof x=="object"||typeof x=="function")for(let D of n(x))!r.call(b,D)&&D!==I&&t(b,D,{get:()=>x[D],enumerable:!(A=e(x,D))||A.enumerable});return b},u=b=>l(t({},"__esModule",{value:!0}),b),f={};a(f,{default:()=>v}),ay=u(f);var d=Ep(),p=i5(),v=[{key:"youtube",name:"YouTube",canPlay:p.canPlay.youtube,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./YouTube-CVinmWx6.js").then(b=>b.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:p.canPlay.soundcloud,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./SoundCloud-uuYZ9jCb.js").then(b=>b.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:p.canPlay.vimeo,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Vimeo-CpMg9BSz.js").then(b=>b.V),[]))},{key:"mux",name:"Mux",canPlay:p.canPlay.mux,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Mux-CV6r2YIC.js").then(b=>b.M),[]))},{key:"facebook",name:"Facebook",canPlay:p.canPlay.facebook,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Facebook-CZ7JJZO4.js").then(b=>b.F),[]))},{key:"streamable",name:"Streamable",canPlay:p.canPlay.streamable,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Streamable-BHHDyjhS.js").then(b=>b.S),[]))},{key:"wistia",name:"Wistia",canPlay:p.canPlay.wistia,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Wistia-BrHX-_7q.js").then(b=>b.W),[]))},{key:"twitch",name:"Twitch",canPlay:p.canPlay.twitch,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Twitch-3gAemGZ2.js").then(b=>b.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:p.canPlay.dailymotion,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./DailyMotion-2IonGNw7.js").then(b=>b.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:p.canPlay.mixcloud,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Mixcloud-DxkeBACa.js").then(b=>b.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:p.canPlay.vidyard,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Vidyard-C9MFmSxK.js").then(b=>b.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:p.canPlay.kaltura,lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./Kaltura-D9w2fQTF.js").then(b=>b.K),[]))},{key:"file",name:"FilePlayer",canPlay:p.canPlay.file,canEnablePIP:b=>p.canPlay.file(b)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!p.AUDIO_EXTENSIONS.test(b),lazyPlayer:(0,d.lazy)(()=>Ar(()=>import("./FilePlayer-C06nNMcU.js").then(b=>b.F),[]))}];return ay}var F1=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function a5(t,e){return!!(t===e||F1(t)&&F1(e))}function o5(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!a5(t[n],e[n]))return!1;return!0}function l5(t,e){e===void 0&&(e=o5);var n,r=[],a,l=!1;function u(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return l&&n===this&&e(f,r)||(a=t.apply(this,f),l=!0,n=this,r=f),a}return u}const u5=Object.freeze(Object.defineProperty({__proto__:null,default:l5},Symbol.toStringTag,{value:"Module"})),c5=UP(u5);var oy,B1;function G2(){if(B1)return oy;B1=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var f,d,p;if(Array.isArray(l)){if(f=l.length,f!=u.length)return!1;for(d=f;d--!==0;)if(!a(l[d],u[d]))return!1;return!0}var v;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(v=l.entries();!(d=v.next()).done;)if(!u.has(d.value[0]))return!1;for(v=l.entries();!(d=v.next()).done;)if(!a(d.value[1],u.get(d.value[0])))return!1;return!0}if(n&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(v=l.entries();!(d=v.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(f=l.length,f!=u.length)return!1;for(d=f;d--!==0;)if(l[d]!==u[d])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(p=Object.keys(l),f=p.length,f!==Object.keys(u).length)return!1;for(d=f;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,p[d]))return!1;if(t&&l instanceof Element)return!1;for(d=f;d--!==0;)if(!((p[d]==="_owner"||p[d]==="__v"||p[d]==="__o")&&l.$$typeof)&&!a(l[p[d]],u[p[d]]))return!1;return!0}return l!==l&&u!==u}return oy=function(u,f){try{return a(u,f)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},oy}var ly={exports:{}},uy,z1;function h5(){if(z1)return uy;z1=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return uy=t,uy}var cy,H1;function f5(){if(H1)return cy;H1=1;var t=h5();function e(){}function n(){}return n.resetWarningCache=e,cy=function(){function r(u,f,d,p,v,b){if(b!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},cy}var q1;function d5(){return q1||(q1=1,ly.exports=f5()()),ly.exports}var hy,G1;function $2(){if(G1)return hy;G1=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(O,j)=>{for(var k in j)e(O,k,{get:j[k],enumerable:!0})},f=(O,j,k,M)=>{if(j&&typeof j=="object"||typeof j=="function")for(let $ of r(j))!l.call(O,$)&&$!==k&&e(O,$,{get:()=>j[$],enumerable:!(M=n(j,$))||M.enumerable});return O},d=(O,j,k)=>(k=O!=null?t(a(O)):{},f(!O||!O.__esModule?e(k,"default",{value:O,enumerable:!0}):k,O)),p=O=>f(e({},"__esModule",{value:!0}),O),v={};u(v,{defaultProps:()=>F,propTypes:()=>W}),hy=p(v);var b=d(d5());const{string:x,bool:I,number:A,array:D,oneOfType:C,shape:N,object:z,func:B,node:Y}=b.default,W={url:C([x,D,z]),playing:I,loop:I,controls:I,volume:A,muted:I,playbackRate:A,width:C([x,A]),height:C([x,A]),style:z,progressInterval:A,playsinline:I,pip:I,stopOnUnmount:I,light:C([I,x,z]),playIcon:Y,previewTabIndex:A,previewAriaLabel:x,fallback:Y,oEmbedUrl:x,wrapper:C([x,B,N({render:B.isRequired})]),config:N({soundcloud:N({options:z}),youtube:N({playerVars:z,embedOptions:z,onUnstarted:B}),facebook:N({appId:x,version:x,playerId:x,attributes:z}),dailymotion:N({params:z}),vimeo:N({playerOptions:z,title:x}),mux:N({attributes:z,version:x}),file:N({attributes:z,tracks:D,forceVideo:I,forceAudio:I,forceHLS:I,forceSafariHLS:I,forceDisableHls:I,forceDASH:I,forceFLV:I,hlsOptions:z,hlsVersion:x,dashVersion:x,flvVersion:x}),wistia:N({options:z,playerId:x,customControls:D}),mixcloud:N({options:z}),twitch:N({options:z,playerId:x}),vidyard:N({options:z})}),onReady:B,onStart:B,onPlay:B,onPause:B,onBuffer:B,onBufferEnd:B,onEnded:B,onError:B,onDuration:B,onSeek:B,onPlaybackRateChange:B,onPlaybackQualityChange:B,onProgress:B,onClickPreview:B,onEnablePIP:B,onDisablePIP:B},H=()=>{},F={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:H},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:H,onStart:H,onPlay:H,onPause:H,onBuffer:H,onBufferEnd:H,onEnded:H,onError:H,onDuration:H,onSeek:H,onPlaybackRateChange:H,onPlaybackQualityChange:H,onProgress:H,onClickPreview:H,onEnablePIP:H,onDisablePIP:H};return hy}var fy,$1;function p5(){if($1)return fy;$1=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(B,Y,W)=>Y in B?e(B,Y,{enumerable:!0,configurable:!0,writable:!0,value:W}):B[Y]=W,f=(B,Y)=>{for(var W in Y)e(B,W,{get:Y[W],enumerable:!0})},d=(B,Y,W,H)=>{if(Y&&typeof Y=="object"||typeof Y=="function")for(let F of r(Y))!l.call(B,F)&&F!==W&&e(B,F,{get:()=>Y[F],enumerable:!(H=n(Y,F))||H.enumerable});return B},p=(B,Y,W)=>(W=B!=null?t(a(B)):{},d(!B||!B.__esModule?e(W,"default",{value:B,enumerable:!0}):W,B)),v=B=>d(e({},"__esModule",{value:!0}),B),b=(B,Y,W)=>(u(B,typeof Y!="symbol"?Y+"":Y,W),W),x={};f(x,{default:()=>z}),fy=v(x);var I=p(bu()),A=p(G2()),D=$2(),C=Ep();const N=5e3;class z extends I.Component{constructor(){super(...arguments),b(this,"mounted",!1),b(this,"isReady",!1),b(this,"isPlaying",!1),b(this,"isLoading",!0),b(this,"loadOnReady",null),b(this,"startOnPlay",!0),b(this,"seekOnPlay",null),b(this,"onDurationCalled",!1),b(this,"handlePlayerMount",Y=>{if(this.player){this.progress();return}this.player=Y,this.player.load(this.props.url),this.progress()}),b(this,"getInternalPlayer",Y=>this.player?this.player[Y]:null),b(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const Y=this.getCurrentTime()||0,W=this.getSecondsLoaded(),H=this.getDuration();if(H){const F={playedSeconds:Y,played:Y/H};W!==null&&(F.loadedSeconds=W,F.loaded=W/H),(F.playedSeconds!==this.prevPlayed||F.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(F),this.prevPlayed=F.playedSeconds,this.prevLoaded=F.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),b(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:Y,playing:W,volume:H,muted:F}=this.props;Y(),!F&&H!==null&&this.player.setVolume(H),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):W&&this.player.play(),this.handleDurationCheck()}),b(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:Y,onPlay:W,playbackRate:H}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&H!==1&&this.player.setPlaybackRate(H),Y(),this.startOnPlay=!1),W(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),b(this,"handlePause",Y=>{this.isPlaying=!1,this.isLoading||this.props.onPause(Y)}),b(this,"handleEnded",()=>{const{activePlayer:Y,loop:W,onEnded:H}=this.props;Y.loopOnEnded&&W&&this.seekTo(0),W||(this.isPlaying=!1,H())}),b(this,"handleError",(...Y)=>{this.isLoading=!1,this.props.onError(...Y)}),b(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const Y=this.getDuration();Y?this.onDurationCalled||(this.props.onDuration(Y),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),b(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(Y){if(!this.player)return;const{url:W,playing:H,volume:F,muted:O,playbackRate:j,pip:k,loop:M,activePlayer:$,disableDeferredLoading:U}=this.props;if(!(0,A.default)(Y.url,W)){if(this.isLoading&&!$.forceLoad&&!U&&!(0,C.isMediaStream)(W)){console.warn(`ReactPlayer: the attempt to load ${W} is being deferred until the player has loaded`),this.loadOnReady=W;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(W,this.isReady)}!Y.playing&&H&&!this.isPlaying&&this.player.play(),Y.playing&&!H&&this.isPlaying&&this.player.pause(),!Y.pip&&k&&this.player.enablePIP&&this.player.enablePIP(),Y.pip&&!k&&this.player.disablePIP&&this.player.disablePIP(),Y.volume!==F&&F!==null&&this.player.setVolume(F),Y.muted!==O&&(O?this.player.mute():(this.player.unmute(),F!==null&&setTimeout(()=>this.player.setVolume(F)))),Y.playbackRate!==j&&this.player.setPlaybackRate&&this.player.setPlaybackRate(j),Y.loop!==M&&this.player.setLoop&&this.player.setLoop(M)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(Y,W,H){if(!this.isReady){Y!==0&&(this.seekOnPlay=Y,setTimeout(()=>{this.seekOnPlay=null},N));return}if(W?W==="fraction":Y>0&&Y<1){const O=this.player.getDuration();if(!O){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(O*Y,H);return}this.player.seekTo(Y,H)}render(){const Y=this.props.activePlayer;return Y?I.default.createElement(Y,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return b(z,"displayName","Player"),b(z,"propTypes",D.propTypes),b(z,"defaultProps",D.defaultProps),fy}var dy,K1;function m5(){if(K1)return dy;K1=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(M,$,U)=>$ in M?e(M,$,{enumerable:!0,configurable:!0,writable:!0,value:U}):M[$]=U,f=(M,$)=>{for(var U in $)e(M,U,{get:$[U],enumerable:!0})},d=(M,$,U,re)=>{if($&&typeof $=="object"||typeof $=="function")for(let ye of r($))!l.call(M,ye)&&ye!==U&&e(M,ye,{get:()=>$[ye],enumerable:!(re=n($,ye))||re.enumerable});return M},p=(M,$,U)=>(U=M!=null?t(a(M)):{},d(!M||!M.__esModule?e(U,"default",{value:M,enumerable:!0}):U,M)),v=M=>d(e({},"__esModule",{value:!0}),M),b=(M,$,U)=>(u(M,typeof $!="symbol"?$+"":$,U),U),x={};f(x,{createReactPlayer:()=>k}),dy=v(x);var I=p(bu()),A=p(q2()),D=p(c5),C=p(G2()),N=$2(),z=Ep(),B=p(p5());const Y=(0,z.lazy)(()=>Ar(()=>import("./Preview-BGjVE6iZ.js").then(M=>M.P),[])),W=typeof window<"u"&&window.document&&typeof document<"u",H=typeof Qs<"u"&&Qs.window&&Qs.window.document,F=Object.keys(N.propTypes),O=W||H?I.Suspense:()=>null,j=[],k=(M,$)=>{var U;return U=class extends I.Component{constructor(){super(...arguments),b(this,"state",{showPreview:!!this.props.light}),b(this,"references",{wrapper:re=>{this.wrapper=re},player:re=>{this.player=re}}),b(this,"handleClickPreview",re=>{this.setState({showPreview:!1}),this.props.onClickPreview(re)}),b(this,"showPreview",()=>{this.setState({showPreview:!0})}),b(this,"getDuration",()=>this.player?this.player.getDuration():null),b(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),b(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),b(this,"getInternalPlayer",(re="player")=>this.player?this.player.getInternalPlayer(re):null),b(this,"seekTo",(re,ye,K)=>{if(!this.player)return null;this.player.seekTo(re,ye,K)}),b(this,"handleReady",()=>{this.props.onReady(this)}),b(this,"getActivePlayer",(0,D.default)(re=>{for(const ye of[...j,...M])if(ye.canPlay(re))return ye;return $||null})),b(this,"getConfig",(0,D.default)((re,ye)=>{const{config:K}=this.props;return A.default.all([N.defaultProps.config,N.defaultProps.config[ye]||{},K,K[ye]||{}])})),b(this,"getAttributes",(0,D.default)(re=>(0,z.omit)(this.props,F))),b(this,"renderActivePlayer",re=>{if(!re)return null;const ye=this.getActivePlayer(re);if(!ye)return null;const K=this.getConfig(re,ye.key);return I.default.createElement(B.default,{...this.props,key:ye.key,ref:this.references.player,config:K,activePlayer:ye.lazyPlayer||ye,onReady:this.handleReady})})}shouldComponentUpdate(re,ye){return!(0,C.default)(this.props,re)||!(0,C.default)(this.state,ye)}componentDidUpdate(re){const{light:ye}=this.props;!re.light&&ye&&this.setState({showPreview:!0}),re.light&&!ye&&this.setState({showPreview:!1})}renderPreview(re){if(!re)return null;const{light:ye,playIcon:K,previewTabIndex:ee,oEmbedUrl:le,previewAriaLabel:oe}=this.props;return I.default.createElement(Y,{url:re,light:ye,playIcon:K,previewTabIndex:ee,previewAriaLabel:oe,oEmbedUrl:le,onClick:this.handleClickPreview})}render(){const{url:re,style:ye,width:K,height:ee,fallback:le,wrapper:oe}=this.props,{showPreview:q}=this.state,te=this.getAttributes(re),he=typeof oe=="string"?this.references.wrapper:void 0;return I.default.createElement(oe,{ref:he,style:{...ye,width:K,height:ee},...te},I.default.createElement(O,{fallback:le},q?this.renderPreview(re):this.renderActivePlayer(re)))}},b(U,"displayName","ReactPlayer"),b(U,"propTypes",N.propTypes),b(U,"defaultProps",N.defaultProps),b(U,"addCustomPlayer",re=>{j.push(re)}),b(U,"removeCustomPlayers",()=>{j.length=0}),b(U,"canPlay",re=>{for(const ye of[...j,...M])if(ye.canPlay(re))return!0;return!1}),b(U,"canEnablePIP",re=>{for(const ye of[...j,...M])if(ye.canEnablePIP&&ye.canEnablePIP(re))return!0;return!1}),U};return dy}var py,Y1;function g5(){if(Y1)return py;Y1=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(D,C)=>{for(var N in C)e(D,N,{get:C[N],enumerable:!0})},f=(D,C,N,z)=>{if(C&&typeof C=="object"||typeof C=="function")for(let B of r(C))!l.call(D,B)&&B!==N&&e(D,B,{get:()=>C[B],enumerable:!(z=n(C,B))||z.enumerable});return D},d=(D,C,N)=>(N=D!=null?t(a(D)):{},f(!D||!D.__esModule?e(N,"default",{value:D,enumerable:!0}):N,D)),p=D=>f(e({},"__esModule",{value:!0}),D),v={};u(v,{default:()=>A}),py=p(v);var b=d(s5()),x=m5();const I=b.default[b.default.length-1];var A=(0,x.createReactPlayer)(b.default,I);return py}var y5=g5();const v5=xv(y5);var my={},W1;function _5(){return W1||(W1=1,(function(){var t;function e(g){var T=0;return function(){return T<g.length?{done:!1,value:g[T++]}:{done:!0}}}var n=typeof Object.defineProperties=="function"?Object.defineProperty:function(g,T,c){return g==Array.prototype||g==Object.prototype||(g[T]=c.value),g};function r(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qs=="object"&&Qs];for(var T=0;T<g.length;++T){var c=g[T];if(c&&c.Math==Math)return c}throw Error("Cannot find global object")}var a=r(this);function l(g,T){if(T)e:{var c=a;g=g.split(".");for(var y=0;y<g.length-1;y++){var w=g[y];if(!(w in c))break e;c=c[w]}g=g[g.length-1],y=c[g],T=T(y),T!=y&&T!=null&&n(c,g,{configurable:!0,writable:!0,value:T})}}l("Symbol",function(g){function T(S){if(this instanceof T)throw new TypeError("Symbol is not a constructor");return new c(y+(S||"")+"_"+w++,S)}function c(S,P){this.h=S,n(this,"description",{configurable:!0,writable:!0,value:P})}if(g)return g;c.prototype.toString=function(){return this.h};var y="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",w=0;return T}),l("Symbol.iterator",function(g){if(g)return g;g=Symbol("Symbol.iterator");for(var T="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<T.length;c++){var y=a[T[c]];typeof y=="function"&&typeof y.prototype[g]!="function"&&n(y.prototype,g,{configurable:!0,writable:!0,value:function(){return u(e(this))}})}return g});function u(g){return g={next:g},g[Symbol.iterator]=function(){return this},g}function f(g){var T=typeof Symbol<"u"&&Symbol.iterator&&g[Symbol.iterator];return T?T.call(g):{next:e(g)}}function d(g){if(!(g instanceof Array)){g=f(g);for(var T,c=[];!(T=g.next()).done;)c.push(T.value);g=c}return g}var p=typeof Object.assign=="function"?Object.assign:function(g,T){for(var c=1;c<arguments.length;c++){var y=arguments[c];if(y)for(var w in y)Object.prototype.hasOwnProperty.call(y,w)&&(g[w]=y[w])}return g};l("Object.assign",function(g){return g||p});var v=typeof Object.create=="function"?Object.create:function(g){function T(){}return T.prototype=g,new T},b;if(typeof Object.setPrototypeOf=="function")b=Object.setPrototypeOf;else{var x;e:{var I={a:!0},A={};try{A.__proto__=I,x=A.a;break e}catch{}x=!1}b=x?function(g,T){if(g.__proto__=T,g.__proto__!==T)throw new TypeError(g+" is not extensible");return g}:null}var D=b;function C(g,T){if(g.prototype=v(T.prototype),g.prototype.constructor=g,D)D(g,T);else for(var c in T)if(c!="prototype")if(Object.defineProperties){var y=Object.getOwnPropertyDescriptor(T,c);y&&Object.defineProperty(g,c,y)}else g[c]=T[c];g.za=T.prototype}function N(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function z(g){if(g.m)throw new TypeError("Generator is already running");g.m=!0}N.prototype.u=function(g){this.i=g};function B(g,T){g.l={ma:T,na:!0},g.h=g.s||g.v}N.prototype.return=function(g){this.l={return:g},this.h=this.v};function Y(g,T,c){return g.h=c,{value:T}}function W(g){this.h=new N,this.i=g}function H(g,T){z(g.h);var c=g.h.j;return c?F(g,"return"in c?c.return:function(y){return{value:y,done:!0}},T,g.h.return):(g.h.return(T),O(g))}function F(g,T,c,y){try{var w=T.call(g.h.j,c);if(!(w instanceof Object))throw new TypeError("Iterator result "+w+" is not an object");if(!w.done)return g.h.m=!1,w;var S=w.value}catch(P){return g.h.j=null,B(g.h,P),O(g)}return g.h.j=null,y.call(g.h,S),O(g)}function O(g){for(;g.h.h;)try{var T=g.i(g.h);if(T)return g.h.m=!1,{value:T.value,done:!1}}catch(c){g.h.i=void 0,B(g.h,c)}if(g.h.m=!1,g.h.l){if(T=g.h.l,g.h.l=null,T.na)throw T.ma;return{value:T.return,done:!0}}return{value:void 0,done:!0}}function j(g){this.next=function(T){return z(g.h),g.h.j?T=F(g,g.h.j.next,T,g.h.u):(g.h.u(T),T=O(g)),T},this.throw=function(T){return z(g.h),g.h.j?T=F(g,g.h.j.throw,T,g.h.u):(B(g.h,T),T=O(g)),T},this.return=function(T){return H(g,T)},this[Symbol.iterator]=function(){return this}}function k(g){function T(y){return g.next(y)}function c(y){return g.throw(y)}return new Promise(function(y,w){function S(P){P.done?y(P.value):Promise.resolve(P.value).then(T,c).then(S,w)}S(g.next())})}function M(g){return k(new j(new W(g)))}l("Promise",function(g){function T(P){this.i=0,this.j=void 0,this.h=[],this.u=!1;var L=this.l();try{P(L.resolve,L.reject)}catch(Q){L.reject(Q)}}function c(){this.h=null}function y(P){return P instanceof T?P:new T(function(L){L(P)})}if(g)return g;c.prototype.i=function(P){if(this.h==null){this.h=[];var L=this;this.j(function(){L.m()})}this.h.push(P)};var w=a.setTimeout;c.prototype.j=function(P){w(P,0)},c.prototype.m=function(){for(;this.h&&this.h.length;){var P=this.h;this.h=[];for(var L=0;L<P.length;++L){var Q=P[L];P[L]=null;try{Q()}catch(fe){this.l(fe)}}}this.h=null},c.prototype.l=function(P){this.j(function(){throw P})},T.prototype.l=function(){function P(fe){return function(we){Q||(Q=!0,fe.call(L,we))}}var L=this,Q=!1;return{resolve:P(this.I),reject:P(this.m)}},T.prototype.I=function(P){if(P===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(P instanceof T)this.L(P);else{e:switch(typeof P){case"object":var L=P!=null;break e;case"function":L=!0;break e;default:L=!1}L?this.F(P):this.s(P)}},T.prototype.F=function(P){var L=void 0;try{L=P.then}catch(Q){this.m(Q);return}typeof L=="function"?this.M(L,P):this.s(P)},T.prototype.m=function(P){this.v(2,P)},T.prototype.s=function(P){this.v(1,P)},T.prototype.v=function(P,L){if(this.i!=0)throw Error("Cannot settle("+P+", "+L+"): Promise already settled in state"+this.i);this.i=P,this.j=L,this.i===2&&this.K(),this.H()},T.prototype.K=function(){var P=this;w(function(){if(P.D()){var L=a.console;typeof L<"u"&&L.error(P.j)}},1)},T.prototype.D=function(){if(this.u)return!1;var P=a.CustomEvent,L=a.Event,Q=a.dispatchEvent;return typeof Q>"u"?!0:(typeof P=="function"?P=new P("unhandledrejection",{cancelable:!0}):typeof L=="function"?P=new L("unhandledrejection",{cancelable:!0}):(P=a.document.createEvent("CustomEvent"),P.initCustomEvent("unhandledrejection",!1,!0,P)),P.promise=this,P.reason=this.j,Q(P))},T.prototype.H=function(){if(this.h!=null){for(var P=0;P<this.h.length;++P)S.i(this.h[P]);this.h=null}};var S=new c;return T.prototype.L=function(P){var L=this.l();P.T(L.resolve,L.reject)},T.prototype.M=function(P,L){var Q=this.l();try{P.call(L,Q.resolve,Q.reject)}catch(fe){Q.reject(fe)}},T.prototype.then=function(P,L){function Q(Re,Te){return typeof Re=="function"?function(Oe){try{fe(Re(Oe))}catch(je){we(je)}}:Te}var fe,we,xe=new T(function(Re,Te){fe=Re,we=Te});return this.T(Q(P,fe),Q(L,we)),xe},T.prototype.catch=function(P){return this.then(void 0,P)},T.prototype.T=function(P,L){function Q(){switch(fe.i){case 1:P(fe.j);break;case 2:L(fe.j);break;default:throw Error("Unexpected state: "+fe.i)}}var fe=this;this.h==null?S.i(Q):this.h.push(Q),this.u=!0},T.resolve=y,T.reject=function(P){return new T(function(L,Q){Q(P)})},T.race=function(P){return new T(function(L,Q){for(var fe=f(P),we=fe.next();!we.done;we=fe.next())y(we.value).T(L,Q)})},T.all=function(P){var L=f(P),Q=L.next();return Q.done?y([]):new T(function(fe,we){function xe(Oe){return function(je){Re[Oe]=je,Te--,Te==0&&fe(Re)}}var Re=[],Te=0;do Re.push(void 0),Te++,y(Q.value).T(xe(Re.length-1),we),Q=L.next();while(!Q.done)})},T});function $(g,T){g instanceof String&&(g+="");var c=0,y=!1,w={next:function(){if(!y&&c<g.length){var S=c++;return{value:T(S,g[S]),done:!1}}return y=!0,{done:!0,value:void 0}}};return w[Symbol.iterator]=function(){return w},w}l("Array.prototype.keys",function(g){return g||function(){return $(this,function(T){return T})}}),l("Array.prototype.fill",function(g){return g||function(T,c,y){var w=this.length||0;for(0>c&&(c=Math.max(0,w+c)),(y==null||y>w)&&(y=w),y=Number(y),0>y&&(y=Math.max(0,w+y)),c=Number(c||0);c<y;c++)this[c]=T;return this}});function U(g){return g||Array.prototype.fill}l("Int8Array.prototype.fill",U),l("Uint8Array.prototype.fill",U),l("Uint8ClampedArray.prototype.fill",U),l("Int16Array.prototype.fill",U),l("Uint16Array.prototype.fill",U),l("Int32Array.prototype.fill",U),l("Uint32Array.prototype.fill",U),l("Float32Array.prototype.fill",U),l("Float64Array.prototype.fill",U),l("Object.is",function(g){return g||function(T,c){return T===c?T!==0||1/T===1/c:T!==T&&c!==c}}),l("Array.prototype.includes",function(g){return g||function(T,c){var y=this;y instanceof String&&(y=String(y));var w=y.length;for(c=c||0,0>c&&(c=Math.max(c+w,0));c<w;c++){var S=y[c];if(S===T||Object.is(S,T))return!0}return!1}}),l("String.prototype.includes",function(g){return g||function(T,c){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(T instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(T,c||0)!==-1}});var re=this||self;function ye(g,T){g=g.split(".");var c=re;g[0]in c||typeof c.execScript>"u"||c.execScript("var "+g[0]);for(var y;g.length&&(y=g.shift());)g.length||T===void 0?c[y]&&c[y]!==Object.prototype[y]?c=c[y]:c=c[y]={}:c[y]=T}function K(g){var T;e:{if((T=re.navigator)&&(T=T.userAgent))break e;T=""}return T.indexOf(g)!=-1}var ee=Array.prototype.map?function(g,T){return Array.prototype.map.call(g,T,void 0)}:function(g,T){for(var c=g.length,y=Array(c),w=typeof g=="string"?g.split(""):g,S=0;S<c;S++)S in w&&(y[S]=T.call(void 0,w[S],S,g));return y},le={},oe=null;function q(g){var T=g.length,c=3*T/4;c%3?c=Math.floor(c):"=.".indexOf(g[T-1])!=-1&&(c="=.".indexOf(g[T-2])!=-1?c-2:c-1);var y=new Uint8Array(c),w=0;return te(g,function(S){y[w++]=S}),w!==c?y.subarray(0,w):y}function te(g,T){function c(Q){for(;y<g.length;){var fe=g.charAt(y++),we=oe[fe];if(we!=null)return we;if(!/^[\s\xa0]*$/.test(fe))throw Error("Unknown base64 encoding at char: "+fe)}return Q}he();for(var y=0;;){var w=c(-1),S=c(0),P=c(64),L=c(64);if(L===64&&w===-1)break;T(w<<2|S>>4),P!=64&&(T(S<<4&240|P>>2),L!=64&&T(P<<6&192|L))}}function he(){if(!oe){oe={};for(var g="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),T=["+/=","+/","-_=","-_.","-_"],c=0;5>c;c++){var y=g.concat(T[c].split(""));le[c]=y;for(var w=0;w<y.length;w++){var S=y[w];oe[S]===void 0&&(oe[S]=w)}}}}var ce=typeof Uint8Array<"u",be=!(K("Trident")||K("MSIE"))&&typeof re.btoa=="function";function Ee(g){if(!be){var T;T===void 0&&(T=0),he(),T=le[T];for(var c=Array(Math.floor(g.length/3)),y=T[64]||"",w=0,S=0;w<g.length-2;w+=3){var P=g[w],L=g[w+1],Q=g[w+2],fe=T[P>>2];P=T[(P&3)<<4|L>>4],L=T[(L&15)<<2|Q>>6],Q=T[Q&63],c[S++]=fe+P+L+Q}switch(fe=0,Q=y,g.length-w){case 2:fe=g[w+1],Q=T[(fe&15)<<2]||y;case 1:g=g[w],c[S]=T[g>>2]+T[(g&3)<<4|fe>>4]+Q+y}return c.join("")}for(T="";10240<g.length;)T+=String.fromCharCode.apply(null,g.subarray(0,10240)),g=g.subarray(10240);return T+=String.fromCharCode.apply(null,g),btoa(T)}var ke=RegExp("[-_.]","g");function wt(g){switch(g){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function et(g){if(!be)return q(g);ke.test(g)&&(g=g.replace(ke,wt)),g=atob(g);for(var T=new Uint8Array(g.length),c=0;c<g.length;c++)T[c]=g.charCodeAt(c);return T}var Ye;function zt(){return Ye||(Ye=new Uint8Array(0))}var rt={},At=typeof Uint8Array.prototype.slice=="function",Se=0,Me=0;function Qe(g){var T=0>g;g=Math.abs(g);var c=g>>>0;g=Math.floor((g-c)/4294967296),T&&(c=f(_e(c,g)),T=c.next().value,g=c.next().value,c=T),Se=c>>>0,Me=g>>>0}var De=typeof BigInt=="function";function _e(g,T){return T=~T,g?g=~g+1:T+=1,[g,T]}function Ce(g,T){this.i=g>>>0,this.h=T>>>0}function Ae(g){if(!g)return qe||(qe=new Ce(0,0));if(!/^-?\d+$/.test(g))return null;if(16>g.length)Qe(Number(g));else if(De)g=BigInt(g),Se=Number(g&BigInt(4294967295))>>>0,Me=Number(g>>BigInt(32)&BigInt(4294967295));else{var T=+(g[0]==="-");Me=Se=0;for(var c=g.length,y=T,w=(c-T)%6+T;w<=c;y=w,w+=6)y=Number(g.slice(y,w)),Me*=1e6,Se=1e6*Se+y,4294967296<=Se&&(Me+=Se/4294967296|0,Se%=4294967296);T&&(T=f(_e(Se,Me)),g=T.next().value,T=T.next().value,Se=g,Me=T)}return new Ce(Se,Me)}var qe;function jt(g,T){return Error("Invalid wire type: "+g+" (at position "+T+")")}function Jr(){return Error("Failed to read varint, encoding is invalid.")}function rr(g,T){return Error("Tried to read past the end of the data "+T+" > "+g)}function sn(){throw Error("Invalid UTF8")}function Dn(g,T){return T=String.fromCharCode.apply(null,T),g==null?T:g+T}var pt=void 0,it,Yt=typeof TextDecoder<"u",Vt,_s=typeof TextEncoder<"u",Zr;function Le(g){if(g!==rt)throw Error("illegal external caller")}function kt(g,T){if(Le(T),this.V=g,g!=null&&g.length===0)throw Error("ByteString should be constructed with non-empty values")}function an(){return Zr||(Zr=new kt(null,rt))}function dt(g){Le(rt);var T=g.V;return T=T==null||ce&&T!=null&&T instanceof Uint8Array?T:typeof T=="string"?et(T):null,T==null?T:g.V=T}function mn(g){if(typeof g=="string")return{buffer:et(g),C:!1};if(Array.isArray(g))return{buffer:new Uint8Array(g),C:!1};if(g.constructor===Uint8Array)return{buffer:g,C:!1};if(g.constructor===ArrayBuffer)return{buffer:new Uint8Array(g),C:!1};if(g.constructor===kt)return{buffer:dt(g)||zt(),C:!0};if(g instanceof Uint8Array)return{buffer:new Uint8Array(g.buffer,g.byteOffset,g.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function qn(g,T){this.i=null,this.m=!1,this.h=this.j=this.l=0,ir(this,g,T)}function ir(g,T,c){c=c===void 0?{}:c,g.S=c.S===void 0?!1:c.S,T&&(T=mn(T),g.i=T.buffer,g.m=T.C,g.l=0,g.j=g.i.length,g.h=g.l)}qn.prototype.reset=function(){this.h=this.l};function An(g,T){if(g.h=T,T>g.j)throw rr(g.j,T)}function Dr(g){var T=g.i,c=g.h,y=T[c++],w=y&127;if(y&128&&(y=T[c++],w|=(y&127)<<7,y&128&&(y=T[c++],w|=(y&127)<<14,y&128&&(y=T[c++],w|=(y&127)<<21,y&128&&(y=T[c++],w|=y<<28,y&128&&T[c++]&128&&T[c++]&128&&T[c++]&128&&T[c++]&128&&T[c++]&128)))))throw Jr();return An(g,c),w}function On(g,T){if(0>T)throw Error("Tried to read a negative byte length: "+T);var c=g.h,y=c+T;if(y>g.j)throw rr(T,g.j-c);return g.h=y,c}var sr=[];function gi(){this.h=[]}gi.prototype.length=function(){return this.h.length},gi.prototype.end=function(){var g=this.h;return this.h=[],g};function ar(g,T,c){for(;0<c||127<T;)g.h.push(T&127|128),T=(T>>>7|c<<25)>>>0,c>>>=7;g.h.push(T)}function Or(g,T){for(;127<T;)g.h.push(T&127|128),T>>>=7;g.h.push(T)}function ei(g,T){if(sr.length){var c=sr.pop();ir(c,g,T),g=c}else g=new qn(g,T);this.h=g,this.j=this.h.h,this.i=this.l=-1,this.setOptions(T)}ei.prototype.setOptions=function(g){g=g===void 0?{}:g,this.ca=g.ca===void 0?!1:g.ca},ei.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function ws(g){var T=g.h;if(T.h==T.j)return!1;g.j=g.h.h;var c=Dr(g.h)>>>0;if(T=c>>>3,c&=7,!(0<=c&&5>=c))throw jt(c,g.j);if(1>T)throw Error("Invalid field number: "+T+" (at position "+g.j+")");return g.l=T,g.i=c,!0}function Mr(g){switch(g.i){case 0:if(g.i!=0)Mr(g);else e:{g=g.h;for(var T=g.h,c=T+10,y=g.i;T<c;)if((y[T++]&128)===0){An(g,T);break e}throw Jr()}break;case 1:g=g.h,An(g,g.h+8);break;case 2:g.i!=2?Mr(g):(T=Dr(g.h)>>>0,g=g.h,An(g,g.h+T));break;case 5:g=g.h,An(g,g.h+4);break;case 3:T=g.l;do{if(!ws(g))throw Error("Unmatched start-group tag: stream EOF");if(g.i==4){if(g.l!=T)throw Error("Unmatched end-group tag");break}Mr(g)}while(!0);break;default:throw jt(g.i,g.j)}}var bs=[];function Dt(){this.j=[],this.i=0,this.h=new gi}function Ot(g,T){T.length!==0&&(g.j.push(T),g.i+=T.length)}function Wt(g,T){if(T=T.R){Ot(g,g.h.end());for(var c=0;c<T.length;c++)Ot(g,dt(T[c])||zt())}}var Xt=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function jr(g,T){return Xt?g[Xt]|=T:g.A!==void 0?g.A|=T:(Object.defineProperties(g,{A:{value:T,configurable:!0,writable:!0,enumerable:!1}}),T)}function hl(g,T){Xt?g[Xt]&&(g[Xt]&=~T):g.A!==void 0&&(g.A&=~T)}function bt(g){var T;return Xt?T=g[Xt]:T=g.A,T??0}function or(g,T){Xt?g[Xt]=T:g.A!==void 0?g.A=T:Object.defineProperties(g,{A:{value:T,configurable:!0,writable:!0,enumerable:!1}})}function yi(g){return jr(g,1),g}function Bi(g,T){or(T,(g|0)&-51)}function yr(g,T){or(T,(g|18)&-41)}var vr={};function lr(g){return g!==null&&typeof g=="object"&&!Array.isArray(g)&&g.constructor===Object}var on,Ut=[];or(Ut,23),on=Object.freeze(Ut);function Es(g){if(bt(g.o)&2)throw Error("Cannot mutate an immutable Message")}function zi(g){var T=g.length;(T=T?g[T-1]:void 0)&&lr(T)?T.g=1:(T={},g.push((T.g=1,T)))}function _r(g){var T=g.i+g.G;return g.B||(g.B=g.o[T]={})}function ln(g,T){return T===-1?null:T>=g.i?g.B?g.B[T]:void 0:g.o[T+g.G]}function ur(g,T,c,y){Es(g),Hi(g,T,c,y)}function Hi(g,T,c,y){g.j&&(g.j=void 0),T>=g.i||y?_r(g)[T]=c:(g.o[T+g.G]=c,(g=g.B)&&T in g&&delete g[T])}function vi(g,T,c,y){var w=ln(g,T);Array.isArray(w)||(w=on);var S=bt(w);if(S&1||yi(w),y)S&2||jr(w,2),c&1||Object.freeze(w);else{y=!(c&2);var P=S&2;c&1||!P?y&&S&16&&!P&&hl(w,16):(w=yi(Array.prototype.slice.call(w)),Hi(g,T,w))}return w}function ha(g,T){var c=ln(g,T),y=c==null?c:typeof c=="number"||c==="NaN"||c==="Infinity"||c==="-Infinity"?Number(c):void 0;return y!=null&&y!==c&&Hi(g,T,y),y}function _i(g,T,c,y,w){g.h||(g.h={});var S=g.h[c],P=vi(g,c,3,w);if(!S){var L=P;S=[];var Q=!!(bt(g.o)&16);P=!!(bt(L)&2);var fe=L;!w&&P&&(L=Array.prototype.slice.call(L));for(var we=P,xe=0;xe<L.length;xe++){var Re=L[xe],Te=T,Oe=!1;if(Oe=Oe===void 0?!1:Oe,Re=Array.isArray(Re)?new Te(Re):Oe?new Te:void 0,Re!==void 0){Te=Re.o;var je=Oe=bt(Te);P&&(je|=2),Q&&(je|=16),je!=Oe&&or(Te,je),Te=je,we=we||!!(2&Te),S.push(Re)}}return g.h[c]=S,Q=bt(L),T=Q|33,T=we?T&-9:T|8,Q!=T&&(we=L,Object.isFrozen(we)&&(we=Array.prototype.slice.call(we)),or(we,T),L=we),fe!==L&&Hi(g,c,L),(w||y&&P)&&jr(S,2),y&&Object.freeze(S),S}return w||(w=Object.isFrozen(S),y&&!w?Object.freeze(S):!y&&w&&(S=Array.prototype.slice.call(S),g.h[c]=S)),S}function wr(g,T,c){var y=!!(bt(g.o)&2);if(T=_i(g,T,c,y,y),g=vi(g,c,3,y),!(y||bt(g)&8)){for(y=0;y<T.length;y++){if(c=T[y],bt(c.o)&2){var w=$i(c,!1);w.j=c}else w=c;c!==w&&(T[y]=w,g[y]=w.o)}jr(g,8)}return T}function Rt(g,T,c){if(c!=null&&typeof c!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof c+": "+c);ur(g,T,c)}function qi(g,T,c,y,w){Es(g);var S=_i(g,c,T,!1,!1);return c=y??new c,g=vi(g,T,2,!1),w!=null?(S.splice(w,0,c),g.splice(w,0,c.o)):(S.push(c),g.push(c.o)),c.C()&&hl(g,8),c}function Ts(g,T){return g??T}function gn(g,T,c){return c=c===void 0?0:c,Ts(ha(g,T),c)}var wi;function fa(g){switch(typeof g){case"number":return isFinite(g)?g:String(g);case"object":if(g)if(Array.isArray(g)){if((bt(g)&128)!==0)return g=Array.prototype.slice.call(g),zi(g),g}else{if(ce&&g!=null&&g instanceof Uint8Array)return Ee(g);if(g instanceof kt){var T=g.V;return T==null?"":typeof T=="string"?T:g.V=Ee(T)}}}return g}function da(g,T,c,y){if(g!=null){if(Array.isArray(g))g=Gi(g,T,c,y!==void 0);else if(lr(g)){var w={},S;for(S in g)w[S]=da(g[S],T,c,y);g=w}else g=T(g,y);return g}}function Gi(g,T,c,y){var w=bt(g);y=y?!!(w&16):void 0,g=Array.prototype.slice.call(g);for(var S=0;S<g.length;S++)g[S]=da(g[S],T,c,y);return c(w,g),g}function Mn(g){return g.ja===vr?g.toJSON():fa(g)}function wo(g,T){g&128&&zi(T)}function fl(g,T,c){if(c=c===void 0?yr:c,g!=null){if(ce&&g instanceof Uint8Array)return g.length?new kt(new Uint8Array(g),rt):an();if(Array.isArray(g)){var y=bt(g);return y&2?g:T&&!(y&32)&&(y&16||y===0)?(or(g,y|2),g):(g=Gi(g,fl,y&4?yr:c,!0),T=bt(g),T&4&&T&2&&Object.freeze(g),g)}return g.ja===vr?pa(g):g}}function xs(g,T,c,y,w,S,P){if(g=g.h&&g.h[c]){if(y=bt(g),y&2?y=g:(S=ee(g,pa),yr(y,S),Object.freeze(S),y=S),Es(T),P=y==null?on:yi([]),y!=null){for(S=!!y.length,g=0;g<y.length;g++){var L=y[g];S=S&&!(bt(L.o)&2),P[g]=L.o}S=(S?8:0)|1,g=bt(P),(g&S)!==S&&(Object.isFrozen(P)&&(P=Array.prototype.slice.call(P)),or(P,g|S)),T.h||(T.h={}),T.h[c]=y}else T.h&&(T.h[c]=void 0);Hi(T,c,P,w)}else ur(T,c,fl(y,S,P),w)}function pa(g){return bt(g.o)&2||(g=$i(g,!0),jr(g.o,2)),g}function $i(g,T){var c=g.o,y=[];jr(y,16);var w=g.constructor.h;if(w&&y.push(w),w=g.B,w){y.length=c.length,y.fill(void 0,y.length,c.length);var S={};y[y.length-1]=S}(bt(c)&128)!==0&&zi(y),T=T||g.C()?yr:Bi,S=g.constructor,wi=y,y=new S(y),wi=void 0,g.R&&(y.R=g.R.slice()),S=!!(bt(c)&16);for(var P=w?c.length-1:c.length,L=0;L<P;L++)xs(g,y,L-g.G,c[L],!1,S,T);if(w)for(var Q in w)xs(g,y,+Q,w[Q],!0,S,T);return y}function Rn(g,T,c){g==null&&(g=wi),wi=void 0;var y=this.constructor.i||0,w=0<y,S=this.constructor.h,P=!1;if(g==null){g=S?[S]:[];var L=48,Q=!0;w&&(y=0,L|=128),or(g,L)}else{if(!Array.isArray(g)||S&&S!==g[0])throw Error();var fe=L=jr(g,0);if((Q=(16&fe)!==0)&&((P=(32&fe)!==0)||(fe|=32)),w){if(128&fe)y=0;else if(0<g.length){var we=g[g.length-1];if(lr(we)&&"g"in we){y=0,fe|=128,delete we.g;var xe=!0,Re;for(Re in we){xe=!1;break}xe&&g.pop()}}}else if(128&fe)throw Error();L!==fe&&or(g,fe)}this.G=(S?0:-1)-y,this.h=void 0,this.o=g;e:{if(S=this.o.length,y=S-1,S&&(S=this.o[y],lr(S))){this.B=S,this.i=y-this.G;break e}T!==void 0&&-1<T?(this.i=Math.max(T,y+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!w&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(c){T=Q&&!P&&!0,w=this.i;var Te;for(Q=0;Q<c.length;Q++)P=c[Q],P<w?(P+=this.G,(y=g[P])?Ht(y,T):g[P]=on):(Te||(Te=_r(this)),(y=Te[P])?Ht(y,T):Te[P]=on)}}Rn.prototype.toJSON=function(){return Gi(this.o,Mn,wo)},Rn.prototype.C=function(){return!!(bt(this.o)&2)};function Ht(g,T){if(Array.isArray(g)){var c=bt(g),y=1;!T||c&2||(y|=16),(c&y)!==y&&or(g,c|y)}}Rn.prototype.ja=vr,Rn.prototype.toString=function(){return this.o.toString()};function Gn(g,T,c){if(c){var y={},w;for(w in c){var S=c[w],P=S.ra;P||(y.J=S.xa||S.oa.W,S.ia?(y.aa=ma(S.ia),P=function(L){return function(Q,fe,we){return L.J(Q,fe,we,L.aa)}}(y)):S.ka?(y.Z=ga(S.da.P,S.ka),P=function(L){return function(Q,fe,we){return L.J(Q,fe,we,L.Z)}}(y)):P=y.J,S.ra=P),P(T,g,S.da),y={J:y.J,aa:y.aa,Z:y.Z}}}Wt(T,g)}var ti=Symbol();function bi(g,T,c){return g[ti]||(g[ti]=function(y,w){return T(y,w,c)})}function ni(g){var T=g[ti];if(!T){var c=fr(g);T=function(y,w){return dr(y,w,c)},g[ti]=T}return T}function Et(g){var T=g.ia;if(T)return ni(T);if(T=g.wa)return bi(g.da.P,T,g.ka)}function Ss(g){var T=Et(g),c=g.da,y=g.oa.U;return T?function(w,S){return y(w,S,c,T)}:function(w,S){return y(w,S,c)}}function cr(g,T){var c=g[T];return typeof c=="function"&&c.length===0&&(c=c(),g[T]=c),Array.isArray(c)&&(hr in c||Rs in c||0<c.length&&typeof c[0]=="function")?c:void 0}function Ki(g,T,c,y,w,S){T.P=g[0];var P=1;if(g.length>P&&typeof g[P]!="number"){var L=g[P++];c(T,L)}for(;P<g.length;){c=g[P++];for(var Q=P+1;Q<g.length&&typeof g[Q]!="number";)Q++;switch(L=g[P++],Q-=P,Q){case 0:y(T,c,L);break;case 1:(Q=cr(g,P))?(P++,w(T,c,L,Q)):y(T,c,L,g[P++]);break;case 2:Q=P++,Q=cr(g,Q),w(T,c,L,Q,g[P++]);break;case 3:S(T,c,L,g[P++],g[P++],g[P++]);break;case 4:S(T,c,L,g[P++],g[P++],g[P++],g[P++]);break;default:throw Error("unexpected number of binary field arguments: "+Q)}}return T}var As=Symbol();function ma(g){var T=g[As];if(!T){var c=Vr(g);T=function(y,w){return Yi(y,w,c)},g[As]=T}return T}function ga(g,T){var c=g[As];return c||(c=function(y,w){return Gn(y,w,T)},g[As]=c),c}var Rs=Symbol();function Vu(g,T){g.push(T)}function ya(g,T,c){g.push(T,c.W)}function Ei(g,T,c,y){var w=ma(y),S=Vr(y).P,P=c.W;g.push(T,function(L,Q,fe){return P(L,Q,fe,S,w)})}function br(g,T,c,y,w,S){var P=ga(y,S),L=c.W;g.push(T,function(Q,fe,we){return L(Q,fe,we,y,P)})}function Vr(g){var T=g[Rs];return T||(T=Ki(g,g[Rs]=[],Vu,ya,Ei,br),hr in g&&Rs in g&&(g.length=0),T)}var hr=Symbol();function bo(g,T){g[0]=T}function ri(g,T,c,y){var w=c.U;g[T]=y?function(S,P,L){return w(S,P,L,y)}:w}function dl(g,T,c,y,w){var S=c.U,P=ni(y),L=fr(y).P;g[T]=function(Q,fe,we){return S(Q,fe,we,L,P,w)}}function Cs(g,T,c,y,w,S,P){var L=c.U,Q=bi(y,w,S);g[T]=function(fe,we,xe){return L(fe,we,xe,y,Q,P)}}function fr(g){var T=g[hr];return T||(T=Ki(g,g[hr]={},bo,ri,dl,Cs),hr in g&&Rs in g&&(g.length=0),T)}function dr(g,T,c){for(;ws(T)&&T.i!=4;){var y=T.l,w=c[y];if(!w){var S=c[0];S&&(S=S[y])&&(w=c[y]=Ss(S))}if(!w||!w(T,g,y)){w=T,y=g,S=w.j,Mr(w);var P=w;if(!P.ca){if(w=P.h.h-S,P.h.h=S,P=P.h,w==0)w=an();else{if(S=On(P,w),P.S&&P.m)w=P.i.subarray(S,S+w);else{P=P.i;var L=S;w=S+w,w=L===w?zt():At?P.slice(L,w):new Uint8Array(P.subarray(L,w))}w=w.length==0?an():new kt(w,rt)}(S=y.R)?S.push(w):y.R=[w]}}}return g}function Yi(g,T,c){for(var y=c.length,w=y%2==1,S=w?1:0;S<y;S+=2)(0,c[S+1])(T,g,c[S]);Gn(g,T,w?c[0]:void 0)}function $n(g,T){return{U:g,W:T}}var yn=$n(function(g,T,c){if(g.i!==5)return!1;g=g.h;var y=g.i,w=g.h,S=y[w],P=y[w+1],L=y[w+2];return y=y[w+3],An(g,g.h+4),P=(S<<0|P<<8|L<<16|y<<24)>>>0,g=2*(P>>31)+1,S=P>>>23&255,P&=8388607,ur(T,c,S==255?P?NaN:1/0*g:S==0?g*Math.pow(2,-149)*P:g*Math.pow(2,S-150)*(P+Math.pow(2,23))),!0},function(g,T,c){if(T=ha(T,c),T!=null){Or(g.h,8*c+5),g=g.h;var y=+T;y===0?0<1/y?Se=Me=0:(Me=0,Se=2147483648):isNaN(y)?(Me=0,Se=2147483647):(y=(c=0>y?-2147483648:0)?-y:y,34028234663852886e22<y?(Me=0,Se=(c|2139095040)>>>0):11754943508222875e-54>y?(y=Math.round(y/Math.pow(2,-149)),Me=0,Se=(c|y)>>>0):(T=Math.floor(Math.log(y)/Math.LN2),y*=Math.pow(2,-T),y=Math.round(8388608*y),16777216<=y&&++T,Me=0,Se=(c|T+127<<23|y&8388607)>>>0)),c=Se,g.h.push(c>>>0&255),g.h.push(c>>>8&255),g.h.push(c>>>16&255),g.h.push(c>>>24&255)}}),Ti=$n(function(g,T,c){if(g.i!==0)return!1;var y=g.h,w=0,S=g=0,P=y.i,L=y.h;do{var Q=P[L++];w|=(Q&127)<<S,S+=7}while(32>S&&Q&128);for(32<S&&(g|=(Q&127)>>4),S=3;32>S&&Q&128;S+=7)Q=P[L++],g|=(Q&127)<<S;if(An(y,L),128>Q)y=w>>>0,Q=g>>>0,(g=Q&2147483648)&&(y=~y+1>>>0,Q=~Q>>>0,y==0&&(Q=Q+1>>>0)),y=4294967296*Q+(y>>>0);else throw Jr();return ur(T,c,g?-y:y),!0},function(g,T,c){T=ln(T,c),T!=null&&(typeof T=="string"&&Ae(T),T!=null&&(Or(g.h,8*c),typeof T=="number"?(g=g.h,Qe(T),ar(g,Se,Me)):(c=Ae(T),ar(g.h,c.i,c.h))))}),Eo=$n(function(g,T,c){return g.i!==0?!1:(ur(T,c,Dr(g.h)),!0)},function(g,T,c){if(T=ln(T,c),T!=null&&T!=null)if(Or(g.h,8*c),g=g.h,c=T,0<=c)Or(g,c);else{for(T=0;9>T;T++)g.h.push(c&127|128),c>>=7;g.h.push(1)}}),Lr=$n(function(g,T,c){if(g.i!==2)return!1;var y=Dr(g.h)>>>0;g=g.h;var w=On(g,y);if(g=g.i,Yt){var S=g,P;(P=it)||(P=it=new TextDecoder("utf-8",{fatal:!0})),g=w+y,S=w===0&&g===S.length?S:S.subarray(w,g);try{var L=P.decode(S)}catch(xe){if(pt===void 0){try{P.decode(new Uint8Array([128]))}catch{}try{P.decode(new Uint8Array([97])),pt=!0}catch{pt=!1}}throw!pt&&(it=void 0),xe}}else{L=w,y=L+y,w=[];for(var Q=null,fe,we;L<y;)fe=g[L++],128>fe?w.push(fe):224>fe?L>=y?sn():(we=g[L++],194>fe||(we&192)!==128?(L--,sn()):w.push((fe&31)<<6|we&63)):240>fe?L>=y-1?sn():(we=g[L++],(we&192)!==128||fe===224&&160>we||fe===237&&160<=we||((S=g[L++])&192)!==128?(L--,sn()):w.push((fe&15)<<12|(we&63)<<6|S&63)):244>=fe?L>=y-2?sn():(we=g[L++],(we&192)!==128||(fe<<28)+(we-144)>>30!==0||((S=g[L++])&192)!==128||((P=g[L++])&192)!==128?(L--,sn()):(fe=(fe&7)<<18|(we&63)<<12|(S&63)<<6|P&63,fe-=65536,w.push((fe>>10&1023)+55296,(fe&1023)+56320))):sn(),8192<=w.length&&(Q=Dn(Q,w),w.length=0);L=Dn(Q,w)}return ur(T,c,L),!0},function(g,T,c){if(T=ln(T,c),T!=null){var y=!1;if(y=y===void 0?!1:y,_s){if(y&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(T))throw Error("Found an unpaired surrogate");T=(Vt||(Vt=new TextEncoder)).encode(T)}else{for(var w=0,S=new Uint8Array(3*T.length),P=0;P<T.length;P++){var L=T.charCodeAt(P);if(128>L)S[w++]=L;else{if(2048>L)S[w++]=L>>6|192;else{if(55296<=L&&57343>=L){if(56319>=L&&P<T.length){var Q=T.charCodeAt(++P);if(56320<=Q&&57343>=Q){L=1024*(L-55296)+Q-56320+65536,S[w++]=L>>18|240,S[w++]=L>>12&63|128,S[w++]=L>>6&63|128,S[w++]=L&63|128;continue}else P--}if(y)throw Error("Found an unpaired surrogate");L=65533}S[w++]=L>>12|224,S[w++]=L>>6&63|128}S[w++]=L&63|128}}T=w===S.length?S:S.subarray(0,w)}Or(g.h,8*c+2),Or(g.h,T.length),Ot(g,g.h.end()),Ot(g,T)}}),Ur=$n(function(g,T,c,y,w){if(g.i!==2)return!1;T=qi(T,c,y),c=g.h.j,y=Dr(g.h)>>>0;var S=g.h.h+y,P=S-c;if(0>=P&&(g.h.j=S,w(T,g,void 0,void 0,void 0),P=S-g.h.h),P)throw Error("Message parsing ended unexpectedly. Expected to read "+(y+" bytes, instead read "+(y-P)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return g.h.h=S,g.h.j=c,!0},function(g,T,c,y,w){if(T=wr(T,y,c),T!=null)for(y=0;y<T.length;y++){var S=g;Or(S.h,8*c+2);var P=S.h.end();Ot(S,P),P.push(S.i),S=P,w(T[y],g),P=g;var L=S.pop();for(L=P.i+P.h.length()-L;127<L;)S.push(L&127|128),L>>>=7,P.i++;S.push(L),P.i++}});function Is(g){return function(T,c){e:{if(bs.length){var y=bs.pop();y.setOptions(c),ir(y.h,T,c),T=y}else T=new ei(T,c);try{var w=fr(g),S=dr(new w.P,T,w);break e}finally{w=T.h,w.i=null,w.m=!1,w.l=0,w.j=0,w.h=0,w.S=!1,T.l=-1,T.i=-1,100>bs.length&&bs.push(T)}S=void 0}return S}}function Qt(g){return function(){var T=new Dt;Yi(this,T,Vr(g)),Ot(T,T.h.end());for(var c=new Uint8Array(T.i),y=T.j,w=y.length,S=0,P=0;P<w;P++){var L=y[P];c.set(L,S),S+=L.length}return T.j=[c],c}}function at(g){Rn.call(this,g)}C(at,Rn);var Ps=[at,1,Eo,2,yn,3,Lr,4,Lr];at.prototype.l=Qt(Ps);function xi(g){Rn.call(this,g,-1,pl)}C(xi,Rn),xi.prototype.addClassification=function(g,T){return qi(this,1,at,g,T),this};var pl=[1],va=Is([xi,1,Ur,Ps]);function ii(g){Rn.call(this,g)}C(ii,Rn);var Fr=[ii,1,yn,2,yn,3,yn,4,yn,5,yn];ii.prototype.l=Qt(Fr);function Wi(g){Rn.call(this,g,-1,Er)}C(Wi,Rn);var Er=[1],ml=Is([Wi,1,Ur,Fr]);function _a(g){Rn.call(this,g)}C(_a,Rn);var Xi=[_a,1,yn,2,yn,3,yn,4,yn,5,yn,6,Ti],wa=Is(Xi);_a.prototype.l=Qt(Xi);function ba(g,T,c){if(c=g.createShader(c===0?g.VERTEX_SHADER:g.FRAGMENT_SHADER),g.shaderSource(c,T),g.compileShader(c),!g.getShaderParameter(c,g.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+g.getShaderInfoLog(c));return c}function Ea(g){return wr(g,at,1).map(function(T){var c=ln(T,1);return{index:c??0,qa:gn(T,2),label:ln(T,3)!=null?Ts(ln(T,3),""):void 0,displayName:ln(T,4)!=null?Ts(ln(T,4),""):void 0}})}function gl(g){return{x:gn(g,1),y:gn(g,2),z:gn(g,3),visibility:ha(g,4)!=null?gn(g,4):void 0}}function Qi(g){return wr(ml(g),ii,1).map(gl)}function To(g,T){this.i=g,this.h=T,this.m=0}function Ta(g,T,c){return ks(g,T),typeof g.h.canvas.transferToImageBitmap=="function"?Promise.resolve(g.h.canvas.transferToImageBitmap()):c?Promise.resolve(g.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(g.h.canvas):(g.j===void 0&&(g.j=document.createElement("canvas")),new Promise(function(y){g.j.height=g.h.canvas.height,g.j.width=g.h.canvas.width,g.j.getContext("2d",{}).drawImage(g.h.canvas,0,0,g.h.canvas.width,g.h.canvas.height),y(g.j)}))}function ks(g,T){var c=g.h;if(g.s===void 0){var y=ba(c,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),w=ba(c,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),S=c.createProgram();if(c.attachShader(S,y),c.attachShader(S,w),c.linkProgram(S),!c.getProgramParameter(S,c.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+c.getProgramInfoLog(S));y=g.s=S,c.useProgram(y),w=c.getUniformLocation(y,"sampler0"),g.l={O:c.getAttribLocation(y,"aVertex"),N:c.getAttribLocation(y,"aTex"),ya:w},g.v=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,g.v),c.enableVertexAttribArray(g.l.O),c.vertexAttribPointer(g.l.O,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null),g.u=c.createBuffer(),c.bindBuffer(c.ARRAY_BUFFER,g.u),c.enableVertexAttribArray(g.l.N),c.vertexAttribPointer(g.l.N,2,c.FLOAT,!1,0,0),c.bufferData(c.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),c.STATIC_DRAW),c.bindBuffer(c.ARRAY_BUFFER,null),c.uniform1i(w,0)}y=g.l,c.useProgram(g.s),c.canvas.width=T.width,c.canvas.height=T.height,c.viewport(0,0,T.width,T.height),c.activeTexture(c.TEXTURE0),g.i.bindTexture2d(T.glName),c.enableVertexAttribArray(y.O),c.bindBuffer(c.ARRAY_BUFFER,g.v),c.vertexAttribPointer(y.O,2,c.FLOAT,!1,0,0),c.enableVertexAttribArray(y.N),c.bindBuffer(c.ARRAY_BUFFER,g.u),c.vertexAttribPointer(y.N,2,c.FLOAT,!1,0,0),c.bindFramebuffer(c.DRAW_FRAMEBUFFER?c.DRAW_FRAMEBUFFER:c.FRAMEBUFFER,null),c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT),c.colorMask(!0,!0,!0,!0),c.drawArrays(c.TRIANGLE_FAN,0,4),c.disableVertexAttribArray(y.O),c.disableVertexAttribArray(y.N),c.bindBuffer(c.ARRAY_BUFFER,null),g.i.bindTexture2d(0)}function yl(g){this.h=g}var vl=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function xo(g,T){return T+g}function Ji(g,T){window[g]=T}function _l(g){var T=document.createElement("script");return T.setAttribute("src",g),T.setAttribute("crossorigin","anonymous"),new Promise(function(c){T.addEventListener("load",function(){c()},!1),T.addEventListener("error",function(){c()},!1),document.body.appendChild(T)})}function xa(){return M(function(g){switch(g.h){case 1:return g.s=2,Y(g,WebAssembly.instantiate(vl),4);case 4:g.h=3,g.s=0;break;case 2:return g.s=0,g.l=null,g.return(!1);case 3:return g.return(!0)}})}function Sa(g){if(this.h=g,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=g&&g.locateFile||xo,typeof window=="object")var T=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")T=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=T,g.options){T=f(Object.keys(g.options));for(var c=T.next();!c.done;c=T.next()){c=c.value;var y=g.options[c].default;y!==void 0&&(this.l[c]=typeof y=="function"?y():y)}}}t=Sa.prototype,t.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function So(g){var T,c,y,w,S,P,L,Q,fe,we,xe;return M(function(Re){switch(Re.h){case 1:return g.ga?(T=g.h.files===void 0?[]:typeof g.h.files=="function"?g.h.files(g.l):g.h.files,Y(Re,xa(),2)):Re.return();case 2:if(c=Re.i,typeof window=="object")return Ji("createMediapipeSolutionsWasm",{locateFile:g.locateFile}),Ji("createMediapipeSolutionsPackedAssets",{locateFile:g.locateFile}),P=T.filter(function(Te){return Te.data!==void 0}),L=T.filter(function(Te){return Te.data===void 0}),Q=Promise.all(P.map(function(Te){var Oe=Ns(g,Te.url);if(Te.path!==void 0){var je=Te.path;Oe=Oe.then(function(ut){return g.overrideFile(je,ut),Promise.resolve(ut)})}return Oe})),fe=Promise.all(L.map(function(Te){return Te.simd===void 0||Te.simd&&c||!Te.simd&&!c?_l(g.locateFile(Te.url,g.ha)):Promise.resolve()})).then(function(){var Te,Oe,je;return M(function(ut){if(ut.h==1)return Te=window.createMediapipeSolutionsWasm,Oe=window.createMediapipeSolutionsPackedAssets,je=g,Y(ut,Te(Oe),2);je.i=ut.i,ut.h=0})}),we=function(){return M(function(Te){return g.h.graph&&g.h.graph.url?Te=Y(Te,Ns(g,g.h.graph.url),0):(Te.h=0,Te=void 0),Te})}(),Y(Re,Promise.all([fe,Q,we]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return y=T.filter(function(Te){return Te.simd===void 0||Te.simd&&c||!Te.simd&&!c}).map(function(Te){return g.locateFile(Te.url,g.ha)}),importScripts.apply(null,d(y)),w=g,Y(Re,createMediapipeSolutionsWasm(Module),6);case 6:w.i=Re.i,g.m=new OffscreenCanvas(1,1),g.i.canvas=g.m,S=g.i.GL.createContext(g.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),g.i.GL.makeContextCurrent(S),Re.h=4;break;case 7:if(g.m=document.createElement("canvas"),xe=g.m.getContext("webgl2",{}),!xe&&(xe=g.m.getContext("webgl",{}),!xe))return alert("Failed to create WebGL canvas context when passing video frame."),Re.return();g.K=xe,g.i.canvas=g.m,g.i.createContext(g.m,!0,!0,{});case 4:g.j=new g.i.SolutionWasm,g.ga=!1,Re.h=0}})}function Si(g){var T,c,y,w,S,P,L,Q;return M(function(fe){if(fe.h==1){if(g.h.graph&&g.h.graph.url&&g.fa===g.h.graph.url)return fe.return();if(g.u=!0,!g.h.graph||!g.h.graph.url){fe.h=2;return}return g.fa=g.h.graph.url,Y(fe,Ns(g,g.h.graph.url),3)}for(fe.h!=2&&(T=fe.i,g.j.loadGraph(T)),c=f(Object.keys(g.D)),y=c.next();!y.done;y=c.next())w=y.value,g.j.overrideFile(w,g.D[w]);if(g.D={},g.h.listeners)for(S=f(g.h.listeners),P=S.next();!P.done;P=S.next())L=P.value,Aa(g,L);Q=g.l,g.l={},g.setOptions(Q),fe.h=0})}t.reset=function(){var g=this;return M(function(T){g.j&&(g.j.reset(),g.s={},g.v={}),T.h=0})},t.setOptions=function(g,T){var c=this;if(T=T||this.h.options){for(var y=[],w=[],S={},P=f(Object.keys(g)),L=P.next();!L.done;S={X:S.X,Y:S.Y},L=P.next())if(L=L.value,!(L in this.l&&this.l[L]===g[L])){this.l[L]=g[L];var Q=T[L];Q!==void 0&&(Q.onChange&&(S.X=Q.onChange,S.Y=g[L],y.push(function(fe){return function(){var we;return M(function(xe){if(xe.h==1)return Y(xe,fe.X(fe.Y),2);we=xe.i,we===!0&&(c.u=!0),xe.h=0})}}(S))),Q.graphOptionXref&&(L=Object.assign({},{calculatorName:"",calculatorIndex:0},Q.graphOptionXref,{valueNumber:Q.type===1?g[L]:0,valueBoolean:Q.type===0?g[L]:!1,valueString:Q.type===2?g[L]:""}),w.push(L)))}(y.length!==0||w.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(w),this.F=(this.F===void 0?[]:this.F).concat(y))}};function wl(g){var T,c,y,w,S,P,L;return M(function(Q){switch(Q.h){case 1:if(!g.u)return Q.return();if(!g.F){Q.h=2;break}T=f(g.F),c=T.next();case 3:if(c.done){Q.h=5;break}return y=c.value,Y(Q,y(),4);case 4:c=T.next(),Q.h=3;break;case 5:g.F=void 0;case 2:if(g.H){for(w=new g.i.GraphOptionChangeRequestList,S=f(g.H),P=S.next();!P.done;P=S.next())L=P.value,w.push_back(L);g.j.changeOptions(w),w.delete(),g.H=void 0}g.u=!1,Q.h=0}})}t.initialize=function(){var g=this;return M(function(T){return T.h==1?Y(T,So(g),2):T.h!=3?Y(T,Si(g),3):Y(T,wl(g),0)})};function Ns(g,T){var c,y;return M(function(w){return T in g.L?w.return(g.L[T]):(c=g.locateFile(T,""),y=fetch(c).then(function(S){return S.arrayBuffer()}),g.L[T]=y,w.return(y))})}t.overrideFile=function(g,T){this.j?this.j.overrideFile(g,T):this.D[g]=T},t.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},t.send=function(g,T){var c=this,y,w,S,P,L,Q,fe,we,xe;return M(function(Re){switch(Re.h){case 1:return c.h.inputs?(y=1e3*(T??performance.now()),Y(Re,c.I,2)):Re.return();case 2:return Y(Re,c.initialize(),3);case 3:for(w=new c.i.PacketDataList,S=f(Object.keys(g)),P=S.next();!P.done;P=S.next())if(L=P.value,Q=c.h.inputs[L]){e:{var Te=g[L];switch(Q.type){case"video":var Oe=c.s[Q.stream];if(Oe||(Oe=new To(c.i,c.K),c.s[Q.stream]=Oe),Oe.m===0&&(Oe.m=Oe.i.createTexture()),typeof HTMLVideoElement<"u"&&Te instanceof HTMLVideoElement)var je=Te.videoWidth,ut=Te.videoHeight;else typeof HTMLImageElement<"u"&&Te instanceof HTMLImageElement?(je=Te.naturalWidth,ut=Te.naturalHeight):(je=Te.width,ut=Te.height);ut={glName:Oe.m,width:je,height:ut},je=Oe.h,je.canvas.width=ut.width,je.canvas.height=ut.height,je.activeTexture(je.TEXTURE0),Oe.i.bindTexture2d(Oe.m),je.texImage2D(je.TEXTURE_2D,0,je.RGBA,je.RGBA,je.UNSIGNED_BYTE,Te),Oe.i.bindTexture2d(0),Oe=ut;break e;case"detections":for(Oe=c.s[Q.stream],Oe||(Oe=new yl(c.i),c.s[Q.stream]=Oe),Oe.data||(Oe.data=new Oe.h.DetectionListData),Oe.data.reset(Te.length),ut=0;ut<Te.length;++ut){je=Te[ut];var yt=Oe.data,Jt=yt.setBoundingBox,pr=ut,jn=je.la,ct=new _a;if(Rt(ct,1,jn.sa),Rt(ct,2,jn.ta),Rt(ct,3,jn.height),Rt(ct,4,jn.width),Rt(ct,5,jn.rotation),ur(ct,6,jn.pa),jn=ct.l(),Jt.call(yt,pr,jn),je.ea)for(yt=0;yt<je.ea.length;++yt){ct=je.ea[yt],Jt=Oe.data,pr=Jt.addNormalizedLandmark,jn=ut,ct=Object.assign({},ct,{visibility:ct.visibility?ct.visibility:0});var un=new ii;Rt(un,1,ct.x),Rt(un,2,ct.y),Rt(un,3,ct.z),ct.visibility&&Rt(un,4,ct.visibility),ct=un.l(),pr.call(Jt,jn,ct)}if(je.ba)for(yt=0;yt<je.ba.length;++yt)Jt=Oe.data,pr=Jt.addClassification,jn=ut,ct=je.ba[yt],un=new at,Rt(un,2,ct.qa),ct.index&&ur(un,1,ct.index),ct.label&&ur(un,3,ct.label),ct.displayName&&ur(un,4,ct.displayName),ct=un.l(),pr.call(Jt,jn,ct)}Oe=Oe.data;break e;default:Oe={}}}switch(fe=Oe,we=Q.stream,Q.type){case"video":w.pushTexture2d(Object.assign({},fe,{stream:we,timestamp:y}));break;case"detections":xe=fe,xe.stream=we,xe.timestamp=y,w.pushDetectionList(xe);break;default:throw Error("Unknown input config type: '"+Q.type+"'")}}return c.j.send(w),Y(Re,c.I,4);case 4:w.delete(),Re.h=0}})};function bl(g,T,c){var y,w,S,P,L,Q,fe,we,xe,Re,Te,Oe,je,ut;return M(function(yt){switch(yt.h){case 1:if(!c)return yt.return(T);for(y={},w=0,S=f(Object.keys(c)),P=S.next();!P.done;P=S.next())L=P.value,Q=c[L],typeof Q!="string"&&Q.type==="texture"&&T[Q.stream]!==void 0&&++w;1<w&&(g.M=!1),fe=f(Object.keys(c)),P=fe.next();case 2:if(P.done){yt.h=4;break}if(we=P.value,xe=c[we],typeof xe=="string")return je=y,ut=we,Y(yt,El(g,we,T[xe]),14);if(Re=T[xe.stream],xe.type==="detection_list"){if(Re){for(var Jt=Re.getRectList(),pr=Re.getLandmarksList(),jn=Re.getClassificationsList(),ct=[],un=0;un<Jt.size();++un){var Ai=wa(Jt.get(un)),Dh=gn(Ai,1),Oh=gn(Ai,2),Pp=gn(Ai,3),kp=gn(Ai,4),Np=gn(Ai,5,0),Tl=void 0;Tl=Tl===void 0?0:Tl,Ai={la:{sa:Dh,ta:Oh,height:Pp,width:kp,rotation:Np,pa:Ts(ln(Ai,6),Tl)},ea:Qi(pr.get(un)),ba:Ea(va(jn.get(un)))},ct.push(Ai)}Jt=ct}else Jt=[];y[we]=Jt,yt.h=7;break}if(xe.type==="proto_list"){if(Re){for(Jt=Array(Re.size()),pr=0;pr<Re.size();pr++)Jt[pr]=Re.get(pr);Re.delete()}else Jt=[];y[we]=Jt,yt.h=7;break}if(Re===void 0){yt.h=3;break}if(xe.type==="float_list"){y[we]=Re,yt.h=7;break}if(xe.type==="proto"){y[we]=Re,yt.h=7;break}if(xe.type!=="texture")throw Error("Unknown output config type: '"+xe.type+"'");return Te=g.v[we],Te||(Te=new To(g.i,g.K),g.v[we]=Te),Y(yt,Ta(Te,Re,g.M),13);case 13:Oe=yt.i,y[we]=Oe;case 7:xe.transform&&y[we]&&(y[we]=xe.transform(y[we])),yt.h=3;break;case 14:je[ut]=yt.i;case 3:P=fe.next(),yt.h=2;break;case 4:return yt.return(y)}})}function El(g,T,c){var y;return M(function(w){return typeof c=="number"||c instanceof Uint8Array||c instanceof g.i.Uint8BlobList?w.return(c):c instanceof g.i.Texture2dDataOut?(y=g.v[T],y||(y=new To(g.i,g.K),g.v[T]=y),w.return(Ta(y,c,g.M))):w.return(void 0)})}function Aa(g,T){for(var c=T.name||"$",y=[].concat(d(T.wants)),w=new g.i.StringList,S=f(T.wants),P=S.next();!P.done;P=S.next())w.push_back(P.value);S=g.i.PacketListener.implement({onResults:function(L){for(var Q={},fe=0;fe<T.wants.length;++fe)Q[y[fe]]=L.get(fe);var we=g.listeners[c];we&&(g.I=bl(g,Q,T.outs).then(function(xe){xe=we(xe);for(var Re=0;Re<T.wants.length;++Re){var Te=Q[y[Re]];typeof Te=="object"&&Te.hasOwnProperty&&Te.hasOwnProperty("delete")&&Te.delete()}xe&&(g.I=xe)}))}}),g.j.attachMultiListener(w,S),w.delete()}t.onResults=function(g,T){this.listeners[T||"$"]=g},ye("Solution",Sa),ye("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function Cn(g){switch(g===void 0&&(g=0),g){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function Ao(g){var T=this;g=g||{},this.h=new Sa({locateFile:g.locateFile,files:function(c){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:Cn(c.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:Qi},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:Qi},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(c){var y,w,S;return M(function(P){return P.h==1?(y=Cn(c),w="third_party/mediapipe/modules/pose_landmark/"+y,Y(P,Ns(T.h,y),2)):(S=P.i,T.h.overrideFile(w,S),P.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}t=Ao.prototype,t.reset=function(){this.h.reset()},t.close=function(){return this.h.close(),Promise.resolve()},t.onResults=function(g){this.h.onResults(g)},t.initialize=function(){var g=this;return M(function(T){return Y(T,g.h.initialize(),0)})},t.send=function(g,T){var c=this;return M(function(y){return Y(y,c.h.send(g,T),0)})},t.setOptions=function(g){this.h.setOptions(g)},ye("Pose",Ao),ye("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),ye("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),ye("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),ye("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),ye("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),ye("VERSION","0.5.1675469404")}).call(my)),my}var w5=_5(),gy={},X1;function b5(){return X1||(X1=1,(function(){function t(k){var M=0;return function(){return M<k.length?{done:!1,value:k[M++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(k,M,$){return k==Array.prototype||k==Object.prototype||(k[M]=$.value),k};function n(k){k=[typeof globalThis=="object"&&globalThis,k,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qs=="object"&&Qs];for(var M=0;M<k.length;++M){var $=k[M];if($&&$.Math==Math)return $}throw Error("Cannot find global object")}var r=n(this);function a(k,M){if(M)e:{var $=r;k=k.split(".");for(var U=0;U<k.length-1;U++){var re=k[U];if(!(re in $))break e;$=$[re]}k=k[k.length-1],U=$[k],M=M(U),M!=U&&M!=null&&e($,k,{configurable:!0,writable:!0,value:M})}}a("Symbol",function(k){function M(ye){if(this instanceof M)throw new TypeError("Symbol is not a constructor");return new $(U+(ye||"")+"_"+re++,ye)}function $(ye,K){this.g=ye,e(this,"description",{configurable:!0,writable:!0,value:K})}if(k)return k;$.prototype.toString=function(){return this.g};var U="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",re=0;return M}),a("Symbol.iterator",function(k){if(k)return k;k=Symbol("Symbol.iterator");for(var M="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),$=0;$<M.length;$++){var U=r[M[$]];typeof U=="function"&&typeof U.prototype[k]!="function"&&e(U.prototype,k,{configurable:!0,writable:!0,value:function(){return l(t(this))}})}return k});function l(k){return k={next:k},k[Symbol.iterator]=function(){return this},k}function u(k){var M=typeof Symbol<"u"&&Symbol.iterator&&k[Symbol.iterator];return M?M.call(k):{next:t(k)}}function f(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function d(k){if(k.i)throw new TypeError("Generator is already running");k.i=!0}f.prototype.l=function(k){this.o=k};function p(k,M){k.h={F:M,G:!0},k.j=k.m}f.prototype.return=function(k){this.h={return:k},this.j=this.m};function v(k){this.g=new f,this.h=k}function b(k,M){d(k.g);var $=k.g.g;return $?x(k,"return"in $?$.return:function(U){return{value:U,done:!0}},M,k.g.return):(k.g.return(M),I(k))}function x(k,M,$,U){try{var re=M.call(k.g.g,$);if(!(re instanceof Object))throw new TypeError("Iterator result "+re+" is not an object");if(!re.done)return k.g.i=!1,re;var ye=re.value}catch(K){return k.g.g=null,p(k.g,K),I(k)}return k.g.g=null,U.call(k.g,ye),I(k)}function I(k){for(;k.g.j;)try{var M=k.h(k.g);if(M)return k.g.i=!1,{value:M.value,done:!1}}catch($){k.g.o=void 0,p(k.g,$)}if(k.g.i=!1,k.g.h){if(M=k.g.h,k.g.h=null,M.G)throw M.F;return{value:M.return,done:!0}}return{value:void 0,done:!0}}function A(k){this.next=function(M){return d(k.g),k.g.g?M=x(k,k.g.g.next,M,k.g.l):(k.g.l(M),M=I(k)),M},this.throw=function(M){return d(k.g),k.g.g?M=x(k,k.g.g.throw,M,k.g.l):(p(k.g,M),M=I(k)),M},this.return=function(M){return b(k,M)},this[Symbol.iterator]=function(){return this}}function D(k){function M(U){return k.next(U)}function $(U){return k.throw(U)}return new Promise(function(U,re){function ye(K){K.done?U(K.value):Promise.resolve(K.value).then(M,$).then(ye,re)}ye(k.next())})}a("Promise",function(k){function M(K){this.h=0,this.i=void 0,this.g=[],this.o=!1;var ee=this.j();try{K(ee.resolve,ee.reject)}catch(le){ee.reject(le)}}function $(){this.g=null}function U(K){return K instanceof M?K:new M(function(ee){ee(K)})}if(k)return k;$.prototype.h=function(K){if(this.g==null){this.g=[];var ee=this;this.i(function(){ee.l()})}this.g.push(K)};var re=r.setTimeout;$.prototype.i=function(K){re(K,0)},$.prototype.l=function(){for(;this.g&&this.g.length;){var K=this.g;this.g=[];for(var ee=0;ee<K.length;++ee){var le=K[ee];K[ee]=null;try{le()}catch(oe){this.j(oe)}}}this.g=null},$.prototype.j=function(K){this.i(function(){throw K})},M.prototype.j=function(){function K(oe){return function(q){le||(le=!0,oe.call(ee,q))}}var ee=this,le=!1;return{resolve:K(this.A),reject:K(this.l)}},M.prototype.A=function(K){if(K===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(K instanceof M)this.C(K);else{e:switch(typeof K){case"object":var ee=K!=null;break e;case"function":ee=!0;break e;default:ee=!1}ee?this.v(K):this.m(K)}},M.prototype.v=function(K){var ee=void 0;try{ee=K.then}catch(le){this.l(le);return}typeof ee=="function"?this.D(ee,K):this.m(K)},M.prototype.l=function(K){this.u(2,K)},M.prototype.m=function(K){this.u(1,K)},M.prototype.u=function(K,ee){if(this.h!=0)throw Error("Cannot settle("+K+", "+ee+"): Promise already settled in state"+this.h);this.h=K,this.i=ee,this.h===2&&this.B(),this.H()},M.prototype.B=function(){var K=this;re(function(){if(K.I()){var ee=r.console;typeof ee<"u"&&ee.error(K.i)}},1)},M.prototype.I=function(){if(this.o)return!1;var K=r.CustomEvent,ee=r.Event,le=r.dispatchEvent;return typeof le>"u"?!0:(typeof K=="function"?K=new K("unhandledrejection",{cancelable:!0}):typeof ee=="function"?K=new ee("unhandledrejection",{cancelable:!0}):(K=r.document.createEvent("CustomEvent"),K.initCustomEvent("unhandledrejection",!1,!0,K)),K.promise=this,K.reason=this.i,le(K))},M.prototype.H=function(){if(this.g!=null){for(var K=0;K<this.g.length;++K)ye.h(this.g[K]);this.g=null}};var ye=new $;return M.prototype.C=function(K){var ee=this.j();K.s(ee.resolve,ee.reject)},M.prototype.D=function(K,ee){var le=this.j();try{K.call(ee,le.resolve,le.reject)}catch(oe){le.reject(oe)}},M.prototype.then=function(K,ee){function le(he,ce){return typeof he=="function"?function(be){try{oe(he(be))}catch(Ee){q(Ee)}}:ce}var oe,q,te=new M(function(he,ce){oe=he,q=ce});return this.s(le(K,oe),le(ee,q)),te},M.prototype.catch=function(K){return this.then(void 0,K)},M.prototype.s=function(K,ee){function le(){switch(oe.h){case 1:K(oe.i);break;case 2:ee(oe.i);break;default:throw Error("Unexpected state: "+oe.h)}}var oe=this;this.g==null?ye.h(le):this.g.push(le),this.o=!0},M.resolve=U,M.reject=function(K){return new M(function(ee,le){le(K)})},M.race=function(K){return new M(function(ee,le){for(var oe=u(K),q=oe.next();!q.done;q=oe.next())U(q.value).s(ee,le)})},M.all=function(K){var ee=u(K),le=ee.next();return le.done?U([]):new M(function(oe,q){function te(be){return function(Ee){he[be]=Ee,ce--,ce==0&&oe(he)}}var he=[],ce=0;do he.push(void 0),ce++,U(le.value).s(te(he.length-1),q),le=ee.next();while(!le.done)})},M});var C=typeof Object.assign=="function"?Object.assign:function(k,M){for(var $=1;$<arguments.length;$++){var U=arguments[$];if(U)for(var re in U)Object.prototype.hasOwnProperty.call(U,re)&&(k[re]=U[re])}return k};a("Object.assign",function(k){return k||C});var N=this||self,z={facingMode:"user",width:640,height:480};function B(k,M){this.video=k,this.i=0,this.h=Object.assign(Object.assign({},z),M)}B.prototype.stop=function(){var k=this,M,$,U,re;return D(new A(new v(function(ye){if(k.g){for(M=k.g.getTracks(),$=u(M),U=$.next();!U.done;U=$.next())re=U.value,re.stop();k.g=void 0}ye.j=0})))},B.prototype.start=function(){var k=this,M;return D(new A(new v(function($){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),M=k.h,$.return(navigator.mediaDevices.getUserMedia({video:{facingMode:M.facingMode,width:M.width,height:M.height}}).then(function(U){W(k,U)}).catch(function(U){var re="Failed to acquire camera feed: "+U;throw console.error(re),alert(re),U}))})))};function Y(k){window.requestAnimationFrame(function(){H(k)})}function W(k,M){k.g=M,k.video.srcObject=M,k.video.onloadedmetadata=function(){k.video.play(),Y(k)}}function H(k){var M=null;k.video.paused||k.video.currentTime===k.i||(k.i=k.video.currentTime,M=k.h.onFrame()),M?M.then(function(){Y(k)}):Y(k)}var F=["Camera"],O=N;F[0]in O||typeof O.execScript>"u"||O.execScript("var "+F[0]);for(var j;F.length&&(j=F.shift());)F.length||B===void 0?O[j]&&O[j]!==Object.prototype[j]?O=O[j]:O=O[j]={}:O[j]=B}).call(gy)),gy}var E5=b5(),yy={},Q1;function T5(){return Q1||(Q1=1,(function(){function t(A){var D=0;return function(){return D<A.length?{done:!1,value:A[D++]}:{done:!0}}}var e=typeof Object.defineProperties=="function"?Object.defineProperty:function(A,D,C){return A==Array.prototype||A==Object.prototype||(A[D]=C.value),A};function n(A){A=[typeof globalThis=="object"&&globalThis,A,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qs=="object"&&Qs];for(var D=0;D<A.length;++D){var C=A[D];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function a(A,D){if(D)e:{var C=r;A=A.split(".");for(var N=0;N<A.length-1;N++){var z=A[N];if(!(z in C))break e;C=C[z]}A=A[A.length-1],N=C[A],D=D(N),D!=N&&D!=null&&e(C,A,{configurable:!0,writable:!0,value:D})}}function l(A){var D=typeof Symbol<"u"&&Symbol.iterator&&A[Symbol.iterator];return D?D.call(A):{next:t(A)}}var u=typeof Object.assign=="function"?Object.assign:function(A,D){for(var C=1;C<arguments.length;C++){var N=arguments[C];if(N)for(var z in N)Object.prototype.hasOwnProperty.call(N,z)&&(A[z]=N[z])}return A};a("Object.assign",function(A){return A||u}),a("Array.prototype.fill",function(A){return A||function(D,C,N){var z=this.length||0;for(0>C&&(C=Math.max(0,z+C)),(N==null||N>z)&&(N=z),N=Number(N),0>N&&(N=Math.max(0,z+N)),C=Number(C||0);C<N;C++)this[C]=D;return this}});function f(A){return A||Array.prototype.fill}a("Int8Array.prototype.fill",f),a("Uint8Array.prototype.fill",f),a("Uint8ClampedArray.prototype.fill",f),a("Int16Array.prototype.fill",f),a("Uint16Array.prototype.fill",f),a("Int32Array.prototype.fill",f),a("Uint32Array.prototype.fill",f),a("Float32Array.prototype.fill",f),a("Float64Array.prototype.fill",f);var d=this||self;function p(A,D){A=A.split(".");var C=d;A[0]in C||typeof C.execScript>"u"||C.execScript("var "+A[0]);for(var N;A.length&&(N=A.shift());)A.length||D===void 0?C[N]&&C[N]!==Object.prototype[N]?C=C[N]:C=C[N]={}:C[N]=D}var v={color:"white",lineWidth:4,radius:6,visibilityMin:.5};function b(A){return A=A||{},Object.assign({},v,{fillColor:A.color},A)}function x(A,D){return A instanceof Function?A(D):A}function I(A,D,C){return Math.max(Math.min(D,C),Math.min(Math.max(D,C),A))}p("clamp",I),p("drawLandmarks",function(A,D,C){if(D){C=b(C),A.save();var N=A.canvas,z=0;D=l(D);for(var B=D.next();!B.done;B=D.next())if(B=B.value,B!==void 0&&(B.visibility===void 0||B.visibility>C.visibilityMin)){A.fillStyle=x(C.fillColor,{index:z,from:B}),A.strokeStyle=x(C.color,{index:z,from:B}),A.lineWidth=x(C.lineWidth,{index:z,from:B});var Y=new Path2D;Y.arc(B.x*N.width,B.y*N.height,x(C.radius,{index:z,from:B}),0,2*Math.PI),A.fill(Y),A.stroke(Y),++z}A.restore()}}),p("drawConnectors",function(A,D,C,N){if(D&&C){N=b(N),A.save();var z=A.canvas,B=0;C=l(C);for(var Y=C.next();!Y.done;Y=C.next()){var W=Y.value;A.beginPath(),Y=D[W[0]],W=D[W[1]],Y&&W&&(Y.visibility===void 0||Y.visibility>N.visibilityMin)&&(W.visibility===void 0||W.visibility>N.visibilityMin)&&(A.strokeStyle=x(N.color,{index:B,from:Y,to:W}),A.lineWidth=x(N.lineWidth,{index:B,from:Y,to:W}),A.moveTo(Y.x*z.width,Y.y*z.height),A.lineTo(W.x*z.width,W.y*z.height)),++B,A.stroke()}A.restore()}}),p("drawRectangle",function(A,D,C){C=b(C),A.save();var N=A.canvas;A.beginPath(),A.lineWidth=x(C.lineWidth,{}),A.strokeStyle=x(C.color,{}),A.fillStyle=x(C.fillColor,{}),A.translate(D.xCenter*N.width,D.yCenter*N.height),A.rotate(D.rotation*Math.PI/180),A.rect(-D.width/2*N.width,-D.height/2*N.height,D.width*N.width,D.height*N.height),A.translate(-D.xCenter*N.width,-D.yCenter*N.height),A.stroke(),A.fill(),A.restore()}),p("lerp",function(A,D,C,N,z){return I(N*(1-(A-D)/(C-D))+z*(1-(C-A)/(C-D)),N,z)})}).call(yy)),yy}var x5=T5();const J1=(t,e,n)=>{const r=Math.atan2(n.y-e.y,n.x-e.x)-Math.atan2(t.y-e.y,t.x-e.x);let a=Math.abs(r*180/Math.PI);return a>180&&(a=360-a),a},Jl=(t,e)=>{const n=t[e];return{x:n.x,y:n.y,z:n.z}},vy={"high knees":{type:"knee-lift",landmarks:{hip:{left:23,right:24},knee:{left:25,right:26},ankle:{left:27,right:28}},states:{left:"leftKneeState",right:"rightKneeState"},initialStates:{leftKneeState:"down",rightKneeState:"down"},kneeHeightThreshold:-.1,kneeUpAngleThreshold:100,kneeDownAngle:110,cooldownDuration:500},"burpees (no push-up)":{type:"burpee",hipKneeAngleThreshold:120,kneeExtensionAngle:160,jumpHeightThreshold:.05,cooldownDuration:1e3,landmarks:{hip:{left:23,right:24},knee:{left:25,right:26},ankle:{left:27,right:28}},state:"burpeeState",stateSequence:["standing","squatting","jumping","standing"],initialStates:{burpeeState:"standing"}},"squats (holding chair for balance)":{type:"squat",hipKneeAngleThreshold:90,hipDepthThreshold:.1,kneeExtensionAngle:160,cooldownDuration:500,landmarks:{hip:{left:23,right:24},knee:{left:25,right:26},ankle:{left:27,right:28}},state:"squatState",stateSequence:["up","down","up"],initialStates:{squatState:"up"}}},S5=t=>t.replace(/[\u{1F600}-\u{1F6FF}]/gu,"").replace(/[\u{1F300}-\u{1F5FF}]/gu,"").replace(/[\u{1F900}-\u{1F9FF}]/gu,"").replace(/[\u{2600}-\u{26FF}]/gu,"").replace(/[\u{2700}-\u{27BF}]/gu,"").replace(/\s+/g," ").trim(),A5=t=>{const e=S5(t),n=e.toLowerCase();return console.log(`[PoseDetection] Validating exercise: Original: ${t}, Cleaned: ${e}, Normalized: ${n}`),vy[n]?vy[n]:(console.warn(`[PoseDetection] No configuration found for exercise: ${n}. Using default (High Knees).`),vy["high knees"])};function K2(t,e){return function(){return t.apply(e,arguments)}}const{toString:R5}=Object.prototype,{getPrototypeOf:p_}=Object,{iterator:Tp,toStringTag:Y2}=Symbol,xp=(t=>e=>{const n=R5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Fi=t=>(t=t.toLowerCase(),e=>xp(e)===t),Sp=t=>e=>typeof e===t,{isArray:Mu}=Array,dh=Sp("undefined");function C5(t){return t!==null&&!dh(t)&&t.constructor!==null&&!dh(t.constructor)&&kr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const W2=Fi("ArrayBuffer");function I5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&W2(t.buffer),e}const P5=Sp("string"),kr=Sp("function"),X2=Sp("number"),Ap=t=>t!==null&&typeof t=="object",k5=t=>t===!0||t===!1,ud=t=>{if(xp(t)!=="object")return!1;const e=p_(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Y2 in t)&&!(Tp in t)},N5=Fi("Date"),D5=Fi("File"),O5=Fi("Blob"),M5=Fi("FileList"),j5=t=>Ap(t)&&kr(t.pipe),V5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kr(t.append)&&((e=xp(t))==="formdata"||e==="object"&&kr(t.toString)&&t.toString()==="[object FormData]"))},L5=Fi("URLSearchParams"),[U5,F5,B5,z5]=["ReadableStream","Request","Response","Headers"].map(Fi),H5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function kh(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Mu(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let f;for(r=0;r<u;r++)f=l[r],e.call(null,t[f],f,t)}}function Q2(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const Wo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,J2=t=>!dh(t)&&t!==Wo;function vv(){const{caseless:t}=J2(this)&&this||{},e={},n=(r,a)=>{const l=t&&Q2(e,a)||a;ud(e[l])&&ud(r)?e[l]=vv(e[l],r):ud(r)?e[l]=vv({},r):Mu(r)?e[l]=r.slice():e[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&kh(arguments[r],n);return e}const q5=(t,e,n,{allOwnKeys:r}={})=>(kh(e,(a,l)=>{n&&kr(a)?t[l]=K2(a,n):t[l]=a},{allOwnKeys:r}),t),G5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),$5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},K5=(t,e,n,r)=>{let a,l,u;const f={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!r||r(u,t,e))&&!f[u]&&(e[u]=t[u],f[u]=!0);t=n!==!1&&p_(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},Y5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},W5=t=>{if(!t)return null;if(Mu(t))return t;let e=t.length;if(!X2(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},X5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p_(Uint8Array)),Q5=(t,e)=>{const r=(t&&t[Tp]).call(t);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},J5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},Z5=Fi("HTMLFormElement"),eB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),Z1=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),tB=Fi("RegExp"),Z2=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};kh(n,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(r[l]=u||a)}),Object.defineProperties(t,r)},nB=t=>{Z2(t,(e,n)=>{if(kr(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kr(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rB=(t,e)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return Mu(t)?r(t):r(String(t).split(e)),n},iB=()=>{},sB=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function aB(t){return!!(t&&kr(t.append)&&t[Y2]==="FormData"&&t[Tp])}const oB=t=>{const e=new Array(10),n=(r,a)=>{if(Ap(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const l=Mu(r)?[]:{};return kh(r,(u,f)=>{const d=n(u,a+1);!dh(d)&&(l[f]=d)}),e[a]=void 0,l}}return r};return n(t,0)},lB=Fi("AsyncFunction"),uB=t=>t&&(Ap(t)||kr(t))&&kr(t.then)&&kr(t.catch),eI=((t,e)=>t?setImmediate:e?((n,r)=>(Wo.addEventListener("message",({source:a,data:l})=>{a===Wo&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),Wo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kr(Wo.postMessage)),cB=typeof queueMicrotask<"u"?queueMicrotask.bind(Wo):typeof process<"u"&&process.nextTick||eI,hB=t=>t!=null&&kr(t[Tp]),ue={isArray:Mu,isArrayBuffer:W2,isBuffer:C5,isFormData:V5,isArrayBufferView:I5,isString:P5,isNumber:X2,isBoolean:k5,isObject:Ap,isPlainObject:ud,isReadableStream:U5,isRequest:F5,isResponse:B5,isHeaders:z5,isUndefined:dh,isDate:N5,isFile:D5,isBlob:O5,isRegExp:tB,isFunction:kr,isStream:j5,isURLSearchParams:L5,isTypedArray:X5,isFileList:M5,forEach:kh,merge:vv,extend:q5,trim:H5,stripBOM:G5,inherits:$5,toFlatObject:K5,kindOf:xp,kindOfTest:Fi,endsWith:Y5,toArray:W5,forEachEntry:Q5,matchAll:J5,isHTMLForm:Z5,hasOwnProperty:Z1,hasOwnProp:Z1,reduceDescriptors:Z2,freezeMethods:nB,toObjectSet:rB,toCamelCase:eB,noop:iB,toFiniteNumber:sB,findKey:Q2,global:Wo,isContextDefined:J2,isSpecCompliantForm:aB,toJSONObject:oB,isAsyncFn:lB,isThenable:uB,setImmediate:eI,asap:cB,isIterable:hB};function Je(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ue.inherits(Je,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const tI=Je.prototype,nI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nI[t]={value:t}});Object.defineProperties(Je,nI);Object.defineProperty(tI,"isAxiosError",{value:!0});Je.from=(t,e,n,r,a,l)=>{const u=Object.create(tI);return ue.toFlatObject(t,u,function(d){return d!==Error.prototype},f=>f!=="isAxiosError"),Je.call(u,t.message,e,n,r,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const fB=null;function _v(t){return ue.isPlainObject(t)||ue.isArray(t)}function rI(t){return ue.endsWith(t,"[]")?t.slice(0,-2):t}function eS(t,e,n){return t?t.concat(e).map(function(a,l){return a=rI(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function dB(t){return ue.isArray(t)&&!t.some(_v)}const pB=ue.toFlatObject(ue,{},null,function(e){return/^is[A-Z]/.test(e)});function Rp(t,e,n){if(!ue.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ue.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,C){return!ue.isUndefined(C[D])});const r=n.metaTokens,a=n.visitor||v,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(e);if(!ue.isFunction(a))throw new TypeError("visitor must be a function");function p(A){if(A===null)return"";if(ue.isDate(A))return A.toISOString();if(!d&&ue.isBlob(A))throw new Je("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(A)||ue.isTypedArray(A)?d&&typeof Blob=="function"?new Blob([A]):Buffer.from(A):A}function v(A,D,C){let N=A;if(A&&!C&&typeof A=="object"){if(ue.endsWith(D,"{}"))D=r?D:D.slice(0,-2),A=JSON.stringify(A);else if(ue.isArray(A)&&dB(A)||(ue.isFileList(A)||ue.endsWith(D,"[]"))&&(N=ue.toArray(A)))return D=rI(D),N.forEach(function(B,Y){!(ue.isUndefined(B)||B===null)&&e.append(u===!0?eS([D],Y,l):u===null?D:D+"[]",p(B))}),!1}return _v(A)?!0:(e.append(eS(C,D,l),p(A)),!1)}const b=[],x=Object.assign(pB,{defaultVisitor:v,convertValue:p,isVisitable:_v});function I(A,D){if(!ue.isUndefined(A)){if(b.indexOf(A)!==-1)throw Error("Circular reference detected in "+D.join("."));b.push(A),ue.forEach(A,function(N,z){(!(ue.isUndefined(N)||N===null)&&a.call(e,N,ue.isString(z)?z.trim():z,D,x))===!0&&I(N,D?D.concat(z):[z])}),b.pop()}}if(!ue.isObject(t))throw new TypeError("data must be an object");return I(t),e}function tS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function m_(t,e){this._pairs=[],t&&Rp(t,this,e)}const iI=m_.prototype;iI.append=function(e,n){this._pairs.push([e,n])};iI.toString=function(e){const n=e?function(r){return e.call(this,r,tS)}:tS;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function mB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function sI(t,e,n){if(!e)return t;const r=n&&n.encode||mB;ue.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=ue.isURLSearchParams(e)?e.toString():new m_(e,n).toString(r),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class nS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ue.forEach(this.handlers,function(r){r!==null&&e(r)})}}const aI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gB=typeof URLSearchParams<"u"?URLSearchParams:m_,yB=typeof FormData<"u"?FormData:null,vB=typeof Blob<"u"?Blob:null,_B={isBrowser:!0,classes:{URLSearchParams:gB,FormData:yB,Blob:vB},protocols:["http","https","file","blob","url","data"]},g_=typeof window<"u"&&typeof document<"u",wv=typeof navigator=="object"&&navigator||void 0,wB=g_&&(!wv||["ReactNative","NativeScript","NS"].indexOf(wv.product)<0),bB=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",EB=g_&&window.location.href||"http://localhost",TB=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:g_,hasStandardBrowserEnv:wB,hasStandardBrowserWebWorkerEnv:bB,navigator:wv,origin:EB},Symbol.toStringTag,{value:"Module"})),Zn={...TB,..._B};function xB(t,e){return Rp(t,new Zn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,l){return Zn.isNode&&ue.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function SB(t){return ue.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function AB(t){const e={},n=Object.keys(t);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],e[l]=t[l];return e}function oI(t){function e(n,r,a,l){let u=n[l++];if(u==="__proto__")return!0;const f=Number.isFinite(+u),d=l>=n.length;return u=!u&&ue.isArray(a)?a.length:u,d?(ue.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!f):((!a[u]||!ue.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],l)&&ue.isArray(a[u])&&(a[u]=AB(a[u])),!f)}if(ue.isFormData(t)&&ue.isFunction(t.entries)){const n={};return ue.forEachEntry(t,(r,a)=>{e(SB(r),a,n,0)}),n}return null}function RB(t,e,n){if(ue.isString(t))try{return(e||JSON.parse)(t),ue.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Nh={transitional:aI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=ue.isObject(e);if(l&&ue.isHTMLForm(e)&&(e=new FormData(e)),ue.isFormData(e))return a?JSON.stringify(oI(e)):e;if(ue.isArrayBuffer(e)||ue.isBuffer(e)||ue.isStream(e)||ue.isFile(e)||ue.isBlob(e)||ue.isReadableStream(e))return e;if(ue.isArrayBufferView(e))return e.buffer;if(ue.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return xB(e,this.formSerializer).toString();if((f=ue.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return Rp(f?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),RB(e)):e}],transformResponse:[function(e){const n=this.transitional||Nh.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ue.isResponse(e)||ue.isReadableStream(e))return e;if(e&&ue.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(f){if(u)throw f.name==="SyntaxError"?Je.from(f,Je.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Zn.classes.FormData,Blob:Zn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],t=>{Nh.headers[t]={}});const CB=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),IB=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&CB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},rS=Symbol("internals");function Cc(t){return t&&String(t).trim().toLowerCase()}function cd(t){return t===!1||t==null?t:ue.isArray(t)?t.map(cd):String(t)}function PB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const kB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function _y(t,e,n,r,a){if(ue.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!ue.isString(e)){if(ue.isString(r))return e.indexOf(r)!==-1;if(ue.isRegExp(r))return r.test(e)}}function NB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function DB(t,e){const n=ue.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,l,u){return this[r].call(this,e,a,l,u)},configurable:!0})})}let Nr=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function l(f,d,p){const v=Cc(d);if(!v)throw new Error("header name must be a non-empty string");const b=ue.findKey(a,v);(!b||a[b]===void 0||p===!0||p===void 0&&a[b]!==!1)&&(a[b||d]=cd(f))}const u=(f,d)=>ue.forEach(f,(p,v)=>l(p,v,d));if(ue.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ue.isString(e)&&(e=e.trim())&&!kB(e))u(IB(e),n);else if(ue.isObject(e)&&ue.isIterable(e)){let f={},d,p;for(const v of e){if(!ue.isArray(v))throw TypeError("Object iterator must return a key-value pair");f[p=v[0]]=(d=f[p])?ue.isArray(d)?[...d,v[1]]:[d,v[1]]:v[1]}u(f,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=Cc(e),e){const r=ue.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return PB(a);if(ue.isFunction(n))return n.call(this,a,r);if(ue.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Cc(e),e){const r=ue.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||_y(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function l(u){if(u=Cc(u),u){const f=ue.findKey(r,u);f&&(!n||_y(r,r[f],f,n))&&(delete r[f],a=!0)}}return ue.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!e||_y(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,r={};return ue.forEach(this,(a,l)=>{const u=ue.findKey(r,l);if(u){n[u]=cd(a),delete n[l];return}const f=e?NB(l):String(l).trim();f!==l&&delete n[l],n[f]=cd(a),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ue.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&ue.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[rS]=this[rS]={accessors:{}}).accessors,a=this.prototype;function l(u){const f=Cc(u);r[f]||(DB(a,u),r[f]=!0)}return ue.isArray(e)?e.forEach(l):l(e),this}};Nr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ue.reduceDescriptors(Nr.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ue.freezeMethods(Nr);function wy(t,e){const n=this||Nh,r=e||n,a=Nr.from(r.headers);let l=r.data;return ue.forEach(t,function(f){l=f.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function lI(t){return!!(t&&t.__CANCEL__)}function ju(t,e,n){Je.call(this,t??"canceled",Je.ERR_CANCELED,e,n),this.name="CanceledError"}ue.inherits(ju,Je,{__CANCEL__:!0});function uI(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Je("Request failed with status code "+n.status,[Je.ERR_BAD_REQUEST,Je.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function OB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function MB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const p=Date.now(),v=r[l];u||(u=p),n[a]=d,r[a]=p;let b=l,x=0;for(;b!==a;)x+=n[b++],b=b%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),p-u<e)return;const I=v&&p-v;return I?Math.round(x*1e3/I):void 0}}function jB(t,e){let n=0,r=1e3/e,a,l;const u=(p,v=Date.now())=>{n=v,a=null,l&&(clearTimeout(l),l=null),t.apply(null,p)};return[(...p)=>{const v=Date.now(),b=v-n;b>=r?u(p,v):(a=p,l||(l=setTimeout(()=>{l=null,u(a)},r-b)))},()=>a&&u(a)]}const zd=(t,e,n=3)=>{let r=0;const a=MB(50,250);return jB(l=>{const u=l.loaded,f=l.lengthComputable?l.total:void 0,d=u-r,p=a(d),v=u<=f;r=u;const b={loaded:u,total:f,progress:f?u/f:void 0,bytes:d,rate:p||void 0,estimated:p&&f&&v?(f-u)/p:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(b)},n)},iS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},sS=t=>(...e)=>ue.asap(()=>t(...e)),VB=Zn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Zn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Zn.origin),Zn.navigator&&/(msie|trident)/i.test(Zn.navigator.userAgent)):()=>!0,LB=Zn.hasStandardBrowserEnv?{write(t,e,n,r,a,l){const u=[t+"="+encodeURIComponent(e)];ue.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ue.isString(r)&&u.push("path="+r),ue.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function FB(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function cI(t,e,n){let r=!UB(e);return t&&(r||n==!1)?FB(t,e):e}const aS=t=>t instanceof Nr?{...t}:t;function al(t,e){e=e||{};const n={};function r(p,v,b,x){return ue.isPlainObject(p)&&ue.isPlainObject(v)?ue.merge.call({caseless:x},p,v):ue.isPlainObject(v)?ue.merge({},v):ue.isArray(v)?v.slice():v}function a(p,v,b,x){if(ue.isUndefined(v)){if(!ue.isUndefined(p))return r(void 0,p,b,x)}else return r(p,v,b,x)}function l(p,v){if(!ue.isUndefined(v))return r(void 0,v)}function u(p,v){if(ue.isUndefined(v)){if(!ue.isUndefined(p))return r(void 0,p)}else return r(void 0,v)}function f(p,v,b){if(b in e)return r(p,v);if(b in t)return r(void 0,p)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:f,headers:(p,v,b)=>a(aS(p),aS(v),b,!0)};return ue.forEach(Object.keys(Object.assign({},t,e)),function(v){const b=d[v]||a,x=b(t[v],e[v],v);ue.isUndefined(x)&&b!==f||(n[v]=x)}),n}const hI=t=>{const e=al({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:f}=e;e.headers=u=Nr.from(u),e.url=sI(cI(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&u.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):"")));let d;if(ue.isFormData(n)){if(Zn.hasStandardBrowserEnv||Zn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[p,...v]=d?d.split(";").map(b=>b.trim()).filter(Boolean):[];u.setContentType([p||"multipart/form-data",...v].join("; "))}}if(Zn.hasStandardBrowserEnv&&(r&&ue.isFunction(r)&&(r=r(e)),r||r!==!1&&VB(e.url))){const p=a&&l&&LB.read(l);p&&u.set(a,p)}return e},BB=typeof XMLHttpRequest<"u",zB=BB&&function(t){return new Promise(function(n,r){const a=hI(t);let l=a.data;const u=Nr.from(a.headers).normalize();let{responseType:f,onUploadProgress:d,onDownloadProgress:p}=a,v,b,x,I,A;function D(){I&&I(),A&&A(),a.cancelToken&&a.cancelToken.unsubscribe(v),a.signal&&a.signal.removeEventListener("abort",v)}let C=new XMLHttpRequest;C.open(a.method.toUpperCase(),a.url,!0),C.timeout=a.timeout;function N(){if(!C)return;const B=Nr.from("getAllResponseHeaders"in C&&C.getAllResponseHeaders()),W={data:!f||f==="text"||f==="json"?C.responseText:C.response,status:C.status,statusText:C.statusText,headers:B,config:t,request:C};uI(function(F){n(F),D()},function(F){r(F),D()},W),C=null}"onloadend"in C?C.onloadend=N:C.onreadystatechange=function(){!C||C.readyState!==4||C.status===0&&!(C.responseURL&&C.responseURL.indexOf("file:")===0)||setTimeout(N)},C.onabort=function(){C&&(r(new Je("Request aborted",Je.ECONNABORTED,t,C)),C=null)},C.onerror=function(){r(new Je("Network Error",Je.ERR_NETWORK,t,C)),C=null},C.ontimeout=function(){let Y=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const W=a.transitional||aI;a.timeoutErrorMessage&&(Y=a.timeoutErrorMessage),r(new Je(Y,W.clarifyTimeoutError?Je.ETIMEDOUT:Je.ECONNABORTED,t,C)),C=null},l===void 0&&u.setContentType(null),"setRequestHeader"in C&&ue.forEach(u.toJSON(),function(Y,W){C.setRequestHeader(W,Y)}),ue.isUndefined(a.withCredentials)||(C.withCredentials=!!a.withCredentials),f&&f!=="json"&&(C.responseType=a.responseType),p&&([x,A]=zd(p,!0),C.addEventListener("progress",x)),d&&C.upload&&([b,I]=zd(d),C.upload.addEventListener("progress",b),C.upload.addEventListener("loadend",I)),(a.cancelToken||a.signal)&&(v=B=>{C&&(r(!B||B.type?new ju(null,t,C):B),C.abort(),C=null)},a.cancelToken&&a.cancelToken.subscribe(v),a.signal&&(a.signal.aborted?v():a.signal.addEventListener("abort",v)));const z=OB(a.url);if(z&&Zn.protocols.indexOf(z)===-1){r(new Je("Unsupported protocol "+z+":",Je.ERR_BAD_REQUEST,t));return}C.send(l||null)})},HB=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const l=function(p){if(!a){a=!0,f();const v=p instanceof Error?p:this.reason;r.abort(v instanceof Je?v:new ju(v instanceof Error?v.message:v))}};let u=e&&setTimeout(()=>{u=null,l(new Je(`timeout ${e} of ms exceeded`,Je.ETIMEDOUT))},e);const f=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(p=>{p.unsubscribe?p.unsubscribe(l):p.removeEventListener("abort",l)}),t=null)};t.forEach(p=>p.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>ue.asap(f),d}},qB=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},GB=async function*(t,e){for await(const n of $B(t))yield*qB(n,e)},$B=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},oS=(t,e,n,r)=>{const a=GB(t,e);let l=0,u,f=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:p,value:v}=await a.next();if(p){f(),d.close();return}let b=v.byteLength;if(n){let x=l+=b;n(x)}d.enqueue(new Uint8Array(v))}catch(p){throw f(p),p}},cancel(d){return f(d),a.return()}},{highWaterMark:2})},Cp=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",fI=Cp&&typeof ReadableStream=="function",KB=Cp&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),dI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},YB=fI&&dI(()=>{let t=!1;const e=new Request(Zn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),lS=64*1024,bv=fI&&dI(()=>ue.isReadableStream(new Response("").body)),Hd={stream:bv&&(t=>t.body)};Cp&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Hd[e]&&(Hd[e]=ue.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Je(`Response type '${e}' is not supported`,Je.ERR_NOT_SUPPORT,r)})})})(new Response);const WB=async t=>{if(t==null)return 0;if(ue.isBlob(t))return t.size;if(ue.isSpecCompliantForm(t))return(await new Request(Zn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(t)||ue.isArrayBuffer(t))return t.byteLength;if(ue.isURLSearchParams(t)&&(t=t+""),ue.isString(t))return(await KB(t)).byteLength},XB=async(t,e)=>{const n=ue.toFiniteNumber(t.getContentLength());return n??WB(e)},QB=Cp&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:l,timeout:u,onDownloadProgress:f,onUploadProgress:d,responseType:p,headers:v,withCredentials:b="same-origin",fetchOptions:x}=hI(t);p=p?(p+"").toLowerCase():"text";let I=HB([a,l&&l.toAbortSignal()],u),A;const D=I&&I.unsubscribe&&(()=>{I.unsubscribe()});let C;try{if(d&&YB&&n!=="get"&&n!=="head"&&(C=await XB(v,r))!==0){let W=new Request(e,{method:"POST",body:r,duplex:"half"}),H;if(ue.isFormData(r)&&(H=W.headers.get("content-type"))&&v.setContentType(H),W.body){const[F,O]=iS(C,zd(sS(d)));r=oS(W.body,lS,F,O)}}ue.isString(b)||(b=b?"include":"omit");const N="credentials"in Request.prototype;A=new Request(e,{...x,signal:I,method:n.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:N?b:void 0});let z=await fetch(A);const B=bv&&(p==="stream"||p==="response");if(bv&&(f||B&&D)){const W={};["status","statusText","headers"].forEach(j=>{W[j]=z[j]});const H=ue.toFiniteNumber(z.headers.get("content-length")),[F,O]=f&&iS(H,zd(sS(f),!0))||[];z=new Response(oS(z.body,lS,F,()=>{O&&O(),D&&D()}),W)}p=p||"text";let Y=await Hd[ue.findKey(Hd,p)||"text"](z,t);return!B&&D&&D(),await new Promise((W,H)=>{uI(W,H,{data:Y,headers:Nr.from(z.headers),status:z.status,statusText:z.statusText,config:t,request:A})})}catch(N){throw D&&D(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Je("Network Error",Je.ERR_NETWORK,t,A),{cause:N.cause||N}):Je.from(N,N&&N.code,t,A)}}),Ev={http:fB,xhr:zB,fetch:QB};ue.forEach(Ev,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const uS=t=>`- ${t}`,JB=t=>ue.isFunction(t)||t===null||t===!1,pI={getAdapter:t=>{t=ue.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let l=0;l<e;l++){n=t[l];let u;if(r=n,!JB(n)&&(r=Ev[(u=String(n)).toLowerCase()],r===void 0))throw new Je(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+l]=r}if(!r){const l=Object.entries(a).map(([f,d])=>`adapter ${f} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(uS).join(`
`):" "+uS(l[0]):"as no adapter specified";throw new Je("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:Ev};function by(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ju(null,t)}function cS(t){return by(t),t.headers=Nr.from(t.headers),t.data=wy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),pI.getAdapter(t.adapter||Nh.adapter)(t).then(function(r){return by(t),r.data=wy.call(t,t.transformResponse,r),r.headers=Nr.from(r.headers),r},function(r){return lI(r)||(by(t),r&&r.response&&(r.response.data=wy.call(t,t.transformResponse,r.response),r.response.headers=Nr.from(r.response.headers))),Promise.reject(r)})}const mI="1.9.0",Ip={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Ip[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const hS={};Ip.transitional=function(e,n,r){function a(l,u){return"[Axios v"+mI+"] Transitional option '"+l+"'"+u+(r?". "+r:"")}return(l,u,f)=>{if(e===!1)throw new Je(a(u," has been removed"+(n?" in "+n:"")),Je.ERR_DEPRECATED);return n&&!hS[u]&&(hS[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,f):!0}};Ip.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function ZB(t,e,n){if(typeof t!="object")throw new Je("options must be an object",Je.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const l=r[a],u=e[l];if(u){const f=t[l],d=f===void 0||u(f,l,t);if(d!==!0)throw new Je("option "+l+" must be "+d,Je.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Je("Unknown option "+l,Je.ERR_BAD_OPTION)}}const hd={assertOptions:ZB,validators:Ip},is=hd.validators;let Jo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new nS,response:new nS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=al(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&hd.assertOptions(r,{silentJSONParsing:is.transitional(is.boolean),forcedJSONParsing:is.transitional(is.boolean),clarifyTimeoutError:is.transitional(is.boolean)},!1),a!=null&&(ue.isFunction(a)?n.paramsSerializer={serialize:a}:hd.assertOptions(a,{encode:is.function,serialize:is.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),hd.assertOptions(n,{baseUrl:is.spelling("baseURL"),withXsrfToken:is.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&ue.merge(l.common,l[n.method]);l&&ue.forEach(["delete","get","head","post","put","patch","common"],A=>{delete l[A]}),n.headers=Nr.concat(u,l);const f=[];let d=!0;this.interceptors.request.forEach(function(D){typeof D.runWhen=="function"&&D.runWhen(n)===!1||(d=d&&D.synchronous,f.unshift(D.fulfilled,D.rejected))});const p=[];this.interceptors.response.forEach(function(D){p.push(D.fulfilled,D.rejected)});let v,b=0,x;if(!d){const A=[cS.bind(this),void 0];for(A.unshift.apply(A,f),A.push.apply(A,p),x=A.length,v=Promise.resolve(n);b<x;)v=v.then(A[b++],A[b++]);return v}x=f.length;let I=n;for(b=0;b<x;){const A=f[b++],D=f[b++];try{I=A(I)}catch(C){D.call(this,C);break}}try{v=cS.call(this,I)}catch(A){return Promise.reject(A)}for(b=0,x=p.length;b<x;)v=v.then(p[b++],p[b++]);return v}getUri(e){e=al(this.defaults,e);const n=cI(e.baseURL,e.url,e.allowAbsoluteUrls);return sI(n,e.params,e.paramsSerializer)}};ue.forEach(["delete","get","head","options"],function(e){Jo.prototype[e]=function(n,r){return this.request(al(r||{},{method:e,url:n,data:(r||{}).data}))}});ue.forEach(["post","put","patch"],function(e){function n(r){return function(l,u,f){return this.request(al(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Jo.prototype[e]=n(),Jo.prototype[e+"Form"]=n(!0)});let e8=class gI{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(f=>{r.subscribe(f),l=f}).then(a);return u.cancel=function(){r.unsubscribe(l)},u},e(function(l,u,f){r.reason||(r.reason=new ju(l,u,f),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new gI(function(a){e=a}),cancel:e}}};function t8(t){return function(n){return t.apply(null,n)}}function n8(t){return ue.isObject(t)&&t.isAxiosError===!0}const Tv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Tv).forEach(([t,e])=>{Tv[e]=t});function yI(t){const e=new Jo(t),n=K2(Jo.prototype.request,e);return ue.extend(n,Jo.prototype,e,{allOwnKeys:!0}),ue.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return yI(al(t,a))},n}const pn=yI(Nh);pn.Axios=Jo;pn.CanceledError=ju;pn.CancelToken=e8;pn.isCancel=lI;pn.VERSION=mI;pn.toFormData=Rp;pn.AxiosError=Je;pn.Cancel=pn.CanceledError;pn.all=function(e){return Promise.all(e)};pn.spread=t8;pn.isAxiosError=n8;pn.mergeConfig=al;pn.AxiosHeaders=Nr;pn.formToJSON=t=>oI(ue.isHTMLForm(t)?new FormData(t):t);pn.getAdapter=pI.getAdapter;pn.HttpStatusCode=Tv;pn.default=pn;const{Axios:j8,AxiosError:V8,CanceledError:L8,isCancel:U8,CancelToken:F8,VERSION:B8,all:z8,Cancel:H8,isAxiosError:q8,spread:G8,toFormData:$8,AxiosHeaders:K8,HttpStatusCode:Y8,formToJSON:W8,getAdapter:X8,mergeConfig:Q8}=pn,r8=t=>t.replace(/[\u{1F600}-\u{1F6FF}]/gu,"").replace(/[\u{1F300}-\u{1F5FF}]/gu,"").replace(/[\u{1F900}-\u{1F9FF}]/gu,"").replace(/[\u{2600}-\u{26FF}]/gu,"").replace(/[\u{2700}-\u{27BF}]/gu,"").replace(/[\u{2300}-\u{23FF}]/gu,"").replace(/\s+/g," ").trim(),i8=()=>{const{userEmail:t,workoutName:e}=Cv(),n=Qr(),r=la(),[a,l]=G.useState(null),[u,f]=G.useState(2),[d,p]=G.useState(20),[v,b]=G.useState(0),[x,I]=G.useState(!0),[A,D]=G.useState(null),[C,N]=G.useState(1),[z,B]=G.useState([]),[Y,W]=G.useState(0),H=G.useRef(null),F=G.useRef(null),[O,j]=G.useState(0),[k,M]=G.useState(0),[$,U]=G.useState("Starting workout..."),[re,ye]=G.useState(!1),[K,ee]=G.useState(0),[le,oe]=G.useState({lastRepTime:Date.now(),rep:0,setCompleted:!1}),q=G.useRef(le),te=G.useRef({}),he=10,ce={"Burpees (No Push-up)":{description:"Start in a standing position, drop to push-up position, push back up and jump.",videoUrl:"https://www.youtube.com/watch?v=TU8QYVW0gDU"},"Squats (Holding Chair for Balance)":{description:"Stand with feet shoulder-width apart, lower hips until knees bend at 90.",videoUrl:"https://www.youtube.com/watch?v=aclHkVaku9U"}},be=r8(e),Ee=G.useMemo(()=>A5(be),[be]);G.useEffect(()=>{const rt={...le,...Ee.initialStates,rep:0,lastRepTime:Date.now()};oe(rt),q.current=rt,Ee.type==="knee-lift"&&(te.current={kneeUpAngleThreshold:Ee.kneeUpAngleThreshold,kneeDownAngle:Ee.kneeDownAngle,angleTolerance:10,calibrationReps:0,calibrationAngles:[]})},[e]),G.useEffect(()=>{(async()=>{var At,Se,Me,Qe;try{if(I(!0),n.state){const Ae=((At=n.state)==null?void 0:At.sets)||2,qe=((Se=n.state)==null?void 0:Se.reps)||20;f(Ae),p(qe),b(Ae*qe),B(n.state.workoutList||[]),W(n.state.currentIndex||0),l({name:e,description:((Me=ce[e])==null?void 0:Me.description)||`No description for ${e}`,videoUrl:((Qe=ce[e])==null?void 0:Qe.videoUrl)||null,muscle:n.state.muscle||"General Fitness",instructions:n.state.instructions||"Follow the video and form."})}const De=ce[e]||{description:`No description available for ${e}`,videoUrl:null};l(Ae=>({...Ae,...De}));const _e=ms(Xr,"exercises",e),Ce=await sl(_e);if(Ce.exists()){const Ae=Ce.data();l(qe=>({...qe,muscle:Ae.muscle,instructions:Ae.instructions}))}}catch(De){console.error(De),D("Failed to load exercise details.")}finally{I(!1)}})()},[e,n.state]);const ke=()=>{setTimeout(()=>{Y<z.length-1?r(`/exercise/${t}/${z[Y+1].name}`,{state:{...z[Y+1],workoutList:z,currentIndex:Y+1}}):r("/dashboard",{state:{workoutCompleted:!0}})},1e3)},wt=async rt=>{const At=F.current.getContext("2d");if(At.clearRect(0,0,F.current.width,F.current.height),At.drawImage(H.current,0,0,F.current.width,F.current.height),!rt.poseLandmarks){U("No pose detected."),console.log("[ExerciseDetailPage] No pose landmarks detected in frame.");return}x5.drawLandmarks(At,rt.poseLandmarks,{color:"red",lineWidth:2});const Se=rt.poseLandmarks,{hip:Me,knee:Qe,ankle:De}=Ee.landmarks,_e=Jl(Se,Me.left),Ce=Jl(Se,Qe.left),Ae=Jl(Se,De.left),qe=Jl(Se,Me.right),jt=Jl(Se,Qe.right),Jr=Jl(Se,De.right),rr=_e.y-Ce.y,sn=qe.y-jt.y,Dn=J1(_e,Ce,Ae),pt=J1(qe,jt,Jr),it=(_e.y+qe.y)/2,Yt=(Dn+pt)/2,Vt=Date.now(),_s=Vt-le.lastRepTime,Zr=_s<Ee.cooldownDuration;let Le={...q.current},kt="Keep going!",an=!1;switch(console.log(`[ExerciseDetailPage] Processing exercise: ${be}`),console.log(`[ExerciseDetailPage] Current state: ${JSON.stringify(Le)}`),console.log(`[ExerciseDetailPage] Angles - Left Knee: ${Dn.toFixed(2)}, Right Knee: ${pt.toFixed(2)}, Avg: ${Yt.toFixed(2)}`),console.log(`[ExerciseDetailPage] Heights - Left Knee: ${rr.toFixed(3)}, Right Knee: ${sn.toFixed(3)}, Hip Depth: ${it.toFixed(3)}`),console.log(`[ExerciseDetailPage] Cooldown Active: ${Zr}, Time Since Last Rep: ${_s}ms`),console.log(`[ExerciseDetailPage] Thresholds - kneeHeightThreshold: ${Ee.kneeHeightThreshold}, kneeUpAngleThreshold: ${te.current.kneeUpAngleThreshold||Ee.kneeUpAngleThreshold}, kneeDownAngle: ${te.current.kneeDownAngle||Ee.kneeDownAngle}`),Ee.type){case"knee-lift":{const dt=Ee.states.left,mn=Ee.states.right;let{kneeUpAngleThreshold:qn,kneeDownAngle:ir,angleTolerance:An,calibrationReps:Dr,calibrationAngles:On}=te.current;if(Dr<5&&(On.push(Dn,pt),On.length>=10)){const sr=On.reduce((gi,ar)=>gi+ar,0)/On.length;qn=Math.max(90,sr-20),ir=Math.min(170,sr+20),te.current={...te.current,kneeUpAngleThreshold:qn,kneeDownAngle:ir,calibrationReps:5},console.log(`[ExerciseDetailPage] Calibrated angle thresholds - kneeUpAngleThreshold: ${qn}, kneeDownAngle: ${ir}`)}rr>Ee.kneeHeightThreshold&&Dn>qn-An&&Le[dt]==="down"?(Le[dt]="up",kt="Left knee up - good height!",console.log("[ExerciseDetailPage] Left knee up detected."),console.log(`[ExerciseDetailPage] Left Knee - Height: ${rr}, Angle: ${Dn}`)):Dn<ir+An&&Le[dt]==="up"&&(Le[dt]="down",Zr||(Le.rep+=1,Le.lastRepTime=Vt,an=!0,kt=`High-knee rep ${Le.rep} detected!`,te.current.calibrationReps+=1,console.log(`[ExerciseDetailPage] High-knee rep detected. Rep count: ${Le.rep}/${d}`))),sn>Ee.kneeHeightThreshold&&pt>qn-An&&Le[mn]==="down"?(Le[mn]="up",kt="Right knee up - good height!",console.log("[ExerciseDetailPage] Right knee up detected."),console.log(`[ExerciseDetailPage] Right Knee - Height: ${sn}, Angle: ${pt}`)):pt<ir+An&&Le[mn]==="up"&&(Le[mn]="down",!Zr&&!an&&(Le.rep+=1,Le.lastRepTime=Vt,an=!0,kt=`High-knee rep ${Le.rep} detected!`,te.current.calibrationReps+=1,console.log(`[ExerciseDetailPage] High-knee rep detected. Rep count: ${Le.rep}/${d}`))),!an&&rr<Ee.kneeHeightThreshold&&sn<Ee.kneeHeightThreshold&&(kt="Lift your knees higher!",console.log("[ExerciseDetailPage] Knees not high enough."));break}case"burpee":{const dt=Ee.state,mn=(Ae.y+Jr.y)/2;Yt<Ee.hipKneeAngleThreshold&&Le[dt]==="standing"?(Le[dt]="squatting",kt="Good squat position!",console.log("[ExerciseDetailPage] Burpee: Squatting position detected.")):Yt>Ee.kneeExtensionAngle&&mn<it-Ee.jumpHeightThreshold&&Le[dt]==="squatting"?(Le[dt]="jumping",console.log("[ExerciseDetailPage] Burpee: Jumping position detected.")):Yt>Ee.kneeExtensionAngle&&mn>it-Ee.jumpHeightThreshold&&Le[dt]==="jumping"&&(Le[dt]="standing",Zr||(Le.rep+=1,Le.lastRepTime=Vt,an=!0,kt=`Burpee rep ${Le.rep} detected!`,console.log(`[ExerciseDetailPage] Burpee rep detected. Rep count: ${Le.rep}/${d}`))),!an&&Le[dt]==="standing"&&(kt="Squat down to start the burpee!",console.log("[ExerciseDetailPage] Burpee: Awaiting squat to start."));break}case"squat":{const dt=Ee.state;Yt<Ee.hipKneeAngleThreshold&&it>Ee.hipDepthThreshold&&Le[dt]==="up"?(Le[dt]="down",kt="Good squat depth!",console.log("[ExerciseDetailPage] Squat: Down position detected.")):Yt>Ee.kneeExtensionAngle&&Le[dt]==="down"&&(Le[dt]="up",Zr||(Le.rep+=1,Le.lastRepTime=Vt,an=!0,kt=`Squat rep ${Le.rep} detected!`,console.log(`[ExerciseDetailPage] Squat rep detected. Rep count: ${Le.rep}/${d}`))),!an&&Le[dt]==="up"&&(kt="Lower your hips to squat!",console.log("[ExerciseDetailPage] Squat: Awaiting deeper squat."));break}default:console.warn(`[ExerciseDetailPage] Unsupported exercise type: ${Ee.type}`),kt="Exercise not supported for tracking."}if(an){be.toLowerCase().includes(Ee.type)?console.log(`[ExerciseDetailPage] Detection verified: Movement matches expected exercise ${be}.`):console.warn(`[ExerciseDetailPage] Detection mismatch! Expected exercise: ${be}, but detected movement matches ${Ee.type}.`);const dt=O+1;if(j(dt),M(Le.rep),Le.rep>=d&&!Le.setCompleted){Le.setCompleted=!0,ye(!0),ee(he),U(`Great job! Set ${C} of ${u} completed. Take a 10-second break!`),console.log(`[ExerciseDetailPage] Set ${C}/${u} completed. Reps: ${Le.rep}/${d}. Starting rest period.`);try{const mn=await pn.post("REACT_APP_API_URL=https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/track-exercise",{userEmail:t,exerciseName:e,currentSet:C,totalSets:u,targetReps:d,currentReps:Le.rep});console.log("[ExerciseDetailPage] Workout progress logged to backend:",mn.data)}catch(mn){console.error("[ExerciseDetailPage] Failed to log workout progress:",mn)}}}U(kt),oe(Le),q.current=Le};G.useEffect(()=>{if(re){const rt=setInterval(()=>{ee(At=>{const Se=At-1;if(Se<=0){ye(!1);const Me=C===u;U(Me?`Awesome work! All ${u} sets completed for ${be}!`:`Rest completed! Start Set ${C+1} of ${u}.`),console.log(`[ExerciseDetailPage] Rest completed for Set ${C}.`);const Qe={...le,rep:0,lastRepTime:Date.now(),setCompleted:!1,...Ee.initialStates};return oe(Qe),q.current=Qe,M(0),Me?(console.log("[ExerciseDetailPage] All sets completed! Triggering handleComplete."),ke()):N(De=>De+1),0}return Se})},1e3);return()=>clearInterval(rt)}},[re,C,u,ke]),G.useEffect(()=>{if(x||!H.current||!F.current)return;F.current.width=640,F.current.height=480,console.log(`[ExerciseDetailPage] Starting workout tracking for ${be}`),console.log(`[ExerciseDetailPage] Initial Parameters - Target Reps Per Set: ${d}, Total Sets: ${u}, Current Set: ${C}`);let rt,At,Se;const Me=async()=>{const De=H.current;if(!De||De.readyState!==4||re){console.log("[ExerciseDetailPage] Frame processing skipped:",{videoReady:De==null?void 0:De.readyState,isResting:re}),Se=requestAnimationFrame(Me);return}console.log("[ExerciseDetailPage] Processing frame manually.");try{await rt.send({image:De})}catch(_e){console.error("[ExerciseDetailPage] Error processing frame manually:",_e)}Se=requestAnimationFrame(Me)};return(async()=>{try{rt=new w5.Pose({locateFile:Ae=>{const qe=`https://cdn.jsdelivr.net/npm/@mediapipe/pose@latest/${Ae}`;return console.log(`[ExerciseDetailPage] Loading MediaPipe Pose file: ${qe}`),qe}}),console.log("[ExerciseDetailPage] MediaPipe Pose instance created successfully."),rt.setOptions({modelComplexity:1,minDetectionConfidence:.3,minTrackingConfidence:.1,enableSmoothing:!0,enableSegmentation:!0}),console.log("[ExerciseDetailPage] Pose options set successfully."),rt.onResults(Ae=>{console.log("[ExerciseDetailPage] Pose results received:",{hasLandmarks:!!Ae.poseLandmarks,landmarksCount:Ae.poseLandmarks?Ae.poseLandmarks.length:0}),wt(Ae)}),await rt.initialize(),console.log("[ExerciseDetailPage] MediaPipe Pose initialized successfully.")}catch(Ae){console.error("[ExerciseDetailPage] Error creating MediaPipe Pose instance:",Ae),U("Error loading pose detection. Please refresh the page.");return}try{const qe=(await navigator.mediaDevices.enumerateDevices()).filter(jt=>jt.kind==="videoinput");if(console.log("[ExerciseDetailPage] Available video devices:",qe),qe.length===0){U("No video devices found. Please ensure a camera is connected.");return}}catch(Ae){console.error("[ExerciseDetailPage] Error enumerating devices:",Ae),U("Failed to enumerate video devices. Please check your camera and permissions.");return}const De=H.current,_e=1e4,Ce=1e4;At=new E5.Camera(De,{onFrame:async()=>{if(console.log("[ExerciseDetailPage] onFrame triggered. isResting:",re),!re){if(!De||De.readyState!==4){console.log("[ExerciseDetailPage] Video not ready:",{videoElement:De,readyState:De==null?void 0:De.readyState});return}console.log("[ExerciseDetailPage] Sending frame to MediaPipe Pose via Camera onFrame.");try{await rt.send({image:De})}catch(Ae){console.error("[ExerciseDetailPage] Error processing frame via Camera onFrame:",Ae)}}},width:640,height:480});try{await Promise.race([At.start(),new Promise((Ae,qe)=>{setTimeout(()=>{qe(new Error("Camera failed to start within 10 seconds."))},Ce)})]),console.log("[ExerciseDetailPage] Camera started successfully.")}catch(Ae){console.error("[ExerciseDetailPage] Failed to start camera:",Ae),Ae.name==="NotAllowedError"||Ae.name==="PermissionDeniedError"?U("Camera access denied. Please allow camera access in your browser settings and refresh."):Ae.name==="NotFoundError"?U("No camera found. Please ensure a camera is connected and try again."):Ae.message==="Camera failed to start within 10 seconds."?U("Camera failed to start. It might be in use by another application. Please close other apps and try again."):U("Failed to access camera. Please allow camera access and refresh the page.");return}try{De.readyState<4&&(console.log("[ExerciseDetailPage] Waiting for video to load..."),await Promise.race([new Promise(Ae=>{const qe=setInterval(()=>{console.log("[ExerciseDetailPage] Video readyState check:",De.readyState)},2e3);De.onerror=()=>{console.error("[ExerciseDetailPage] Video element error:",De.error),clearInterval(qe),Ae()},De.onloadedmetadata=()=>{console.log("[ExerciseDetailPage] Video metadata loaded. Ready state:",De.readyState),clearInterval(qe),Ae()}}),new Promise((Ae,qe)=>{setTimeout(()=>{qe(new Error("Video failed to load within 10 seconds."))},_e)})])),De.paused?(console.log("[ExerciseDetailPage] Video is paused."),await De.play(),console.log("[ExerciseDetailPage] Video playback started.")):console.log("[ExerciseDetailPage] Video is already playing."),console.log("[ExerciseDetailPage] Starting manual frame processing loop."),Se=requestAnimationFrame(Me)}catch(Ae){console.error("[ExerciseDetailPage] Video loading failed:",Ae.message),U("Failed to load webcam video. Please try again.");return}})(),()=>{Se&&(cancelAnimationFrame(Se),console.log("[ExerciseDetailPage] Manual frame loop stopped.")),At&&(At.stop(),console.log("[ExerciseDetailPage] Camera stopped.")),rt&&(rt.close(),console.log("[ExerciseDetailPage] Pose instance closed.")),console.log("[ExerciseDetailPage] Camera and Pose instance cleaned up.")}},[re,x]);const et=k/d*100,Ye=O/v*100,zt=()=>{r(-1)};return x?E.jsx("div",{className:"loading-container",children:E.jsx("p",{className:"loading-text",children:"Loading exercise details..."})}):A?E.jsx("div",{className:"error-container",children:E.jsxs("div",{className:"error-content",children:[E.jsx("h3",{className:"error-heading",children:"Error"}),E.jsx("p",{className:"error-text",children:A}),E.jsx("button",{onClick:zt,className:"error-button",children:"Go Back"})]})}):E.jsx("div",{className:"exercise-detail-container",children:E.jsxs("div",{className:"exercise-detail-wrapper",children:[E.jsxs("div",{className:"header-section",children:[E.jsx("button",{onClick:zt,className:"back-button",children:" Back"}),E.jsx("h1",{className:"exercise-title",children:be}),E.jsx("div",{className:"header-spacer"})]}),E.jsxs("div",{className:"exercise-content",children:[E.jsxs("div",{className:"video-section",children:[E.jsx("h2",{className:"section-heading",children:"Demonstration & Monitoring"}),E.jsx("div",{className:"video-container",children:a!=null&&a.videoUrl?E.jsx(v5,{url:a.videoUrl,controls:!0,width:"100%",height:"auto",className:"react-player"}):E.jsx("div",{className:"video-placeholder",children:E.jsx("p",{className:"video-placeholder-text",children:"Video demonstration coming soon!"})})}),E.jsxs("div",{className:"webcam-container",children:[E.jsx("video",{ref:H,autoPlay:!0,style:{display:"block"}}),E.jsx("canvas",{ref:F,className:"webcam-feed"}),E.jsxs("div",{className:"sets-reps-display",children:[E.jsx("h3",{className:"progress-heading",children:"Workout Progress"}),E.jsxs("div",{className:"reps-info",children:[E.jsx("span",{className:"info-label",children:"Current Set Reps:"}),E.jsxs("span",{className:"reps-count",children:[k,"/",d]})]}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-bar-fill",style:{width:`${et}%`}})}),E.jsxs("div",{className:"reps-info",children:[E.jsx("span",{className:"info-label",children:"Total Reps:"}),E.jsxs("span",{className:"reps-count",children:[O,"/",v]})]}),E.jsx("div",{className:"progress-bar",children:E.jsx("div",{className:"progress-bar-fill",style:{width:`${Ye}%`}})}),E.jsxs("div",{className:"sets-info",children:[E.jsx("span",{className:"info-label",children:"Sets:"}),E.jsxs("span",{className:"sets-count",children:[C,"/",u]})]})]}),E.jsxs("div",{className:"tracker-info",children:[E.jsxs("p",{className:"tracker-exercise",children:[E.jsx("strong",{children:"Exercise:"})," ",be]}),E.jsxs("p",{className:"tracker-feedback",children:[E.jsx("strong",{children:"Feedback:"})," ",$]}),re&&E.jsxs("div",{className:"rest-info",children:[E.jsxs("p",{className:"rest-time",children:[E.jsx("strong",{children:"Rest Time:"})," ",Math.ceil(K),"s"]}),E.jsx("div",{className:"rest-progress-bar",children:E.jsx("div",{className:"rest-progress-bar-fill",style:{width:`${(he-K)/he*100}%`}})})]})]})]})]}),E.jsxs("div",{className:"exercise-instructions",children:[E.jsx("h2",{className:"section-heading",children:"Execution Guide"}),E.jsx("p",{className:"instruction-text",children:a==null?void 0:a.description}),E.jsxs("p",{className:"instruction-text",children:[E.jsx("strong",{children:"Target Muscle:"})," ",(a==null?void 0:a.muscle)||"General Fitness"]}),E.jsxs("p",{className:"instruction-text",children:[E.jsx("strong",{children:"Instructions:"})," ",(a==null?void 0:a.instructions)||"Follow the video and form."]})]})]})]})})},s8=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(null),a=RA();G.useEffect(()=>{(async()=>{try{const d=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts");if(!d.ok)throw new Error("Failed to fetch experts");const p=await d.json();e(p.filter(v=>!v.approved))}catch(d){r("Failed to fetch experts: "+d.message)}})()},[]);const l=async f=>{try{const d=await a.currentUser.getIdToken();if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approve-expert",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${d}`},body:`user_email=${encodeURIComponent(f)}`})).ok)throw new Error("Failed to approve expert");e(t.filter(v=>v.user_email!==f)),alert("Expert approved successfully")}catch(d){r("Error approving expert: "+d.message)}},u={container:{padding:"20px",maxWidth:"800px",margin:"0 auto",fontFamily:"Arial, sans-serif"},heading:{fontSize:"24px",marginBottom:"20px",color:"#333"},error:{color:"red",marginBottom:"10px"},list:{listStyle:"none",padding:0},item:{background:"#f9f9f9",padding:"15px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ddd"},button:{background:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},link:{color:"#007bff",textDecoration:"none",marginRight:"10px"}};return E.jsxs("div",{style:u.container,children:[E.jsx("h2",{style:u.heading,children:"Pending Expert Approvals"}),n&&E.jsx("p",{style:u.error,children:n}),t.length===0&&E.jsx("p",{children:"No pending approvals"}),E.jsx("ul",{style:u.list,children:t.map(f=>E.jsxs("li",{style:u.item,children:[E.jsx("strong",{children:f.name})," (",f.user_email,")",E.jsx("br",{}),"Specialist: ",f.specialist," | Expertise: ",f.expertise,E.jsx("br",{}),"Age: ",f.age," | Fee: $",f.client_fee,E.jsx("br",{}),"Bio: ",f.bio,E.jsx("br",{}),E.jsx("a",{href:f.certification_url,target:"_blank",rel:"noopener noreferrer",style:u.link,children:"View Certificate"}),E.jsx("br",{}),E.jsx("button",{onClick:()=>l(f.user_email),style:u.button,children:"Approve"})]},f.user_email))})]})},a8=()=>{const t=Qr(),{expertData:e}=t.state||{};if(!e)return E.jsx("p",{style:{color:"red",textAlign:"center"},children:"Error: No expert data provided."});const n={backgroundColor:"#1e1e1e",color:"#f0f0f0",padding:"20px",borderRadius:"8px",maxWidth:"1000px",margin:"30px auto",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},r={color:"#ffd700",marginBottom:"15px"},a={fontSize:"16px",lineHeight:"1.5",margin:"8px 0"},l={display:"inline-block",marginTop:"15px",color:"#1e90ff",textDecoration:"none",fontWeight:"600",cursor:"pointer"};return E.jsx("div",{children:E.jsxs("div",{style:n,children:[E.jsxs("h2",{style:r,children:["Welcome, ",e.name]}),E.jsxs("p",{style:a,children:["Email: ",e.email]}),E.jsxs("p",{style:a,children:["Specialist: ",e.specialist]}),E.jsxs("p",{style:a,children:["Expertise: ",e.expertise]}),E.jsxs("p",{style:a,children:["Client Fee: ",e.clientFee]}),E.jsxs("p",{style:a,children:["Bio: ",e.bio]}),E.jsx("a",{href:e.certificationUrl,target:"_blank",rel:"noopener noreferrer",style:l,onMouseOver:u=>u.currentTarget.style.textDecoration="underline",onMouseOut:u=>u.currentTarget.style.textDecoration="none",children:"View Certificate"})]})})},o8={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},l8={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},u8=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(""),[a,l]=G.useState(!1),u=la(),f=Qr(),d=tn.currentUser,p=G.useRef(null),{clientEmail:v,expertEmail:b}=f.state||{},x=d==null?void 0:d.email.trim().toLowerCase(),I=x===b,A=(v||x).trim().toLowerCase(),D=I?A:b,C=A&&b?`chat_${A.replace(".","_")}_${b.replace(".","_")}`:null,N=()=>{var Y;(Y=p.current)==null||Y.scrollIntoView({behavior:"smooth"})};G.useEffect(()=>{(!d||!A||!b)&&(console.error("Missing auth or chat room details",{currentUser:d,clientEmail:A,expertEmail:b}),u("/?showAuth=true"))},[d,A,b,u]),G.useEffect(()=>{if(!C)return;const Y=Nd(Xr,"chats",C,"messages"),W=Od(Y,xL("timestamp","asc")),H=Qy(W,async F=>{const O=F.docs.map(M=>({id:M.id,...M.data()}));e(O),N();const j=Od(Y,zc("sender","==",I?A:b),zc("read","==",!1));(await RL(j)).forEach(async M=>{await CL(M.ref,{read:!0})})},F=>{console.error("Error fetching messages:",F),alert(`Failed to load messages: ${F.message}`)});return()=>H()},[C,I,A,b]);const z=async Y=>{if(Y.preventDefault(),!(!n.trim()||!C))try{const W=Nd(Xr,"chats",C,"messages");await IL(W,{sender:x,text:n,timestamp:uC(),senderType:I?"expert":"client",read:!1}),r("")}catch(W){console.error("Error sending message:",W),alert("Failed to send message. Please try again.")}},B=({clientEmail:Y,onClose:W})=>{const[H,F]=G.useState([]),[O,j]=G.useState({}),[k,M]=G.useState("day1"),[$,U]=G.useState([]);G.useEffect(()=>{const K=async()=>{try{const le=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/get-all-workouts",{headers:{Authorization:`Bearer ${await tn.currentUser.getIdToken()}`}});if(!le.ok)throw new Error("Failed to fetch workouts");const oe=await le.json();F(oe.workouts)}catch(le){console.error("Error fetching workouts:",le),alert("Failed to fetch workouts")}},ee=()=>{const le=new Date,oe=le.getFullYear(),q=le.getMonth(),te=new Date(oe,q+1,0).getDate(),he=[2,6],ce=[];for(let Ee=1;Ee<=te;Ee++){const ke=new Date(oe,q,Ee);ce.push({day:Ee,isRest:he.includes(ke.getDay()),isToday:Ee===le.getDate()&&q===le.getMonth()&&oe===le.getFullYear()})}U(ce);const be={};for(let Ee=1;Ee<=te;Ee++)be[`day${Ee}`]=[];j(be)};K(),ee()},[]);const re=(K,ee,le,oe)=>{j(q=>{const te=q[k]||[],he=te.find(be=>be.name===K.name);let ce;if(he)ce=te.filter(be=>be.name!==K.name);else{const be={name:K.name};K.category==="main"?(be.sets=parseInt(ee)||3,be.reps=parseInt(le)||10):be.duration=oe||30,ce=[...te,be]}return{...q,[k]:ce}})},ye=async()=>{try{if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/create-workout-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await tn.currentUser.getIdToken()}`},body:JSON.stringify({user_email:Y,selected_workouts:O})})).ok)throw new Error("Failed to create plan");alert("Workout plan created successfully!"),W()}catch(K){console.error("Error creating plan:",K),alert("Failed to create workout plan")}};return E.jsx("div",{className:"modal-overlay",children:E.jsxs("div",{className:"modal-content",children:[E.jsxs("h3",{children:["Create Workout Plan for ",Y]}),E.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"5px",marginBottom:"20px"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(K=>E.jsx("div",{style:{textAlign:"center",fontWeight:"bold"},children:K},K)),$.map(K=>E.jsx("div",{style:{textAlign:"center",padding:"10px",backgroundColor:K.isRest?"#ffcccc":K.isToday?"#ccffcc":k===`day${K.day}`?"#e0e0e0":"#fff",border:"1px solid #ddd",cursor:K.isRest?"default":"pointer",opacity:K.isRest?.6:1},onClick:()=>!K.isRest&&M(`day${K.day}`),children:K.day},K.day))]}),E.jsxs("h4",{children:["Workouts for Day ",k.replace("day","")]}),E.jsx("div",{style:{maxHeight:"200px",overflowY:"scroll",marginBottom:"10px"},children:H.map(K=>E.jsxs("div",{style:{marginBottom:"10px"},children:[E.jsxs("label",{children:[E.jsx("input",{type:"checkbox",checked:(O[k]||[]).some(ee=>ee.name===K.name),onChange:()=>re(K,3,10,30)}),K.name," (",K.category,")"]}),K.category==="main"&&(O[k]||[]).some(ee=>ee.name===K.name)&&E.jsxs("div",{style:{marginLeft:"20px"},children:[E.jsxs("label",{children:["Sets: ",E.jsx("input",{type:"number",min:"1",defaultValue:"3",onChange:ee=>re(K,ee.target.value,null,null)})]}),E.jsxs("label",{style:{marginLeft:"10px"},children:["Reps: ",E.jsx("input",{type:"number",min:"1",defaultValue:"10",onChange:ee=>re(K,null,ee.target.value,null)})]})]}),(K.category==="warmup"||K.category==="cooldown")&&(O[k]||[]).some(ee=>ee.name===K.name)&&E.jsx("div",{style:{marginLeft:"20px"},children:"Duration: 30 seconds"})]},K.id))}),E.jsx("button",{onClick:ye,children:"Save Plan"}),E.jsx("button",{onClick:W,style:{marginLeft:"10px"},children:"Cancel"})]})})};return E.jsxs(Ke.div,{className:"chat-page",variants:o8,initial:"hidden",animate:"visible",children:[E.jsx("button",{onClick:()=>u(I?"/expert-dashboard":"/dashboard"),className:"back-button",children:"Back"}),E.jsxs("h2",{children:["Chat with ",D]}),E.jsxs("div",{className:"chat-container",children:[E.jsxs("div",{className:"messages-container",children:[t.map(Y=>{var W;return E.jsxs(Ke.div,{className:`message ${Y.sender===x?"sent":"received"}`,variants:l8,children:[E.jsxs("p",{children:[E.jsxs("strong",{children:[Y.senderType,":"]})," ",Y.text]}),E.jsx("span",{className:"timestamp",children:(W=Y.timestamp)==null?void 0:W.toDate().toLocaleTimeString()})]},Y.id)}),E.jsx("div",{ref:p})]}),E.jsxs("form",{onSubmit:z,className:"message-form",children:[E.jsx("input",{type:"text",value:n,onChange:Y=>r(Y.target.value),placeholder:"Type a message...",className:"message-input"}),E.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]}),I&&E.jsx("button",{onClick:()=>l(!0),className:"change-plan-button",style:{marginTop:"10px"},children:"Create Workout Plan"}),a&&E.jsx(B,{clientEmail:A,onClose:()=>l(!1)})]})};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),h8=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),fS=t=>{const e=h8(t);return e.charAt(0).toUpperCase()+e.slice(1)},vI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),f8=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var d8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=G.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...f},d)=>G.createElement("svg",{ref:d,...d8,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:vI("lucide",a),...!l&&!f8(f)&&{"aria-hidden":"true"},...f},[...u.map(([p,v])=>G.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=(t,e)=>{const n=G.forwardRef(({className:r,...a},l)=>G.createElement(p8,{ref:l,iconNode:e,className:vI(`lucide-${c8(fS(t))}`,`lucide-${t}`,r),...a}));return n.displayName=fS(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dS=cl("award",m8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],y8=cl("briefcase",g8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],_8=cl("indian-rupee",v8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],b8=cl("mail",w8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],T8=cl("message-circle",E8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],S8=cl("star",x8);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pS=cl("user",A8),Ey={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},ss={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},R8={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5}},hover:{scale:1.02,y:-5,boxShadow:"0 20px 40px rgba(0,0,0,0.15)",transition:{duration:.3}}},C8=()=>{const[t,e]=G.useState([]),[n,r]=G.useState(null),[a,l]=G.useState(null),[u,f]=G.useState(!1),[d,p]=G.useState(!0),v=la();G.useEffect(()=>{(async()=>{try{p(!0);const C=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts",{method:"GET",headers:{"Content-Type":"application/json"}});if(!C.ok)throw new Error("Failed to fetch experts");const N=await C.json();e(N)}catch(C){console.error("Error fetching experts:",C),alert(`Failed to load experts: ${C.message}`)}finally{p(!1)}})();const D=dA(tn,async C=>{if(r((C==null?void 0:C.email)||null),C)try{const N=ms(Xr,"experts",C.email),z=await sl(N);l(z.exists()?"expert":"normal")}catch(N){console.error("Error checking expert status:",N),l("normal")}else l(null)});return()=>D()},[]);const b=async()=>{try{await pA(tn),r(null),v("/")}catch(A){console.error("Sign-Out Error:",A)}},x=()=>{f(!u)},I=async A=>{if(!n){v("/?showAuth=true");return}const D=n,C=A.user_email,N=`chat_${D.replace(".","_")}_${C.replace(".","_")}`;try{await oC(ms(Xr,"chats",N),{clientEmail:D,expertEmail:C,createdAt:uC()},{merge:!0}),v("/chat",{state:{clientEmail:D,expertEmail:C}})}catch(z){console.error("Error initializing chat:",z.message,z),alert("Failed to start chat. Please try again.")}};return E.jsxs("div",{className:"min-h-screen bg-black from-gray-50 via-white to-blue-50",children:[E.jsxs(Ke.div,{className:"navbar bg-white shadow-lg border-b border-gray-100",variants:Ey,initial:"hidden",animate:"visible",children:[E.jsx(Ke.div,{className:"navbar-child",variants:ss}),E.jsx(Ke.div,{className:"fitness text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:ss,onClick:()=>v("/fitness"),children:"Fitness"}),E.jsx(Ke.div,{className:"about text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:ss,onClick:()=>v("/about"),children:"About"}),E.jsx(Ke.div,{className:"experts text-blue-600 cursor-pointer font-semibold border-b-2 border-blue-600",variants:ss,onClick:()=>v("/experts"),children:"Experts"}),a==="expert"&&E.jsx(Ke.div,{className:"profile text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:ss,onClick:()=>v("/expert-dashboard"),children:"Profile"}),E.jsxs(Ke.div,{className:"login-button-navbar",variants:ss,children:[E.jsx(Ke.div,{className:"login-button-navbar-child",variants:ss}),n?E.jsx(Ke.button,{className:"logout-button-navbar bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:ss,onClick:b,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Logout"}):E.jsx(Ke.button,{className:"login-button-navbar1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:ss,onClick:()=>v("/?showAuth=true"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Login"})]})]}),E.jsxs(Ke.div,{className:"right-navbar",variants:Ey,children:[E.jsxs(Ke.button,{className:"hamburger-button bg-white shadow-lg rounded-full p-3 hover:shadow-xl transition-shadow duration-200",variants:ss,onClick:x,"aria-label":"Menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:[E.jsx("div",{className:"hamburger-line bg-gray-700"}),E.jsx("div",{className:"hamburger-line bg-gray-700"}),E.jsx("div",{className:"hamburger-line bg-gray-700"})]}),u&&E.jsx(Ke.div,{className:"hamburger-menu bg-white shadow-2xl rounded-xl border border-gray-100",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.2},children:E.jsxs(Ke.ul,{className:"hamburger-menu-list p-2",children:[E.jsx(Ke.li,{className:"hamburger-menu-item",children:E.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{v("/settings"),f(!1)},children:"Settings"})}),n&&E.jsx(Ke.li,{className:"hamburger-menu-item",children:E.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{v("/dashboard"),f(!1)},children:"Dashboard"})})]})})]}),E.jsxs("div",{className:"container mx-auto px-6 py-12 max-w-7xl",children:[E.jsxs(Ke.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[E.jsx("h1",{className:"text-5xl font-bold text-gray-100 mb-4 bg-orange-600 bg-clip-text text-transparent",children:"Meet Our Experts"}),E.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto leading-relaxed",children:"Connect with certified fitness professionals who will guide you on your wellness journey"}),E.jsx("div",{className:"w-24 h-1 bg-orange-600 mx-auto mt-6 rounded-full"})]}),d&&E.jsx("div",{className:"flex justify-center items-center py-20",children:E.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}),!d&&t.length===0&&E.jsxs(Ke.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[E.jsx(pS,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),E.jsx("p",{className:"text-xl text-gray-500",children:"No approved experts available at the moment."}),E.jsx("p",{className:"text-gray-400 mt-2",children:"Check back soon for new fitness professionals!"})]}),!d&&t.length>0&&E.jsx(Ke.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",variants:Ey,initial:"hidden",animate:"visible",children:t.map((A,D)=>E.jsxs(Ke.div,{className:"bg-black rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",variants:R8,whileHover:"hover",children:[E.jsxs("div",{className:"relative bg-orange-600 h-32 flex items-center justify-center",children:[E.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:E.jsx(pS,{className:"h-10 w-10 text-black"})}),E.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:E.jsxs("div",{className:"flex items-center text-white text-sm font-medium",children:[E.jsx(S8,{className:"h-4 w-4 mr-1 fill-current"}),"Expert"]})})]}),E.jsxs("div",{className:"p-6",children:[E.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:A.name}),E.jsxs("div",{className:"space-y-3 mb-6",children:[E.jsxs("div",{className:"flex items-center text-gray-300",children:[E.jsx(b8,{className:"h-4 w-4 mr-2 text-blue-500"}),E.jsx("span",{className:"text-sm",children:A.user_email})]}),E.jsxs("div",{className:"flex items-center text-gray-300",children:[E.jsx(y8,{className:"h-4 w-4 mr-2 text-green-500"}),E.jsx("span",{className:"text-sm font-medium",children:A.specialist})]}),E.jsxs("div",{className:"flex items-center text-gray-300",children:[E.jsx(dS,{className:"h-4 w-4 mr-2 text-purple-500"}),E.jsx("span",{className:"text-sm",children:A.expertise})]}),E.jsxs("div",{className:"flex items-center text-gray-300",children:[E.jsx(_8,{className:"h-4 w-4 mr-2 text-yellow-500"}),E.jsxs("span",{className:"text-sm font-semibold",children:[A.client_fee," per session"]})]})]}),E.jsx("div",{className:"mb-6",children:E.jsx("p",{className:"text-white text-sm leading-relaxed line-clamp-3",children:A.bio})}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs(Ke.button,{className:"w-full bg-orange-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center",onClick:()=>I(A),whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(T8,{className:"h-5 w-5 mr-2"}),"Chat with Expert"]}),E.jsxs(Ke.a,{href:A.certification_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white hover:bg-gray-200 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-200 flex items-center justify-center text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[E.jsx(dS,{className:"h-4 w-4 mr-2"}),"View Certificate"]})]})]})]},D))})]})]})},I8=({user:t,loading:e})=>{const n=Qr();return e?E.jsx("div",{className:"loading-spinner",children:"Loading..."}):t&&t.email==="fitngro@gmail.com"&&n.pathname!=="/admin"?E.jsx($s,{to:"/admin",replace:!0}):E.jsxs(Bk,{children:[E.jsx(Pi,{path:"/",element:E.jsx(JF,{userEmail:t==null?void 0:t.email})}),E.jsx(Pi,{path:"/dashboard",element:t?E.jsx(ZF,{userEmail:t.email}):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/expert-dashboard",element:t?E.jsx(WF,{userEmail:t.email}):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/experts",element:E.jsx(C8,{})}),E.jsx(Pi,{path:"/expert-info",element:t?E.jsx(a8,{}):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/chat",element:t?E.jsx(u8,{}):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/workout/:day",element:t?E.jsx(e5,{userEmail:t.email}):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/exercise/:userEmail/:workoutName",element:t?E.jsx(i8,{userEmail:t.email},n.pathname):E.jsx($s,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),E.jsx(Pi,{path:"/admin",element:t&&t.email==="fitngro@gmail.com"?E.jsx(s8,{}):E.jsx($s,{to:"/",replace:!0})}),E.jsx(Pi,{path:"*",element:E.jsx($s,{to:"/",replace:!0})})]})},P8=()=>{const[t,e]=G.useState({user:null,loading:!0});return G.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(r=>console.log("Service Worker registered:",r)).catch(r=>console.error("Service Worker registration failed:",r));const n=tn.onAuthStateChanged(r=>{if(console.log("Auth state changed - User:",r==null?void 0:r.email),e({user:r,loading:!1}),r&&sessionStorage.getItem("redirectUrl")){const a=sessionStorage.getItem("redirectUrl");sessionStorage.removeItem("redirectUrl"),window.location.href=a}},r=>{console.error("Authentication error:",r),e({user:null,loading:!1})});return()=>n()},[]),E.jsx(TN,{clientId:"your-actual-client-id.apps.googleusercontent.com",children:E.jsx(hN,{children:E.jsx(I8,{user:t.user,loading:t.loading})})})};XP.createRoot(document.getElementById("root")).render(E.jsx(mS.StrictMode,{children:E.jsx(P8,{})}));export{Ar as _,Ep as a,i5 as b,xv as g,bu as r};
