(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();var dg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Mk(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var a=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,a.get?a:{enumerable:!0,get:function(){return t[r]}})}),n}var fg={exports:{}},Bu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vT;function Vk(){if(vT)return Bu;vT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,a,l){var u=null;if(l!==void 0&&(u=""+l),a.key!==void 0&&(u=""+a.key),"key"in a){l={};for(var h in a)h!=="key"&&(l[h]=a[h])}else l=a;return a=l.ref,{$$typeof:t,type:r,key:u,ref:a!==void 0?a:null,props:l}}return Bu.Fragment=e,Bu.jsx=n,Bu.jsxs=n,Bu}var _T;function jk(){return _T||(_T=1,fg.exports=Vk()),fg.exports}var _=jk(),mg={exports:{}},Ue={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function Lk(){if(bT)return Ue;bT=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,k={};function R(U,X,oe){this.props=U,this.context=X,this.refs=k,this.updater=oe||x}R.prototype.isReactComponent={},R.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},R.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function N(){}N.prototype=R.prototype;function B(U,X,oe){this.props=U,this.context=X,this.refs=k,this.updater=oe||x}var O=B.prototype=new N;O.constructor=B,S(O,R.prototype),O.isPureReactComponent=!0;var G=Array.isArray,H={H:null,A:null,T:null,S:null,V:null},M=Object.prototype.hasOwnProperty;function D(U,X,oe,se,ye,Te){return oe=Te.ref,{$$typeof:t,type:U,key:X,ref:oe!==void 0?oe:null,props:Te}}function A(U,X){return D(U.type,X,void 0,void 0,void 0,U.props)}function I(U){return typeof U=="object"&&U!==null&&U.$$typeof===t}function j(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(oe){return X[oe]})}var F=/\/+/g;function q(U,X){return typeof U=="object"&&U!==null&&U.key!=null?j(""+U.key):X.toString(36)}function V(){}function re(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(V,V):(U.status="pending",U.then(function(X){U.status==="pending"&&(U.status="fulfilled",U.value=X)},function(X){U.status==="pending"&&(U.status="rejected",U.reason=X)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function pe(U,X,oe,se,ye){var Te=typeof U;(Te==="undefined"||Te==="boolean")&&(U=null);var Ee=!1;if(U===null)Ee=!0;else switch(Te){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(U.$$typeof){case t:case e:Ee=!0;break;case g:return Ee=U._init,pe(Ee(U._payload),X,oe,se,ye)}}if(Ee)return ye=ye(U),Ee=se===""?"."+q(U,0):se,G(ye)?(oe="",Ee!=null&&(oe=Ee.replace(F,"$&/")+"/"),pe(ye,X,oe,"",function(je){return je})):ye!=null&&(I(ye)&&(ye=A(ye,oe+(ye.key==null||U&&U.key===ye.key?"":(""+ye.key).replace(F,"$&/")+"/")+Ee)),X.push(ye)),1;Ee=0;var ct=se===""?".":se+":";if(G(U))for(var $e=0;$e<U.length;$e++)se=U[$e],Te=ct+q(se,$e),Ee+=pe(se,X,oe,Te,ye);else if($e=w(U),typeof $e=="function")for(U=$e.call(U),$e=0;!(se=U.next()).done;)se=se.value,Te=ct+q(se,$e++),Ee+=pe(se,X,oe,Te,ye);else if(Te==="object"){if(typeof U.then=="function")return pe(re(U),X,oe,se,ye);throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(U,X,oe){if(U==null)return U;var se=[],ye=0;return pe(U,se,"","",function(Te){return X.call(oe,Te,ye++)}),se}function ie(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(oe){(U._status===0||U._status===-1)&&(U._status=1,U._result=oe)},function(oe){(U._status===0||U._status===-1)&&(U._status=2,U._result=oe)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var fe=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)};function le(){}return Ue.Children={map:K,forEach:function(U,X,oe){K(U,function(){X.apply(this,arguments)},oe)},count:function(U){var X=0;return K(U,function(){X++}),X},toArray:function(U){return K(U,function(X){return X})||[]},only:function(U){if(!I(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=R,Ue.Fragment=n,Ue.Profiler=a,Ue.PureComponent=B,Ue.StrictMode=r,Ue.Suspense=d,Ue.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=H,Ue.__COMPILER_RUNTIME={__proto__:null,c:function(U){return H.H.useMemoCache(U)}},Ue.cache=function(U){return function(){return U.apply(null,arguments)}},Ue.cloneElement=function(U,X,oe){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var se=S({},U.props),ye=U.key,Te=void 0;if(X!=null)for(Ee in X.ref!==void 0&&(Te=void 0),X.key!==void 0&&(ye=""+X.key),X)!M.call(X,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&X.ref===void 0||(se[Ee]=X[Ee]);var Ee=arguments.length-2;if(Ee===1)se.children=oe;else if(1<Ee){for(var ct=Array(Ee),$e=0;$e<Ee;$e++)ct[$e]=arguments[$e+2];se.children=ct}return D(U.type,ye,void 0,void 0,Te,se)},Ue.createContext=function(U){return U={$$typeof:u,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:l,_context:U},U},Ue.createElement=function(U,X,oe){var se,ye={},Te=null;if(X!=null)for(se in X.key!==void 0&&(Te=""+X.key),X)M.call(X,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ye[se]=X[se]);var Ee=arguments.length-2;if(Ee===1)ye.children=oe;else if(1<Ee){for(var ct=Array(Ee),$e=0;$e<Ee;$e++)ct[$e]=arguments[$e+2];ye.children=ct}if(U&&U.defaultProps)for(se in Ee=U.defaultProps,Ee)ye[se]===void 0&&(ye[se]=Ee[se]);return D(U,Te,void 0,void 0,null,ye)},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:h,render:U}},Ue.isValidElement=I,Ue.lazy=function(U){return{$$typeof:g,_payload:{_status:-1,_result:U},_init:ie}},Ue.memo=function(U,X){return{$$typeof:m,type:U,compare:X===void 0?null:X}},Ue.startTransition=function(U){var X=H.T,oe={};H.T=oe;try{var se=U(),ye=H.S;ye!==null&&ye(oe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(le,fe)}catch(Te){fe(Te)}finally{H.T=X}},Ue.unstable_useCacheRefresh=function(){return H.H.useCacheRefresh()},Ue.use=function(U){return H.H.use(U)},Ue.useActionState=function(U,X,oe){return H.H.useActionState(U,X,oe)},Ue.useCallback=function(U,X){return H.H.useCallback(U,X)},Ue.useContext=function(U){return H.H.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U,X){return H.H.useDeferredValue(U,X)},Ue.useEffect=function(U,X,oe){var se=H.H;if(typeof oe=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return se.useEffect(U,X)},Ue.useId=function(){return H.H.useId()},Ue.useImperativeHandle=function(U,X,oe){return H.H.useImperativeHandle(U,X,oe)},Ue.useInsertionEffect=function(U,X){return H.H.useInsertionEffect(U,X)},Ue.useLayoutEffect=function(U,X){return H.H.useLayoutEffect(U,X)},Ue.useMemo=function(U,X){return H.H.useMemo(U,X)},Ue.useOptimistic=function(U,X){return H.H.useOptimistic(U,X)},Ue.useReducer=function(U,X,oe){return H.H.useReducer(U,X,oe)},Ue.useRef=function(U){return H.H.useRef(U)},Ue.useState=function(U){return H.H.useState(U)},Ue.useSyncExternalStore=function(U,X,oe){return H.H.useSyncExternalStore(U,X,oe)},Ue.useTransition=function(){return H.H.useTransition()},Ue.version="19.1.0",Ue}var wT;function bl(){return wT||(wT=1,mg.exports=Lk()),mg.exports}var L=bl();const oA=fv(L);var pg={exports:{}},Fu={},gg={exports:{}},yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TT;function Uk(){return TT||(TT=1,function(t){function e(K,ie){var fe=K.length;K.push(ie);e:for(;0<fe;){var le=fe-1>>>1,U=K[le];if(0<a(U,ie))K[le]=ie,K[fe]=U,fe=le;else break e}}function n(K){return K.length===0?null:K[0]}function r(K){if(K.length===0)return null;var ie=K[0],fe=K.pop();if(fe!==ie){K[0]=fe;e:for(var le=0,U=K.length,X=U>>>1;le<X;){var oe=2*(le+1)-1,se=K[oe],ye=oe+1,Te=K[ye];if(0>a(se,fe))ye<U&&0>a(Te,se)?(K[le]=Te,K[ye]=fe,le=ye):(K[le]=se,K[oe]=fe,le=oe);else if(ye<U&&0>a(Te,fe))K[le]=Te,K[ye]=fe,le=ye;else break e}}return ie}function a(K,ie){var fe=K.sortIndex-ie.sortIndex;return fe!==0?fe:K.id-ie.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],m=[],g=1,v=null,w=3,x=!1,S=!1,k=!1,R=!1,N=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function G(K){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=K)r(m),ie.sortIndex=ie.expirationTime,e(d,ie);else break;ie=n(m)}}function H(K){if(k=!1,G(K),!S)if(n(d)!==null)S=!0,M||(M=!0,q());else{var ie=n(m);ie!==null&&pe(H,ie.startTime-K)}}var M=!1,D=-1,A=5,I=-1;function j(){return R?!0:!(t.unstable_now()-I<A)}function F(){if(R=!1,M){var K=t.unstable_now();I=K;var ie=!0;try{e:{S=!1,k&&(k=!1,B(D),D=-1),x=!0;var fe=w;try{t:{for(G(K),v=n(d);v!==null&&!(v.expirationTime>K&&j());){var le=v.callback;if(typeof le=="function"){v.callback=null,w=v.priorityLevel;var U=le(v.expirationTime<=K);if(K=t.unstable_now(),typeof U=="function"){v.callback=U,G(K),ie=!0;break t}v===n(d)&&r(d),G(K)}else r(d);v=n(d)}if(v!==null)ie=!0;else{var X=n(m);X!==null&&pe(H,X.startTime-K),ie=!1}}break e}finally{v=null,w=fe,x=!1}ie=void 0}}finally{ie?q():M=!1}}}var q;if(typeof O=="function")q=function(){O(F)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,re=V.port2;V.port1.onmessage=F,q=function(){re.postMessage(null)}}else q=function(){N(F,0)};function pe(K,ie){D=N(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_next=function(K){switch(w){case 1:case 2:case 3:var ie=3;break;default:ie=w}var fe=w;w=ie;try{return K()}finally{w=fe}},t.unstable_requestPaint=function(){R=!0},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var fe=w;w=K;try{return ie()}finally{w=fe}},t.unstable_scheduleCallback=function(K,ie,fe){var le=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?le+fe:le):fe=le,K){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=fe+U,K={id:g++,callback:ie,priorityLevel:K,startTime:fe,expirationTime:U,sortIndex:-1},fe>le?(K.sortIndex=fe,e(m,K),n(d)===null&&K===n(m)&&(k?(B(D),D=-1):k=!0,pe(H,fe-le))):(K.sortIndex=U,e(d,K),S||x||(S=!0,M||(M=!0,q()))),K},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(K){var ie=w;return function(){var fe=w;w=ie;try{return K.apply(this,arguments)}finally{w=fe}}}}(yg)),yg}var ET;function Bk(){return ET||(ET=1,gg.exports=Uk()),gg.exports}var vg={exports:{}},pn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xT;function Fk(){if(xT)return pn;xT=1;var t=bl();function e(d){var m="https://react.dev/errors/"+d;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(d,m,g){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:v==null?null:""+v,children:d,containerInfo:m,implementation:g}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,m){if(d==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return pn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pn.createPortal=function(d,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(d,m,null,g)},pn.flushSync=function(d){var m=u.T,g=r.p;try{if(u.T=null,r.p=2,d)return d()}finally{u.T=m,r.p=g,r.d.f()}},pn.preconnect=function(d,m){typeof d=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(d,m))},pn.prefetchDNS=function(d){typeof d=="string"&&r.d.D(d)},pn.preinit=function(d,m){if(typeof d=="string"&&m&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin),w=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(d,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:w,fetchPriority:x}):g==="script"&&r.d.X(d,{crossOrigin:v,integrity:w,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},pn.preinitModule=function(d,m){if(typeof d=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=h(m.as,m.crossOrigin);r.d.M(d,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(d)},pn.preload=function(d,m){if(typeof d=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,v=h(g,m.crossOrigin);r.d.L(d,g,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},pn.preloadModule=function(d,m){if(typeof d=="string")if(m){var g=h(m.as,m.crossOrigin);r.d.m(d,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(d)},pn.requestFormReset=function(d){r.d.r(d)},pn.unstable_batchedUpdates=function(d,m){return d(m)},pn.useFormState=function(d,m,g){return u.H.useFormState(d,m,g)},pn.useFormStatus=function(){return u.H.useHostTransitionStatus()},pn.version="19.1.0",pn}var ST;function zk(){if(ST)return vg.exports;ST=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vg.exports=Fk(),vg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AT;function qk(){if(AT)return Fu;AT=1;var t=Bk(),e=bl(),n=zk();function r(i){var s="https://react.dev/errors/"+i;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var s=i,o=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,(s.flags&4098)!==0&&(o=s.return),i=s.return;while(i)}return s.tag===3?o:null}function u(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(r(188))}function d(i){var s=i.alternate;if(!s){if(s=l(i),s===null)throw Error(r(188));return s!==i?null:i}for(var o=i,c=s;;){var p=o.return;if(p===null)break;var y=p.alternate;if(y===null){if(c=p.return,c!==null){o=c;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===o)return h(p),i;if(y===c)return h(p),s;y=y.sibling}throw Error(r(188))}if(o.return!==c.return)o=p,c=y;else{for(var E=!1,C=p.child;C;){if(C===o){E=!0,o=p,c=y;break}if(C===c){E=!0,c=p,o=y;break}C=C.sibling}if(!E){for(C=y.child;C;){if(C===o){E=!0,o=y,c=p;break}if(C===c){E=!0,c=y,o=p;break}C=C.sibling}if(!E)throw Error(r(189))}}if(o.alternate!==c)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?i:s}function m(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i;for(i=i.child;i!==null;){if(s=m(i),s!==null)return s;i=i.sibling}return null}var g=Object.assign,v=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),O=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),F=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var V=Symbol.for("react.client.reference");function re(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===V?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case R:return"Profiler";case k:return"StrictMode";case H:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case x:return"Portal";case O:return(i.displayName||"Context")+".Provider";case B:return(i._context.displayName||"Context")+".Consumer";case G:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case D:return s=i.displayName||null,s!==null?s:re(i.type)||"Memo";case A:s=i._payload,i=i._init;try{return re(i(s))}catch{}}return null}var pe=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},le=[],U=-1;function X(i){return{current:i}}function oe(i){0>U||(i.current=le[U],le[U]=null,U--)}function se(i,s){U++,le[U]=i.current,i.current=s}var ye=X(null),Te=X(null),Ee=X(null),ct=X(null);function $e(i,s){switch(se(Ee,s),se(Te,i),se(ye,null),s.nodeType){case 9:case 11:i=(i=s.documentElement)&&(i=i.namespaceURI)?$w(i):0;break;default:if(i=s.tagName,s=s.namespaceURI)s=$w(s),i=Kw(s,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}oe(ye),se(ye,i)}function je(){oe(ye),oe(Te),oe(Ee)}function Qt(i){i.memoizedState!==null&&se(ct,i);var s=ye.current,o=Kw(s,i.type);s!==o&&(se(Te,i),se(ye,o))}function xn(i){Te.current===i&&(oe(ye),oe(Te)),ct.current===i&&(oe(ct),Mu._currentValue=fe)}var Sn=Object.prototype.hasOwnProperty,Se=t.unstable_scheduleCallback,We=t.unstable_cancelCallback,ze=t.unstable_shouldYield,et=t.unstable_requestPaint,me=t.unstable_now,be=t.unstable_getCurrentPriorityLevel,Ve=t.unstable_ImmediatePriority,rt=t.unstable_UserBlockingPriority,at=t.unstable_NormalPriority,Dr=t.unstable_LowPriority,ta=t.unstable_IdlePriority,ts=t.log,na=t.unstable_setDisableYieldValue,St=null,ot=null;function Fn(i){if(typeof ts=="function"&&na(i),ot&&typeof ot.setStrictMode=="function")try{ot.setStrictMode(St,i)}catch{}}var fn=Math.clz32?Math.clz32:ra,Qc=Math.log,mm=Math.LN2;function ra(i){return i>>>=0,i===0?32:31-(Qc(i)/mm|0)|0}var ia=256,sa=4194304;function gr(i){var s=i&42;if(s!==0)return s;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function oo(i,s,o){var c=i.pendingLanes;if(c===0)return 0;var p=0,y=i.suspendedLanes,E=i.pingedLanes;i=i.warmLanes;var C=c&134217727;return C!==0?(c=C&~y,c!==0?p=gr(c):(E&=C,E!==0?p=gr(E):o||(o=C&~i,o!==0&&(p=gr(o))))):(C=c&~y,C!==0?p=gr(C):E!==0?p=gr(E):o||(o=c&~i,o!==0&&(p=gr(o)))),p===0?0:s!==0&&s!==p&&(s&y)===0&&(y=p&-p,o=s&-s,y>=o||y===32&&(o&4194048)!==0)?s:p}function aa(i,s){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&s)===0}function Ml(i,s){switch(i){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vl(){var i=ia;return ia<<=1,(ia&4194048)===0&&(ia=256),i}function jl(){var i=sa;return sa<<=1,(sa&62914560)===0&&(sa=4194304),i}function hi(i){for(var s=[],o=0;31>o;o++)s.push(i);return s}function di(i,s){i.pendingLanes|=s,s!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ll(i,s,o,c,p,y){var E=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var C=i.entanglements,z=i.expirationTimes,J=i.hiddenUpdates;for(o=E&~o;0<o;){var ae=31-fn(o),ce=1<<ae;C[ae]=0,z[ae]=-1;var Z=J[ae];if(Z!==null)for(J[ae]=null,ae=0;ae<Z.length;ae++){var ee=Z[ae];ee!==null&&(ee.lane&=-536870913)}o&=~ce}c!==0&&Or(i,c,0),y!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=y&~(E&~s))}function Or(i,s,o){i.pendingLanes|=s,i.suspendedLanes&=~s;var c=31-fn(s);i.entangledLanes|=s,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Ul(i,s){var o=i.entangledLanes|=s;for(i=i.entanglements;o;){var c=31-fn(o),p=1<<c;p&s|i[c]&s&&(i[c]|=s),o&=~p}}function ns(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function lo(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function rs(){var i=ie.p;return i!==0?i:(i=window.event,i===void 0?32:dT(i.type))}function Xc(i,s){var o=ie.p;try{return ie.p=i,s()}finally{ie.p=o}}var vt=Math.random().toString(36).slice(2),qt="__reactFiber$"+vt,jt="__reactProps$"+vt,er="__reactContainer$"+vt,Bl="__reactEvents$"+vt,pm="__reactListeners$"+vt,is="__reactHandles$"+vt,Jc="__reactResources$"+vt,oa="__reactMarker$"+vt;function ss(i){delete i[qt],delete i[jt],delete i[Bl],delete i[pm],delete i[is]}function fi(i){var s=i[qt];if(s)return s;for(var o=i.parentNode;o;){if(s=o[er]||o[qt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(i=Xw(i);i!==null;){if(o=i[qt])return o;i=Xw(i)}return s}i=o,o=i.parentNode}return null}function Mr(i){if(i=i[qt]||i[er]){var s=i.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return i}return null}function Vr(i){var s=i.tag;if(s===5||s===26||s===27||s===6)return i.stateNode;throw Error(r(33))}function An(i){var s=i[Jc];return s||(s=i[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function kt(i){i[oa]=!0}var Fl=new Set,uo={};function yr(i,s){mi(i,s),mi(i+"Capture",s)}function mi(i,s){for(uo[i]=s,i=0;i<s.length;i++)Fl.add(s[i])}var Zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),eh={},la={};function th(i){return Sn.call(la,i)?!0:Sn.call(eh,i)?!1:Zc.test(i)?la[i]=!0:(eh[i]=!0,!1)}function as(i,s,o){if(th(s))if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(s);return;case"boolean":var c=s.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(s);return}}i.setAttribute(s,""+o)}}function jr(i,s,o){if(o===null)i.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(s);return}i.setAttribute(s,""+o)}}function rn(i,s,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(s,o,""+c)}}var ua,nh;function pi(i){if(ua===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ua=s&&s[1]||"",nh=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ua+i+nh}var co=!1;function ho(i,s){if(!i||co)return"";co=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(s){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ee){var Z=ee}Reflect.construct(i,[],ce)}else{try{ce.call()}catch(ee){Z=ee}i.call(ce.prototype)}}else{try{throw Error()}catch(ee){Z=ee}(ce=i())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ee){if(ee&&Z&&typeof ee.stack=="string")return[ee.stack,Z.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),E=y[0],C=y[1];if(E&&C){var z=E.split(`
`),J=C.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===J.length)for(c=z.length-1,p=J.length-1;1<=c&&0<=p&&z[c]!==J[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==J[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==J[p]){var ae=`
`+z[c].replace(" at new "," at ");return i.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",i.displayName)),ae}while(1<=c&&0<=p);break}}}finally{co=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?pi(o):""}function zl(i){switch(i.tag){case 26:case 27:case 5:return pi(i.type);case 16:return pi("Lazy");case 13:return pi("Suspense");case 19:return pi("SuspenseList");case 0:case 15:return ho(i.type,!1);case 11:return ho(i.type.render,!1);case 1:return ho(i.type,!0);case 31:return pi("Activity");default:return""}}function fo(i){try{var s="";do s+=zl(i),i=i.return;while(i);return s}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Rn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ql(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gm(i){var s=ql(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),c=""+i[s];if(!i.hasOwnProperty(s)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var p=o.get,y=o.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return p.call(this)},set:function(E){c=""+E,y.call(this,E)}}),Object.defineProperty(i,s,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function mo(i){i._valueTracker||(i._valueTracker=gm(i))}function Hl(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var o=s.getValue(),c="";return i&&(c=ql(i)?i.checked?"true":"false":i.value),i=c,i!==o?(s.setValue(i),!0):!1}function ca(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var ym=/[\n"\\]/g;function Lt(i){return i.replace(ym,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function zn(i,s,o,c,p,y,E,C){i.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?i.type=E:i.removeAttribute("type"),s!=null?E==="number"?(s===0&&i.value===""||i.value!=s)&&(i.value=""+Rn(s)):i.value!==""+Rn(s)&&(i.value=""+Rn(s)):E!=="submit"&&E!=="reset"||i.removeAttribute("value"),s!=null?os(i,E,Rn(s)):o!=null?os(i,E,Rn(o)):c!=null&&i.removeAttribute("value"),p==null&&y!=null&&(i.defaultChecked=!!y),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.name=""+Rn(C):i.removeAttribute("name")}function ha(i,s,o,c,p,y,E,C){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),s!=null||o!=null){if(!(y!=="submit"&&y!=="reset"||s!=null))return;o=o!=null?""+Rn(o):"",s=s!=null?""+Rn(s):o,C||s===i.value||(i.value=s),i.defaultValue=s}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=C?i.checked:!!c,i.defaultChecked=!!c,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(i.name=E)}function os(i,s,o){s==="number"&&ca(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function gi(i,s,o,c){if(i=i.options,s){s={};for(var p=0;p<o.length;p++)s["$"+o[p]]=!0;for(o=0;o<i.length;o++)p=s.hasOwnProperty("$"+i[o].value),i[o].selected!==p&&(i[o].selected=p),p&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Rn(o),s=null,p=0;p<i.length;p++){if(i[p].value===o){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}s!==null||i[p].disabled||(s=i[p])}s!==null&&(s.selected=!0)}}function ht(i,s,o){if(s!=null&&(s=""+Rn(s),s!==i.value&&(i.value=s),o==null)){i.defaultValue!==s&&(i.defaultValue=s);return}i.defaultValue=o!=null?""+Rn(o):""}function da(i,s,o,c){if(s==null){if(c!=null){if(o!=null)throw Error(r(92));if(pe(c)){if(1<c.length)throw Error(r(93));c=c[0]}o=c}o==null&&(o=""),s=o}o=Rn(s),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function tr(i,s){if(s){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=s;return}}i.textContent=s}var fa=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function rh(i,s,o){var c=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(s,""):s==="float"?i.cssFloat="":i[s]="":c?i.setProperty(s,o):typeof o!="number"||o===0||fa.has(s)?s==="float"?i.cssFloat=o:i[s]=(""+o).trim():i[s]=o+"px"}function Gl(i,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||s!=null&&s.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in s)c=s[p],s.hasOwnProperty(p)&&o[p]!==c&&rh(i,p,c)}else for(var y in s)s.hasOwnProperty(y)&&rh(i,y,s[y])}function $l(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),_m=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function po(i){return _m.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var yi=null;function nr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var vi=null,_i=null;function Kl(i){var s=Mr(i);if(s&&(i=s.stateNode)){var o=i[jt]||null;e:switch(i=s.stateNode,s.type){case"input":if(zn(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Lt(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var c=o[s];if(c!==i&&c.form===i.form){var p=c[jt]||null;if(!p)throw Error(r(90));zn(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(s=0;s<o.length;s++)c=o[s],c.form===i.form&&Hl(c)}break e;case"textarea":ht(i,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&gi(i,!!o.multiple,s,!1)}}}var Lr=!1;function ih(i,s,o){if(Lr)return i(s,o);Lr=!0;try{var c=i(s);return c}finally{if(Lr=!1,(vi!==null||_i!==null)&&(Xh(),vi&&(s=vi,i=_i,_i=vi=null,Kl(s),i)))for(s=0;s<i.length;s++)Kl(i[s])}}function ma(i,s){var o=i.stateNode;if(o===null)return null;var c=o[jt]||null;if(c===null)return null;o=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rr=!1;if(vr)try{var pa={};Object.defineProperty(pa,"passive",{get:function(){rr=!0}}),window.addEventListener("test",pa,pa),window.removeEventListener("test",pa,pa)}catch{rr=!1}var Ur=null,ls=null,bi=null;function Yl(){if(bi)return bi;var i,s=ls,o=s.length,c,p="value"in Ur?Ur.value:Ur.textContent,y=p.length;for(i=0;i<o&&s[i]===p[i];i++);var E=o-i;for(c=1;c<=E&&s[o-c]===p[y-c];c++);return bi=p.slice(i,1<c?1-c:void 0)}function Br(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Fr(){return!0}function Wl(){return!1}function Xt(i){function s(o,c,p,y,E){this._reactName=o,this._targetInst=p,this.type=c,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var C in i)i.hasOwnProperty(C)&&(o=i[C],this[C]=o?o(y):y[C]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?Fr:Wl,this.isPropagationStopped=Wl,this}return g(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Fr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Fr)},persist:function(){},isPersistent:Fr}),s}var it={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},go=Xt(it),ga=g({},it,{view:0,detail:0}),sh=Xt(ga),yo,vo,zr,ya=g({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ba,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==zr&&(zr&&i.type==="mousemove"?(yo=i.screenX-zr.screenX,vo=i.screenY-zr.screenY):vo=yo=0,zr=i),yo)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),ir=Xt(ya),ah=g({},ya,{dataTransfer:0}),bm=Xt(ah),va=g({},ga,{relatedTarget:0}),_o=Xt(va),Ql=g({},it,{animationName:0,elapsedTime:0,pseudoElement:0}),bo=Xt(Ql),oh=g({},it,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),wo=Xt(oh),wm=g({},it,{data:0}),Xl=Xt(wm),_a={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=uh[i])?!!s[i]:!1}function ba(){return Jl}var ch=g({},ga,{key:function(i){if(i.key){var s=_a[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Br(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?lh[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ba,charCode:function(i){return i.type==="keypress"?Br(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Br(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),To=Xt(ch),hh=g({},ya,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zl=Xt(hh),wi=g({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ba}),dh=Xt(wi),fh=g({},it,{propertyName:0,elapsedTime:0,pseudoElement:0}),mh=Xt(fh),ph=g({},ya,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Eo=Xt(ph),Cn=g({},it,{newState:0,oldState:0}),gh=Xt(Cn),yh=[9,13,27,32],qr=vr&&"CompositionEvent"in window,f=null;vr&&"documentMode"in document&&(f=document.documentMode);var b=vr&&"TextEvent"in window&&!f,T=vr&&(!qr||f&&8<f&&11>=f),P=" ",W=!1;function te(i,s){switch(i){case"keyup":return yh.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ge(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Qe=!1;function Ht(i,s){switch(i){case"compositionend":return ge(s);case"keypress":return s.which!==32?null:(W=!0,P);case"textInput":return i=s.data,i===P&&W?null:i;default:return null}}function Xe(i,s){if(Qe)return i==="compositionend"||!qr&&te(i,s)?(i=Yl(),bi=ls=Ur=null,Qe=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return T&&s.locale!=="ko"?null:s.data;default:return null}}var Jt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gt(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!Jt[i.type]:s==="textarea"}function Ti(i,s,o,c){vi?_i?_i.push(c):_i=[c]:vi=c,s=rd(s,"onChange"),0<s.length&&(o=new go("onChange","change",null,o,c),i.push({event:o,listeners:s}))}var sn=null,Hr=null;function eu(i){Fw(i,0)}function vh(i){var s=Vr(i);if(Hl(s))return i}function l0(i,s){if(i==="change")return s}var u0=!1;if(vr){var Tm;if(vr){var Em="oninput"in document;if(!Em){var c0=document.createElement("div");c0.setAttribute("oninput","return;"),Em=typeof c0.oninput=="function"}Tm=Em}else Tm=!1;u0=Tm&&(!document.documentMode||9<document.documentMode)}function h0(){sn&&(sn.detachEvent("onpropertychange",d0),Hr=sn=null)}function d0(i){if(i.propertyName==="value"&&vh(Hr)){var s=[];Ti(s,Hr,i,nr(i)),ih(eu,s)}}function hN(i,s,o){i==="focusin"?(h0(),sn=s,Hr=o,sn.attachEvent("onpropertychange",d0)):i==="focusout"&&h0()}function dN(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return vh(Hr)}function fN(i,s){if(i==="click")return vh(s)}function mN(i,s){if(i==="input"||i==="change")return vh(s)}function pN(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var qn=typeof Object.is=="function"?Object.is:pN;function tu(i,s){if(qn(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var o=Object.keys(i),c=Object.keys(s);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var p=o[c];if(!Sn.call(s,p)||!qn(i[p],s[p]))return!1}return!0}function f0(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function m0(i,s){var o=f0(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=s&&c>=s)return{node:o,offset:s-i};i=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=f0(o)}}function p0(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?p0(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function g0(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var s=ca(i.document);s instanceof i.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)i=s.contentWindow;else break;s=ca(i.document)}return s}function xm(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}var gN=vr&&"documentMode"in document&&11>=document.documentMode,xo=null,Sm=null,nu=null,Am=!1;function y0(i,s,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Am||xo==null||xo!==ca(c)||(c=xo,"selectionStart"in c&&xm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),nu&&tu(nu,c)||(nu=c,c=rd(Sm,"onSelect"),0<c.length&&(s=new go("onSelect","select",null,s,o),i.push({event:s,listeners:c}),s.target=xo)))}function wa(i,s){var o={};return o[i.toLowerCase()]=s.toLowerCase(),o["Webkit"+i]="webkit"+s,o["Moz"+i]="moz"+s,o}var So={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionrun:wa("Transition","TransitionRun"),transitionstart:wa("Transition","TransitionStart"),transitioncancel:wa("Transition","TransitionCancel"),transitionend:wa("Transition","TransitionEnd")},Rm={},v0={};vr&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Ta(i){if(Rm[i])return Rm[i];if(!So[i])return i;var s=So[i],o;for(o in s)if(s.hasOwnProperty(o)&&o in v0)return Rm[i]=s[o];return i}var _0=Ta("animationend"),b0=Ta("animationiteration"),w0=Ta("animationstart"),yN=Ta("transitionrun"),vN=Ta("transitionstart"),_N=Ta("transitioncancel"),T0=Ta("transitionend"),E0=new Map,Cm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Cm.push("scrollEnd");function _r(i,s){E0.set(i,s),yr(s,[i])}var x0=new WeakMap;function sr(i,s){if(typeof i=="object"&&i!==null){var o=x0.get(i);return o!==void 0?o:(s={value:i,source:s,stack:fo(s)},x0.set(i,s),s)}return{value:i,source:s,stack:fo(s)}}var ar=[],Ao=0,Im=0;function _h(){for(var i=Ao,s=Im=Ao=0;s<i;){var o=ar[s];ar[s++]=null;var c=ar[s];ar[s++]=null;var p=ar[s];ar[s++]=null;var y=ar[s];if(ar[s++]=null,c!==null&&p!==null){var E=c.pending;E===null?p.next=p:(p.next=E.next,E.next=p),c.pending=p}y!==0&&S0(o,p,y)}}function bh(i,s,o,c){ar[Ao++]=i,ar[Ao++]=s,ar[Ao++]=o,ar[Ao++]=c,Im|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Nm(i,s,o,c){return bh(i,s,o,c),wh(i)}function Ro(i,s){return bh(i,null,null,s),wh(i)}function S0(i,s,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var p=!1,y=i.return;y!==null;)y.childLanes|=o,c=y.alternate,c!==null&&(c.childLanes|=o),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(p=!0)),i=y,y=y.return;return i.tag===3?(y=i.stateNode,p&&s!==null&&(p=31-fn(o),i=y.hiddenUpdates,c=i[p],c===null?i[p]=[s]:c.push(s),s.lane=o|536870912),y):null}function wh(i){if(50<Ru)throw Ru=0,Vp=null,Error(r(185));for(var s=i.return;s!==null;)i=s,s=i.return;return i.tag===3?i.stateNode:null}var Co={};function bN(i,s,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(i,s,o,c){return new bN(i,s,o,c)}function km(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ei(i,s){var o=i.alternate;return o===null?(o=Hn(i.tag,s,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=s,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,s=i.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function A0(i,s){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=s,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,s=o.dependencies,i.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),i}function Th(i,s,o,c,p,y){var E=0;if(c=i,typeof i=="function")km(i)&&(E=1);else if(typeof i=="string")E=Tk(i,o,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case I:return i=Hn(31,o,s,p),i.elementType=I,i.lanes=y,i;case S:return Ea(o.children,p,y,s);case k:E=8,p|=24;break;case R:return i=Hn(12,o,s,p|2),i.elementType=R,i.lanes=y,i;case H:return i=Hn(13,o,s,p),i.elementType=H,i.lanes=y,i;case M:return i=Hn(19,o,s,p),i.elementType=M,i.lanes=y,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:case O:E=10;break e;case B:E=9;break e;case G:E=11;break e;case D:E=14;break e;case A:E=16,c=null;break e}E=29,o=Error(r(130,i===null?"null":typeof i,"")),c=null}return s=Hn(E,o,s,p),s.elementType=i,s.type=c,s.lanes=y,s}function Ea(i,s,o,c){return i=Hn(7,i,c,s),i.lanes=o,i}function Pm(i,s,o){return i=Hn(6,i,null,s),i.lanes=o,i}function Dm(i,s,o){return s=Hn(4,i.children!==null?i.children:[],i.key,s),s.lanes=o,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}var Io=[],No=0,Eh=null,xh=0,or=[],lr=0,xa=null,xi=1,Si="";function Sa(i,s){Io[No++]=xh,Io[No++]=Eh,Eh=i,xh=s}function R0(i,s,o){or[lr++]=xi,or[lr++]=Si,or[lr++]=xa,xa=i;var c=xi;i=Si;var p=32-fn(c)-1;c&=~(1<<p),o+=1;var y=32-fn(s)+p;if(30<y){var E=p-p%5;y=(c&(1<<E)-1).toString(32),c>>=E,p-=E,xi=1<<32-fn(s)+p|o<<p|c,Si=y+i}else xi=1<<y|o<<p|c,Si=i}function Om(i){i.return!==null&&(Sa(i,1),R0(i,1,0))}function Mm(i){for(;i===Eh;)Eh=Io[--No],Io[No]=null,xh=Io[--No],Io[No]=null;for(;i===xa;)xa=or[--lr],or[lr]=null,Si=or[--lr],or[lr]=null,xi=or[--lr],or[lr]=null}var In=null,At=null,nt=!1,Aa=null,Gr=!1,Vm=Error(r(519));function Ra(i){var s=Error(r(418,""));throw su(sr(s,i)),Vm}function C0(i){var s=i.stateNode,o=i.type,c=i.memoizedProps;switch(s[qt]=i,s[jt]=c,o){case"dialog":Ge("cancel",s),Ge("close",s);break;case"iframe":case"object":case"embed":Ge("load",s);break;case"video":case"audio":for(o=0;o<Iu.length;o++)Ge(Iu[o],s);break;case"source":Ge("error",s);break;case"img":case"image":case"link":Ge("error",s),Ge("load",s);break;case"details":Ge("toggle",s);break;case"input":Ge("invalid",s),ha(s,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),mo(s);break;case"select":Ge("invalid",s);break;case"textarea":Ge("invalid",s),da(s,c.value,c.defaultValue,c.children),mo(s)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||c.suppressHydrationWarning===!0||Gw(s.textContent,o)?(c.popover!=null&&(Ge("beforetoggle",s),Ge("toggle",s)),c.onScroll!=null&&Ge("scroll",s),c.onScrollEnd!=null&&Ge("scrollend",s),c.onClick!=null&&(s.onclick=id),s=!0):s=!1,s||Ra(i)}function I0(i){for(In=i.return;In;)switch(In.tag){case 5:case 13:Gr=!1;return;case 27:case 3:Gr=!0;return;default:In=In.return}}function ru(i){if(i!==In)return!1;if(!nt)return I0(i),nt=!0,!1;var s=i.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Jp(i.type,i.memoizedProps)),o=!o),o&&At&&Ra(i),I0(i),s===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(s===0){At=wr(i.nextSibling);break e}s--}else o!=="$"&&o!=="$!"&&o!=="$?"||s++;i=i.nextSibling}At=null}}else s===27?(s=At,xs(i.type)?(i=ng,ng=null,At=i):At=s):At=In?wr(i.stateNode.nextSibling):null;return!0}function iu(){At=In=null,nt=!1}function N0(){var i=Aa;return i!==null&&(On===null?On=i:On.push.apply(On,i),Aa=null),i}function su(i){Aa===null?Aa=[i]:Aa.push(i)}var jm=X(null),Ca=null,Ai=null;function us(i,s,o){se(jm,s._currentValue),s._currentValue=o}function Ri(i){i._currentValue=jm.current,oe(jm)}function Lm(i,s,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),i===o)break;i=i.return}}function Um(i,s,o,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var C=y;y=p;for(var z=0;z<s.length;z++)if(C.context===s[z]){y.lanes|=o,C=y.alternate,C!==null&&(C.lanes|=o),Lm(y.return,o,i),c||(E=null);break e}y=C.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(r(341));E.lanes|=o,y=E.alternate,y!==null&&(y.lanes|=o),Lm(E,o,i),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===i){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function au(i,s,o,c){i=null;for(var p=s,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(r(387));if(E=E.memoizedProps,E!==null){var C=p.type;qn(p.pendingProps.value,E.value)||(i!==null?i.push(C):i=[C])}}else if(p===ct.current){if(E=p.alternate,E===null)throw Error(r(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(Mu):i=[Mu])}p=p.return}i!==null&&Um(s,i,o,c),s.flags|=262144}function Sh(i){for(i=i.firstContext;i!==null;){if(!qn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ia(i){Ca=i,Ai=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function mn(i){return k0(Ca,i)}function Ah(i,s){return Ca===null&&Ia(i),k0(i,s)}function k0(i,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Ai===null){if(i===null)throw Error(r(308));Ai=s,i.dependencies={lanes:0,firstContext:s},i.flags|=524288}else Ai=Ai.next=s;return o}var wN=typeof AbortController<"u"?AbortController:function(){var i=[],s=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){s.aborted=!0,i.forEach(function(o){return o()})}},TN=t.unstable_scheduleCallback,EN=t.unstable_NormalPriority,$t={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Bm(){return{controller:new wN,data:new Map,refCount:0}}function ou(i){i.refCount--,i.refCount===0&&TN(EN,function(){i.controller.abort()})}var lu=null,Fm=0,ko=0,Po=null;function xN(i,s){if(lu===null){var o=lu=[];Fm=0,ko=qp(),Po={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Fm++,s.then(P0,P0),s}function P0(){if(--Fm===0&&lu!==null){Po!==null&&(Po.status="fulfilled");var i=lu;lu=null,ko=0,Po=null;for(var s=0;s<i.length;s++)(0,i[s])()}}function SN(i,s){var o=[],c={status:"pending",value:null,reason:null,then:function(p){o.push(p)}};return i.then(function(){c.status="fulfilled",c.value=s;for(var p=0;p<o.length;p++)(0,o[p])(s)},function(p){for(c.status="rejected",c.reason=p,p=0;p<o.length;p++)(0,o[p])(void 0)}),c}var D0=K.S;K.S=function(i,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&xN(i,s),D0!==null&&D0(i,s)};var Na=X(null);function zm(){var i=Na.current;return i!==null?i:gt.pooledCache}function Rh(i,s){s===null?se(Na,Na.current):se(Na,s.pool)}function O0(){var i=zm();return i===null?null:{parent:$t._currentValue,pool:i}}var uu=Error(r(460)),M0=Error(r(474)),Ch=Error(r(542)),qm={then:function(){}};function V0(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ih(){}function j0(i,s,o){switch(o=i[o],o===void 0?i.push(s):o!==s&&(s.then(Ih,Ih),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i;default:if(typeof s.status=="string")s.then(Ih,Ih);else{if(i=gt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=s,i.status="pending",i.then(function(c){if(s.status==="pending"){var p=s;p.status="fulfilled",p.value=c}},function(c){if(s.status==="pending"){var p=s;p.status="rejected",p.reason=c}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw i=s.reason,U0(i),i}throw cu=s,uu}}var cu=null;function L0(){if(cu===null)throw Error(r(459));var i=cu;return cu=null,i}function U0(i){if(i===uu||i===Ch)throw Error(r(483))}var cs=!1;function Hm(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gm(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function hs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ds(i,s,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(lt&2)!==0){var p=c.pending;return p===null?s.next=s:(s.next=p.next,p.next=s),c.pending=s,s=wh(i),S0(i,null,o),s}return bh(i,c,s,o),wh(i)}function hu(i,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ul(i,o)}}function $m(i,s){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var p=null,y=null;if(o=o.firstBaseUpdate,o!==null){do{var E={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,o=o.next}while(o!==null);y===null?p=y=s:y=y.next=s}else p=y=s;o={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=s:i.next=s,o.lastBaseUpdate=s}var Km=!1;function du(){if(Km){var i=Po;if(i!==null)throw i}}function fu(i,s,o,c){Km=!1;var p=i.updateQueue;cs=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,C=p.shared.pending;if(C!==null){p.shared.pending=null;var z=C,J=z.next;z.next=null,E===null?y=J:E.next=J,E=z;var ae=i.alternate;ae!==null&&(ae=ae.updateQueue,C=ae.lastBaseUpdate,C!==E&&(C===null?ae.firstBaseUpdate=J:C.next=J,ae.lastBaseUpdate=z))}if(y!==null){var ce=p.baseState;E=0,ae=J=z=null,C=y;do{var Z=C.lane&-536870913,ee=Z!==C.lane;if(ee?(Je&Z)===Z:(c&Z)===Z){Z!==0&&Z===ko&&(Km=!0),ae!==null&&(ae=ae.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var ke=i,Re=C;Z=s;var mt=o;switch(Re.tag){case 1:if(ke=Re.payload,typeof ke=="function"){ce=ke.call(mt,ce,Z);break e}ce=ke;break e;case 3:ke.flags=ke.flags&-65537|128;case 0:if(ke=Re.payload,Z=typeof ke=="function"?ke.call(mt,ce,Z):ke,Z==null)break e;ce=g({},ce,Z);break e;case 2:cs=!0}}Z=C.callback,Z!==null&&(i.flags|=64,ee&&(i.flags|=8192),ee=p.callbacks,ee===null?p.callbacks=[Z]:ee.push(Z))}else ee={lane:Z,tag:C.tag,payload:C.payload,callback:C.callback,next:null},ae===null?(J=ae=ee,z=ce):ae=ae.next=ee,E|=Z;if(C=C.next,C===null){if(C=p.shared.pending,C===null)break;ee=C,C=ee.next,ee.next=null,p.lastBaseUpdate=ee,p.shared.pending=null}}while(!0);ae===null&&(z=ce),p.baseState=z,p.firstBaseUpdate=J,p.lastBaseUpdate=ae,y===null&&(p.shared.lanes=0),bs|=E,i.lanes=E,i.memoizedState=ce}}function B0(i,s){if(typeof i!="function")throw Error(r(191,i));i.call(s)}function F0(i,s){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)B0(o[i],s)}var Do=X(null),Nh=X(0);function z0(i,s){i=Oi,se(Nh,i),se(Do,s),Oi=i|s.baseLanes}function Ym(){se(Nh,Oi),se(Do,Do.current)}function Wm(){Oi=Nh.current,oe(Do),oe(Nh)}var fs=0,Be=null,dt=null,Ut=null,kh=!1,Oo=!1,ka=!1,Ph=0,mu=0,Mo=null,AN=0;function Pt(){throw Error(r(321))}function Qm(i,s){if(s===null)return!1;for(var o=0;o<s.length&&o<i.length;o++)if(!qn(i[o],s[o]))return!1;return!0}function Xm(i,s,o,c,p,y){return fs=y,Be=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,K.H=i===null||i.memoizedState===null?Sb:Ab,ka=!1,y=o(c,p),ka=!1,Oo&&(y=H0(s,o,c,p)),q0(i),y}function q0(i){K.H=Lh;var s=dt!==null&&dt.next!==null;if(fs=0,Ut=dt=Be=null,kh=!1,mu=0,Mo=null,s)throw Error(r(300));i===null||Zt||(i=i.dependencies,i!==null&&Sh(i)&&(Zt=!0))}function H0(i,s,o,c){Be=i;var p=0;do{if(Oo&&(Mo=null),mu=0,Oo=!1,25<=p)throw Error(r(301));if(p+=1,Ut=dt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}K.H=DN,y=s(o,c)}while(Oo);return y}function RN(){var i=K.H,s=i.useState()[0];return s=typeof s.then=="function"?pu(s):s,i=i.useState()[0],(dt!==null?dt.memoizedState:null)!==i&&(Be.flags|=1024),s}function Jm(){var i=Ph!==0;return Ph=0,i}function Zm(i,s,o){s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~o}function ep(i){if(kh){for(i=i.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}kh=!1}fs=0,Ut=dt=Be=null,Oo=!1,mu=Ph=0,Mo=null}function Pn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?Be.memoizedState=Ut=i:Ut=Ut.next=i,Ut}function Bt(){if(dt===null){var i=Be.alternate;i=i!==null?i.memoizedState:null}else i=dt.next;var s=Ut===null?Be.memoizedState:Ut.next;if(s!==null)Ut=s,dt=i;else{if(i===null)throw Be.alternate===null?Error(r(467)):Error(r(310));dt=i,i={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Ut===null?Be.memoizedState=Ut=i:Ut=Ut.next=i}return Ut}function tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(i){var s=mu;return mu+=1,Mo===null&&(Mo=[]),i=j0(Mo,i,s),s=Be,(Ut===null?s.memoizedState:Ut.next)===null&&(s=s.alternate,K.H=s===null||s.memoizedState===null?Sb:Ab),i}function Dh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return pu(i);if(i.$$typeof===O)return mn(i)}throw Error(r(438,String(i)))}function np(i){var s=null,o=Be.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var c=Be.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(s={data:c.data.map(function(p){return p.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=tp(),Be.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(i),c=0;c<i;c++)o[c]=j;return s.index++,o}function Ci(i,s){return typeof s=="function"?s(i):s}function Oh(i){var s=Bt();return rp(s,dt,i)}function rp(i,s,o){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=o;var p=i.baseQueue,y=c.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}s.baseQueue=p=y,c.pending=null}if(y=i.baseState,p===null)i.memoizedState=y;else{s=p.next;var C=E=null,z=null,J=s,ae=!1;do{var ce=J.lane&-536870913;if(ce!==J.lane?(Je&ce)===ce:(fs&ce)===ce){var Z=J.revertLane;if(Z===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ce===ko&&(ae=!0);else if((fs&Z)===Z){J=J.next,Z===ko&&(ae=!0);continue}else ce={lane:0,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(C=z=ce,E=y):z=z.next=ce,Be.lanes|=Z,bs|=Z;ce=J.action,ka&&o(y,ce),y=J.hasEagerState?J.eagerState:o(y,ce)}else Z={lane:ce,revertLane:J.revertLane,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},z===null?(C=z=Z,E=y):z=z.next=Z,Be.lanes|=ce,bs|=ce;J=J.next}while(J!==null&&J!==s);if(z===null?E=y:z.next=C,!qn(y,i.memoizedState)&&(Zt=!0,ae&&(o=Po,o!==null)))throw o;i.memoizedState=y,i.baseState=E,i.baseQueue=z,c.lastRenderedState=y}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function ip(i){var s=Bt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=i;var c=o.dispatch,p=o.pending,y=s.memoizedState;if(p!==null){o.pending=null;var E=p=p.next;do y=i(y,E.action),E=E.next;while(E!==p);qn(y,s.memoizedState)||(Zt=!0),s.memoizedState=y,s.baseQueue===null&&(s.baseState=y),o.lastRenderedState=y}return[y,c]}function G0(i,s,o){var c=Be,p=Bt(),y=nt;if(y){if(o===void 0)throw Error(r(407));o=o()}else o=s();var E=!qn((dt||p).memoizedState,o);E&&(p.memoizedState=o,Zt=!0),p=p.queue;var C=Y0.bind(null,c,p,i);if(gu(2048,8,C,[i]),p.getSnapshot!==s||E||Ut!==null&&Ut.memoizedState.tag&1){if(c.flags|=2048,Vo(9,Mh(),K0.bind(null,c,p,o,s),null),gt===null)throw Error(r(349));y||(fs&124)!==0||$0(c,s,o)}return o}function $0(i,s,o){i.flags|=16384,i={getSnapshot:s,value:o},s=Be.updateQueue,s===null?(s=tp(),Be.updateQueue=s,s.stores=[i]):(o=s.stores,o===null?s.stores=[i]:o.push(i))}function K0(i,s,o,c){s.value=o,s.getSnapshot=c,W0(s)&&Q0(i)}function Y0(i,s,o){return o(function(){W0(s)&&Q0(i)})}function W0(i){var s=i.getSnapshot;i=i.value;try{var o=s();return!qn(i,o)}catch{return!0}}function Q0(i){var s=Ro(i,2);s!==null&&Wn(s,i,2)}function sp(i){var s=Pn();if(typeof i=="function"){var o=i;if(i=o(),ka){Fn(!0);try{o()}finally{Fn(!1)}}}return s.memoizedState=s.baseState=i,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:i},s}function X0(i,s,o,c){return i.baseState=o,rp(i,dt,typeof c=="function"?c:Ci)}function CN(i,s,o,c,p){if(jh(i))throw Error(r(485));if(i=s.action,i!==null){var y={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};K.T!==null?o(!0):y.isTransition=!1,c(y),o=s.pending,o===null?(y.next=s.pending=y,J0(s,y)):(y.next=o.next,s.pending=o.next=y)}}function J0(i,s){var o=s.action,c=s.payload,p=i.state;if(s.isTransition){var y=K.T,E={};K.T=E;try{var C=o(p,c),z=K.S;z!==null&&z(E,C),Z0(i,s,C)}catch(J){ap(i,s,J)}finally{K.T=y}}else try{y=o(p,c),Z0(i,s,y)}catch(J){ap(i,s,J)}}function Z0(i,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){eb(i,s,c)},function(c){return ap(i,s,c)}):eb(i,s,o)}function eb(i,s,o){s.status="fulfilled",s.value=o,tb(s),i.state=o,s=i.pending,s!==null&&(o=s.next,o===s?i.pending=null:(o=o.next,s.next=o,J0(i,o)))}function ap(i,s,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do s.status="rejected",s.reason=o,tb(s),s=s.next;while(s!==c)}i.action=null}function tb(i){i=i.listeners;for(var s=0;s<i.length;s++)(0,i[s])()}function nb(i,s){return s}function rb(i,s){if(nt){var o=gt.formState;if(o!==null){e:{var c=Be;if(nt){if(At){t:{for(var p=At,y=Gr;p.nodeType!==8;){if(!y){p=null;break t}if(p=wr(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){At=wr(p.nextSibling),c=p.data==="F!";break e}}Ra(c)}c=!1}c&&(s=o[0])}}return o=Pn(),o.memoizedState=o.baseState=s,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:nb,lastRenderedState:s},o.queue=c,o=Tb.bind(null,Be,c),c.dispatch=o,c=sp(!1),y=hp.bind(null,Be,!1,c.queue),c=Pn(),p={state:s,dispatch:null,action:i,pending:null},c.queue=p,o=CN.bind(null,Be,p,y,o),p.dispatch=o,c.memoizedState=i,[s,o,!1]}function ib(i){var s=Bt();return sb(s,dt,i)}function sb(i,s,o){if(s=rp(i,s,nb)[0],i=Oh(Ci)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var c=pu(s)}catch(E){throw E===uu?Ch:E}else c=s;s=Bt();var p=s.queue,y=p.dispatch;return o!==s.memoizedState&&(Be.flags|=2048,Vo(9,Mh(),IN.bind(null,p,o),null)),[c,y,i]}function IN(i,s){i.action=s}function ab(i){var s=Bt(),o=dt;if(o!==null)return sb(s,o,i);Bt(),s=s.memoizedState,o=Bt();var c=o.queue.dispatch;return o.memoizedState=i,[s,c,!1]}function Vo(i,s,o,c){return i={tag:i,create:o,deps:c,inst:s,next:null},s=Be.updateQueue,s===null&&(s=tp(),Be.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,s.lastEffect=i),i}function Mh(){return{destroy:void 0,resource:void 0}}function ob(){return Bt().memoizedState}function Vh(i,s,o,c){var p=Pn();c=c===void 0?null:c,Be.flags|=i,p.memoizedState=Vo(1|s,Mh(),o,c)}function gu(i,s,o,c){var p=Bt();c=c===void 0?null:c;var y=p.memoizedState.inst;dt!==null&&c!==null&&Qm(c,dt.memoizedState.deps)?p.memoizedState=Vo(s,y,o,c):(Be.flags|=i,p.memoizedState=Vo(1|s,y,o,c))}function lb(i,s){Vh(8390656,8,i,s)}function ub(i,s){gu(2048,8,i,s)}function cb(i,s){return gu(4,2,i,s)}function hb(i,s){return gu(4,4,i,s)}function db(i,s){if(typeof s=="function"){i=i();var o=s(i);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function fb(i,s,o){o=o!=null?o.concat([i]):null,gu(4,4,db.bind(null,s,i),o)}function op(){}function mb(i,s){var o=Bt();s=s===void 0?null:s;var c=o.memoizedState;return s!==null&&Qm(s,c[1])?c[0]:(o.memoizedState=[i,s],i)}function pb(i,s){var o=Bt();s=s===void 0?null:s;var c=o.memoizedState;if(s!==null&&Qm(s,c[1]))return c[0];if(c=i(),ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c}function lp(i,s,o){return o===void 0||(fs&1073741824)!==0?i.memoizedState=s:(i.memoizedState=o,i=vw(),Be.lanes|=i,bs|=i,o)}function gb(i,s,o,c){return qn(o,s)?o:Do.current!==null?(i=lp(i,o,c),qn(i,s)||(Zt=!0),i):(fs&42)===0?(Zt=!0,i.memoizedState=o):(i=vw(),Be.lanes|=i,bs|=i,s)}function yb(i,s,o,c,p){var y=ie.p;ie.p=y!==0&&8>y?y:8;var E=K.T,C={};K.T=C,hp(i,!1,s,o);try{var z=p(),J=K.S;if(J!==null&&J(C,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var ae=SN(z,c);yu(i,s,ae,Yn(i))}else yu(i,s,c,Yn(i))}catch(ce){yu(i,s,{then:function(){},status:"rejected",reason:ce},Yn())}finally{ie.p=y,K.T=E}}function NN(){}function up(i,s,o,c){if(i.tag!==5)throw Error(r(476));var p=vb(i).queue;yb(i,p,s,fe,o===null?NN:function(){return _b(i),o(c)})}function vb(i){var s=i.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:fe},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:o},next:null},i.memoizedState=s,i=i.alternate,i!==null&&(i.memoizedState=s),s}function _b(i){var s=vb(i).next.queue;yu(i,s,{},Yn())}function cp(){return mn(Mu)}function bb(){return Bt().memoizedState}function wb(){return Bt().memoizedState}function kN(i){for(var s=i.return;s!==null;){switch(s.tag){case 24:case 3:var o=Yn();i=hs(o);var c=ds(s,i,o);c!==null&&(Wn(c,s,o),hu(c,s,o)),s={cache:Bm()},i.payload=s;return}s=s.return}}function PN(i,s,o){var c=Yn();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},jh(i)?Eb(s,o):(o=Nm(i,s,o,c),o!==null&&(Wn(o,i,c),xb(o,s,c)))}function Tb(i,s,o){var c=Yn();yu(i,s,o,c)}function yu(i,s,o,c){var p={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(jh(i))Eb(s,p);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=s.lastRenderedReducer,y!==null))try{var E=s.lastRenderedState,C=y(E,o);if(p.hasEagerState=!0,p.eagerState=C,qn(C,E))return bh(i,s,p,0),gt===null&&_h(),!1}catch{}finally{}if(o=Nm(i,s,p,c),o!==null)return Wn(o,i,c),xb(o,s,c),!0}return!1}function hp(i,s,o,c){if(c={lane:2,revertLane:qp(),action:c,hasEagerState:!1,eagerState:null,next:null},jh(i)){if(s)throw Error(r(479))}else s=Nm(i,o,c,2),s!==null&&Wn(s,i,2)}function jh(i){var s=i.alternate;return i===Be||s!==null&&s===Be}function Eb(i,s){Oo=kh=!0;var o=i.pending;o===null?s.next=s:(s.next=o.next,o.next=s),i.pending=s}function xb(i,s,o){if((o&4194048)!==0){var c=s.lanes;c&=i.pendingLanes,o|=c,s.lanes=o,Ul(i,o)}}var Lh={readContext:mn,use:Dh,useCallback:Pt,useContext:Pt,useEffect:Pt,useImperativeHandle:Pt,useLayoutEffect:Pt,useInsertionEffect:Pt,useMemo:Pt,useReducer:Pt,useRef:Pt,useState:Pt,useDebugValue:Pt,useDeferredValue:Pt,useTransition:Pt,useSyncExternalStore:Pt,useId:Pt,useHostTransitionStatus:Pt,useFormState:Pt,useActionState:Pt,useOptimistic:Pt,useMemoCache:Pt,useCacheRefresh:Pt},Sb={readContext:mn,use:Dh,useCallback:function(i,s){return Pn().memoizedState=[i,s===void 0?null:s],i},useContext:mn,useEffect:lb,useImperativeHandle:function(i,s,o){o=o!=null?o.concat([i]):null,Vh(4194308,4,db.bind(null,s,i),o)},useLayoutEffect:function(i,s){return Vh(4194308,4,i,s)},useInsertionEffect:function(i,s){Vh(4,2,i,s)},useMemo:function(i,s){var o=Pn();s=s===void 0?null:s;var c=i();if(ka){Fn(!0);try{i()}finally{Fn(!1)}}return o.memoizedState=[c,s],c},useReducer:function(i,s,o){var c=Pn();if(o!==void 0){var p=o(s);if(ka){Fn(!0);try{o(s)}finally{Fn(!1)}}}else p=s;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=PN.bind(null,Be,i),[c.memoizedState,i]},useRef:function(i){var s=Pn();return i={current:i},s.memoizedState=i},useState:function(i){i=sp(i);var s=i.queue,o=Tb.bind(null,Be,s);return s.dispatch=o,[i.memoizedState,o]},useDebugValue:op,useDeferredValue:function(i,s){var o=Pn();return lp(o,i,s)},useTransition:function(){var i=sp(!1);return i=yb.bind(null,Be,i.queue,!0,!1),Pn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,s,o){var c=Be,p=Pn();if(nt){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),gt===null)throw Error(r(349));(Je&124)!==0||$0(c,s,o)}p.memoizedState=o;var y={value:o,getSnapshot:s};return p.queue=y,lb(Y0.bind(null,c,y,i),[i]),c.flags|=2048,Vo(9,Mh(),K0.bind(null,c,y,o,s),null),o},useId:function(){var i=Pn(),s=gt.identifierPrefix;if(nt){var o=Si,c=xi;o=(c&~(1<<32-fn(c)-1)).toString(32)+o,s=""+s+"R"+o,o=Ph++,0<o&&(s+="H"+o.toString(32)),s+=""}else o=AN++,s=""+s+"r"+o.toString(32)+"";return i.memoizedState=s},useHostTransitionStatus:cp,useFormState:rb,useActionState:rb,useOptimistic:function(i){var s=Pn();s.memoizedState=s.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=hp.bind(null,Be,!0,o),o.dispatch=s,[i,s]},useMemoCache:np,useCacheRefresh:function(){return Pn().memoizedState=kN.bind(null,Be)}},Ab={readContext:mn,use:Dh,useCallback:mb,useContext:mn,useEffect:ub,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:pb,useReducer:Oh,useRef:ob,useState:function(){return Oh(Ci)},useDebugValue:op,useDeferredValue:function(i,s){var o=Bt();return gb(o,dt.memoizedState,i,s)},useTransition:function(){var i=Oh(Ci)[0],s=Bt().memoizedState;return[typeof i=="boolean"?i:pu(i),s]},useSyncExternalStore:G0,useId:bb,useHostTransitionStatus:cp,useFormState:ib,useActionState:ib,useOptimistic:function(i,s){var o=Bt();return X0(o,dt,i,s)},useMemoCache:np,useCacheRefresh:wb},DN={readContext:mn,use:Dh,useCallback:mb,useContext:mn,useEffect:ub,useImperativeHandle:fb,useInsertionEffect:cb,useLayoutEffect:hb,useMemo:pb,useReducer:ip,useRef:ob,useState:function(){return ip(Ci)},useDebugValue:op,useDeferredValue:function(i,s){var o=Bt();return dt===null?lp(o,i,s):gb(o,dt.memoizedState,i,s)},useTransition:function(){var i=ip(Ci)[0],s=Bt().memoizedState;return[typeof i=="boolean"?i:pu(i),s]},useSyncExternalStore:G0,useId:bb,useHostTransitionStatus:cp,useFormState:ab,useActionState:ab,useOptimistic:function(i,s){var o=Bt();return dt!==null?X0(o,dt,i,s):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:np,useCacheRefresh:wb},jo=null,vu=0;function Uh(i){var s=vu;return vu+=1,jo===null&&(jo=[]),j0(jo,i,s)}function _u(i,s){s=s.props.ref,i.ref=s!==void 0?s:null}function Bh(i,s){throw s.$$typeof===v?Error(r(525)):(i=Object.prototype.toString.call(s),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i)))}function Rb(i){var s=i._init;return s(i._payload)}function Cb(i){function s(Y,$){if(i){var Q=Y.deletions;Q===null?(Y.deletions=[$],Y.flags|=16):Q.push($)}}function o(Y,$){if(!i)return null;for(;$!==null;)s(Y,$),$=$.sibling;return null}function c(Y){for(var $=new Map;Y!==null;)Y.key!==null?$.set(Y.key,Y):$.set(Y.index,Y),Y=Y.sibling;return $}function p(Y,$){return Y=Ei(Y,$),Y.index=0,Y.sibling=null,Y}function y(Y,$,Q){return Y.index=Q,i?(Q=Y.alternate,Q!==null?(Q=Q.index,Q<$?(Y.flags|=67108866,$):Q):(Y.flags|=67108866,$)):(Y.flags|=1048576,$)}function E(Y){return i&&Y.alternate===null&&(Y.flags|=67108866),Y}function C(Y,$,Q,ue){return $===null||$.tag!==6?($=Pm(Q,Y.mode,ue),$.return=Y,$):($=p($,Q),$.return=Y,$)}function z(Y,$,Q,ue){var we=Q.type;return we===S?ae(Y,$,Q.props.children,ue,Q.key):$!==null&&($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Rb(we)===$.type)?($=p($,Q.props),_u($,Q),$.return=Y,$):($=Th(Q.type,Q.key,Q.props,null,Y.mode,ue),_u($,Q),$.return=Y,$)}function J(Y,$,Q,ue){return $===null||$.tag!==4||$.stateNode.containerInfo!==Q.containerInfo||$.stateNode.implementation!==Q.implementation?($=Dm(Q,Y.mode,ue),$.return=Y,$):($=p($,Q.children||[]),$.return=Y,$)}function ae(Y,$,Q,ue,we){return $===null||$.tag!==7?($=Ea(Q,Y.mode,ue,we),$.return=Y,$):($=p($,Q),$.return=Y,$)}function ce(Y,$,Q){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return $=Pm(""+$,Y.mode,Q),$.return=Y,$;if(typeof $=="object"&&$!==null){switch($.$$typeof){case w:return Q=Th($.type,$.key,$.props,null,Y.mode,Q),_u(Q,$),Q.return=Y,Q;case x:return $=Dm($,Y.mode,Q),$.return=Y,$;case A:var ue=$._init;return $=ue($._payload),ce(Y,$,Q)}if(pe($)||q($))return $=Ea($,Y.mode,Q,null),$.return=Y,$;if(typeof $.then=="function")return ce(Y,Uh($),Q);if($.$$typeof===O)return ce(Y,Ah(Y,$),Q);Bh(Y,$)}return null}function Z(Y,$,Q,ue){var we=$!==null?$.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return we!==null?null:C(Y,$,""+Q,ue);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return Q.key===we?z(Y,$,Q,ue):null;case x:return Q.key===we?J(Y,$,Q,ue):null;case A:return we=Q._init,Q=we(Q._payload),Z(Y,$,Q,ue)}if(pe(Q)||q(Q))return we!==null?null:ae(Y,$,Q,ue,null);if(typeof Q.then=="function")return Z(Y,$,Uh(Q),ue);if(Q.$$typeof===O)return Z(Y,$,Ah(Y,Q),ue);Bh(Y,Q)}return null}function ee(Y,$,Q,ue,we){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Y=Y.get(Q)||null,C($,Y,""+ue,we);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case w:return Y=Y.get(ue.key===null?Q:ue.key)||null,z($,Y,ue,we);case x:return Y=Y.get(ue.key===null?Q:ue.key)||null,J($,Y,ue,we);case A:var qe=ue._init;return ue=qe(ue._payload),ee(Y,$,Q,ue,we)}if(pe(ue)||q(ue))return Y=Y.get(Q)||null,ae($,Y,ue,we,null);if(typeof ue.then=="function")return ee(Y,$,Q,Uh(ue),we);if(ue.$$typeof===O)return ee(Y,$,Q,Ah($,ue),we);Bh($,ue)}return null}function ke(Y,$,Q,ue){for(var we=null,qe=null,xe=$,Ce=$=0,tn=null;xe!==null&&Ce<Q.length;Ce++){xe.index>Ce?(tn=xe,xe=null):tn=xe.sibling;var tt=Z(Y,xe,Q[Ce],ue);if(tt===null){xe===null&&(xe=tn);break}i&&xe&&tt.alternate===null&&s(Y,xe),$=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt,xe=tn}if(Ce===Q.length)return o(Y,xe),nt&&Sa(Y,Ce),we;if(xe===null){for(;Ce<Q.length;Ce++)xe=ce(Y,Q[Ce],ue),xe!==null&&($=y(xe,$,Ce),qe===null?we=xe:qe.sibling=xe,qe=xe);return nt&&Sa(Y,Ce),we}for(xe=c(xe);Ce<Q.length;Ce++)tn=ee(xe,Y,Ce,Q[Ce],ue),tn!==null&&(i&&tn.alternate!==null&&xe.delete(tn.key===null?Ce:tn.key),$=y(tn,$,Ce),qe===null?we=tn:qe.sibling=tn,qe=tn);return i&&xe.forEach(function(Is){return s(Y,Is)}),nt&&Sa(Y,Ce),we}function Re(Y,$,Q,ue){if(Q==null)throw Error(r(151));for(var we=null,qe=null,xe=$,Ce=$=0,tn=null,tt=Q.next();xe!==null&&!tt.done;Ce++,tt=Q.next()){xe.index>Ce?(tn=xe,xe=null):tn=xe.sibling;var Is=Z(Y,xe,tt.value,ue);if(Is===null){xe===null&&(xe=tn);break}i&&xe&&Is.alternate===null&&s(Y,xe),$=y(Is,$,Ce),qe===null?we=Is:qe.sibling=Is,qe=Is,xe=tn}if(tt.done)return o(Y,xe),nt&&Sa(Y,Ce),we;if(xe===null){for(;!tt.done;Ce++,tt=Q.next())tt=ce(Y,tt.value,ue),tt!==null&&($=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt);return nt&&Sa(Y,Ce),we}for(xe=c(xe);!tt.done;Ce++,tt=Q.next())tt=ee(xe,Y,Ce,tt.value,ue),tt!==null&&(i&&tt.alternate!==null&&xe.delete(tt.key===null?Ce:tt.key),$=y(tt,$,Ce),qe===null?we=tt:qe.sibling=tt,qe=tt);return i&&xe.forEach(function(Ok){return s(Y,Ok)}),nt&&Sa(Y,Ce),we}function mt(Y,$,Q,ue){if(typeof Q=="object"&&Q!==null&&Q.type===S&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:e:{for(var we=Q.key;$!==null;){if($.key===we){if(we=Q.type,we===S){if($.tag===7){o(Y,$.sibling),ue=p($,Q.props.children),ue.return=Y,Y=ue;break e}}else if($.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===A&&Rb(we)===$.type){o(Y,$.sibling),ue=p($,Q.props),_u(ue,Q),ue.return=Y,Y=ue;break e}o(Y,$);break}else s(Y,$);$=$.sibling}Q.type===S?(ue=Ea(Q.props.children,Y.mode,ue,Q.key),ue.return=Y,Y=ue):(ue=Th(Q.type,Q.key,Q.props,null,Y.mode,ue),_u(ue,Q),ue.return=Y,Y=ue)}return E(Y);case x:e:{for(we=Q.key;$!==null;){if($.key===we)if($.tag===4&&$.stateNode.containerInfo===Q.containerInfo&&$.stateNode.implementation===Q.implementation){o(Y,$.sibling),ue=p($,Q.children||[]),ue.return=Y,Y=ue;break e}else{o(Y,$);break}else s(Y,$);$=$.sibling}ue=Dm(Q,Y.mode,ue),ue.return=Y,Y=ue}return E(Y);case A:return we=Q._init,Q=we(Q._payload),mt(Y,$,Q,ue)}if(pe(Q))return ke(Y,$,Q,ue);if(q(Q)){if(we=q(Q),typeof we!="function")throw Error(r(150));return Q=we.call(Q),Re(Y,$,Q,ue)}if(typeof Q.then=="function")return mt(Y,$,Uh(Q),ue);if(Q.$$typeof===O)return mt(Y,$,Ah(Y,Q),ue);Bh(Y,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,$!==null&&$.tag===6?(o(Y,$.sibling),ue=p($,Q),ue.return=Y,Y=ue):(o(Y,$),ue=Pm(Q,Y.mode,ue),ue.return=Y,Y=ue),E(Y)):o(Y,$)}return function(Y,$,Q,ue){try{vu=0;var we=mt(Y,$,Q,ue);return jo=null,we}catch(xe){if(xe===uu||xe===Ch)throw xe;var qe=Hn(29,xe,null,Y.mode);return qe.lanes=ue,qe.return=Y,qe}finally{}}}var Lo=Cb(!0),Ib=Cb(!1),ur=X(null),$r=null;function ms(i){var s=i.alternate;se(Kt,Kt.current&1),se(ur,i),$r===null&&(s===null||Do.current!==null||s.memoizedState!==null)&&($r=i)}function Nb(i){if(i.tag===22){if(se(Kt,Kt.current),se(ur,i),$r===null){var s=i.alternate;s!==null&&s.memoizedState!==null&&($r=i)}}else ps()}function ps(){se(Kt,Kt.current),se(ur,ur.current)}function Ii(i){oe(ur),$r===i&&($r=null),oe(Kt)}var Kt=X(0);function Fh(i){for(var s=i;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||tg(o)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function dp(i,s,o,c){s=i.memoizedState,o=o(c,s),o=o==null?s:g({},s,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var fp={enqueueSetState:function(i,s,o){i=i._reactInternals;var c=Yn(),p=hs(c);p.payload=s,o!=null&&(p.callback=o),s=ds(i,p,c),s!==null&&(Wn(s,i,c),hu(s,i,c))},enqueueReplaceState:function(i,s,o){i=i._reactInternals;var c=Yn(),p=hs(c);p.tag=1,p.payload=s,o!=null&&(p.callback=o),s=ds(i,p,c),s!==null&&(Wn(s,i,c),hu(s,i,c))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var o=Yn(),c=hs(o);c.tag=2,s!=null&&(c.callback=s),s=ds(i,c,o),s!==null&&(Wn(s,i,o),hu(s,i,o))}};function kb(i,s,o,c,p,y,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,E):s.prototype&&s.prototype.isPureReactComponent?!tu(o,c)||!tu(p,y):!0}function Pb(i,s,o,c){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,c),s.state!==i&&fp.enqueueReplaceState(s,s.state,null)}function Pa(i,s){var o=s;if("ref"in s){o={};for(var c in s)c!=="ref"&&(o[c]=s[c])}if(i=i.defaultProps){o===s&&(o=g({},o));for(var p in i)o[p]===void 0&&(o[p]=i[p])}return o}var zh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Db(i){zh(i)}function Ob(i){console.error(i)}function Mb(i){zh(i)}function qh(i,s){try{var o=i.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(c){setTimeout(function(){throw c})}}function Vb(i,s,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function mp(i,s,o){return o=hs(o),o.tag=3,o.payload={element:null},o.callback=function(){qh(i,s)},o}function jb(i){return i=hs(i),i.tag=3,i}function Lb(i,s,o,c){var p=o.type.getDerivedStateFromError;if(typeof p=="function"){var y=c.value;i.payload=function(){return p(y)},i.callback=function(){Vb(s,o,c)}}var E=o.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(i.callback=function(){Vb(s,o,c),typeof p!="function"&&(ws===null?ws=new Set([this]):ws.add(this));var C=c.stack;this.componentDidCatch(c.value,{componentStack:C!==null?C:""})})}function ON(i,s,o,c,p){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(s=o.alternate,s!==null&&au(s,o,p,!0),o=ur.current,o!==null){switch(o.tag){case 13:return $r===null?Lp():o.alternate===null&&Rt===0&&(Rt=3),o.flags&=-257,o.flags|=65536,o.lanes=p,c===qm?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([c]):s.add(c),Bp(i,c,p)),!1;case 22:return o.flags|=65536,c===qm?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([c]):o.add(c)),Bp(i,c,p)),!1}throw Error(r(435,o.tag))}return Bp(i,c,p),Lp(),!1}if(nt)return s=ur.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=p,c!==Vm&&(i=Error(r(422),{cause:c}),su(sr(i,o)))):(c!==Vm&&(s=Error(r(423),{cause:c}),su(sr(s,o))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=sr(c,o),p=mp(i.stateNode,c,p),$m(i,p),Rt!==4&&(Rt=2)),!1;var y=Error(r(520),{cause:c});if(y=sr(y,o),Au===null?Au=[y]:Au.push(y),Rt!==4&&(Rt=2),s===null)return!0;c=sr(c,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,i=p&-p,o.lanes|=i,i=mp(o.stateNode,c,i),$m(o,i),!1;case 1:if(s=o.type,y=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ws===null||!ws.has(y))))return o.flags|=65536,p&=-p,o.lanes|=p,p=jb(p),Lb(p,i,o,c),$m(o,p),!1}o=o.return}while(o!==null);return!1}var Ub=Error(r(461)),Zt=!1;function an(i,s,o,c){s.child=i===null?Ib(s,null,o,c):Lo(s,i.child,o,c)}function Bb(i,s,o,c,p){o=o.render;var y=s.ref;if("ref"in c){var E={};for(var C in c)C!=="ref"&&(E[C]=c[C])}else E=c;return Ia(s),c=Xm(i,s,o,E,y,p),C=Jm(),i!==null&&!Zt?(Zm(i,s,p),Ni(i,s,p)):(nt&&C&&Om(s),s.flags|=1,an(i,s,c,p),s.child)}function Fb(i,s,o,c,p){if(i===null){var y=o.type;return typeof y=="function"&&!km(y)&&y.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=y,zb(i,s,y,c,p)):(i=Th(o.type,null,c,s,s.mode,p),i.ref=s.ref,i.return=s,s.child=i)}if(y=i.child,!Tp(i,p)){var E=y.memoizedProps;if(o=o.compare,o=o!==null?o:tu,o(E,c)&&i.ref===s.ref)return Ni(i,s,p)}return s.flags|=1,i=Ei(y,c),i.ref=s.ref,i.return=s,s.child=i}function zb(i,s,o,c,p){if(i!==null){var y=i.memoizedProps;if(tu(y,c)&&i.ref===s.ref)if(Zt=!1,s.pendingProps=c=y,Tp(i,p))(i.flags&131072)!==0&&(Zt=!0);else return s.lanes=i.lanes,Ni(i,s,p)}return pp(i,s,o,c,p)}function qb(i,s,o){var c=s.pendingProps,p=c.children,y=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((s.flags&128)!==0){if(c=y!==null?y.baseLanes|o:o,i!==null){for(p=s.child=i.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;s.childLanes=y&~c}else s.childLanes=0,s.child=null;return Hb(i,s,c,o)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},i!==null&&Rh(s,y!==null?y.cachePool:null),y!==null?z0(s,y):Ym(),Nb(s);else return s.lanes=s.childLanes=536870912,Hb(i,s,y!==null?y.baseLanes|o:o,o)}else y!==null?(Rh(s,y.cachePool),z0(s,y),ps(),s.memoizedState=null):(i!==null&&Rh(s,null),Ym(),ps());return an(i,s,p,o),s.child}function Hb(i,s,o,c){var p=zm();return p=p===null?null:{parent:$t._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},i!==null&&Rh(s,null),Ym(),Nb(s),i!==null&&au(i,s,c,!0),null}function Hh(i,s){var o=s.ref;if(o===null)i!==null&&i.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(i===null||i.ref!==o)&&(s.flags|=4194816)}}function pp(i,s,o,c,p){return Ia(s),o=Xm(i,s,o,c,void 0,p),c=Jm(),i!==null&&!Zt?(Zm(i,s,p),Ni(i,s,p)):(nt&&c&&Om(s),s.flags|=1,an(i,s,o,p),s.child)}function Gb(i,s,o,c,p,y){return Ia(s),s.updateQueue=null,o=H0(s,c,o,p),q0(i),c=Jm(),i!==null&&!Zt?(Zm(i,s,y),Ni(i,s,y)):(nt&&c&&Om(s),s.flags|=1,an(i,s,o,y),s.child)}function $b(i,s,o,c,p){if(Ia(s),s.stateNode===null){var y=Co,E=o.contextType;typeof E=="object"&&E!==null&&(y=mn(E)),y=new o(c,y),s.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=fp,s.stateNode=y,y._reactInternals=s,y=s.stateNode,y.props=c,y.state=s.memoizedState,y.refs={},Hm(s),E=o.contextType,y.context=typeof E=="object"&&E!==null?mn(E):Co,y.state=s.memoizedState,E=o.getDerivedStateFromProps,typeof E=="function"&&(dp(s,o,E,c),y.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&fp.enqueueReplaceState(y,y.state,null),fu(s,c,y,p),du(),y.state=s.memoizedState),typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!0}else if(i===null){y=s.stateNode;var C=s.memoizedProps,z=Pa(o,C);y.props=z;var J=y.context,ae=o.contextType;E=Co,typeof ae=="object"&&ae!==null&&(E=mn(ae));var ce=o.getDerivedStateFromProps;ae=typeof ce=="function"||typeof y.getSnapshotBeforeUpdate=="function",C=s.pendingProps!==C,ae||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C||J!==E)&&Pb(s,y,c,E),cs=!1;var Z=s.memoizedState;y.state=Z,fu(s,c,y,p),du(),J=s.memoizedState,C||Z!==J||cs?(typeof ce=="function"&&(dp(s,o,ce,c),J=s.memoizedState),(z=cs||kb(s,o,z,c,Z,J,E))?(ae||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(s.flags|=4194308)):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=J),y.props=c,y.state=J,y.context=E,c=z):(typeof y.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{y=s.stateNode,Gm(i,s),E=s.memoizedProps,ae=Pa(o,E),y.props=ae,ce=s.pendingProps,Z=y.context,J=o.contextType,z=Co,typeof J=="object"&&J!==null&&(z=mn(J)),C=o.getDerivedStateFromProps,(J=typeof C=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ce||Z!==z)&&Pb(s,y,c,z),cs=!1,Z=s.memoizedState,y.state=Z,fu(s,c,y,p),du();var ee=s.memoizedState;E!==ce||Z!==ee||cs||i!==null&&i.dependencies!==null&&Sh(i.dependencies)?(typeof C=="function"&&(dp(s,o,C,c),ee=s.memoizedState),(ae=cs||kb(s,o,ae,c,Z,ee,z)||i!==null&&i.dependencies!==null&&Sh(i.dependencies))?(J||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,ee,z),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,ee,z)),typeof y.componentDidUpdate=="function"&&(s.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=ee),y.props=c,y.state=ee,y.context=z,c=ae):(typeof y.componentDidUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),c=!1)}return y=c,Hh(i,s),c=(s.flags&128)!==0,y||c?(y=s.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:y.render(),s.flags|=1,i!==null&&c?(s.child=Lo(s,i.child,null,p),s.child=Lo(s,null,o,p)):an(i,s,o,p),s.memoizedState=y.state,i=s.child):i=Ni(i,s,p),i}function Kb(i,s,o,c){return iu(),s.flags|=256,an(i,s,o,c),s.child}var gp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yp(i){return{baseLanes:i,cachePool:O0()}}function vp(i,s,o){return i=i!==null?i.childLanes&~o:0,s&&(i|=cr),i}function Yb(i,s,o){var c=s.pendingProps,p=!1,y=(s.flags&128)!==0,E;if((E=y)||(E=i!==null&&i.memoizedState===null?!1:(Kt.current&2)!==0),E&&(p=!0,s.flags&=-129),E=(s.flags&32)!==0,s.flags&=-33,i===null){if(nt){if(p?ms(s):ps(),nt){var C=At,z;if(z=C){e:{for(z=C,C=Gr;z.nodeType!==8;){if(!C){C=null;break e}if(z=wr(z.nextSibling),z===null){C=null;break e}}C=z}C!==null?(s.memoizedState={dehydrated:C,treeContext:xa!==null?{id:xi,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},z=Hn(18,null,null,0),z.stateNode=C,z.return=s,s.child=z,In=s,At=null,z=!0):z=!1}z||Ra(s)}if(C=s.memoizedState,C!==null&&(C=C.dehydrated,C!==null))return tg(C)?s.lanes=32:s.lanes=536870912,null;Ii(s)}return C=c.children,c=c.fallback,p?(ps(),p=s.mode,C=Gh({mode:"hidden",children:C},p),c=Ea(c,p,o,null),C.return=s,c.return=s,C.sibling=c,s.child=C,p=s.child,p.memoizedState=yp(o),p.childLanes=vp(i,E,o),s.memoizedState=gp,c):(ms(s),_p(s,C))}if(z=i.memoizedState,z!==null&&(C=z.dehydrated,C!==null)){if(y)s.flags&256?(ms(s),s.flags&=-257,s=bp(i,s,o)):s.memoizedState!==null?(ps(),s.child=i.child,s.flags|=128,s=null):(ps(),p=c.fallback,C=s.mode,c=Gh({mode:"visible",children:c.children},C),p=Ea(p,C,o,null),p.flags|=2,c.return=s,p.return=s,c.sibling=p,s.child=c,Lo(s,i.child,null,o),c=s.child,c.memoizedState=yp(o),c.childLanes=vp(i,E,o),s.memoizedState=gp,s=p);else if(ms(s),tg(C)){if(E=C.nextSibling&&C.nextSibling.dataset,E)var J=E.dgst;E=J,c=Error(r(419)),c.stack="",c.digest=E,su({value:c,source:null,stack:null}),s=bp(i,s,o)}else if(Zt||au(i,s,o,!1),E=(o&i.childLanes)!==0,Zt||E){if(E=gt,E!==null&&(c=o&-o,c=(c&42)!==0?1:ns(c),c=(c&(E.suspendedLanes|o))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,Ro(i,c),Wn(E,i,c),Ub;C.data==="$?"||Lp(),s=bp(i,s,o)}else C.data==="$?"?(s.flags|=192,s.child=i.child,s=null):(i=z.treeContext,At=wr(C.nextSibling),In=s,nt=!0,Aa=null,Gr=!1,i!==null&&(or[lr++]=xi,or[lr++]=Si,or[lr++]=xa,xi=i.id,Si=i.overflow,xa=s),s=_p(s,c.children),s.flags|=4096);return s}return p?(ps(),p=c.fallback,C=s.mode,z=i.child,J=z.sibling,c=Ei(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,J!==null?p=Ei(J,p):(p=Ea(p,C,o,null),p.flags|=2),p.return=s,c.return=s,c.sibling=p,s.child=c,c=p,p=s.child,C=i.child.memoizedState,C===null?C=yp(o):(z=C.cachePool,z!==null?(J=$t._currentValue,z=z.parent!==J?{parent:J,pool:J}:z):z=O0(),C={baseLanes:C.baseLanes|o,cachePool:z}),p.memoizedState=C,p.childLanes=vp(i,E,o),s.memoizedState=gp,c):(ms(s),o=i.child,i=o.sibling,o=Ei(o,{mode:"visible",children:c.children}),o.return=s,o.sibling=null,i!==null&&(E=s.deletions,E===null?(s.deletions=[i],s.flags|=16):E.push(i)),s.child=o,s.memoizedState=null,o)}function _p(i,s){return s=Gh({mode:"visible",children:s},i.mode),s.return=i,i.child=s}function Gh(i,s){return i=Hn(22,i,null,s),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function bp(i,s,o){return Lo(s,i.child,null,o),i=_p(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function Wb(i,s,o){i.lanes|=s;var c=i.alternate;c!==null&&(c.lanes|=s),Lm(i.return,s,o)}function wp(i,s,o,c,p){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:p}:(y.isBackwards=s,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=o,y.tailMode=p)}function Qb(i,s,o){var c=s.pendingProps,p=c.revealOrder,y=c.tail;if(an(i,s,c.children,o),c=Kt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Wb(i,o,s);else if(i.tag===19)Wb(i,o,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(se(Kt,c),p){case"forwards":for(o=s.child,p=null;o!==null;)i=o.alternate,i!==null&&Fh(i)===null&&(p=o),o=o.sibling;o=p,o===null?(p=s.child,s.child=null):(p=o.sibling,o.sibling=null),wp(s,!1,p,o,y);break;case"backwards":for(o=null,p=s.child,s.child=null;p!==null;){if(i=p.alternate,i!==null&&Fh(i)===null){s.child=p;break}i=p.sibling,p.sibling=o,o=p,p=i}wp(s,!0,o,null,y);break;case"together":wp(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Ni(i,s,o){if(i!==null&&(s.dependencies=i.dependencies),bs|=s.lanes,(o&s.childLanes)===0)if(i!==null){if(au(i,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(i!==null&&s.child!==i.child)throw Error(r(153));if(s.child!==null){for(i=s.child,o=Ei(i,i.pendingProps),s.child=o,o.return=s;i.sibling!==null;)i=i.sibling,o=o.sibling=Ei(i,i.pendingProps),o.return=s;o.sibling=null}return s.child}function Tp(i,s){return(i.lanes&s)!==0?!0:(i=i.dependencies,!!(i!==null&&Sh(i)))}function MN(i,s,o){switch(s.tag){case 3:$e(s,s.stateNode.containerInfo),us(s,$t,i.memoizedState.cache),iu();break;case 27:case 5:Qt(s);break;case 4:$e(s,s.stateNode.containerInfo);break;case 10:us(s,s.type,s.memoizedProps.value);break;case 13:var c=s.memoizedState;if(c!==null)return c.dehydrated!==null?(ms(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Yb(i,s,o):(ms(s),i=Ni(i,s,o),i!==null?i.sibling:null);ms(s);break;case 19:var p=(i.flags&128)!==0;if(c=(o&s.childLanes)!==0,c||(au(i,s,o,!1),c=(o&s.childLanes)!==0),p){if(c)return Qb(i,s,o);s.flags|=128}if(p=s.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),se(Kt,Kt.current),c)break;return null;case 22:case 23:return s.lanes=0,qb(i,s,o);case 24:us(s,$t,i.memoizedState.cache)}return Ni(i,s,o)}function Xb(i,s,o){if(i!==null)if(i.memoizedProps!==s.pendingProps)Zt=!0;else{if(!Tp(i,o)&&(s.flags&128)===0)return Zt=!1,MN(i,s,o);Zt=(i.flags&131072)!==0}else Zt=!1,nt&&(s.flags&1048576)!==0&&R0(s,xh,s.index);switch(s.lanes=0,s.tag){case 16:e:{i=s.pendingProps;var c=s.elementType,p=c._init;if(c=p(c._payload),s.type=c,typeof c=="function")km(c)?(i=Pa(c,i),s.tag=1,s=$b(null,s,c,i,o)):(s.tag=0,s=pp(null,s,c,i,o));else{if(c!=null){if(p=c.$$typeof,p===G){s.tag=11,s=Bb(null,s,c,i,o);break e}else if(p===D){s.tag=14,s=Fb(null,s,c,i,o);break e}}throw s=re(c)||c,Error(r(306,s,""))}}return s;case 0:return pp(i,s,s.type,s.pendingProps,o);case 1:return c=s.type,p=Pa(c,s.pendingProps),$b(i,s,c,p,o);case 3:e:{if($e(s,s.stateNode.containerInfo),i===null)throw Error(r(387));c=s.pendingProps;var y=s.memoizedState;p=y.element,Gm(i,s),fu(s,c,null,o);var E=s.memoizedState;if(c=E.cache,us(s,$t,c),c!==y.cache&&Um(s,[$t],o,!0),du(),c=E.element,y.isDehydrated)if(y={element:c,isDehydrated:!1,cache:E.cache},s.updateQueue.baseState=y,s.memoizedState=y,s.flags&256){s=Kb(i,s,c,o);break e}else if(c!==p){p=sr(Error(r(424)),s),su(p),s=Kb(i,s,c,o);break e}else{switch(i=s.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(At=wr(i.firstChild),In=s,nt=!0,Aa=null,Gr=!0,o=Ib(s,null,c,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(iu(),c===p){s=Ni(i,s,o);break e}an(i,s,c,o)}s=s.child}return s;case 26:return Hh(i,s),i===null?(o=tT(s.type,null,s.pendingProps,null))?s.memoizedState=o:nt||(o=s.type,i=s.pendingProps,c=sd(Ee.current).createElement(o),c[qt]=s,c[jt]=i,ln(c,o,i),kt(c),s.stateNode=c):s.memoizedState=tT(s.type,i.memoizedProps,s.pendingProps,i.memoizedState),null;case 27:return Qt(s),i===null&&nt&&(c=s.stateNode=Jw(s.type,s.pendingProps,Ee.current),In=s,Gr=!0,p=At,xs(s.type)?(ng=p,At=wr(c.firstChild)):At=p),an(i,s,s.pendingProps.children,o),Hh(i,s),i===null&&(s.flags|=4194304),s.child;case 5:return i===null&&nt&&((p=c=At)&&(c=uk(c,s.type,s.pendingProps,Gr),c!==null?(s.stateNode=c,In=s,At=wr(c.firstChild),Gr=!1,p=!0):p=!1),p||Ra(s)),Qt(s),p=s.type,y=s.pendingProps,E=i!==null?i.memoizedProps:null,c=y.children,Jp(p,y)?c=null:E!==null&&Jp(p,E)&&(s.flags|=32),s.memoizedState!==null&&(p=Xm(i,s,RN,null,null,o),Mu._currentValue=p),Hh(i,s),an(i,s,c,o),s.child;case 6:return i===null&&nt&&((i=o=At)&&(o=ck(o,s.pendingProps,Gr),o!==null?(s.stateNode=o,In=s,At=null,i=!0):i=!1),i||Ra(s)),null;case 13:return Yb(i,s,o);case 4:return $e(s,s.stateNode.containerInfo),c=s.pendingProps,i===null?s.child=Lo(s,null,c,o):an(i,s,c,o),s.child;case 11:return Bb(i,s,s.type,s.pendingProps,o);case 7:return an(i,s,s.pendingProps,o),s.child;case 8:return an(i,s,s.pendingProps.children,o),s.child;case 12:return an(i,s,s.pendingProps.children,o),s.child;case 10:return c=s.pendingProps,us(s,s.type,c.value),an(i,s,c.children,o),s.child;case 9:return p=s.type._context,c=s.pendingProps.children,Ia(s),p=mn(p),c=c(p),s.flags|=1,an(i,s,c,o),s.child;case 14:return Fb(i,s,s.type,s.pendingProps,o);case 15:return zb(i,s,s.type,s.pendingProps,o);case 19:return Qb(i,s,o);case 31:return c=s.pendingProps,o=s.mode,c={mode:c.mode,children:c.children},i===null?(o=Gh(c,o),o.ref=s.ref,s.child=o,o.return=s,s=o):(o=Ei(i.child,c),o.ref=s.ref,s.child=o,o.return=s,s=o),s;case 22:return qb(i,s,o);case 24:return Ia(s),c=mn($t),i===null?(p=zm(),p===null&&(p=gt,y=Bm(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=o),p=y),s.memoizedState={parent:c,cache:p},Hm(s),us(s,$t,p)):((i.lanes&o)!==0&&(Gm(i,s),fu(s,null,null,o),du()),p=i.memoizedState,y=s.memoizedState,p.parent!==c?(p={parent:c,cache:c},s.memoizedState=p,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=p),us(s,$t,c)):(c=y.cache,us(s,$t,c),c!==p.cache&&Um(s,[$t],o,!0))),an(i,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ki(i){i.flags|=4}function Jb(i,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!aT(s)){if(s=ur.current,s!==null&&((Je&4194048)===Je?$r!==null:(Je&62914560)!==Je&&(Je&536870912)===0||s!==$r))throw cu=qm,M0;i.flags|=8192}}function $h(i,s){s!==null&&(i.flags|=4),i.flags&16384&&(s=i.tag!==22?jl():536870912,i.lanes|=s,zo|=s)}function bu(i,s){if(!nt)switch(i.tailMode){case"hidden":s=i.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function wt(i){var s=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(s)for(var p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)o|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=o,s}function VN(i,s,o){var c=s.pendingProps;switch(Mm(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wt(s),null;case 1:return wt(s),null;case 3:return o=s.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),s.memoizedState.cache!==c&&(s.flags|=2048),Ri($t),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(ru(s)?ki(s):i===null||i.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,N0())),wt(s),null;case 26:return o=s.memoizedState,i===null?(ki(s),o!==null?(wt(s),Jb(s,o)):(wt(s),s.flags&=-16777217)):o?o!==i.memoizedState?(ki(s),wt(s),Jb(s,o)):(wt(s),s.flags&=-16777217):(i.memoizedProps!==c&&ki(s),wt(s),s.flags&=-16777217),null;case 27:xn(s),o=Ee.current;var p=s.type;if(i!==null&&s.stateNode!=null)i.memoizedProps!==c&&ki(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}i=ye.current,ru(s)?C0(s):(i=Jw(p,c,o),s.stateNode=i,ki(s))}return wt(s),null;case 5:if(xn(s),o=s.type,i!==null&&s.stateNode!=null)i.memoizedProps!==c&&ki(s);else{if(!c){if(s.stateNode===null)throw Error(r(166));return wt(s),null}if(i=ye.current,ru(s))C0(s);else{switch(p=sd(Ee.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(o,{is:c.is}):p.createElement(o)}}i[qt]=s,i[jt]=c;e:for(p=s.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===s)break e;for(;p.sibling===null;){if(p.return===null||p.return===s)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}s.stateNode=i;e:switch(ln(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ki(s)}}return wt(s),s.flags&=-16777217,null;case 6:if(i&&s.stateNode!=null)i.memoizedProps!==c&&ki(s);else{if(typeof c!="string"&&s.stateNode===null)throw Error(r(166));if(i=Ee.current,ru(s)){if(i=s.stateNode,o=s.memoizedProps,c=null,p=In,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[qt]=s,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||Gw(i.nodeValue,o)),i||Ra(s)}else i=sd(i).createTextNode(c),i[qt]=s,s.stateNode=i}return wt(s),null;case 13:if(c=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=ru(s),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=s.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[qt]=s}else iu(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;wt(s),p=!1}else p=N0(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return s.flags&256?(Ii(s),s):(Ii(s),null)}if(Ii(s),(s.flags&128)!==0)return s.lanes=o,s;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=s.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==p&&(c.flags|=2048)}return o!==i&&o&&(s.child.flags|=8192),$h(s,s.updateQueue),wt(s),null;case 4:return je(),i===null&&Kp(s.stateNode.containerInfo),wt(s),null;case 10:return Ri(s.type),wt(s),null;case 19:if(oe(Kt),p=s.memoizedState,p===null)return wt(s),null;if(c=(s.flags&128)!==0,y=p.rendering,y===null)if(c)bu(p,!1);else{if(Rt!==0||i!==null&&(i.flags&128)!==0)for(i=s.child;i!==null;){if(y=Fh(i),y!==null){for(s.flags|=128,bu(p,!1),i=y.updateQueue,s.updateQueue=i,$h(s,i),s.subtreeFlags=0,i=o,o=s.child;o!==null;)A0(o,i),o=o.sibling;return se(Kt,Kt.current&1|2),s.child}i=i.sibling}p.tail!==null&&me()>Wh&&(s.flags|=128,c=!0,bu(p,!1),s.lanes=4194304)}else{if(!c)if(i=Fh(y),i!==null){if(s.flags|=128,c=!0,i=i.updateQueue,s.updateQueue=i,$h(s,i),bu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!nt)return wt(s),null}else 2*me()-p.renderingStartTime>Wh&&o!==536870912&&(s.flags|=128,c=!0,bu(p,!1),s.lanes=4194304);p.isBackwards?(y.sibling=s.child,s.child=y):(i=p.last,i!==null?i.sibling=y:s.child=y,p.last=y)}return p.tail!==null?(s=p.tail,p.rendering=s,p.tail=s.sibling,p.renderingStartTime=me(),s.sibling=null,i=Kt.current,se(Kt,c?i&1|2:i&1),s):(wt(s),null);case 22:case 23:return Ii(s),Wm(),c=s.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(s.flags|=8192):c&&(s.flags|=8192),c?(o&536870912)!==0&&(s.flags&128)===0&&(wt(s),s.subtreeFlags&6&&(s.flags|=8192)):wt(s),o=s.updateQueue,o!==null&&$h(s,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),c!==o&&(s.flags|=2048),i!==null&&oe(Na),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Ri($t),wt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jN(i,s){switch(Mm(s),s.tag){case 1:return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return Ri($t),je(),i=s.flags,(i&65536)!==0&&(i&128)===0?(s.flags=i&-65537|128,s):null;case 26:case 27:case 5:return xn(s),null;case 13:if(Ii(s),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(r(340));iu()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return oe(Kt),null;case 4:return je(),null;case 10:return Ri(s.type),null;case 22:case 23:return Ii(s),Wm(),i!==null&&oe(Na),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 24:return Ri($t),null;case 25:return null;default:return null}}function Zb(i,s){switch(Mm(s),s.tag){case 3:Ri($t),je();break;case 26:case 27:case 5:xn(s);break;case 4:je();break;case 13:Ii(s);break;case 19:oe(Kt);break;case 10:Ri(s.type);break;case 22:case 23:Ii(s),Wm(),i!==null&&oe(Na);break;case 24:Ri($t)}}function wu(i,s){try{var o=s.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var p=c.next;o=p;do{if((o.tag&i)===i){c=void 0;var y=o.create,E=o.inst;c=y(),E.destroy=c}o=o.next}while(o!==p)}}catch(C){pt(s,s.return,C)}}function gs(i,s,o){try{var c=s.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var y=p.next;c=y;do{if((c.tag&i)===i){var E=c.inst,C=E.destroy;if(C!==void 0){E.destroy=void 0,p=s;var z=o,J=C;try{J()}catch(ae){pt(p,z,ae)}}}c=c.next}while(c!==y)}}catch(ae){pt(s,s.return,ae)}}function ew(i){var s=i.updateQueue;if(s!==null){var o=i.stateNode;try{F0(s,o)}catch(c){pt(i,i.return,c)}}}function tw(i,s,o){o.props=Pa(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){pt(i,s,c)}}function Tu(i,s){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(p){pt(i,s,p)}}function Kr(i,s){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(p){pt(i,s,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(p){pt(i,s,p)}else o.current=null}function nw(i){var s=i.type,o=i.memoizedProps,c=i.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break e;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(p){pt(i,i.return,p)}}function Ep(i,s,o){try{var c=i.stateNode;ik(c,i.type,o,s),c[jt]=s}catch(p){pt(i,i.return,p)}}function rw(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xs(i.type)||i.tag===4}function xp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||rw(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xs(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Sp(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(i),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=id));else if(c!==4&&(c===27&&xs(i.type)&&(o=i.stateNode,s=null),i=i.child,i!==null))for(Sp(i,s,o),i=i.sibling;i!==null;)Sp(i,s,o),i=i.sibling}function Kh(i,s,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,s?o.insertBefore(i,s):o.appendChild(i);else if(c!==4&&(c===27&&xs(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Kh(i,s,o),i=i.sibling;i!==null;)Kh(i,s,o),i=i.sibling}function iw(i){var s=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,p=s.attributes;p.length;)s.removeAttributeNode(p[0]);ln(s,c,o),s[qt]=i,s[jt]=o}catch(y){pt(i,i.return,y)}}var Pi=!1,Dt=!1,Ap=!1,sw=typeof WeakSet=="function"?WeakSet:Set,en=null;function LN(i,s){if(i=i.containerInfo,Qp=hd,i=g0(i),xm(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var p=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{o.nodeType,y.nodeType}catch{o=null;break e}var E=0,C=-1,z=-1,J=0,ae=0,ce=i,Z=null;t:for(;;){for(var ee;ce!==o||p!==0&&ce.nodeType!==3||(C=E+p),ce!==y||c!==0&&ce.nodeType!==3||(z=E+c),ce.nodeType===3&&(E+=ce.nodeValue.length),(ee=ce.firstChild)!==null;)Z=ce,ce=ee;for(;;){if(ce===i)break t;if(Z===o&&++J===p&&(C=E),Z===y&&++ae===c&&(z=E),(ee=ce.nextSibling)!==null)break;ce=Z,Z=ce.parentNode}ce=ee}o=C===-1||z===-1?null:{start:C,end:z}}else o=null}o=o||{start:0,end:0}}else o=null;for(Xp={focusedElem:i,selectionRange:o},hd=!1,en=s;en!==null;)if(s=en,i=s.child,(s.subtreeFlags&1024)!==0&&i!==null)i.return=s,en=i;else for(;en!==null;){switch(s=en,y=s.alternate,i=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&y!==null){i=void 0,o=s,p=y.memoizedProps,y=y.memoizedState,c=o.stateNode;try{var ke=Pa(o.type,p,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(ke,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(Re){pt(o,o.return,Re)}}break;case 3:if((i&1024)!==0){if(i=s.stateNode.containerInfo,o=i.nodeType,o===9)eg(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=s.sibling,i!==null){i.return=s.return,en=i;break}en=s.return}}function aw(i,s,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ys(i,o),c&4&&wu(5,o);break;case 1:if(ys(i,o),c&4)if(i=o.stateNode,s===null)try{i.componentDidMount()}catch(E){pt(o,o.return,E)}else{var p=Pa(o.type,s.memoizedProps);s=s.memoizedState;try{i.componentDidUpdate(p,s,i.__reactInternalSnapshotBeforeUpdate)}catch(E){pt(o,o.return,E)}}c&64&&ew(o),c&512&&Tu(o,o.return);break;case 3:if(ys(i,o),c&64&&(i=o.updateQueue,i!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{F0(i,s)}catch(E){pt(o,o.return,E)}}break;case 27:s===null&&c&4&&iw(o);case 26:case 5:ys(i,o),s===null&&c&4&&nw(o),c&512&&Tu(o,o.return);break;case 12:ys(i,o);break;case 13:ys(i,o),c&4&&uw(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=KN.bind(null,o),hk(i,o))));break;case 22:if(c=o.memoizedState!==null||Pi,!c){s=s!==null&&s.memoizedState!==null||Dt,p=Pi;var y=Dt;Pi=c,(Dt=s)&&!y?vs(i,o,(o.subtreeFlags&8772)!==0):ys(i,o),Pi=p,Dt=y}break;case 30:break;default:ys(i,o)}}function ow(i){var s=i.alternate;s!==null&&(i.alternate=null,ow(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&ss(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var _t=null,Dn=!1;function Di(i,s,o){for(o=o.child;o!==null;)lw(i,s,o),o=o.sibling}function lw(i,s,o){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(St,o)}catch{}switch(o.tag){case 26:Dt||Kr(o,s),Di(i,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Dt||Kr(o,s);var c=_t,p=Dn;xs(o.type)&&(_t=o.stateNode,Dn=!1),Di(i,s,o),ku(o.stateNode),_t=c,Dn=p;break;case 5:Dt||Kr(o,s);case 6:if(c=_t,p=Dn,_t=null,Di(i,s,o),_t=c,Dn=p,_t!==null)if(Dn)try{(_t.nodeType===9?_t.body:_t.nodeName==="HTML"?_t.ownerDocument.body:_t).removeChild(o.stateNode)}catch(y){pt(o,s,y)}else try{_t.removeChild(o.stateNode)}catch(y){pt(o,s,y)}break;case 18:_t!==null&&(Dn?(i=_t,Qw(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Uu(i)):Qw(_t,o.stateNode));break;case 4:c=_t,p=Dn,_t=o.stateNode.containerInfo,Dn=!0,Di(i,s,o),_t=c,Dn=p;break;case 0:case 11:case 14:case 15:Dt||gs(2,o,s),Dt||gs(4,o,s),Di(i,s,o);break;case 1:Dt||(Kr(o,s),c=o.stateNode,typeof c.componentWillUnmount=="function"&&tw(o,s,c)),Di(i,s,o);break;case 21:Di(i,s,o);break;case 22:Dt=(c=Dt)||o.memoizedState!==null,Di(i,s,o),Dt=c;break;default:Di(i,s,o)}}function uw(i,s){if(s.memoizedState===null&&(i=s.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Uu(i)}catch(o){pt(s,s.return,o)}}function UN(i){switch(i.tag){case 13:case 19:var s=i.stateNode;return s===null&&(s=i.stateNode=new sw),s;case 22:return i=i.stateNode,s=i._retryCache,s===null&&(s=i._retryCache=new sw),s;default:throw Error(r(435,i.tag))}}function Rp(i,s){var o=UN(i);s.forEach(function(c){var p=YN.bind(null,i,c);o.has(c)||(o.add(c),c.then(p,p))})}function Gn(i,s){var o=s.deletions;if(o!==null)for(var c=0;c<o.length;c++){var p=o[c],y=i,E=s,C=E;e:for(;C!==null;){switch(C.tag){case 27:if(xs(C.type)){_t=C.stateNode,Dn=!1;break e}break;case 5:_t=C.stateNode,Dn=!1;break e;case 3:case 4:_t=C.stateNode.containerInfo,Dn=!0;break e}C=C.return}if(_t===null)throw Error(r(160));lw(y,E,p),_t=null,Dn=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)cw(s,i),s=s.sibling}var br=null;function cw(i,s){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Gn(s,i),$n(i),c&4&&(gs(3,i,i.return),wu(3,i),gs(5,i,i.return));break;case 1:Gn(s,i),$n(i),c&512&&(Dt||o===null||Kr(o,o.return)),c&64&&Pi&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var p=br;if(Gn(s,i),$n(i),c&512&&(Dt||o===null||Kr(o,o.return)),c&4){var y=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){e:{c=i.type,o=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":y=p.getElementsByTagName("title")[0],(!y||y[oa]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(c),p.head.insertBefore(y,p.querySelector("head > title"))),ln(y,c,o),y[qt]=i,kt(y),c=y;break e;case"link":var E=iT("link","href",p).get(c+(o.href||""));if(E){for(var C=0;C<E.length;C++)if(y=E[C],y.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&y.getAttribute("rel")===(o.rel==null?null:o.rel)&&y.getAttribute("title")===(o.title==null?null:o.title)&&y.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){E.splice(C,1);break t}}y=p.createElement(c),ln(y,c,o),p.head.appendChild(y);break;case"meta":if(E=iT("meta","content",p).get(c+(o.content||""))){for(C=0;C<E.length;C++)if(y=E[C],y.getAttribute("content")===(o.content==null?null:""+o.content)&&y.getAttribute("name")===(o.name==null?null:o.name)&&y.getAttribute("property")===(o.property==null?null:o.property)&&y.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&y.getAttribute("charset")===(o.charSet==null?null:o.charSet)){E.splice(C,1);break t}}y=p.createElement(c),ln(y,c,o),p.head.appendChild(y);break;default:throw Error(r(468,c))}y[qt]=i,kt(y),c=y}i.stateNode=c}else sT(p,i.type,i.stateNode);else i.stateNode=rT(p,c,i.memoizedProps);else y!==c?(y===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):y.count--,c===null?sT(p,i.type,i.stateNode):rT(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Ep(i,i.memoizedProps,o.memoizedProps)}break;case 27:Gn(s,i),$n(i),c&512&&(Dt||o===null||Kr(o,o.return)),o!==null&&c&4&&Ep(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Gn(s,i),$n(i),c&512&&(Dt||o===null||Kr(o,o.return)),i.flags&32){p=i.stateNode;try{tr(p,"")}catch(ee){pt(i,i.return,ee)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Ep(i,p,o!==null?o.memoizedProps:p)),c&1024&&(Ap=!0);break;case 6:if(Gn(s,i),$n(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(ee){pt(i,i.return,ee)}}break;case 3:if(ld=null,p=br,br=ad(s.containerInfo),Gn(s,i),br=p,$n(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Uu(s.containerInfo)}catch(ee){pt(i,i.return,ee)}Ap&&(Ap=!1,hw(i));break;case 4:c=br,br=ad(i.stateNode.containerInfo),Gn(s,i),$n(i),br=c;break;case 12:Gn(s,i),$n(i);break;case 13:Gn(s,i),$n(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dp=me()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rp(i,c)));break;case 22:p=i.memoizedState!==null;var z=o!==null&&o.memoizedState!==null,J=Pi,ae=Dt;if(Pi=J||p,Dt=ae||z,Gn(s,i),Dt=ae,Pi=J,$n(i),c&8192)e:for(s=i.stateNode,s._visibility=p?s._visibility&-2:s._visibility|1,p&&(o===null||z||Pi||Dt||Da(i)),o=null,s=i;;){if(s.tag===5||s.tag===26){if(o===null){z=o=s;try{if(y=z.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{C=z.stateNode;var ce=z.memoizedProps.style,Z=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;C.style.display=Z==null||typeof Z=="boolean"?"":(""+Z).trim()}}catch(ee){pt(z,z.return,ee)}}}else if(s.tag===6){if(o===null){z=s;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(ee){pt(z,z.return,ee)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Rp(i,o))));break;case 19:Gn(s,i),$n(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Rp(i,c)));break;case 30:break;case 21:break;default:Gn(s,i),$n(i)}}function $n(i){var s=i.flags;if(s&2){try{for(var o,c=i.return;c!==null;){if(rw(c)){o=c;break}c=c.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var p=o.stateNode,y=xp(i);Kh(i,y,p);break;case 5:var E=o.stateNode;o.flags&32&&(tr(E,""),o.flags&=-33);var C=xp(i);Kh(i,C,E);break;case 3:case 4:var z=o.stateNode.containerInfo,J=xp(i);Sp(i,J,z);break;default:throw Error(r(161))}}catch(ae){pt(i,i.return,ae)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function hw(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var s=i;hw(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),i=i.sibling}}function ys(i,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)aw(i,s.alternate,s),s=s.sibling}function Da(i){for(i=i.child;i!==null;){var s=i;switch(s.tag){case 0:case 11:case 14:case 15:gs(4,s,s.return),Da(s);break;case 1:Kr(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&tw(s,s.return,o),Da(s);break;case 27:ku(s.stateNode);case 26:case 5:Kr(s,s.return),Da(s);break;case 22:s.memoizedState===null&&Da(s);break;case 30:Da(s);break;default:Da(s)}i=i.sibling}}function vs(i,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var c=s.alternate,p=i,y=s,E=y.flags;switch(y.tag){case 0:case 11:case 15:vs(p,y,o),wu(4,y);break;case 1:if(vs(p,y,o),c=y,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(J){pt(c,c.return,J)}if(c=y,p=c.updateQueue,p!==null){var C=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)B0(z[p],C)}catch(J){pt(c,c.return,J)}}o&&E&64&&ew(y),Tu(y,y.return);break;case 27:iw(y);case 26:case 5:vs(p,y,o),o&&c===null&&E&4&&nw(y),Tu(y,y.return);break;case 12:vs(p,y,o);break;case 13:vs(p,y,o),o&&E&4&&uw(p,y);break;case 22:y.memoizedState===null&&vs(p,y,o),Tu(y,y.return);break;case 30:break;default:vs(p,y,o)}s=s.sibling}}function Cp(i,s){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&ou(o))}function Ip(i,s){i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i))}function Yr(i,s,o,c){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)dw(i,s,o,c),s=s.sibling}function dw(i,s,o,c){var p=s.flags;switch(s.tag){case 0:case 11:case 15:Yr(i,s,o,c),p&2048&&wu(9,s);break;case 1:Yr(i,s,o,c);break;case 3:Yr(i,s,o,c),p&2048&&(i=null,s.alternate!==null&&(i=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==i&&(s.refCount++,i!=null&&ou(i)));break;case 12:if(p&2048){Yr(i,s,o,c),i=s.stateNode;try{var y=s.memoizedProps,E=y.id,C=y.onPostCommit;typeof C=="function"&&C(E,s.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){pt(s,s.return,z)}}else Yr(i,s,o,c);break;case 13:Yr(i,s,o,c);break;case 23:break;case 22:y=s.stateNode,E=s.alternate,s.memoizedState!==null?y._visibility&2?Yr(i,s,o,c):Eu(i,s):y._visibility&2?Yr(i,s,o,c):(y._visibility|=2,Uo(i,s,o,c,(s.subtreeFlags&10256)!==0)),p&2048&&Cp(E,s);break;case 24:Yr(i,s,o,c),p&2048&&Ip(s.alternate,s);break;default:Yr(i,s,o,c)}}function Uo(i,s,o,c,p){for(p=p&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var y=i,E=s,C=o,z=c,J=E.flags;switch(E.tag){case 0:case 11:case 15:Uo(y,E,C,z,p),wu(8,E);break;case 23:break;case 22:var ae=E.stateNode;E.memoizedState!==null?ae._visibility&2?Uo(y,E,C,z,p):Eu(y,E):(ae._visibility|=2,Uo(y,E,C,z,p)),p&&J&2048&&Cp(E.alternate,E);break;case 24:Uo(y,E,C,z,p),p&&J&2048&&Ip(E.alternate,E);break;default:Uo(y,E,C,z,p)}s=s.sibling}}function Eu(i,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=i,c=s,p=c.flags;switch(c.tag){case 22:Eu(o,c),p&2048&&Cp(c.alternate,c);break;case 24:Eu(o,c),p&2048&&Ip(c.alternate,c);break;default:Eu(o,c)}s=s.sibling}}var xu=8192;function Bo(i){if(i.subtreeFlags&xu)for(i=i.child;i!==null;)fw(i),i=i.sibling}function fw(i){switch(i.tag){case 26:Bo(i),i.flags&xu&&i.memoizedState!==null&&xk(br,i.memoizedState,i.memoizedProps);break;case 5:Bo(i);break;case 3:case 4:var s=br;br=ad(i.stateNode.containerInfo),Bo(i),br=s;break;case 22:i.memoizedState===null&&(s=i.alternate,s!==null&&s.memoizedState!==null?(s=xu,xu=16777216,Bo(i),xu=s):Bo(i));break;default:Bo(i)}}function mw(i){var s=i.alternate;if(s!==null&&(i=s.child,i!==null)){s.child=null;do s=i.sibling,i.sibling=null,i=s;while(i!==null)}}function Su(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];en=c,gw(c,i)}mw(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)pw(i),i=i.sibling}function pw(i){switch(i.tag){case 0:case 11:case 15:Su(i),i.flags&2048&&gs(9,i,i.return);break;case 3:Su(i);break;case 12:Su(i);break;case 22:var s=i.stateNode;i.memoizedState!==null&&s._visibility&2&&(i.return===null||i.return.tag!==13)?(s._visibility&=-3,Yh(i)):Su(i);break;default:Su(i)}}function Yh(i){var s=i.deletions;if((i.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var c=s[o];en=c,gw(c,i)}mw(i)}for(i=i.child;i!==null;){switch(s=i,s.tag){case 0:case 11:case 15:gs(8,s,s.return),Yh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Yh(s));break;default:Yh(s)}i=i.sibling}}function gw(i,s){for(;en!==null;){var o=en;switch(o.tag){case 0:case 11:case 15:gs(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ou(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,en=c;else e:for(o=i;en!==null;){c=en;var p=c.sibling,y=c.return;if(ow(c),c===o){en=null;break e}if(p!==null){p.return=y,en=p;break e}en=y}}}var BN={getCacheForType:function(i){var s=mn($t),o=s.data.get(i);return o===void 0&&(o=i(),s.data.set(i,o)),o}},FN=typeof WeakMap=="function"?WeakMap:Map,lt=0,gt=null,He=null,Je=0,ut=0,Kn=null,_s=!1,Fo=!1,Np=!1,Oi=0,Rt=0,bs=0,Oa=0,kp=0,cr=0,zo=0,Au=null,On=null,Pp=!1,Dp=0,Wh=1/0,Qh=null,ws=null,on=0,Ts=null,qo=null,Ho=0,Op=0,Mp=null,yw=null,Ru=0,Vp=null;function Yn(){if((lt&2)!==0&&Je!==0)return Je&-Je;if(K.T!==null){var i=ko;return i!==0?i:qp()}return rs()}function vw(){cr===0&&(cr=(Je&536870912)===0||nt?Vl():536870912);var i=ur.current;return i!==null&&(i.flags|=32),cr}function Wn(i,s,o){(i===gt&&(ut===2||ut===9)||i.cancelPendingCommit!==null)&&(Go(i,0),Es(i,Je,cr,!1)),di(i,o),((lt&2)===0||i!==gt)&&(i===gt&&((lt&2)===0&&(Oa|=o),Rt===4&&Es(i,Je,cr,!1)),Wr(i))}function _w(i,s,o){if((lt&6)!==0)throw Error(r(327));var c=!o&&(s&124)===0&&(s&i.expiredLanes)===0||aa(i,s),p=c?HN(i,s):Up(i,s,!0),y=c;do{if(p===0){Fo&&!c&&Es(i,s,0,!1);break}else{if(o=i.current.alternate,y&&!zN(o)){p=Up(i,s,!1),y=!1;continue}if(p===2){if(y=s,i.errorRecoveryDisabledLanes&y)var E=0;else E=i.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){s=E;e:{var C=i;p=Au;var z=C.current.memoizedState.isDehydrated;if(z&&(Go(C,E).flags|=256),E=Up(C,E,!1),E!==2){if(Np&&!z){C.errorRecoveryDisabledLanes|=y,Oa|=y,p=4;break e}y=On,On=p,y!==null&&(On===null?On=y:On.push.apply(On,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Go(i,0),Es(i,s,0,!0);break}e:{switch(c=i,y=p,y){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Es(c,s,cr,!_s);break e;case 2:On=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(p=Dp+300-me(),10<p)){if(Es(c,s,cr,!_s),oo(c,0,!0)!==0)break e;c.timeoutHandle=Yw(bw.bind(null,c,o,On,Qh,Pp,s,cr,Oa,zo,_s,y,2,-0,0),p);break e}bw(c,o,On,Qh,Pp,s,cr,Oa,zo,_s,y,0,-0,0)}}break}while(!0);Wr(i)}function bw(i,s,o,c,p,y,E,C,z,J,ae,ce,Z,ee){if(i.timeoutHandle=-1,ce=s.subtreeFlags,(ce&8192||(ce&16785408)===16785408)&&(Ou={stylesheets:null,count:0,unsuspend:Ek},fw(s),ce=Sk(),ce!==null)){i.cancelPendingCommit=ce(Rw.bind(null,i,s,y,o,c,p,E,C,z,ae,1,Z,ee)),Es(i,y,E,!J);return}Rw(i,s,y,o,c,p,E,C,z)}function zN(i){for(var s=i;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var p=o[c],y=p.getSnapshot;p=p.value;try{if(!qn(y(),p))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Es(i,s,o,c){s&=~kp,s&=~Oa,i.suspendedLanes|=s,i.pingedLanes&=~s,c&&(i.warmLanes|=s),c=i.expirationTimes;for(var p=s;0<p;){var y=31-fn(p),E=1<<y;c[y]=-1,p&=~E}o!==0&&Or(i,o,s)}function Xh(){return(lt&6)===0?(Cu(0),!1):!0}function jp(){if(He!==null){if(ut===0)var i=He.return;else i=He,Ai=Ca=null,ep(i),jo=null,vu=0,i=He;for(;i!==null;)Zb(i.alternate,i),i=i.return;He=null}}function Go(i,s){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,ak(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),jp(),gt=i,He=o=Ei(i.current,null),Je=s,ut=0,Kn=null,_s=!1,Fo=aa(i,s),Np=!1,zo=cr=kp=Oa=bs=Rt=0,On=Au=null,Pp=!1,(s&8)!==0&&(s|=s&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=s;0<c;){var p=31-fn(c),y=1<<p;s|=i[p],c&=~y}return Oi=s,_h(),o}function ww(i,s){Be=null,K.H=Lh,s===uu||s===Ch?(s=L0(),ut=3):s===M0?(s=L0(),ut=4):ut=s===Ub?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Kn=s,He===null&&(Rt=1,qh(i,sr(s,i.current)))}function Tw(){var i=K.H;return K.H=Lh,i===null?Lh:i}function Ew(){var i=K.A;return K.A=BN,i}function Lp(){Rt=4,_s||(Je&4194048)!==Je&&ur.current!==null||(Fo=!0),(bs&134217727)===0&&(Oa&134217727)===0||gt===null||Es(gt,Je,cr,!1)}function Up(i,s,o){var c=lt;lt|=2;var p=Tw(),y=Ew();(gt!==i||Je!==s)&&(Qh=null,Go(i,s)),s=!1;var E=Rt;e:do try{if(ut!==0&&He!==null){var C=He,z=Kn;switch(ut){case 8:jp(),E=6;break e;case 3:case 2:case 9:case 6:ur.current===null&&(s=!0);var J=ut;if(ut=0,Kn=null,$o(i,C,z,J),o&&Fo){E=0;break e}break;default:J=ut,ut=0,Kn=null,$o(i,C,z,J)}}qN(),E=Rt;break}catch(ae){ww(i,ae)}while(!0);return s&&i.shellSuspendCounter++,Ai=Ca=null,lt=c,K.H=p,K.A=y,He===null&&(gt=null,Je=0,_h()),E}function qN(){for(;He!==null;)xw(He)}function HN(i,s){var o=lt;lt|=2;var c=Tw(),p=Ew();gt!==i||Je!==s?(Qh=null,Wh=me()+500,Go(i,s)):Fo=aa(i,s);e:do try{if(ut!==0&&He!==null){s=He;var y=Kn;t:switch(ut){case 1:ut=0,Kn=null,$o(i,s,y,1);break;case 2:case 9:if(V0(y)){ut=0,Kn=null,Sw(s);break}s=function(){ut!==2&&ut!==9||gt!==i||(ut=7),Wr(i)},y.then(s,s);break e;case 3:ut=7;break e;case 4:ut=5;break e;case 7:V0(y)?(ut=0,Kn=null,Sw(s)):(ut=0,Kn=null,$o(i,s,y,7));break;case 5:var E=null;switch(He.tag){case 26:E=He.memoizedState;case 5:case 27:var C=He;if(!E||aT(E)){ut=0,Kn=null;var z=C.sibling;if(z!==null)He=z;else{var J=C.return;J!==null?(He=J,Jh(J)):He=null}break t}}ut=0,Kn=null,$o(i,s,y,5);break;case 6:ut=0,Kn=null,$o(i,s,y,6);break;case 8:jp(),Rt=6;break e;default:throw Error(r(462))}}GN();break}catch(ae){ww(i,ae)}while(!0);return Ai=Ca=null,K.H=c,K.A=p,lt=o,He!==null?0:(gt=null,Je=0,_h(),Rt)}function GN(){for(;He!==null&&!ze();)xw(He)}function xw(i){var s=Xb(i.alternate,i,Oi);i.memoizedProps=i.pendingProps,s===null?Jh(i):He=s}function Sw(i){var s=i,o=s.alternate;switch(s.tag){case 15:case 0:s=Gb(o,s,s.pendingProps,s.type,void 0,Je);break;case 11:s=Gb(o,s,s.pendingProps,s.type.render,s.ref,Je);break;case 5:ep(s);default:Zb(o,s),s=He=A0(s,Oi),s=Xb(o,s,Oi)}i.memoizedProps=i.pendingProps,s===null?Jh(i):He=s}function $o(i,s,o,c){Ai=Ca=null,ep(s),jo=null,vu=0;var p=s.return;try{if(ON(i,p,s,o,Je)){Rt=1,qh(i,sr(o,i.current)),He=null;return}}catch(y){if(p!==null)throw He=p,y;Rt=1,qh(i,sr(o,i.current)),He=null;return}s.flags&32768?(nt||c===1?i=!0:Fo||(Je&536870912)!==0?i=!1:(_s=i=!0,(c===2||c===9||c===3||c===6)&&(c=ur.current,c!==null&&c.tag===13&&(c.flags|=16384))),Aw(s,i)):Jh(s)}function Jh(i){var s=i;do{if((s.flags&32768)!==0){Aw(s,_s);return}i=s.return;var o=VN(s.alternate,s,Oi);if(o!==null){He=o;return}if(s=s.sibling,s!==null){He=s;return}He=s=i}while(s!==null);Rt===0&&(Rt=5)}function Aw(i,s){do{var o=jN(i.alternate,i);if(o!==null){o.flags&=32767,He=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(i=i.sibling,i!==null)){He=i;return}He=i=o}while(i!==null);Rt=6,He=null}function Rw(i,s,o,c,p,y,E,C,z){i.cancelPendingCommit=null;do Zh();while(on!==0);if((lt&6)!==0)throw Error(r(327));if(s!==null){if(s===i.current)throw Error(r(177));if(y=s.lanes|s.childLanes,y|=Im,Ll(i,o,y,E,C,z),i===gt&&(He=gt=null,Je=0),qo=s,Ts=i,Ho=o,Op=y,Mp=p,yw=c,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,WN(at,function(){return Pw(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||c){c=K.T,K.T=null,p=ie.p,ie.p=2,E=lt,lt|=4;try{LN(i,s,o)}finally{lt=E,ie.p=p,K.T=c}}on=1,Cw(),Iw(),Nw()}}function Cw(){if(on===1){on=0;var i=Ts,s=qo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=K.T,K.T=null;var c=ie.p;ie.p=2;var p=lt;lt|=4;try{cw(s,i);var y=Xp,E=g0(i.containerInfo),C=y.focusedElem,z=y.selectionRange;if(E!==C&&C&&C.ownerDocument&&p0(C.ownerDocument.documentElement,C)){if(z!==null&&xm(C)){var J=z.start,ae=z.end;if(ae===void 0&&(ae=J),"selectionStart"in C)C.selectionStart=J,C.selectionEnd=Math.min(ae,C.value.length);else{var ce=C.ownerDocument||document,Z=ce&&ce.defaultView||window;if(Z.getSelection){var ee=Z.getSelection(),ke=C.textContent.length,Re=Math.min(z.start,ke),mt=z.end===void 0?Re:Math.min(z.end,ke);!ee.extend&&Re>mt&&(E=mt,mt=Re,Re=E);var Y=m0(C,Re),$=m0(C,mt);if(Y&&$&&(ee.rangeCount!==1||ee.anchorNode!==Y.node||ee.anchorOffset!==Y.offset||ee.focusNode!==$.node||ee.focusOffset!==$.offset)){var Q=ce.createRange();Q.setStart(Y.node,Y.offset),ee.removeAllRanges(),Re>mt?(ee.addRange(Q),ee.extend($.node,$.offset)):(Q.setEnd($.node,$.offset),ee.addRange(Q))}}}}for(ce=[],ee=C;ee=ee.parentNode;)ee.nodeType===1&&ce.push({element:ee,left:ee.scrollLeft,top:ee.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<ce.length;C++){var ue=ce[C];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}hd=!!Qp,Xp=Qp=null}finally{lt=p,ie.p=c,K.T=o}}i.current=s,on=2}}function Iw(){if(on===2){on=0;var i=Ts,s=qo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=K.T,K.T=null;var c=ie.p;ie.p=2;var p=lt;lt|=4;try{aw(i,s.alternate,s)}finally{lt=p,ie.p=c,K.T=o}}on=3}}function Nw(){if(on===4||on===3){on=0,et();var i=Ts,s=qo,o=Ho,c=yw;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?on=5:(on=0,qo=Ts=null,kw(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(ws=null),lo(o),s=s.stateNode,ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(St,s,void 0,(s.current.flags&128)===128)}catch{}if(c!==null){s=K.T,p=ie.p,ie.p=2,K.T=null;try{for(var y=i.onRecoverableError,E=0;E<c.length;E++){var C=c[E];y(C.value,{componentStack:C.stack})}}finally{K.T=s,ie.p=p}}(Ho&3)!==0&&Zh(),Wr(i),p=i.pendingLanes,(o&4194090)!==0&&(p&42)!==0?i===Vp?Ru++:(Ru=0,Vp=i):Ru=0,Cu(0)}}function kw(i,s){(i.pooledCacheLanes&=s)===0&&(s=i.pooledCache,s!=null&&(i.pooledCache=null,ou(s)))}function Zh(i){return Cw(),Iw(),Nw(),Pw()}function Pw(){if(on!==5)return!1;var i=Ts,s=Op;Op=0;var o=lo(Ho),c=K.T,p=ie.p;try{ie.p=32>o?32:o,K.T=null,o=Mp,Mp=null;var y=Ts,E=Ho;if(on=0,qo=Ts=null,Ho=0,(lt&6)!==0)throw Error(r(331));var C=lt;if(lt|=4,pw(y.current),dw(y,y.current,E,o),lt=C,Cu(0,!1),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(St,y)}catch{}return!0}finally{ie.p=p,K.T=c,kw(i,s)}}function Dw(i,s,o){s=sr(o,s),s=mp(i.stateNode,s,2),i=ds(i,s,2),i!==null&&(di(i,2),Wr(i))}function pt(i,s,o){if(i.tag===3)Dw(i,i,o);else for(;s!==null;){if(s.tag===3){Dw(s,i,o);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(ws===null||!ws.has(c))){i=sr(o,i),o=jb(2),c=ds(s,o,2),c!==null&&(Lb(o,c,s,i),di(c,2),Wr(c));break}}s=s.return}}function Bp(i,s,o){var c=i.pingCache;if(c===null){c=i.pingCache=new FN;var p=new Set;c.set(s,p)}else p=c.get(s),p===void 0&&(p=new Set,c.set(s,p));p.has(o)||(Np=!0,p.add(o),i=$N.bind(null,i,s,o),s.then(i,i))}function $N(i,s,o){var c=i.pingCache;c!==null&&c.delete(s),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,gt===i&&(Je&o)===o&&(Rt===4||Rt===3&&(Je&62914560)===Je&&300>me()-Dp?(lt&2)===0&&Go(i,0):kp|=o,zo===Je&&(zo=0)),Wr(i)}function Ow(i,s){s===0&&(s=jl()),i=Ro(i,s),i!==null&&(di(i,s),Wr(i))}function KN(i){var s=i.memoizedState,o=0;s!==null&&(o=s.retryLane),Ow(i,o)}function YN(i,s){var o=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(o=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(s),Ow(i,o)}function WN(i,s){return Se(i,s)}var ed=null,Ko=null,Fp=!1,td=!1,zp=!1,Ma=0;function Wr(i){i!==Ko&&i.next===null&&(Ko===null?ed=Ko=i:Ko=Ko.next=i),td=!0,Fp||(Fp=!0,XN())}function Cu(i,s){if(!zp&&td){zp=!0;do for(var o=!1,c=ed;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var y=0;else{var E=c.suspendedLanes,C=c.pingedLanes;y=(1<<31-fn(42|i)+1)-1,y&=p&~(E&~C),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(o=!0,Lw(c,y))}else y=Je,y=oo(c,c===gt?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(y&3)===0||aa(c,y)||(o=!0,Lw(c,y));c=c.next}while(o);zp=!1}}function QN(){Mw()}function Mw(){td=Fp=!1;var i=0;Ma!==0&&(sk()&&(i=Ma),Ma=0);for(var s=me(),o=null,c=ed;c!==null;){var p=c.next,y=Vw(c,s);y===0?(c.next=null,o===null?ed=p:o.next=p,p===null&&(Ko=o)):(o=c,(i!==0||(y&3)!==0)&&(td=!0)),c=p}Cu(i)}function Vw(i,s){for(var o=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var E=31-fn(y),C=1<<E,z=p[E];z===-1?((C&o)===0||(C&c)!==0)&&(p[E]=Ml(C,s)):z<=s&&(i.expiredLanes|=C),y&=~C}if(s=gt,o=Je,o=oo(i,i===s?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===s&&(ut===2||ut===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&We(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||aa(i,o)){if(s=o&-o,s===i.callbackPriority)return s;switch(c!==null&&We(c),lo(o)){case 2:case 8:o=rt;break;case 32:o=at;break;case 268435456:o=ta;break;default:o=at}return c=jw.bind(null,i),o=Se(o,c),i.callbackPriority=s,i.callbackNode=o,s}return c!==null&&c!==null&&We(c),i.callbackPriority=2,i.callbackNode=null,2}function jw(i,s){if(on!==0&&on!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Zh()&&i.callbackNode!==o)return null;var c=Je;return c=oo(i,i===gt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(_w(i,c,s),Vw(i,me()),i.callbackNode!=null&&i.callbackNode===o?jw.bind(null,i):null)}function Lw(i,s){if(Zh())return null;_w(i,s,!0)}function XN(){ok(function(){(lt&6)!==0?Se(Ve,QN):Mw()})}function qp(){return Ma===0&&(Ma=Vl()),Ma}function Uw(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:po(""+i)}function Bw(i,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,i.id&&o.setAttribute("form",i.id),s.parentNode.insertBefore(o,s),i=new FormData(i),o.parentNode.removeChild(o),i}function JN(i,s,o,c,p){if(s==="submit"&&o&&o.stateNode===p){var y=Uw((p[jt]||null).action),E=c.submitter;E&&(s=(s=E[jt]||null)?Uw(s.formAction):E.getAttribute("formAction"),s!==null&&(y=s,E=null));var C=new go("action","action",null,c,p);i.push({event:C,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Ma!==0){var z=E?Bw(p,E):new FormData(p);up(o,{pending:!0,data:z,method:p.method,action:y},null,z)}}else typeof y=="function"&&(C.preventDefault(),z=E?Bw(p,E):new FormData(p),up(o,{pending:!0,data:z,method:p.method,action:y},y,z))},currentTarget:p}]})}}for(var Hp=0;Hp<Cm.length;Hp++){var Gp=Cm[Hp],ZN=Gp.toLowerCase(),ek=Gp[0].toUpperCase()+Gp.slice(1);_r(ZN,"on"+ek)}_r(_0,"onAnimationEnd"),_r(b0,"onAnimationIteration"),_r(w0,"onAnimationStart"),_r("dblclick","onDoubleClick"),_r("focusin","onFocus"),_r("focusout","onBlur"),_r(yN,"onTransitionRun"),_r(vN,"onTransitionStart"),_r(_N,"onTransitionCancel"),_r(T0,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),yr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yr("onBeforeInput",["compositionend","keypress","textInput","paste"]),yr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tk=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iu));function Fw(i,s){s=(s&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],p=c.event;c=c.listeners;e:{var y=void 0;if(s)for(var E=c.length-1;0<=E;E--){var C=c[E],z=C.instance,J=C.currentTarget;if(C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=J;try{y(p)}catch(ae){zh(ae)}p.currentTarget=null,y=z}else for(E=0;E<c.length;E++){if(C=c[E],z=C.instance,J=C.currentTarget,C=C.listener,z!==y&&p.isPropagationStopped())break e;y=C,p.currentTarget=J;try{y(p)}catch(ae){zh(ae)}p.currentTarget=null,y=z}}}}function Ge(i,s){var o=s[Bl];o===void 0&&(o=s[Bl]=new Set);var c=i+"__bubble";o.has(c)||(zw(s,i,2,!1),o.add(c))}function $p(i,s,o){var c=0;s&&(c|=4),zw(o,i,c,s)}var nd="_reactListening"+Math.random().toString(36).slice(2);function Kp(i){if(!i[nd]){i[nd]=!0,Fl.forEach(function(o){o!=="selectionchange"&&(tk.has(o)||$p(o,!1,i),$p(o,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[nd]||(s[nd]=!0,$p("selectionchange",!1,s))}}function zw(i,s,o,c){switch(dT(s)){case 2:var p=Ck;break;case 8:p=Ik;break;default:p=og}o=p.bind(null,s,o,i),p=void 0,!rr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(s,o,{capture:!0,passive:p}):i.addEventListener(s,o,!0):p!==void 0?i.addEventListener(s,o,{passive:p}):i.addEventListener(s,o,!1)}function Yp(i,s,o,c,p){var y=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var C=c.stateNode.containerInfo;if(C===p)break;if(E===4)for(E=c.return;E!==null;){var z=E.tag;if((z===3||z===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;C!==null;){if(E=fi(C),E===null)return;if(z=E.tag,z===5||z===6||z===26||z===27){c=y=E;continue e}C=C.parentNode}}c=c.return}ih(function(){var J=y,ae=nr(o),ce=[];e:{var Z=E0.get(i);if(Z!==void 0){var ee=go,ke=i;switch(i){case"keypress":if(Br(o)===0)break e;case"keydown":case"keyup":ee=To;break;case"focusin":ke="focus",ee=_o;break;case"focusout":ke="blur",ee=_o;break;case"beforeblur":case"afterblur":ee=_o;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ee=ir;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ee=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ee=dh;break;case _0:case b0:case w0:ee=bo;break;case T0:ee=mh;break;case"scroll":case"scrollend":ee=sh;break;case"wheel":ee=Eo;break;case"copy":case"cut":case"paste":ee=wo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ee=Zl;break;case"toggle":case"beforetoggle":ee=gh}var Re=(s&4)!==0,mt=!Re&&(i==="scroll"||i==="scrollend"),Y=Re?Z!==null?Z+"Capture":null:Z;Re=[];for(var $=J,Q;$!==null;){var ue=$;if(Q=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Q===null||Y===null||(ue=ma($,Y),ue!=null&&Re.push(Nu($,ue,Q))),mt)break;$=$.return}0<Re.length&&(Z=new ee(Z,ke,null,o,ae),ce.push({event:Z,listeners:Re}))}}if((s&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",ee=i==="mouseout"||i==="pointerout",Z&&o!==yi&&(ke=o.relatedTarget||o.fromElement)&&(fi(ke)||ke[er]))break e;if((ee||Z)&&(Z=ae.window===ae?ae:(Z=ae.ownerDocument)?Z.defaultView||Z.parentWindow:window,ee?(ke=o.relatedTarget||o.toElement,ee=J,ke=ke?fi(ke):null,ke!==null&&(mt=l(ke),Re=ke.tag,ke!==mt||Re!==5&&Re!==27&&Re!==6)&&(ke=null)):(ee=null,ke=J),ee!==ke)){if(Re=ir,ue="onMouseLeave",Y="onMouseEnter",$="mouse",(i==="pointerout"||i==="pointerover")&&(Re=Zl,ue="onPointerLeave",Y="onPointerEnter",$="pointer"),mt=ee==null?Z:Vr(ee),Q=ke==null?Z:Vr(ke),Z=new Re(ue,$+"leave",ee,o,ae),Z.target=mt,Z.relatedTarget=Q,ue=null,fi(ae)===J&&(Re=new Re(Y,$+"enter",ke,o,ae),Re.target=Q,Re.relatedTarget=mt,ue=Re),mt=ue,ee&&ke)t:{for(Re=ee,Y=ke,$=0,Q=Re;Q;Q=Yo(Q))$++;for(Q=0,ue=Y;ue;ue=Yo(ue))Q++;for(;0<$-Q;)Re=Yo(Re),$--;for(;0<Q-$;)Y=Yo(Y),Q--;for(;$--;){if(Re===Y||Y!==null&&Re===Y.alternate)break t;Re=Yo(Re),Y=Yo(Y)}Re=null}else Re=null;ee!==null&&qw(ce,Z,ee,Re,!1),ke!==null&&mt!==null&&qw(ce,mt,ke,Re,!0)}}e:{if(Z=J?Vr(J):window,ee=Z.nodeName&&Z.nodeName.toLowerCase(),ee==="select"||ee==="input"&&Z.type==="file")var we=l0;else if(Gt(Z))if(u0)we=mN;else{we=dN;var qe=hN}else ee=Z.nodeName,!ee||ee.toLowerCase()!=="input"||Z.type!=="checkbox"&&Z.type!=="radio"?J&&$l(J.elementType)&&(we=l0):we=fN;if(we&&(we=we(i,J))){Ti(ce,we,o,ae);break e}qe&&qe(i,Z,J),i==="focusout"&&J&&Z.type==="number"&&J.memoizedProps.value!=null&&os(Z,"number",Z.value)}switch(qe=J?Vr(J):window,i){case"focusin":(Gt(qe)||qe.contentEditable==="true")&&(xo=qe,Sm=J,nu=null);break;case"focusout":nu=Sm=xo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,y0(ce,o,ae);break;case"selectionchange":if(gN)break;case"keydown":case"keyup":y0(ce,o,ae)}var xe;if(qr)e:{switch(i){case"compositionstart":var Ce="onCompositionStart";break e;case"compositionend":Ce="onCompositionEnd";break e;case"compositionupdate":Ce="onCompositionUpdate";break e}Ce=void 0}else Qe?te(i,o)&&(Ce="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(Ce="onCompositionStart");Ce&&(T&&o.locale!=="ko"&&(Qe||Ce!=="onCompositionStart"?Ce==="onCompositionEnd"&&Qe&&(xe=Yl()):(Ur=ae,ls="value"in Ur?Ur.value:Ur.textContent,Qe=!0)),qe=rd(J,Ce),0<qe.length&&(Ce=new Xl(Ce,i,null,o,ae),ce.push({event:Ce,listeners:qe}),xe?Ce.data=xe:(xe=ge(o),xe!==null&&(Ce.data=xe)))),(xe=b?Ht(i,o):Xe(i,o))&&(Ce=rd(J,"onBeforeInput"),0<Ce.length&&(qe=new Xl("onBeforeInput","beforeinput",null,o,ae),ce.push({event:qe,listeners:Ce}),qe.data=xe)),JN(ce,i,J,o,ae)}Fw(ce,s)})}function Nu(i,s,o){return{instance:i,listener:s,currentTarget:o}}function rd(i,s){for(var o=s+"Capture",c=[];i!==null;){var p=i,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=ma(i,o),p!=null&&c.unshift(Nu(i,p,y)),p=ma(i,s),p!=null&&c.push(Nu(i,p,y))),i.tag===3)return c;i=i.return}return[]}function Yo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function qw(i,s,o,c,p){for(var y=s._reactName,E=[];o!==null&&o!==c;){var C=o,z=C.alternate,J=C.stateNode;if(C=C.tag,z!==null&&z===c)break;C!==5&&C!==26&&C!==27||J===null||(z=J,p?(J=ma(o,y),J!=null&&E.unshift(Nu(o,J,z))):p||(J=ma(o,y),J!=null&&E.push(Nu(o,J,z)))),o=o.return}E.length!==0&&i.push({event:s,listeners:E})}var nk=/\r\n?/g,rk=/\u0000|\uFFFD/g;function Hw(i){return(typeof i=="string"?i:""+i).replace(nk,`
`).replace(rk,"")}function Gw(i,s){return s=Hw(s),Hw(i)===s}function id(){}function ft(i,s,o,c,p,y){switch(o){case"children":typeof c=="string"?s==="body"||s==="textarea"&&c===""||tr(i,c):(typeof c=="number"||typeof c=="bigint")&&s!=="body"&&tr(i,""+c);break;case"className":jr(i,"class",c);break;case"tabIndex":jr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":jr(i,o,c);break;case"style":Gl(i,c,y);break;case"data":if(s!=="object"){jr(i,"data",c);break}case"src":case"href":if(c===""&&(s!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=po(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(o==="formAction"?(s!=="input"&&ft(i,s,"name",p.name,p,null),ft(i,s,"formEncType",p.formEncType,p,null),ft(i,s,"formMethod",p.formMethod,p,null),ft(i,s,"formTarget",p.formTarget,p,null)):(ft(i,s,"encType",p.encType,p,null),ft(i,s,"method",p.method,p,null),ft(i,s,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=po(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=id);break;case"onScroll":c!=null&&Ge("scroll",i);break;case"onScrollEnd":c!=null&&Ge("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=po(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":Ge("beforetoggle",i),Ge("toggle",i),as(i,"popover",c);break;case"xlinkActuate":rn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":rn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":rn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":rn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":rn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":rn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":rn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":rn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":rn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":as(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vm.get(o)||o,as(i,o,c))}}function Wp(i,s,o,c,p,y){switch(o){case"style":Gl(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(o=c.__html,o!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=o}}break;case"children":typeof c=="string"?tr(i,c):(typeof c=="number"||typeof c=="bigint")&&tr(i,""+c);break;case"onScroll":c!=null&&Ge("scroll",i);break;case"onScrollEnd":c!=null&&Ge("scrollend",i);break;case"onClick":c!=null&&(i.onclick=id);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uo.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(p=o.endsWith("Capture"),s=o.slice(2,p?o.length-7:void 0),y=i[jt]||null,y=y!=null?y[o]:null,typeof y=="function"&&i.removeEventListener(s,y,p),typeof c=="function")){typeof y!="function"&&y!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(s,c,p);break e}o in i?i[o]=c:c===!0?i.setAttribute(o,""):as(i,o,c)}}}function ln(i,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ge("error",i),Ge("load",i);var c=!1,p=!1,y;for(y in o)if(o.hasOwnProperty(y)){var E=o[y];if(E!=null)switch(y){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(i,s,y,E,o,null)}}p&&ft(i,s,"srcSet",o.srcSet,o,null),c&&ft(i,s,"src",o.src,o,null);return;case"input":Ge("invalid",i);var C=y=E=p=null,z=null,J=null;for(c in o)if(o.hasOwnProperty(c)){var ae=o[c];if(ae!=null)switch(c){case"name":p=ae;break;case"type":E=ae;break;case"checked":z=ae;break;case"defaultChecked":J=ae;break;case"value":y=ae;break;case"defaultValue":C=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,s));break;default:ft(i,s,c,ae,o,null)}}ha(i,y,C,z,J,E,p,!1),mo(i);return;case"select":Ge("invalid",i),c=E=y=null;for(p in o)if(o.hasOwnProperty(p)&&(C=o[p],C!=null))switch(p){case"value":y=C;break;case"defaultValue":E=C;break;case"multiple":c=C;default:ft(i,s,p,C,o,null)}s=y,o=E,i.multiple=!!c,s!=null?gi(i,!!c,s,!1):o!=null&&gi(i,!!c,o,!0);return;case"textarea":Ge("invalid",i),y=p=c=null;for(E in o)if(o.hasOwnProperty(E)&&(C=o[E],C!=null))switch(E){case"value":c=C;break;case"defaultValue":p=C;break;case"children":y=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(r(91));break;default:ft(i,s,E,C,o,null)}da(i,c,p,y),mo(i);return;case"option":for(z in o)if(o.hasOwnProperty(z)&&(c=o[z],c!=null))switch(z){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:ft(i,s,z,c,o,null)}return;case"dialog":Ge("beforetoggle",i),Ge("toggle",i),Ge("cancel",i),Ge("close",i);break;case"iframe":case"object":Ge("load",i);break;case"video":case"audio":for(c=0;c<Iu.length;c++)Ge(Iu[c],i);break;case"image":Ge("error",i),Ge("load",i);break;case"details":Ge("toggle",i);break;case"embed":case"source":case"link":Ge("error",i),Ge("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in o)if(o.hasOwnProperty(J)&&(c=o[J],c!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ft(i,s,J,c,o,null)}return;default:if($l(s)){for(ae in o)o.hasOwnProperty(ae)&&(c=o[ae],c!==void 0&&Wp(i,s,ae,c,o,void 0));return}}for(C in o)o.hasOwnProperty(C)&&(c=o[C],c!=null&&ft(i,s,C,c,o,null))}function ik(i,s,o,c){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,C=null,z=null,J=null,ae=null;for(ee in o){var ce=o[ee];if(o.hasOwnProperty(ee)&&ce!=null)switch(ee){case"checked":break;case"value":break;case"defaultValue":z=ce;default:c.hasOwnProperty(ee)||ft(i,s,ee,null,c,ce)}}for(var Z in c){var ee=c[Z];if(ce=o[Z],c.hasOwnProperty(Z)&&(ee!=null||ce!=null))switch(Z){case"type":y=ee;break;case"name":p=ee;break;case"checked":J=ee;break;case"defaultChecked":ae=ee;break;case"value":E=ee;break;case"defaultValue":C=ee;break;case"children":case"dangerouslySetInnerHTML":if(ee!=null)throw Error(r(137,s));break;default:ee!==ce&&ft(i,s,Z,ee,c,ce)}}zn(i,E,C,z,J,ae,y,p);return;case"select":ee=E=C=Z=null;for(y in o)if(z=o[y],o.hasOwnProperty(y)&&z!=null)switch(y){case"value":break;case"multiple":ee=z;default:c.hasOwnProperty(y)||ft(i,s,y,null,c,z)}for(p in c)if(y=c[p],z=o[p],c.hasOwnProperty(p)&&(y!=null||z!=null))switch(p){case"value":Z=y;break;case"defaultValue":C=y;break;case"multiple":E=y;default:y!==z&&ft(i,s,p,y,c,z)}s=C,o=E,c=ee,Z!=null?gi(i,!!o,Z,!1):!!c!=!!o&&(s!=null?gi(i,!!o,s,!0):gi(i,!!o,o?[]:"",!1));return;case"textarea":ee=Z=null;for(C in o)if(p=o[C],o.hasOwnProperty(C)&&p!=null&&!c.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:ft(i,s,C,null,c,p)}for(E in c)if(p=c[E],y=o[E],c.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":Z=p;break;case"defaultValue":ee=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==y&&ft(i,s,E,p,c,y)}ht(i,Z,ee);return;case"option":for(var ke in o)if(Z=o[ke],o.hasOwnProperty(ke)&&Z!=null&&!c.hasOwnProperty(ke))switch(ke){case"selected":i.selected=!1;break;default:ft(i,s,ke,null,c,Z)}for(z in c)if(Z=c[z],ee=o[z],c.hasOwnProperty(z)&&Z!==ee&&(Z!=null||ee!=null))switch(z){case"selected":i.selected=Z&&typeof Z!="function"&&typeof Z!="symbol";break;default:ft(i,s,z,Z,c,ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in o)Z=o[Re],o.hasOwnProperty(Re)&&Z!=null&&!c.hasOwnProperty(Re)&&ft(i,s,Re,null,c,Z);for(J in c)if(Z=c[J],ee=o[J],c.hasOwnProperty(J)&&Z!==ee&&(Z!=null||ee!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(r(137,s));break;default:ft(i,s,J,Z,c,ee)}return;default:if($l(s)){for(var mt in o)Z=o[mt],o.hasOwnProperty(mt)&&Z!==void 0&&!c.hasOwnProperty(mt)&&Wp(i,s,mt,void 0,c,Z);for(ae in c)Z=c[ae],ee=o[ae],!c.hasOwnProperty(ae)||Z===ee||Z===void 0&&ee===void 0||Wp(i,s,ae,Z,c,ee);return}}for(var Y in o)Z=o[Y],o.hasOwnProperty(Y)&&Z!=null&&!c.hasOwnProperty(Y)&&ft(i,s,Y,null,c,Z);for(ce in c)Z=c[ce],ee=o[ce],!c.hasOwnProperty(ce)||Z===ee||Z==null&&ee==null||ft(i,s,ce,Z,c,ee)}var Qp=null,Xp=null;function sd(i){return i.nodeType===9?i:i.ownerDocument}function $w(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Kw(i,s){if(i===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&s==="foreignObject"?0:i}function Jp(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zp=null;function sk(){var i=window.event;return i&&i.type==="popstate"?i===Zp?!1:(Zp=i,!0):(Zp=null,!1)}var Yw=typeof setTimeout=="function"?setTimeout:void 0,ak=typeof clearTimeout=="function"?clearTimeout:void 0,Ww=typeof Promise=="function"?Promise:void 0,ok=typeof queueMicrotask=="function"?queueMicrotask:typeof Ww<"u"?function(i){return Ww.resolve(null).then(i).catch(lk)}:Yw;function lk(i){setTimeout(function(){throw i})}function xs(i){return i==="head"}function Qw(i,s){var o=s,c=0,p=0;do{var y=o.nextSibling;if(i.removeChild(o),y&&y.nodeType===8)if(o=y.data,o==="/$"){if(0<c&&8>c){o=c;var E=i.ownerDocument;if(o&1&&ku(E.documentElement),o&2&&ku(E.body),o&4)for(o=E.head,ku(o),E=o.firstChild;E;){var C=E.nextSibling,z=E.nodeName;E[oa]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&E.rel.toLowerCase()==="stylesheet"||o.removeChild(E),E=C}}if(p===0){i.removeChild(y),Uu(s);return}p--}else o==="$"||o==="$?"||o==="$!"?p++:c=o.charCodeAt(0)-48;else c=0;o=y}while(o);Uu(s)}function eg(i){var s=i.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":eg(o),ss(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function uk(i,s,o,c){for(;i.nodeType===1;){var p=o;if(i.nodeName.toLowerCase()!==s.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[oa])switch(s){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(s==="input"&&i.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=wr(i.nextSibling),i===null)break}return null}function ck(i,s,o){if(s==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=wr(i.nextSibling),i===null))return null;return i}function tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function hk(i,s){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")s();else{var c=function(){s(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function wr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return i}var ng=null;function Xw(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(s===0)return i;s--}else o==="/$"&&s++}i=i.previousSibling}return null}function Jw(i,s,o){switch(s=sd(o),i){case"html":if(i=s.documentElement,!i)throw Error(r(452));return i;case"head":if(i=s.head,!i)throw Error(r(453));return i;case"body":if(i=s.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function ku(i){for(var s=i.attributes;s.length;)i.removeAttributeNode(s[0]);ss(i)}var hr=new Map,Zw=new Set;function ad(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Mi=ie.d;ie.d={f:dk,r:fk,D:mk,C:pk,L:gk,m:yk,X:_k,S:vk,M:bk};function dk(){var i=Mi.f(),s=Xh();return i||s}function fk(i){var s=Mr(i);s!==null&&s.tag===5&&s.type==="form"?_b(s):Mi.r(i)}var Wo=typeof document>"u"?null:document;function eT(i,s,o){var c=Wo;if(c&&typeof s=="string"&&s){var p=Lt(s);p='link[rel="'+i+'"][href="'+p+'"]',typeof o=="string"&&(p+='[crossorigin="'+o+'"]'),Zw.has(p)||(Zw.add(p),i={rel:i,crossOrigin:o,href:s},c.querySelector(p)===null&&(s=c.createElement("link"),ln(s,"link",i),kt(s),c.head.appendChild(s)))}}function mk(i){Mi.D(i),eT("dns-prefetch",i,null)}function pk(i,s){Mi.C(i,s),eT("preconnect",i,s)}function gk(i,s,o){Mi.L(i,s,o);var c=Wo;if(c&&i&&s){var p='link[rel="preload"][as="'+Lt(s)+'"]';s==="image"&&o&&o.imageSrcSet?(p+='[imagesrcset="'+Lt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(p+='[imagesizes="'+Lt(o.imageSizes)+'"]')):p+='[href="'+Lt(i)+'"]';var y=p;switch(s){case"style":y=Qo(i);break;case"script":y=Xo(i)}hr.has(y)||(i=g({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:i,as:s},o),hr.set(y,i),c.querySelector(p)!==null||s==="style"&&c.querySelector(Pu(y))||s==="script"&&c.querySelector(Du(y))||(s=c.createElement("link"),ln(s,"link",i),kt(s),c.head.appendChild(s)))}}function yk(i,s){Mi.m(i,s);var o=Wo;if(o&&i){var c=s&&typeof s.as=="string"?s.as:"script",p='link[rel="modulepreload"][as="'+Lt(c)+'"][href="'+Lt(i)+'"]',y=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Xo(i)}if(!hr.has(y)&&(i=g({rel:"modulepreload",href:i},s),hr.set(y,i),o.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Du(y)))return}c=o.createElement("link"),ln(c,"link",i),kt(c),o.head.appendChild(c)}}}function vk(i,s,o){Mi.S(i,s,o);var c=Wo;if(c&&i){var p=An(c).hoistableStyles,y=Qo(i);s=s||"default";var E=p.get(y);if(!E){var C={loading:0,preload:null};if(E=c.querySelector(Pu(y)))C.loading=5;else{i=g({rel:"stylesheet",href:i,"data-precedence":s},o),(o=hr.get(y))&&rg(i,o);var z=E=c.createElement("link");kt(z),ln(z,"link",i),z._p=new Promise(function(J,ae){z.onload=J,z.onerror=ae}),z.addEventListener("load",function(){C.loading|=1}),z.addEventListener("error",function(){C.loading|=2}),C.loading|=4,od(E,s,c)}E={type:"stylesheet",instance:E,count:1,state:C},p.set(y,E)}}}function _k(i,s){Mi.X(i,s);var o=Wo;if(o&&i){var c=An(o).hoistableScripts,p=Xo(i),y=c.get(p);y||(y=o.querySelector(Du(p)),y||(i=g({src:i,async:!0},s),(s=hr.get(p))&&ig(i,s),y=o.createElement("script"),kt(y),ln(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function bk(i,s){Mi.M(i,s);var o=Wo;if(o&&i){var c=An(o).hoistableScripts,p=Xo(i),y=c.get(p);y||(y=o.querySelector(Du(p)),y||(i=g({src:i,async:!0,type:"module"},s),(s=hr.get(p))&&ig(i,s),y=o.createElement("script"),kt(y),ln(y,"link",i),o.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(p,y))}}function tT(i,s,o,c){var p=(p=Ee.current)?ad(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Qo(o.href),o=An(p).hoistableStyles,c=o.get(s),c||(c={type:"style",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Qo(o.href);var y=An(p).hoistableStyles,E=y.get(i);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,E),(y=p.querySelector(Pu(i)))&&!y._p&&(E.instance=y,E.state.loading=5),hr.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},hr.set(i,o),y||wk(p,i,o,E.state))),s&&c===null)throw Error(r(528,""));return E}if(s&&c!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Xo(o),o=An(p).hoistableScripts,c=o.get(s),c||(c={type:"script",instance:null,count:0,state:null},o.set(s,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Qo(i){return'href="'+Lt(i)+'"'}function Pu(i){return'link[rel="stylesheet"]['+i+"]"}function nT(i){return g({},i,{"data-precedence":i.precedence,precedence:null})}function wk(i,s,o,c){i.querySelector('link[rel="preload"][as="style"]['+s+"]")?c.loading=1:(s=i.createElement("link"),c.preload=s,s.addEventListener("load",function(){return c.loading|=1}),s.addEventListener("error",function(){return c.loading|=2}),ln(s,"link",o),kt(s),i.head.appendChild(s))}function Xo(i){return'[src="'+Lt(i)+'"]'}function Du(i){return"script[async]"+i}function rT(i,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var c=i.querySelector('style[data-href~="'+Lt(o.href)+'"]');if(c)return s.instance=c,kt(c),c;var p=g({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),kt(c),ln(c,"style",p),od(c,o.precedence,i),s.instance=c;case"stylesheet":p=Qo(o.href);var y=i.querySelector(Pu(p));if(y)return s.state.loading|=4,s.instance=y,kt(y),y;c=nT(o),(p=hr.get(p))&&rg(c,p),y=(i.ownerDocument||i).createElement("link"),kt(y);var E=y;return E._p=new Promise(function(C,z){E.onload=C,E.onerror=z}),ln(y,"link",c),s.state.loading|=4,od(y,o.precedence,i),s.instance=y;case"script":return y=Xo(o.src),(p=i.querySelector(Du(y)))?(s.instance=p,kt(p),p):(c=o,(p=hr.get(y))&&(c=g({},o),ig(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),kt(p),ln(p,"link",c),i.head.appendChild(p),s.instance=p);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(c=s.instance,s.state.loading|=4,od(c,o.precedence,i));return s.instance}function od(i,s,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,y=p,E=0;E<c.length;E++){var C=c[E];if(C.dataset.precedence===s)y=C;else if(y!==p)break}y?y.parentNode.insertBefore(i,y.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(i,s.firstChild))}function rg(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.title==null&&(i.title=s.title)}function ig(i,s){i.crossOrigin==null&&(i.crossOrigin=s.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=s.referrerPolicy),i.integrity==null&&(i.integrity=s.integrity)}var ld=null;function iT(i,s,o){if(ld===null){var c=new Map,p=ld=new Map;p.set(o,c)}else p=ld,c=p.get(o),c||(c=new Map,p.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),p=0;p<o.length;p++){var y=o[p];if(!(y[oa]||y[qt]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(s)||"";E=i+E;var C=c.get(E);C?C.push(y):c.set(E,[y])}}return c}function sT(i,s,o){i=i.ownerDocument||i,i.head.insertBefore(o,s==="title"?i.querySelector("head > title"):null)}function Tk(i,s,o){if(o===1||s.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return i=s.disabled,typeof s.precedence=="string"&&i==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function aT(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Ou=null;function Ek(){}function xk(i,s,o){if(Ou===null)throw Error(r(475));var c=Ou;if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var p=Qo(o.href),y=i.querySelector(Pu(p));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=ud.bind(c),i.then(c,c)),s.state.loading|=4,s.instance=y,kt(y);return}y=i.ownerDocument||i,o=nT(o),(p=hr.get(p))&&rg(o,p),y=y.createElement("link"),kt(y);var E=y;E._p=new Promise(function(C,z){E.onload=C,E.onerror=z}),ln(y,"link",o),s.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(s,i),(i=s.state.preload)&&(s.state.loading&3)===0&&(c.count++,s=ud.bind(c),i.addEventListener("load",s),i.addEventListener("error",s))}}function Sk(){if(Ou===null)throw Error(r(475));var i=Ou;return i.stylesheets&&i.count===0&&sg(i,i.stylesheets),0<i.count?function(s){var o=setTimeout(function(){if(i.stylesheets&&sg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=s,function(){i.unsuspend=null,clearTimeout(o)}}:null}function ud(){if(this.count--,this.count===0){if(this.stylesheets)sg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var cd=null;function sg(i,s){i.stylesheets=null,i.unsuspend!==null&&(i.count++,cd=new Map,s.forEach(Ak,i),cd=null,ud.call(i))}function Ak(i,s){if(!(s.state.loading&4)){var o=cd.get(i);if(o)var c=o.get(null);else{o=new Map,cd.set(i,o);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(o.set(E.dataset.precedence,E),c=E)}c&&o.set(null,c)}p=s.instance,E=p.getAttribute("data-precedence"),y=o.get(E)||c,y===c&&o.set(null,p),o.set(E,p),this.count++,c=ud.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),y?y.parentNode.insertBefore(p,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),s.state.loading|=4}}var Mu={$$typeof:O,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Rk(i,s,o,c,p,y,E,C){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function oT(i,s,o,c,p,y,E,C,z,J,ae,ce){return i=new Rk(i,s,o,E,C,z,J,ce),s=1,y===!0&&(s|=24),y=Hn(3,null,null,s),i.current=y,y.stateNode=i,s=Bm(),s.refCount++,i.pooledCache=s,s.refCount++,y.memoizedState={element:c,isDehydrated:o,cache:s},Hm(y),i}function lT(i){return i?(i=Co,i):Co}function uT(i,s,o,c,p,y){p=lT(p),c.context===null?c.context=p:c.pendingContext=p,c=hs(s),c.payload={element:o},y=y===void 0?null:y,y!==null&&(c.callback=y),o=ds(i,c,s),o!==null&&(Wn(o,i,s),hu(o,i,s))}function cT(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<s?o:s}}function ag(i,s){cT(i,s),(i=i.alternate)&&cT(i,s)}function hT(i){if(i.tag===13){var s=Ro(i,67108864);s!==null&&Wn(s,i,67108864),ag(i,67108864)}}var hd=!0;function Ck(i,s,o,c){var p=K.T;K.T=null;var y=ie.p;try{ie.p=2,og(i,s,o,c)}finally{ie.p=y,K.T=p}}function Ik(i,s,o,c){var p=K.T;K.T=null;var y=ie.p;try{ie.p=8,og(i,s,o,c)}finally{ie.p=y,K.T=p}}function og(i,s,o,c){if(hd){var p=lg(c);if(p===null)Yp(i,s,c,dd,o),fT(i,c);else if(kk(p,i,s,o,c))c.stopPropagation();else if(fT(i,c),s&4&&-1<Nk.indexOf(i)){for(;p!==null;){var y=Mr(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=gr(y.pendingLanes);if(E!==0){var C=y;for(C.pendingLanes|=2,C.entangledLanes|=2;E;){var z=1<<31-fn(E);C.entanglements[1]|=z,E&=~z}Wr(y),(lt&6)===0&&(Wh=me()+500,Cu(0))}}break;case 13:C=Ro(y,2),C!==null&&Wn(C,y,2),Xh(),ag(y,2)}if(y=lg(c),y===null&&Yp(i,s,c,dd,o),y===p)break;p=y}p!==null&&c.stopPropagation()}else Yp(i,s,c,null,o)}}function lg(i){return i=nr(i),ug(i)}var dd=null;function ug(i){if(dd=null,i=fi(i),i!==null){var s=l(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=u(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return dd=i,null}function dT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ve:return 2;case rt:return 8;case at:case Dr:return 32;case ta:return 268435456;default:return 32}default:return 32}}var cg=!1,Ss=null,As=null,Rs=null,Vu=new Map,ju=new Map,Cs=[],Nk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function fT(i,s){switch(i){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Rs=null;break;case"pointerover":case"pointerout":Vu.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ju.delete(s.pointerId)}}function Lu(i,s,o,c,p,y){return i===null||i.nativeEvent!==y?(i={blockedOn:s,domEventName:o,eventSystemFlags:c,nativeEvent:y,targetContainers:[p]},s!==null&&(s=Mr(s),s!==null&&hT(s)),i):(i.eventSystemFlags|=c,s=i.targetContainers,p!==null&&s.indexOf(p)===-1&&s.push(p),i)}function kk(i,s,o,c,p){switch(s){case"focusin":return Ss=Lu(Ss,i,s,o,c,p),!0;case"dragenter":return As=Lu(As,i,s,o,c,p),!0;case"mouseover":return Rs=Lu(Rs,i,s,o,c,p),!0;case"pointerover":var y=p.pointerId;return Vu.set(y,Lu(Vu.get(y)||null,i,s,o,c,p)),!0;case"gotpointercapture":return y=p.pointerId,ju.set(y,Lu(ju.get(y)||null,i,s,o,c,p)),!0}return!1}function mT(i){var s=fi(i.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=u(o),s!==null){i.blockedOn=s,Xc(i.priority,function(){if(o.tag===13){var c=Yn();c=ns(c);var p=Ro(o,c);p!==null&&Wn(p,o,c),ag(o,c)}});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function fd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var o=lg(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);yi=c,o.target.dispatchEvent(c),yi=null}else return s=Mr(o),s!==null&&hT(s),i.blockedOn=o,!1;s.shift()}return!0}function pT(i,s,o){fd(i)&&o.delete(s)}function Pk(){cg=!1,Ss!==null&&fd(Ss)&&(Ss=null),As!==null&&fd(As)&&(As=null),Rs!==null&&fd(Rs)&&(Rs=null),Vu.forEach(pT),ju.forEach(pT)}function md(i,s){i.blockedOn===s&&(i.blockedOn=null,cg||(cg=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Pk)))}var pd=null;function gT(i){pd!==i&&(pd=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pd===i&&(pd=null);for(var s=0;s<i.length;s+=3){var o=i[s],c=i[s+1],p=i[s+2];if(typeof c!="function"){if(ug(c||o)===null)continue;break}var y=Mr(o);y!==null&&(i.splice(s,3),s-=3,up(y,{pending:!0,data:p,method:o.method,action:c},c,p))}}))}function Uu(i){function s(z){return md(z,i)}Ss!==null&&md(Ss,i),As!==null&&md(As,i),Rs!==null&&md(Rs,i),Vu.forEach(s),ju.forEach(s);for(var o=0;o<Cs.length;o++){var c=Cs[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Cs.length&&(o=Cs[0],o.blockedOn===null);)mT(o),o.blockedOn===null&&Cs.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var p=o[c],y=o[c+1],E=p[jt]||null;if(typeof y=="function")E||gT(o);else if(E){var C=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[jt]||null)C=E.formAction;else if(ug(p)!==null)continue}else C=E.action;typeof C=="function"?o[c+1]=C:(o.splice(c,3),c-=3),gT(o)}}}function hg(i){this._internalRoot=i}gd.prototype.render=hg.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,c=Yn();uT(o,c,i,s,null,null)},gd.prototype.unmount=hg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;uT(i.current,2,null,i,null,null),Xh(),s[er]=null}};function gd(i){this._internalRoot=i}gd.prototype.unstable_scheduleHydration=function(i){if(i){var s=rs();i={blockedOn:null,target:i,priority:s};for(var o=0;o<Cs.length&&s!==0&&s<Cs[o].priority;o++);Cs.splice(o,0,i),o===0&&mT(i)}};var yT=e.version;if(yT!=="19.1.0")throw Error(r(527,yT,"19.1.0"));ie.findDOMNode=function(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=d(s),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var Dk={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yd.isDisabled&&yd.supportsFiber)try{St=yd.inject(Dk),ot=yd}catch{}}return Fu.createRoot=function(i,s){if(!a(i))throw Error(r(299));var o=!1,c="",p=Db,y=Ob,E=Mb,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onUncaughtError!==void 0&&(p=s.onUncaughtError),s.onCaughtError!==void 0&&(y=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(C=s.unstable_transitionCallbacks)),s=oT(i,1,!1,null,null,o,c,p,y,E,C,null),i[er]=s.current,Kp(i),new hg(s)},Fu.hydrateRoot=function(i,s,o){if(!a(i))throw Error(r(299));var c=!1,p="",y=Db,E=Ob,C=Mb,z=null,J=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(y=o.onUncaughtError),o.onCaughtError!==void 0&&(E=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(z=o.unstable_transitionCallbacks),o.formState!==void 0&&(J=o.formState)),s=oT(i,1,!0,s,o??null,c,p,y,E,C,z,J),s.context=lT(null),o=s.current,c=Yn(),c=ns(c),p=hs(c),p.callback=null,ds(o,p,c),o=c,s.current.lanes=o,di(s,o),Wr(s),i[er]=s.current,Kp(i),new gd(s)},Fu.version="19.1.0",Fu}var RT;function Hk(){if(RT)return pg.exports;RT=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pg.exports=qk(),pg.exports}var Gk=Hk();const $k=fv(Gk);var zu={},CT;function Kk(){if(CT)return zu;CT=1,Object.defineProperty(zu,"__esModule",{value:!0}),zu.parse=u,zu.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,l=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function u(w,x){const S=new l,k=w.length;if(k<2)return S;const R=(x==null?void 0:x.decode)||g;let N=0;do{const B=w.indexOf("=",N);if(B===-1)break;const O=w.indexOf(";",N),G=O===-1?k:O;if(B>G){N=w.lastIndexOf(";",B-1)+1;continue}const H=h(w,N,B),M=d(w,B,H),D=w.slice(H,M);if(S[D]===void 0){let A=h(w,B+1,G),I=d(w,G,A);const j=R(w.slice(A,I));S[D]=j}N=G+1}while(N<k);return S}function h(w,x,S){do{const k=w.charCodeAt(x);if(k!==32&&k!==9)return x}while(++x<S);return S}function d(w,x,S){for(;x>S;){const k=w.charCodeAt(--x);if(k!==32&&k!==9)return x+1}return S}function m(w,x,S){const k=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(w))throw new TypeError(`argument name is invalid: ${w}`);const R=k(x);if(!e.test(R))throw new TypeError(`argument val is invalid: ${x}`);let N=w+"="+R;if(!S)return N;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);N+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);N+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);N+="; Path="+S.path}if(S.expires){if(!v(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);N+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(N+="; HttpOnly"),S.secure&&(N+="; Secure"),S.partitioned&&(N+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":N+="; Priority=Low";break;case"medium":N+="; Priority=Medium";break;case"high":N+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":N+="; SameSite=Strict";break;case"lax":N+="; SameSite=Lax";break;case"none":N+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return N}function g(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return a.call(w)==="[object Date]"}return zu}Kk();var IT="popstate";function Yk(t={}){function e(r,a){let{pathname:l,search:u,hash:h}=r.location;return dy("",{pathname:l,search:u,hash:h},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:hc(a)}return Qk(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Cr(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Wk(){return Math.random().toString(36).substring(2,10)}function NT(t,e){return{usr:t.state,key:t.key,idx:e}}function dy(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wl(e):e,state:n,key:e&&e.key||r||Wk()}}function hc({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function wl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function Qk(t,e,n,r={}){let{window:a=document.defaultView,v5Compat:l=!1}=r,u=a.history,h="POP",d=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function v(){h="POP";let R=g(),N=R==null?null:R-m;m=R,d&&d({action:h,location:k.location,delta:N})}function w(R,N){h="PUSH";let B=dy(k.location,R,N);m=g()+1;let O=NT(B,m),G=k.createHref(B);try{u.pushState(O,"",G)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(G)}l&&d&&d({action:h,location:k.location,delta:1})}function x(R,N){h="REPLACE";let B=dy(k.location,R,N);m=g();let O=NT(B,m),G=k.createHref(B);u.replaceState(O,"",G),l&&d&&d({action:h,location:k.location,delta:0})}function S(R){return Xk(R)}let k={get action(){return h},get location(){return t(a,u)},listen(R){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(IT,v),d=R,()=>{a.removeEventListener(IT,v),d=null}},createHref(R){return e(a,R)},createURL:S,encodeLocation(R){let N=S(R);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:x,go(R){return u.go(R)}};return k}function Xk(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),bt(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:hc(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function lA(t,e,n="/"){return Jk(t,e,n,!1)}function Jk(t,e,n,r){let a=typeof e=="string"?wl(e):e,l=Gi(a.pathname||"/",n);if(l==null)return null;let u=uA(t);Zk(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let m=c2(l);h=l2(u[d],m,r)}return h}function uA(t,e=[],n=[],r=""){let a=(l,u,h)=>{let d={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};d.relativePath.startsWith("/")&&(bt(d.relativePath.startsWith(r),`Absolute route path "${d.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(r.length));let m=zi([r,d.relativePath]),g=n.concat(d);l.children&&l.children.length>0&&(bt(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),uA(l.children,e,g,m)),!(l.path==null&&!l.index)&&e.push({path:m,score:a2(m,l.index),routesMeta:g})};return t.forEach((l,u)=>{var h;if(l.path===""||!((h=l.path)!=null&&h.includes("?")))a(l,u);else for(let d of cA(l.path))a(l,u,d)}),e}function cA(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return a?[l,""]:[l];let u=cA(r.join("/")),h=[];return h.push(...u.map(d=>d===""?l:[l,d].join("/"))),a&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function Zk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:o2(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var e2=/^:[\w-]+$/,t2=3,n2=2,r2=1,i2=10,s2=-2,kT=t=>t==="*";function a2(t,e){let n=t.split("/"),r=n.length;return n.some(kT)&&(r+=s2),e&&(r+=n2),n.filter(a=>!kT(a)).reduce((a,l)=>a+(e2.test(l)?t2:l===""?r2:i2),r)}function o2(t,e){return t.length===e.length&&t.slice(0,-1).every((r,a)=>r===e[a])?t[t.length-1]-e[e.length-1]:0}function l2(t,e,n=!1){let{routesMeta:r}=t,a={},l="/",u=[];for(let h=0;h<r.length;++h){let d=r[h],m=h===r.length-1,g=l==="/"?e:e.slice(l.length)||"/",v=Wd({path:d.relativePath,caseSensitive:d.caseSensitive,end:m},g),w=d.route;if(!v&&m&&n&&!r[r.length-1].route.index&&(v=Wd({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},g)),!v)return null;Object.assign(a,v.params),u.push({params:a,pathname:zi([l,v.pathname]),pathnameBase:m2(zi([l,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(l=zi([l,v.pathnameBase]))}return u}function Wd(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=u2(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:r.reduce((m,{paramName:g,isOptional:v},w)=>{if(g==="*"){let S=h[w]||"";u=l.slice(0,l.length-S.length).replace(/(.)\/+$/,"$1")}const x=h[w];return v&&!x?m[g]=void 0:m[g]=(x||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:u,pattern:t}}function u2(t,e=!1,n=!0){Cr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(r.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),r]}function c2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Cr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Gi(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function h2(t,e="/"){let{pathname:n,search:r="",hash:a=""}=typeof t=="string"?wl(t):t;return{pathname:n?n.startsWith("/")?n:d2(n,e):e,search:p2(r),hash:g2(a)}}function d2(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function _g(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function f2(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function mv(t){let e=f2(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function pv(t,e,n,r=!1){let a;typeof t=="string"?a=wl(t):(a={...t},bt(!a.pathname||!a.pathname.includes("?"),_g("?","pathname","search",a)),bt(!a.pathname||!a.pathname.includes("#"),_g("#","pathname","hash",a)),bt(!a.search||!a.search.includes("#"),_g("#","search","hash",a)));let l=t===""||a.pathname==="",u=l?"/":a.pathname,h;if(u==null)h=n;else{let v=e.length-1;if(!r&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),v-=1;a.pathname=w.join("/")}h=v>=0?e[v]:"/"}let d=h2(a,h),m=u&&u!=="/"&&u.endsWith("/"),g=(l||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(m||g)&&(d.pathname+="/"),d}var zi=t=>t.join("/").replace(/\/\/+/g,"/"),m2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),p2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,g2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function y2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var hA=["POST","PUT","PATCH","DELETE"];new Set(hA);var v2=["GET",...hA];new Set(v2);var Tl=L.createContext(null);Tl.displayName="DataRouter";var Cf=L.createContext(null);Cf.displayName="DataRouterState";var dA=L.createContext({isTransitioning:!1});dA.displayName="ViewTransition";var _2=L.createContext(new Map);_2.displayName="Fetchers";var b2=L.createContext(null);b2.displayName="Await";var Nr=L.createContext(null);Nr.displayName="Navigation";var kc=L.createContext(null);kc.displayName="Location";var kr=L.createContext({outlet:null,matches:[],isDataRoute:!1});kr.displayName="Route";var gv=L.createContext(null);gv.displayName="RouteError";function w2(t,{relative:e}={}){bt(El(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=L.useContext(Nr),{hash:a,pathname:l,search:u}=Pc(t,{relative:e}),h=l;return n!=="/"&&(h=l==="/"?n:zi([n,l])),r.createHref({pathname:h,search:u,hash:a})}function El(){return L.useContext(kc)!=null}function Zn(){return bt(El(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(kc).location}var fA="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function mA(t){L.useContext(Nr).static||L.useLayoutEffect(t)}function Ji(){let{isDataRoute:t}=L.useContext(kr);return t?O2():T2()}function T2(){bt(El(),"useNavigate() may be used only in the context of a <Router> component.");let t=L.useContext(Tl),{basename:e,navigator:n}=L.useContext(Nr),{matches:r}=L.useContext(kr),{pathname:a}=Zn(),l=JSON.stringify(mv(r)),u=L.useRef(!1);return mA(()=>{u.current=!0}),L.useCallback((d,m={})=>{if(Cr(u.current,fA),!u.current)return;if(typeof d=="number"){n.go(d);return}let g=pv(d,JSON.parse(l),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:zi([e,g.pathname])),(m.replace?n.replace:n.push)(g,m.state,m)},[e,n,l,a,t])}L.createContext(null);function yv(){let{matches:t}=L.useContext(kr),e=t[t.length-1];return e?e.params:{}}function Pc(t,{relative:e}={}){let{matches:n}=L.useContext(kr),{pathname:r}=Zn(),a=JSON.stringify(mv(n));return L.useMemo(()=>pv(t,JSON.parse(a),r,e==="path"),[t,a,r,e])}function E2(t,e){return pA(t,e)}function pA(t,e,n,r){var N;bt(El(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=L.useContext(Nr),{matches:l}=L.useContext(kr),u=l[l.length-1],h=u?u.params:{},d=u?u.pathname:"/",m=u?u.pathnameBase:"/",g=u&&u.route;{let B=g&&g.path||"";gA(d,!g||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let v=Zn(),w;if(e){let B=typeof e=="string"?wl(e):e;bt(m==="/"||((N=B.pathname)==null?void 0:N.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${B.pathname}" was given in the \`location\` prop.`),w=B}else w=v;let x=w.pathname||"/",S=x;if(m!=="/"){let B=m.replace(/^\//,"").split("/");S="/"+x.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=lA(t,{pathname:S});Cr(g||k!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),Cr(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let R=C2(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},h,B.params),pathname:zi([m,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?m:zi([m,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,n,r);return e&&R?L.createElement(kc.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},R):R}function x2(){let t=D2(),e=y2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=L.createElement(L.Fragment,null,L.createElement("p",null," Hey developer "),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:l},"ErrorBoundary")," or"," ",L.createElement("code",{style:l},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:a},n):null,u)}var S2=L.createElement(x2,null),A2=class extends L.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?L.createElement(kr.Provider,{value:this.props.routeContext},L.createElement(gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function R2({routeContext:t,match:e,children:n}){let r=L.useContext(Tl);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(kr.Provider,{value:t},n)}function C2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,l=n==null?void 0:n.errors;if(l!=null){let d=a.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);bt(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,h=-1;if(n)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(h=d),m.route.id){let{loaderData:g,errors:v}=n,w=m.route.loader&&!g.hasOwnProperty(m.route.id)&&(!v||v[m.route.id]===void 0);if(m.route.lazy||w){u=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let v,w=!1,x=null,S=null;n&&(v=l&&m.route.id?l[m.route.id]:void 0,x=m.route.errorElement||S2,u&&(h<0&&g===0?(gA("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,S=null):h===g&&(w=!0,S=m.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,g+1)),R=()=>{let N;return v?N=x:w?N=S:m.route.Component?N=L.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=d,L.createElement(R2,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:N})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?L.createElement(A2,{location:n.location,revalidation:n.revalidation,component:x,error:v,children:R(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):R()},null)}function vv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function I2(t){let e=L.useContext(Tl);return bt(e,vv(t)),e}function N2(t){let e=L.useContext(Cf);return bt(e,vv(t)),e}function k2(t){let e=L.useContext(kr);return bt(e,vv(t)),e}function _v(t){let e=k2(t),n=e.matches[e.matches.length-1];return bt(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function P2(){return _v("useRouteId")}function D2(){var r;let t=L.useContext(gv),e=N2("useRouteError"),n=_v("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function O2(){let{router:t}=I2("useNavigate"),e=_v("useNavigate"),n=L.useRef(!1);return mA(()=>{n.current=!0}),L.useCallback(async(a,l={})=>{Cr(n.current,fA),n.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var PT={};function gA(t,e,n){!e&&!PT[t]&&(PT[t]=!0,Cr(!1,n))}L.memo(M2);function M2({routes:t,future:e,state:n}){return pA(t,void 0,n,e)}function Vi({to:t,replace:e,state:n,relative:r}){bt(El(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=L.useContext(Nr);Cr(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=L.useContext(kr),{pathname:u}=Zn(),h=Ji(),d=pv(t,mv(l),u,r==="path"),m=JSON.stringify(d);return L.useEffect(()=>{h(JSON.parse(m),{replace:e,state:n,relative:r})},[h,m,r,e,n]),null}function Tr(t){bt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function V2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:a,static:l=!1}){bt(!El(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),h=L.useMemo(()=>({basename:u,navigator:a,static:l,future:{}}),[u,a,l]);typeof n=="string"&&(n=wl(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:w="default"}=n,x=L.useMemo(()=>{let S=Gi(d,u);return S==null?null:{location:{pathname:S,search:m,hash:g,state:v,key:w},navigationType:r}},[u,d,m,g,v,w,r]);return Cr(x!=null,`<Router basename="${u}"> is not able to match the URL "${d}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:L.createElement(Nr.Provider,{value:h},L.createElement(kc.Provider,{children:e,value:x}))}function j2({children:t,location:e}){return E2(fy(t),e)}function fy(t,e=[]){let n=[];return L.Children.forEach(t,(r,a)=>{if(!L.isValidElement(r))return;let l=[...e,a];if(r.type===L.Fragment){n.push.apply(n,fy(r.props.children,l));return}bt(r.type===Tr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),bt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=fy(r.props.children,l)),n.push(u)}),n}var Nd="get",kd="application/x-www-form-urlencoded";function If(t){return t!=null&&typeof t.tagName=="string"}function L2(t){return If(t)&&t.tagName.toLowerCase()==="button"}function U2(t){return If(t)&&t.tagName.toLowerCase()==="form"}function B2(t){return If(t)&&t.tagName.toLowerCase()==="input"}function F2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z2(t,e){return t.button===0&&(!e||e==="_self")&&!F2(t)}var vd=null;function q2(){if(vd===null)try{new FormData(document.createElement("form"),0),vd=!1}catch{vd=!0}return vd}var H2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bg(t){return t!=null&&!H2.has(t)?(Cr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${kd}"`),null):t}function G2(t,e){let n,r,a,l,u;if(U2(t)){let h=t.getAttribute("action");r=h?Gi(h,e):null,n=t.getAttribute("method")||Nd,a=bg(t.getAttribute("enctype"))||kd,l=new FormData(t)}else if(L2(t)||B2(t)&&(t.type==="submit"||t.type==="image")){let h=t.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||h.getAttribute("action");if(r=d?Gi(d,e):null,n=t.getAttribute("formmethod")||h.getAttribute("method")||Nd,a=bg(t.getAttribute("formenctype"))||bg(h.getAttribute("enctype"))||kd,l=new FormData(h,t),!q2()){let{name:m,type:g,value:v}=t;if(g==="image"){let w=m?`${m}.`:"";l.append(`${w}x`,"0"),l.append(`${w}y`,"0")}else m&&l.append(m,v)}}else{if(If(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Nd,r=null,a=kd,u=t}return l&&a==="text/plain"&&(u=l,l=void 0),{action:r,method:n.toLowerCase(),encType:a,formData:l,body:u}}function bv(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function $2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function K2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Y2(t,e,n){let r=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let u=await $2(l,n);return u.links?u.links():[]}return[]}));return J2(r.flat(1).filter(K2).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function DT(t,e,n,r,a,l){let u=(d,m)=>n[m]?d.route.id!==n[m].route.id:!0,h=(d,m)=>{var g;return n[m].pathname!==d.pathname||((g=n[m].route.path)==null?void 0:g.endsWith("*"))&&n[m].params["*"]!==d.params["*"]};return l==="assets"?e.filter((d,m)=>u(d,m)||h(d,m)):l==="data"?e.filter((d,m)=>{var v;let g=r.routes[d.route.id];if(!g||!g.hasLoader)return!1;if(u(d,m)||h(d,m))return!0;if(d.route.shouldRevalidate){let w=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((v=n[0])==null?void 0:v.params)||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function W2(t,e,{includeHydrateFallback:n}={}){return Q2(t.map(r=>{let a=e.routes[r.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function Q2(t){return[...new Set(t)]}function X2(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function J2(t,e){let n=new Set;return new Set(e),t.reduce((r,a)=>{let l=JSON.stringify(X2(a));return n.has(l)||(n.add(l),r.push({key:l,link:a})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Z2=new Set([100,101,204,205]);function eP(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Gi(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function yA(){let t=L.useContext(Tl);return bv(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function tP(){let t=L.useContext(Cf);return bv(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wv=L.createContext(void 0);wv.displayName="FrameworkContext";function vA(){let t=L.useContext(wv);return bv(t,"You must render this element inside a <HydratedRouter> element"),t}function nP(t,e){let n=L.useContext(wv),[r,a]=L.useState(!1),[l,u]=L.useState(!1),{onFocus:h,onBlur:d,onMouseEnter:m,onMouseLeave:g,onTouchStart:v}=e,w=L.useRef(null);L.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let k=N=>{N.forEach(B=>{u(B.isIntersecting)})},R=new IntersectionObserver(k,{threshold:.5});return w.current&&R.observe(w.current),()=>{R.disconnect()}}},[t]),L.useEffect(()=>{if(r){let k=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(k)}}},[r]);let x=()=>{a(!0)},S=()=>{a(!1),u(!1)};return n?t!=="intent"?[l,w,{}]:[l,w,{onFocus:qu(h,x),onBlur:qu(d,S),onMouseEnter:qu(m,x),onMouseLeave:qu(g,S),onTouchStart:qu(v,x)}]:[!1,w,{}]}function qu(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function rP({page:t,...e}){let{router:n}=yA(),r=L.useMemo(()=>lA(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?L.createElement(sP,{page:t,matches:r,...e}):null}function iP(t){let{manifest:e,routeModules:n}=vA(),[r,a]=L.useState([]);return L.useEffect(()=>{let l=!1;return Y2(t,e,n).then(u=>{l||a(u)}),()=>{l=!0}},[t,e,n]),r}function sP({page:t,matches:e,...n}){let r=Zn(),{manifest:a,routeModules:l}=vA(),{basename:u}=yA(),{loaderData:h,matches:d}=tP(),m=L.useMemo(()=>DT(t,e,d,a,r,"data"),[t,e,d,a,r]),g=L.useMemo(()=>DT(t,e,d,a,r,"assets"),[t,e,d,a,r]),v=L.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,k=!1;if(e.forEach(N=>{var O;let B=a.routes[N.route.id];!B||!B.hasLoader||(!m.some(G=>G.route.id===N.route.id)&&N.route.id in h&&((O=l[N.route.id])!=null&&O.shouldRevalidate)||B.hasClientLoader?k=!0:S.add(N.route.id))}),S.size===0)return[];let R=eP(t,u);return k&&S.size>0&&R.searchParams.set("_routes",e.filter(N=>S.has(N.route.id)).map(N=>N.route.id).join(",")),[R.pathname+R.search]},[u,h,r,a,m,e,t,l]),w=L.useMemo(()=>W2(g,a),[g,a]),x=iP(g);return L.createElement(L.Fragment,null,v.map(S=>L.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),w.map(S=>L.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),x.map(({key:S,link:k})=>L.createElement("link",{key:S,...k})))}function aP(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var _A=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{_A&&(window.__reactRouterVersion="7.6.2")}catch{}function oP({basename:t,children:e,window:n}){let r=L.useRef();r.current==null&&(r.current=Yk({window:n,v5Compat:!0}));let a=r.current,[l,u]=L.useState({action:a.action,location:a.location}),h=L.useCallback(d=>{L.startTransition(()=>u(d))},[u]);return L.useLayoutEffect(()=>a.listen(h),[a,h]),L.createElement(V2,{basename:t,children:e,location:l.location,navigationType:l.action,navigator:a})}var bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wA=L.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:a,reloadDocument:l,replace:u,state:h,target:d,to:m,preventScrollReset:g,viewTransition:v,...w},x){let{basename:S}=L.useContext(Nr),k=typeof m=="string"&&bA.test(m),R,N=!1;if(typeof m=="string"&&k&&(R=m,_A))try{let I=new URL(window.location.href),j=m.startsWith("//")?new URL(I.protocol+m):new URL(m),F=Gi(j.pathname,S);j.origin===I.origin&&F!=null?m=F+j.search+j.hash:N=!0}catch{Cr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=w2(m,{relative:a}),[O,G,H]=nP(r,w),M=hP(m,{replace:u,state:h,target:d,preventScrollReset:g,relative:a,viewTransition:v});function D(I){e&&e(I),I.defaultPrevented||M(I)}let A=L.createElement("a",{...w,...H,href:R||B,onClick:N||l?e:D,ref:aP(x,G),target:d,"data-discover":!k&&n==="render"?"true":void 0});return O&&!k?L.createElement(L.Fragment,null,A,L.createElement(rP,{page:B})):A});wA.displayName="Link";var lP=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:a=!1,style:l,to:u,viewTransition:h,children:d,...m},g){let v=Pc(u,{relative:m.relative}),w=Zn(),x=L.useContext(Cf),{navigator:S,basename:k}=L.useContext(Nr),R=x!=null&&gP(v)&&h===!0,N=S.encodeLocation?S.encodeLocation(v).pathname:v.pathname,B=w.pathname,O=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;n||(B=B.toLowerCase(),O=O?O.toLowerCase():null,N=N.toLowerCase()),O&&k&&(O=Gi(O,k)||O);const G=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let H=B===N||!a&&B.startsWith(N)&&B.charAt(G)==="/",M=O!=null&&(O===N||!a&&O.startsWith(N)&&O.charAt(N.length)==="/"),D={isActive:H,isPending:M,isTransitioning:R},A=H?e:void 0,I;typeof r=="function"?I=r(D):I=[r,H?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let j=typeof l=="function"?l(D):l;return L.createElement(wA,{...m,"aria-current":A,className:I,ref:g,style:j,to:u,viewTransition:h},typeof d=="function"?d(D):d)});lP.displayName="NavLink";var uP=L.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:a,state:l,method:u=Nd,action:h,onSubmit:d,relative:m,preventScrollReset:g,viewTransition:v,...w},x)=>{let S=mP(),k=pP(h,{relative:m}),R=u.toLowerCase()==="get"?"get":"post",N=typeof h=="string"&&bA.test(h),B=O=>{if(d&&d(O),O.defaultPrevented)return;O.preventDefault();let G=O.nativeEvent.submitter,H=(G==null?void 0:G.getAttribute("formmethod"))||u;S(G||O.currentTarget,{fetcherKey:e,method:H,navigate:n,replace:a,state:l,relative:m,preventScrollReset:g,viewTransition:v})};return L.createElement("form",{ref:x,method:R,action:k,onSubmit:r?d:B,...w,"data-discover":!N&&t==="render"?"true":void 0})});uP.displayName="Form";function cP(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(t){let e=L.useContext(Tl);return bt(e,cP(t)),e}function hP(t,{target:e,replace:n,state:r,preventScrollReset:a,relative:l,viewTransition:u}={}){let h=Ji(),d=Zn(),m=Pc(t,{relative:l});return L.useCallback(g=>{if(z2(g,e)){g.preventDefault();let v=n!==void 0?n:hc(d)===hc(m);h(t,{replace:v,state:r,preventScrollReset:a,relative:l,viewTransition:u})}},[d,h,m,n,r,e,t,a,l,u])}var dP=0,fP=()=>`__${String(++dP)}__`;function mP(){let{router:t}=TA("useSubmit"),{basename:e}=L.useContext(Nr),n=P2();return L.useCallback(async(r,a={})=>{let{action:l,method:u,encType:h,formData:d,body:m}=G2(r,e);if(a.navigate===!1){let g=a.fetcherKey||fP();await t.fetch(g,n,a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,flushSync:a.flushSync})}else await t.navigate(a.action||l,{preventScrollReset:a.preventScrollReset,formData:d,body:m,formMethod:a.method||u,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,n])}function pP(t,{relative:e}={}){let{basename:n}=L.useContext(Nr),r=L.useContext(kr);bt(r,"useFormAction must be used inside a RouteContext");let[a]=r.matches.slice(-1),l={...Pc(t||".",{relative:e})},u=Zn();if(t==null){l.search=u.search;let h=new URLSearchParams(l.search),d=h.getAll("index");if(d.some(g=>g==="")){h.delete("index"),d.filter(v=>v).forEach(v=>h.append("index",v));let g=h.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:zi([n,l.pathname])),hc(l)}function gP(t,e={}){let n=L.useContext(dA);bt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TA("useViewTransitionState"),a=Pc(t,{relative:e.relative});if(!n.isTransitioning)return!1;let l=Gi(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=Gi(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wd(a.pathname,u)!=null||Wd(a.pathname,l)!=null}[...Z2];function yP(t={}){const{nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}=t,[a,l]=L.useState(!1),u=L.useRef(n);u.current=n;const h=L.useRef(r);return h.current=r,L.useEffect(()=>{const d=document.createElement("script");return d.src="https://accounts.google.com/gsi/client",d.async=!0,d.defer=!0,d.nonce=e,d.onload=()=>{var m;l(!0),(m=u.current)===null||m===void 0||m.call(u)},d.onerror=()=>{var m;l(!1),(m=h.current)===null||m===void 0||m.call(h)},document.body.appendChild(d),()=>{document.body.removeChild(d)}},[e]),a}const vP=L.createContext(null);function _P({clientId:t,nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r,children:a}){const l=yP({nonce:e,onScriptLoadSuccess:n,onScriptLoadError:r}),u=L.useMemo(()=>({clientId:t,scriptLoadedSuccessfully:l}),[t,l]);return oA.createElement(vP.Provider,{value:u},a)}const bP=()=>{};var OT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let a=t.charCodeAt(r);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},wP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const a=t[n++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=t[n++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=t[n++],u=t[n++],h=t[n++],d=((a&7)<<18|(l&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(d>>10)),e[r++]=String.fromCharCode(56320+(d&1023))}else{const l=t[n++],u=t[n++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},xA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<t.length;a+=3){const l=t[a],u=a+1<t.length,h=u?t[a+1]:0,d=a+2<t.length,m=d?t[a+2]:0,g=l>>2,v=(l&3)<<4|h>>4;let w=(h&15)<<2|m>>6,x=m&63;d||(x=64,u||(w=64)),r.push(n[g],n[v],n[w],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(EA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<t.length;){const l=n[t.charAt(a++)],h=a<t.length?n[t.charAt(a)]:0;++a;const m=a<t.length?n[t.charAt(a)]:64;++a;const v=a<t.length?n[t.charAt(a)]:64;if(++a,l==null||h==null||m==null||v==null)throw new TP;const w=l<<2|h>>4;if(r.push(w),m!==64){const x=h<<4&240|m>>2;if(r.push(x),v!==64){const S=m<<6&192|v;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const EP=function(t){const e=EA(t);return xA.encodeByteArray(e,!0)},Qd=function(t){return EP(t).replace(/\./g,"")},SA=function(t){try{return xA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=()=>xP().__FIREBASE_DEFAULTS__,AP=()=>{if(typeof process>"u"||typeof OT>"u")return;const t=OT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&SA(t[1]);return e&&JSON.parse(e)},Nf=()=>{try{return bP()||SP()||AP()||RP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},AA=t=>{var e,n;return(n=(e=Nf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},RA=t=>{const e=AA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},CA=()=>{var t;return(t=Nf())===null||t===void 0?void 0:t.config},IA=t=>{var e;return(e=Nf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){return t.endsWith(".cloudworkstations.dev")}async function Tv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",a=t.iat||0,l=t.sub||t.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Qd(JSON.stringify(n)),Qd(JSON.stringify(u)),""].join(".")}const Zu={};function IP(){const t={prod:[],emulator:[]};for(const e of Object.keys(Zu))Zu[e]?t.emulator.push(e):t.prod.push(e);return t}function NP(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let MT=!1;function Ev(t,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||Zu[t]===e||Zu[t]||MT)return;Zu[t]=e;function n(w){return`__firebase__banner__${w}`}const r="__firebase__banner",l=IP().prod.length>0;function u(){const w=document.getElementById(r);w&&w.remove()}function h(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function d(w,x){w.setAttribute("width","24"),w.setAttribute("id",x),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function m(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{MT=!0,u()},w}function g(w,x){w.setAttribute("id",x),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=NP(r),x=n("text"),S=document.getElementById(x)||document.createElement("span"),k=n("learnmore"),R=document.getElementById(k)||document.createElement("a"),N=n("preprendIcon"),B=document.getElementById(N)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const O=w.element;h(O),g(R,k);const G=m();d(B,N),O.append(B,S,R,G),document.body.appendChild(O)}l?(S.innerText="Preview backend disconnected.",B.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(B.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kP(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(En())}function PP(){var t;const e=(t=Nf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DP(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function OP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function MP(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VP(){const t=En();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jP(){return!PP()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function LP(){try{return typeof indexedDB=="object"}catch{return!1}}function UP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="FirebaseError";class ui extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=BP,Object.setPrototypeOf(this,ui.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?FP(l,r):"Error",h=`${this.serviceName}: ${u} (${a}).`;return new ui(a,h,r)}}function FP(t,e){return t.replace(zP,(n,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const zP=/\{\$([^}]+)}/g;function qP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ya(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const a of n){if(!r.includes(a))return!1;const l=t[a],u=e[a];if(VT(l)&&VT(u)){if(!Ya(l,u))return!1}else if(l!==u)return!1}for(const a of r)if(!n.includes(a))return!1;return!0}function VT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $u(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[a,l]=r.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function HP(t,e){const n=new GP(t,e);return n.subscribe.bind(n)}class GP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let a;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$P(e,["next","error","complete"])?a=e:a={next:e,error:n,complete:r},a.next===void 0&&(a.next=wg),a.error===void 0&&(a.error=wg),a.complete===void 0&&(a.complete=wg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $P(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function wg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class Bs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new CP;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WP(e))try{this.getOrInitializeService({instanceIdentifier:ja})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ja){return this.instances.has(e)}getOptions(e=ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[l,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(l);r===h&&u.resolve(a)}return a}onInit(e,n){var r;const a=this.normalizeInstanceIdentifier(n),l=(r=this.onInitCallbacks.get(a))!==null&&r!==void 0?r:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const a of r)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ja){return this.component?this.component.multipleInstances?e:ja:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YP(t){return t===ja?void 0:t}function WP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ke||(Ke={}));const XP={debug:Ke.DEBUG,verbose:Ke.VERBOSE,info:Ke.INFO,warn:Ke.WARN,error:Ke.ERROR,silent:Ke.SILENT},JP=Ke.INFO,ZP={[Ke.DEBUG]:"log",[Ke.VERBOSE]:"log",[Ke.INFO]:"info",[Ke.WARN]:"warn",[Ke.ERROR]:"error"},eD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),a=ZP[e];if(a)console[a](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xv{constructor(e){this.name=e,this._logLevel=JP,this._logHandler=eD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ke.DEBUG,...e),this._logHandler(this,Ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ke.VERBOSE,...e),this._logHandler(this,Ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ke.INFO,...e),this._logHandler(this,Ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ke.WARN,...e),this._logHandler(this,Ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ke.ERROR,...e),this._logHandler(this,Ke.ERROR,...e)}}const tD=(t,e)=>e.some(n=>t instanceof n);let jT,LT;function nD(){return jT||(jT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rD(){return LT||(LT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kA=new WeakMap,my=new WeakMap,PA=new WeakMap,Tg=new WeakMap,Sv=new WeakMap;function iD(t){const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("success",l),t.removeEventListener("error",u)},l=()=>{n(Vs(t.result)),a()},u=()=>{r(t.error),a()};t.addEventListener("success",l),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&kA.set(n,t)}).catch(()=>{}),Sv.set(e,t),e}function sD(t){if(my.has(t))return;const e=new Promise((n,r)=>{const a=()=>{t.removeEventListener("complete",l),t.removeEventListener("error",u),t.removeEventListener("abort",u)},l=()=>{n(),a()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",l),t.addEventListener("error",u),t.addEventListener("abort",u)});my.set(t,e)}let py={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return my.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function aD(t){py=t(py)}function oD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Eg(this),e,...n);return PA.set(r,e.sort?e.sort():[e]),Vs(r)}:rD().includes(t)?function(...e){return t.apply(Eg(this),e),Vs(kA.get(this))}:function(...e){return Vs(t.apply(Eg(this),e))}}function lD(t){return typeof t=="function"?oD(t):(t instanceof IDBTransaction&&sD(t),tD(t,nD())?new Proxy(t,py):t)}function Vs(t){if(t instanceof IDBRequest)return iD(t);if(Tg.has(t))return Tg.get(t);const e=lD(t);return e!==t&&(Tg.set(t,e),Sv.set(e,t)),e}const Eg=t=>Sv.get(t);function uD(t,e,{blocked:n,upgrade:r,blocking:a,terminated:l}={}){const u=indexedDB.open(t,e),h=Vs(u);return r&&u.addEventListener("upgradeneeded",d=>{r(Vs(u.result),d.oldVersion,d.newVersion,Vs(u.transaction),d)}),n&&u.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),h.then(d=>{l&&d.addEventListener("close",()=>l()),a&&d.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const cD=["get","getKey","getAll","getAllKeys","count"],hD=["put","add","delete","clear"],xg=new Map;function UT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xg.get(e))return xg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,a=hD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(a||cD.includes(n)))return;const l=async function(u,...h){const d=this.transaction(u,a?"readwrite":"readonly");let m=d.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),a&&d.done]))[0]};return xg.set(e,l),l}aD(t=>({...t,get:(e,n,r)=>UT(e,n)||t.get(e,n,r),has:(e,n)=>!!UT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const gy="@firebase/app",BT="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new xv("@firebase/app"),mD="@firebase/app-compat",pD="@firebase/analytics-compat",gD="@firebase/analytics",yD="@firebase/app-check-compat",vD="@firebase/app-check",_D="@firebase/auth",bD="@firebase/auth-compat",wD="@firebase/database",TD="@firebase/data-connect",ED="@firebase/database-compat",xD="@firebase/functions",SD="@firebase/functions-compat",AD="@firebase/installations",RD="@firebase/installations-compat",CD="@firebase/messaging",ID="@firebase/messaging-compat",ND="@firebase/performance",kD="@firebase/performance-compat",PD="@firebase/remote-config",DD="@firebase/remote-config-compat",OD="@firebase/storage",MD="@firebase/storage-compat",VD="@firebase/firestore",jD="@firebase/ai",LD="@firebase/firestore-compat",UD="firebase",BD="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="[DEFAULT]",FD={[gy]:"fire-core",[mD]:"fire-core-compat",[gD]:"fire-analytics",[pD]:"fire-analytics-compat",[vD]:"fire-app-check",[yD]:"fire-app-check-compat",[_D]:"fire-auth",[bD]:"fire-auth-compat",[wD]:"fire-rtdb",[TD]:"fire-data-connect",[ED]:"fire-rtdb-compat",[xD]:"fire-fn",[SD]:"fire-fn-compat",[AD]:"fire-iid",[RD]:"fire-iid-compat",[CD]:"fire-fcm",[ID]:"fire-fcm-compat",[ND]:"fire-perf",[kD]:"fire-perf-compat",[PD]:"fire-rc",[DD]:"fire-rc-compat",[OD]:"fire-gcs",[MD]:"fire-gcs-compat",[VD]:"fire-fst",[LD]:"fire-fst-compat",[jD]:"fire-vertex","fire-js":"fire-js",[UD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd=new Map,zD=new Map,vy=new Map;function FT(t,e){try{t.container.addComponent(e)}catch(n){$i.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Wa(t){const e=t.name;if(vy.has(e))return $i.debug(`There were multiple attempts to register component ${e}.`),!1;vy.set(e,t);for(const n of Xd.values())FT(n,t);for(const n of zD.values())FT(n,t);return!0}function kf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},js=new Dc("app","Firebase",qD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=BD;function DA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:yy,automaticDataCollectionEnabled:!0},e),a=r.name;if(typeof a!="string"||!a)throw js.create("bad-app-name",{appName:String(a)});if(n||(n=CA()),!n)throw js.create("no-options");const l=Xd.get(a);if(l){if(Ya(n,l.options)&&Ya(r,l.config))return l;throw js.create("duplicate-app",{appName:a})}const u=new QP(a);for(const d of vy.values())u.addComponent(d);const h=new HD(n,r,u);return Xd.set(a,h),h}function Av(t=yy){const e=Xd.get(t);if(!e&&t===yy&&CA())return DA();if(!e)throw js.create("no-app",{appName:t});return e}function Zr(t,e,n){var r;let a=(r=FD[t])!==null&&r!==void 0?r:t;n&&(a+=`-${n}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const h=[`Unable to register library "${a}" with version "${e}":`];l&&h.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),$i.warn(h.join(" "));return}Wa(new Bs(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD="firebase-heartbeat-database",$D=1,dc="firebase-heartbeat-store";let Sg=null;function OA(){return Sg||(Sg=uD(GD,$D,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(dc)}catch(n){console.warn(n)}}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),Sg}async function KD(t){try{const n=(await OA()).transaction(dc),r=await n.objectStore(dc).get(MA(t));return await n.done,r}catch(e){if(e instanceof ui)$i.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});$i.warn(n.message)}}}async function zT(t,e){try{const r=(await OA()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,MA(t)),await r.done}catch(n){if(n instanceof ui)$i.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});$i.warn(r.message)}}}function MA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,WD=30;class QD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=qT();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats.length>WD){const u=ZD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){$i.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qT(),{heartbeatsToSend:r,unsentEntries:a}=XD(this._heartbeatsCache.heartbeats),l=Qd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(n){return $i.warn(n),""}}}function qT(){return new Date().toISOString().substring(0,10)}function XD(t,e=YD){const n=[];let r=t.slice();for(const a of t){const l=n.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),HT(n)>e){l.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),HT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LP()?UP().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return zT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return zT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function HT(t){return Qd(JSON.stringify({version:2,heartbeats:t})).length}function ZD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(t){Wa(new Bs("platform-logger",e=>new dD(e),"PRIVATE")),Wa(new Bs("heartbeat",e=>new QD(e),"PRIVATE")),Zr(gy,BT,t),Zr(gy,BT,"esm2017"),Zr("fire-js","")}eO("");var tO="firebase",nO="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr(tO,nO,"app");function Rv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(t);a<r.length;a++)e.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(t,r[a])&&(n[r[a]]=t[r[a]]);return n}function VA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rO=VA,jA=new Dc("auth","Firebase",VA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jd=new xv("@firebase/auth");function iO(t,...e){Jd.logLevel<=Ke.WARN&&Jd.warn(`Auth (${ro}): ${t}`,...e)}function Pd(t,...e){Jd.logLevel<=Ke.ERROR&&Jd.error(`Auth (${ro}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(t,...e){throw Iv(t,...e)}function Ar(t,...e){return Iv(t,...e)}function Cv(t,e,n){const r=Object.assign(Object.assign({},rO()),{[e]:n});return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function qi(t){return Cv(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sO(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pr(t,"argument-error"),Cv(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Iv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jA.create(t,...e)}function Ie(t,e,...n){if(!t)throw Iv(e,...n)}function Ui(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Pd(e),new Error(e)}function Ki(t,e){t||Ui(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zd(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function LA(){return GT()==="http:"||GT()==="https:"}function GT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LA()||OP()||"connection"in navigator)?navigator.onLine:!0}function oO(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=kP()||MP()}get(){return aO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ui("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ui("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ui("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cO=new Mc(3e4,6e4);function Zi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function es(t,e,n,r,a={}){return BA(t,a,async()=>{let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});const h=Oc(Object.assign({key:t.config.apiKey},u)).slice(1),d=await t._getAdditionalHeaders();d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:d},l);return DP()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&no(t.emulatorConfig.host)&&(m.credentials="include"),UA.fetch()(await FA(t,t.config.apiHost,n,h),m)})}async function BA(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lO),e);try{const a=new dO(t),l=await Promise.race([n(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw _d(t,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const h=l.ok?u.errorMessage:u.error.message,[d,m]=h.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw _d(t,"credential-already-in-use",u);if(d==="EMAIL_EXISTS")throw _d(t,"email-already-in-use",u);if(d==="USER_DISABLED")throw _d(t,"user-disabled",u);const g=r[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw Cv(t,g,m);pr(t,g)}}catch(a){if(a instanceof ui)throw a;pr(t,"network-request-failed",{message:String(a)})}}async function Vc(t,e,n,r,a={}){const l=await es(t,e,n,r,a);return"mfaPendingCredential"in l&&pr(t,"multi-factor-auth-required",{_serverResponse:l}),l}async function FA(t,e,n,r){const a=`${e}${n}?${r}`,l=t,u=l.config.emulator?Nv(t.config,a):`${t.config.apiScheme}://${a}`;return uO.includes(n)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(u).toString():u}function hO(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ar(this.auth,"network-request-failed")),cO.get())})}}function _d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const a=Ar(t,e,r);return a.customData._tokenResponse=n,a}function $T(t){return t!==void 0&&t.enterprise!==void 0}class fO{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return hO(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function mO(t,e){return es(t,"GET","/v2/recaptchaConfig",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pO(t,e){return es(t,"POST","/v1/accounts:delete",e)}async function ef(t,e){return es(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ec(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function gO(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),a=kv(r);Ie(a&&a.exp&&a.auth_time&&a.iat,n.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:r,authTime:ec(Ag(a.auth_time)),issuedAtTime:ec(Ag(a.iat)),expirationTime:ec(Ag(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Ag(t){return Number(t)*1e3}function kv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pd("JWT malformed, contained fewer than 3 sections"),null;try{const a=SA(n);return a?JSON.parse(a):(Pd("Failed to decode base64 JWT payload"),null)}catch(a){return Pd("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function KT(t){const e=kv(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ui&&yO(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function yO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const a=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ec(this.lastLoginAt),this.creationTime=ec(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tf(t){var e;const n=t.auth,r=await t.getIdToken(),a=await fc(t,ef(n,{idToken:r}));Ie(a==null?void 0:a.users.length,n,"internal-error");const l=a.users[0];t._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?zA(l.providerUserInfo):[],h=bO(t.providerData,u),d=t.isAnonymous,m=!(t.email&&l.passwordHash)&&!(h!=null&&h.length),g=d?m:!1,v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new _y(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(t,v)}async function _O(t){const e=Nt(t);await tf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bO(t,e){return[...t.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zA(t){return t.map(e=>{var{providerId:n}=e,r=Rv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e){const n=await BA(t,{},async()=>{const r=Oc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=t.config,u=await FA(t,a,"/v1/token",`key=${l}`),h=await t._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:h,body:r};return t.emulatorConfig&&no(t.emulatorConfig.host)&&(d.credentials="include"),UA.fetch()(u,d)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function TO(t,e){return es(t,"POST","/v2/accounts:revokeToken",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ie(e.length!==0,"internal-error");const n=KT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:a,expiresIn:l}=await wO(e,n);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:a,expirationTime:l}=n,u=new ol;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),a&&(Ie(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(Ie(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ol,this.toJSON())}_performRefresh(){return Ui("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ns(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xr{constructor(e){var{uid:n,auth:r,stsTokenManager:a}=e,l=Rv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new _y(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await fc(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return gO(this,e)}reload(){return _O(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(qi(this.auth));const e=await this.getIdToken();return await fc(this,pO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,a,l,u,h,d,m,g;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,w=(a=n.email)!==null&&a!==void 0?a:void 0,x=(l=n.phoneNumber)!==null&&l!==void 0?l:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,k=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,N=(m=n.createdAt)!==null&&m!==void 0?m:void 0,B=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:O,emailVerified:G,isAnonymous:H,providerData:M,stsTokenManager:D}=n;Ie(O&&D,e,"internal-error");const A=ol.fromJSON(this.name,D);Ie(typeof O=="string",e,"internal-error"),Ns(v,e.name),Ns(w,e.name),Ie(typeof G=="boolean",e,"internal-error"),Ie(typeof H=="boolean",e,"internal-error"),Ns(x,e.name),Ns(S,e.name),Ns(k,e.name),Ns(R,e.name),Ns(N,e.name),Ns(B,e.name);const I=new xr({uid:O,auth:e,email:w,emailVerified:G,displayName:v,isAnonymous:H,photoURL:S,phoneNumber:x,tenantId:k,stsTokenManager:A,createdAt:N,lastLoginAt:B});return M&&Array.isArray(M)&&(I.providerData=M.map(j=>Object.assign({},j))),R&&(I._redirectEventId=R),I}static async _fromIdTokenResponse(e,n,r=!1){const a=new ol;a.updateFromServerResponse(n);const l=new xr({uid:n.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await tf(l),l}static async _fromGetAccountInfoResponse(e,n,r){const a=n.users[0];Ie(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zA(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),h=new ol;h.updateFromIdToken(r);const d=new xr({uid:a.localId,auth:e,stsTokenManager:h,isAnonymous:u}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new _y(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(d,m),d}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YT=new Map;function Bi(t){Ki(t instanceof Function,"Expected a class definition");let e=YT.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}qA.type="NONE";const WT=qA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class ll{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Dd(this.userKey,a.apiKey,l),this.fullPersistenceKey=Dd("persistence",a.apiKey,l),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await ef(this.auth,{idToken:e}).catch(()=>{});return n?xr._fromGetAccountInfoResponse(this.auth,n,e):null}return xr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new ll(Bi(WT),e,r);const a=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let l=a[0]||Bi(WT);const u=Dd(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const g=await m._get(u);if(g){let v;if(typeof g=="string"){const w=await ef(e,{idToken:g}).catch(()=>{});if(!w)break;v=await xr._fromGetAccountInfoResponse(e,w,g)}else v=xr._fromJSON(e,g);m!==l&&(h=v),l=m;break}}catch{}const d=a.filter(m=>m._shouldAllowMigration);return!l._shouldAllowMigration||!d.length?new ll(l,e,r):(l=d[0],h&&await l._set(u,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==l)try{await m._remove(u)}catch{}})),new ll(l,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WA(e))return"Blackberry";if(QA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||$A(e))&&!e.includes("edge/"))return"Chrome";if(YA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function HA(t=En()){return/firefox\//i.test(t)}function GA(t=En()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function $A(t=En()){return/crios\//i.test(t)}function KA(t=En()){return/iemobile/i.test(t)}function YA(t=En()){return/android/i.test(t)}function WA(t=En()){return/blackberry/i.test(t)}function QA(t=En()){return/webos/i.test(t)}function Pv(t=En()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function EO(t=En()){var e;return Pv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xO(){return VP()&&document.documentMode===10}function XA(t=En()){return Pv(t)||YA(t)||QA(t)||WA(t)||/windows phone/i.test(t)||KA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e=[]){let n;switch(t){case"Browser":n=QT(En());break;case"Worker":n=`${QT(En())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ro}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=l=>new Promise((u,h)=>{try{const d=e(l);u(d)}catch(d){h(d)}});r.onAbort=n,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const a of n)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(t,e={}){return es(t,"GET","/v2/passwordPolicy",Zi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO=6;class CO{constructor(e){var n,r,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:RO,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,a,l,u,h;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(r=d.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),d.isValid&&(d.isValid=(a=d.containsLowercaseLetter)!==null&&a!==void 0?a:!0),d.isValid&&(d.isValid=(l=d.containsUppercaseLetter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(u=d.containsNumericCharacter)!==null&&u!==void 0?u:!0),d.isValid&&(d.isValid=(h=d.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),d}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),a&&(n.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r,a){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XT(this),this.idTokenSubscription=new XT(this),this.beforeStateQueue=new SO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Bi(n)),this._initializationPromise=this.queue(async()=>{var r,a,l;if(!this._deleted&&(this.persistenceManager=await ll.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ef(this,{idToken:e}),r=await xr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let a=r,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=a==null?void 0:a._redirectEventId,d=await this.tryRedirectSignIn(e);(!u||u===h)&&(d!=null&&d.user)&&(a=d.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oO()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(qi(this));const n=e?Nt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(qi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(qi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await AO(this),n=new CO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await TO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Bi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await ll.create(this,[Bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,a){if(this._deleted)return()=>{};const l=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(h,this,"internal-error"),h.then(()=>{u||l(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,r,a);return()=>{u=!0,d()}}else{const d=e.addObserver(n);return()=>{u=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=JA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const a=await this._getAppCheckToken();return a&&(n["X-Firebase-AppCheck"]=a),n}async _getAppCheckToken(){var e;if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&iO(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Qs(t){return Nt(t)}class XT{constructor(e){this.auth=e,this.observer=null,this.addObserver=HP(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function NO(t){Pf=t}function ZA(t){return Pf.loadJS(t)}function kO(){return Pf.recaptchaEnterpriseScript}function PO(){return Pf.gapiScript}function DO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class OO{constructor(){this.enterprise=new MO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class MO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const VO="recaptcha-enterprise",e1="NO_RECAPTCHA";class jO{constructor(e){this.type=VO,this.auth=Qs(e)}async verify(e="verify",n=!1){async function r(l){if(!n){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,h)=>{mO(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new fO(d);return l.tenantId==null?l._agentRecaptchaConfig=m:l._tenantRecaptchaConfigs[l.tenantId]=m,u(m.siteKey)}}).catch(d=>{h(d)})})}function a(l,u,h){const d=window.grecaptcha;$T(d)?d.enterprise.ready(()=>{d.enterprise.execute(l,{action:e}).then(m=>{u(m)}).catch(()=>{u(e1)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OO().execute("siteKey",{action:"verify"}):new Promise((l,u)=>{r(this.auth).then(h=>{if(!n&&$T(window.grecaptcha))a(h,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let d=kO();d.length!==0&&(d+=h),ZA(d).then(()=>{a(h,l,u)}).catch(m=>{u(m)})}}).catch(h=>{u(h)})})}}async function JT(t,e,n,r=!1,a=!1){const l=new jO(t);let u;if(a)u=e1;else try{u=await l.verify(n)}catch{u=await l.verify(n,!0)}const h=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const d=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const d=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:u}):Object.assign(h,{captchaResponse:u}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function by(t,e,n,r,a){var l;if(!((l=t._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await JT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const h=await JT(t,e,n,n==="getOobCode");return r(t,h)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t,e){const n=kf(t,"auth");if(n.isInitialized()){const a=n.getImmediate(),l=n.getOptions();if(Ya(l,e??{}))return a;pr(a,"already-initialized")}return n.initialize({options:e})}function UO(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BO(t,e,n){const r=Qs(t);Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=t1(e),{host:u,port:h}=FO(e),d=h===null?"":`:${h}`,m={url:`${l}//${u}${d}/`},g=Object.freeze({host:u,port:h,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Ie(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ie(Ya(m,r.config.emulator)&&Ya(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,no(u)?(Tv(`${l}//${u}${d}`),Ev("Auth",!0)):zO()}function t1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function FO(t){const e=t1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:ZT(r.substr(l.length+1))}}else{const[l,u]=r.split(":");return{host:l,port:ZT(u)}}}function ZT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function zO(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ui("not implemented")}_getIdTokenResponse(e){return Ui("not implemented")}_linkToIdToken(e,n){return Ui("not implemented")}_getReauthenticationResolver(e){return Ui("not implemented")}}async function qO(t,e){return es(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HO(t,e){return Vc(t,"POST","/v1/accounts:signInWithPassword",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GO(t,e){return Vc(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}async function $O(t,e){return Vc(t,"POST","/v1/accounts:signInWithEmailLink",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends Dv{constructor(e,n,r,a=null){super("password",r),this._email=e,this._password=n,this._tenantId=a}static _fromEmailAndPassword(e,n){return new mc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new mc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,n,"signInWithPassword",HO);case"emailLink":return GO(e,{email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return by(e,r,"signUpPassword",qO);case"emailLink":return $O(e,{idToken:n,email:this._email,oobCode:this._password});default:pr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(t,e){return Vc(t,"POST","/v1/accounts:signInWithIdp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="http://localhost";class Qa extends Dv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Qa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a}=n,l=Rv(n,["providerId","signInMethod"]);if(!r||!a)return null;const u=new Qa(r,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ul(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:KO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Oc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function WO(t){const e=$u(Ku(t)).link,n=e?$u(Ku(e)).deep_link_id:null,r=$u(Ku(t)).deep_link_id;return(r?$u(Ku(r)).link:null)||r||n||e||t}class Ov{constructor(e){var n,r,a,l,u,h;const d=$u(Ku(e)),m=(n=d.apiKey)!==null&&n!==void 0?n:null,g=(r=d.oobCode)!==null&&r!==void 0?r:null,v=YO((a=d.mode)!==null&&a!==void 0?a:null);Ie(m&&g&&v,"argument-error"),this.apiKey=m,this.operation=v,this.code=g,this.continueUrl=(l=d.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=d.lang)!==null&&u!==void 0?u:null,this.tenantId=(h=d.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=WO(e);try{return new Ov(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xl{constructor(){this.providerId=xl.PROVIDER_ID}static credential(e,n){return mc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ov.parseLink(n);return Ie(r,"argument-error"),mc._fromEmailAndCode(e,r.code,r.tenantId)}}xl.PROVIDER_ID="password";xl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc extends Mv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends jc{constructor(){super("facebook.com")}static credential(e){return Qa._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends jc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Qa._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.GOOGLE_SIGN_IN_METHOD="google.com";Li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends jc{constructor(){super("github.com")}static credential(e){return Qa._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.GITHUB_SIGN_IN_METHOD="github.com";Ds.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os extends jc{constructor(){super("twitter.com")}static credential(e,n){return Qa._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Os.credential(n,r)}catch{return null}}}Os.TWITTER_SIGN_IN_METHOD="twitter.com";Os.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QO(t,e){return Vc(t,"POST","/v1/accounts:signUp",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,a=!1){const l=await xr._fromIdTokenResponse(e,r,a),u=eE(r);return new Xa({user:l,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const a=eE(r);return new Xa({user:e,providerId:a,_tokenResponse:r,operationType:n})}}function eE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends ui{constructor(e,n,r,a){var l;super(n.code,n.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,nf.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,a){return new nf(e,n,r,a)}}function n1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?nf._fromErrorAndOperation(t,l,e,r):l})}async function XO(t,e,n=!1){const r=await fc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JO(t,e,n=!1){const{auth:r}=t;if(Vn(r.app))return Promise.reject(qi(r));const a="reauthenticate";try{const l=await fc(t,n1(r,a,e,t),n);Ie(l.idToken,r,"internal-error");const u=kv(l.idToken);Ie(u,r,"internal-error");const{sub:h}=u;return Ie(t.uid===h,r,"user-mismatch"),Xa._forOperation(t,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&pr(r,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(t,e,n=!1){if(Vn(t.app))return Promise.reject(qi(t));const r="signIn",a=await n1(t,r,e),l=await Xa._fromIdTokenResponse(t,r,a);return n||await t._updateCurrentUser(l.user),l}async function ZO(t,e){return r1(Qs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i1(t){const e=Qs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tE(t,e,n){if(Vn(t.app))return Promise.reject(qi(t));const r=Qs(t),u=await by(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",QO).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&i1(t),d}),h=await Xa._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(h.user),h}function Rg(t,e,n){return Vn(t.app)?Promise.reject(qi(t)):ZO(Nt(t),xl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&i1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(t,e){return es(t,"POST","/v1/accounts:createAuthUri",Zi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t,e){const n=LA()?Zd():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:a}=await eM(Nt(t),r);return a||[]}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t,e){return Nt(t).setPersistence(e)}function rM(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function iM(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function s1(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function a1(t){return Nt(t).signOut()}const rf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rf,"1"),this.storage.removeItem(rf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=1e3,aM=10;class l1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=XA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),a=this.localCache[n];r!==a&&e(n,a,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,d)=>{this.notifyListeners(u,d)});return}const r=e.key;n?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},l=this.storage.getItem(r);xO()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,aM):a()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}l1.type="LOCAL";const u1=l1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}c1.type="SESSION";const h1=c1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oM(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(a=>a.isListeningto(e));if(n)return n;const r=new Df(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:a,data:l}=n.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const h=Array.from(u).map(async m=>m(n.origin,l)),d=await oM(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:d})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Df.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((h,d)=>{const m=Vv("",20);a.port1.start();const g=setTimeout(()=>{d(new Error("unsupported_event"))},r);u={messageChannel:a,onMessage(v){const w=v;if(w.data.eventId===m)switch(w.data.status){case"ack":clearTimeout(g),l=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),h(w.data.response);break;default:clearTimeout(g),clearTimeout(l),d(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(){return window}function uM(t){ei().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d1(){return typeof ei().WorkerGlobalScope<"u"&&typeof ei().importScripts=="function"}async function cM(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hM(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dM(){return d1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebaseLocalStorageDb",fM=1,sf="firebaseLocalStorage",m1="fbase_key";class Lc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Of(t,e){return t.transaction([sf],e?"readwrite":"readonly").objectStore(sf)}function mM(){const t=indexedDB.deleteDatabase(f1);return new Lc(t).toPromise()}function wy(){const t=indexedDB.open(f1,fM);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sf,{keyPath:m1})}catch(a){n(a)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sf)?e(r):(r.close(),await mM(),e(await wy()))})})}async function nE(t,e,n){const r=Of(t,!0).put({[m1]:e,value:n});return new Lc(r).toPromise()}async function pM(t,e){const n=Of(t,!1).get(e),r=await new Lc(n).toPromise();return r===void 0?null:r.value}function rE(t,e){const n=Of(t,!0).delete(e);return new Lc(n).toPromise()}const gM=800,yM=3;class p1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>yM)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return d1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Df._getInstance(dM()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cM(),!this.activeServiceWorker)return;this.sender=new lM(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wy();return await nE(e,rf,"1"),await rE(e,rf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>nE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pM(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Of(a,!1).getAll();return new Lc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),n.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),n.push(a));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}p1.type="LOCAL";const vM=p1;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(t,e){return e?Bi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv extends Dv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _M(t){return r1(t.auth,new jv(t),t.bypassAuthState)}function bM(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),JO(n,new jv(t),t.bypassAuthState)}async function wM(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),XO(n,new jv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:a,tenantId:l,error:u,type:h}=e;if(u){this.reject(u);return}const d={auth:this.auth,requestUri:n,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(d))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _M;case"linkViaPopup":case"linkViaRedirect":return wM;case"reauthViaPopup":case"reauthViaRedirect":return bM;default:pr(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TM=new Mc(2e3,1e4);async function EM(t,e,n){if(Vn(t.app))return Promise.reject(Ar(t,"operation-not-supported-in-this-environment"));const r=Qs(t);sO(t,e,Mv);const a=g1(r,n);return new Ua(r,"signInViaPopup",e,a).executeNotNull()}class Ua extends y1{constructor(e,n,r,a,l){super(e,n,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Vv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ar(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ar(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ar(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TM.get())};e()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="pendingRedirect",Od=new Map;class SM extends y1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Od.get(this.auth._key());if(!e){try{const r=await AM(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Od.set(this.auth._key(),e)}return this.bypassAuthState||Od.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AM(t,e){const n=IM(e),r=CM(t);if(!await r._isAvailable())return!1;const a=await r._get(n)==="true";return await r._remove(n),a}function RM(t,e){Od.set(t._key(),e)}function CM(t){return Bi(t._redirectPersistence)}function IM(t){return Dd(xM,t.config.apiKey,t.name)}async function NM(t,e,n=!1){if(Vn(t.app))return Promise.reject(qi(t));const r=Qs(t),a=g1(r,e),u=await new SM(r,a,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=10*60*1e3;class PM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!v1(e)){const a=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ar(this.auth,a))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kM&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(e))}saveEventToCache(e){this.cachedEventUids.add(iE(e)),this.lastProcessedEventTime=Date.now()}}function iE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function v1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function DM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return v1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(t,e={}){return es(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VM=/^https?/;async function jM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OM(t);for(const n of e)try{if(LM(n))return}catch{}pr(t,"unauthorized-domain")}function LM(t){const e=Zd(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!VM.test(n))return!1;if(MM.test(t))return r===t;const a=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UM=new Mc(3e4,6e4);function sE(){const t=ei().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BM(t){return new Promise((e,n)=>{var r,a,l;function u(){sE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sE(),n(Ar(t,"network-request-failed"))},timeout:UM.get()})}if(!((a=(r=ei().gapi)===null||r===void 0?void 0:r.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=ei().gapi)===null||l===void 0)&&l.load)u();else{const h=DO("iframefcb");return ei()[h]=()=>{gapi.load?u():n(Ar(t,"network-request-failed"))},ZA(`${PO()}?onload=${h}`).catch(d=>n(d))}}).catch(e=>{throw Md=null,e})}let Md=null;function FM(t){return Md=Md||BM(t),Md}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=new Mc(5e3,15e3),qM="__/auth/iframe",HM="emulator/auth/iframe",GM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$M=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function KM(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Nv(e,HM):`https://${t.config.authDomain}/${qM}`,r={apiKey:e.apiKey,appName:t.name,v:ro},a=$M.get(t.config.apiHost);a&&(r.eid=a);const l=t._getFrameworks();return l.length&&(r.fw=l.join(",")),`${n}?${Oc(r).slice(1)}`}async function YM(t){const e=await FM(t),n=ei().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:KM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GM,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const u=Ar(t,"network-request-failed"),h=ei().setTimeout(()=>{l(u)},zM.get());function d(){ei().clearTimeout(h),a(r)}r.ping(d).then(d,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QM=500,XM=600,JM="_blank",ZM="http://localhost";class aE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e4(t,e,n,r=QM,a=XM){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const d=Object.assign(Object.assign({},WM),{width:r.toString(),height:a.toString(),top:l,left:u}),m=En().toLowerCase();n&&(h=$A(m)?JM:n),HA(m)&&(e=e||ZM,d.scrollbars="yes");const g=Object.entries(d).reduce((w,[x,S])=>`${w}${x}=${S},`,"");if(EO(m)&&h!=="_self")return t4(e||"",h),new aE(null);const v=window.open(e||"",h,g);Ie(v,t,"popup-blocked");try{v.focus()}catch{}return new aE(v)}function t4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4="__/auth/handler",r4="emulator/auth/handler",i4=encodeURIComponent("fac");async function oE(t,e,n,r,a,l){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ro,eventId:a};if(e instanceof Mv){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",qP(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries({}))u[g]=v}if(e instanceof jc){const g=e.getScopes().filter(v=>v!=="");g.length>0&&(u.scopes=g.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const g of Object.keys(h))h[g]===void 0&&delete h[g];const d=await t._getAppCheckToken(),m=d?`#${i4}=${encodeURIComponent(d)}`:"";return`${s4(t)}?${Oc(h).slice(1)}${m}`}function s4({config:t}){return t.emulator?Nv(t,r4):`https://${t.authDomain}/${n4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg="webStorageSupport";class a4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=h1,this._completeRedirectFn=NM,this._overrideRedirectResult=RM}async _openPopup(e,n,r,a){var l;Ki((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await oE(e,n,r,Zd(),a);return e4(e,u,Vv())}async _openRedirect(e,n,r,a){await this._originValidation(e);const l=await oE(e,n,r,Zd(),a);return uM(l),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:a,promise:l}=this.eventManagers[n];return a?Promise.resolve(a):(Ki(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await YM(e),r=new PM(e);return n.register("authEvent",a=>(Ie(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cg,{type:Cg},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Cg];u!==void 0&&n(!!u),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=jM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return XA()||GA()||Pv()}}const o4=a4;var lE="@firebase/auth",uE="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c4(t){Wa(new Bs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ie(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const d={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:JA(t)},m=new IO(r,a,l,d);return UO(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Wa(new Bs("auth-internal",e=>{const n=Qs(e.getProvider("auth").getImmediate());return(r=>new l4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(lE,uE,u4(t)),Zr(lE,uE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=5*60,d4=IA("authIdTokenMaxAge")||h4;let cE=null;const f4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>d4)return;const a=n==null?void 0:n.token;cE!==a&&(cE=a,await fetch(t,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function _1(t=Av()){const e=kf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=LO(t,{popupRedirectResolver:o4,persistence:[vM,u1,h1]}),r=IA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const u=f4(l.toString());iM(n,u,()=>u(n.currentUser)),rM(n,h=>u(h))}}const a=AA("auth");return a&&BO(n,`http://${a}`),n}function m4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}NO({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=a=>{const l=Ar("internal-error");l.customData=a,n(l)},r.type="text/javascript",r.charset="UTF-8",m4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c4("Browser");var hE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ls,b1;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function I(){}I.prototype=A.prototype,D.D=A.prototype,D.prototype=new I,D.prototype.constructor=D,D.C=function(j,F,q){for(var V=Array(arguments.length-2),re=2;re<arguments.length;re++)V[re-2]=arguments[re];return A.prototype[F].apply(j,V)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,I){I||(I=0);var j=Array(16);if(typeof A=="string")for(var F=0;16>F;++F)j[F]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(F=0;16>F;++F)j[F]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=D.g[0],I=D.g[1],F=D.g[2];var q=D.g[3],V=A+(q^I&(F^q))+j[0]+3614090360&4294967295;A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[1]+3905402710&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[2]+606105819&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[3]+3250441966&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[4]+4118548399&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[5]+1200080426&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[6]+2821735955&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[7]+4249261313&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[8]+1770035416&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[9]+2336552879&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[10]+4294925233&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[11]+2304563134&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(q^I&(F^q))+j[12]+1804603682&4294967295,A=I+(V<<7&4294967295|V>>>25),V=q+(F^A&(I^F))+j[13]+4254626195&4294967295,q=A+(V<<12&4294967295|V>>>20),V=F+(I^q&(A^I))+j[14]+2792965006&4294967295,F=q+(V<<17&4294967295|V>>>15),V=I+(A^F&(q^A))+j[15]+1236535329&4294967295,I=F+(V<<22&4294967295|V>>>10),V=A+(F^q&(I^F))+j[1]+4129170786&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[6]+3225465664&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[11]+643717713&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[0]+3921069994&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[5]+3593408605&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[10]+38016083&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[15]+3634488961&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[4]+3889429448&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[9]+568446438&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[14]+3275163606&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[3]+4107603335&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[8]+1163531501&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(F^q&(I^F))+j[13]+2850285829&4294967295,A=I+(V<<5&4294967295|V>>>27),V=q+(I^F&(A^I))+j[2]+4243563512&4294967295,q=A+(V<<9&4294967295|V>>>23),V=F+(A^I&(q^A))+j[7]+1735328473&4294967295,F=q+(V<<14&4294967295|V>>>18),V=I+(q^A&(F^q))+j[12]+2368359562&4294967295,I=F+(V<<20&4294967295|V>>>12),V=A+(I^F^q)+j[5]+4294588738&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[8]+2272392833&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[11]+1839030562&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[14]+4259657740&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[1]+2763975236&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[4]+1272893353&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[7]+4139469664&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[10]+3200236656&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[13]+681279174&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[0]+3936430074&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[3]+3572445317&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[6]+76029189&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(I^F^q)+j[9]+3654602809&4294967295,A=I+(V<<4&4294967295|V>>>28),V=q+(A^I^F)+j[12]+3873151461&4294967295,q=A+(V<<11&4294967295|V>>>21),V=F+(q^A^I)+j[15]+530742520&4294967295,F=q+(V<<16&4294967295|V>>>16),V=I+(F^q^A)+j[2]+3299628645&4294967295,I=F+(V<<23&4294967295|V>>>9),V=A+(F^(I|~q))+j[0]+4096336452&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[7]+1126891415&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[14]+2878612391&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[5]+4237533241&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[12]+1700485571&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[3]+2399980690&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[10]+4293915773&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[1]+2240044497&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[8]+1873313359&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[15]+4264355552&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[6]+2734768916&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[13]+1309151649&4294967295,I=F+(V<<21&4294967295|V>>>11),V=A+(F^(I|~q))+j[4]+4149444226&4294967295,A=I+(V<<6&4294967295|V>>>26),V=q+(I^(A|~F))+j[11]+3174756917&4294967295,q=A+(V<<10&4294967295|V>>>22),V=F+(A^(q|~I))+j[2]+718787259&4294967295,F=q+(V<<15&4294967295|V>>>17),V=I+(q^(F|~A))+j[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(F+(V<<21&4294967295|V>>>11))&4294967295,D.g[2]=D.g[2]+F&4294967295,D.g[3]=D.g[3]+q&4294967295}r.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var I=A-this.blockSize,j=this.B,F=this.h,q=0;q<A;){if(F==0)for(;q<=I;)a(this,D,q),q+=this.blockSize;if(typeof D=="string"){for(;q<A;)if(j[F++]=D.charCodeAt(q++),F==this.blockSize){a(this,j),F=0;break}}else for(;q<A;)if(j[F++]=D[q++],F==this.blockSize){a(this,j),F=0;break}}this.h=F,this.o+=A},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var I=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=I&255,I/=256;for(this.u(D),D=Array(16),A=I=0;4>A;++A)for(var j=0;32>j;j+=8)D[I++]=this.g[A]>>>j&255;return D};function l(D,A){var I=h;return Object.prototype.hasOwnProperty.call(I,D)?I[D]:I[D]=A(D)}function u(D,A){this.h=A;for(var I=[],j=!0,F=D.length-1;0<=F;F--){var q=D[F]|0;j&&q==A||(I[F]=q,j=!1)}this.g=I}var h={};function d(D){return-128<=D&&128>D?l(D,function(A){return new u([A|0],0>A?-1:0)}):new u([D|0],0>D?-1:0)}function m(D){if(isNaN(D)||!isFinite(D))return v;if(0>D)return R(m(-D));for(var A=[],I=1,j=0;D>=I;j++)A[j]=D/I|0,I*=4294967296;return new u(A,0)}function g(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return R(g(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=m(Math.pow(A,8)),j=v,F=0;F<D.length;F+=8){var q=Math.min(8,D.length-F),V=parseInt(D.substring(F,F+q),A);8>q?(q=m(Math.pow(A,q)),j=j.j(q).add(m(V))):(j=j.j(I),j=j.add(m(V)))}return j}var v=d(0),w=d(1),x=d(16777216);t=u.prototype,t.m=function(){if(k(this))return-R(this).m();for(var D=0,A=1,I=0;I<this.g.length;I++){var j=this.i(I);D+=(0<=j?j:4294967296+j)*A,A*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(S(this))return"0";if(k(this))return"-"+R(this).toString(D);for(var A=m(Math.pow(D,6)),I=this,j="";;){var F=G(I,A).g;I=N(I,F.j(A));var q=((0<I.g.length?I.g[0]:I.h)>>>0).toString(D);if(I=F,S(I))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function S(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function k(D){return D.h==-1}t.l=function(D){return D=N(this,D),k(D)?-1:S(D)?0:1};function R(D){for(var A=D.g.length,I=[],j=0;j<A;j++)I[j]=~D.g[j];return new u(I,~D.h).add(w)}t.abs=function(){return k(this)?R(this):this},t.add=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0,F=0;F<=A;F++){var q=j+(this.i(F)&65535)+(D.i(F)&65535),V=(q>>>16)+(this.i(F)>>>16)+(D.i(F)>>>16);j=V>>>16,q&=65535,V&=65535,I[F]=V<<16|q}return new u(I,I[I.length-1]&-2147483648?-1:0)};function N(D,A){return D.add(R(A))}t.j=function(D){if(S(this)||S(D))return v;if(k(this))return k(D)?R(this).j(R(D)):R(R(this).j(D));if(k(D))return R(this.j(R(D)));if(0>this.l(x)&&0>D.l(x))return m(this.m()*D.m());for(var A=this.g.length+D.g.length,I=[],j=0;j<2*A;j++)I[j]=0;for(j=0;j<this.g.length;j++)for(var F=0;F<D.g.length;F++){var q=this.i(j)>>>16,V=this.i(j)&65535,re=D.i(F)>>>16,pe=D.i(F)&65535;I[2*j+2*F]+=V*pe,B(I,2*j+2*F),I[2*j+2*F+1]+=q*pe,B(I,2*j+2*F+1),I[2*j+2*F+1]+=V*re,B(I,2*j+2*F+1),I[2*j+2*F+2]+=q*re,B(I,2*j+2*F+2)}for(j=0;j<A;j++)I[j]=I[2*j+1]<<16|I[2*j];for(j=A;j<2*A;j++)I[j]=0;return new u(I,0)};function B(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function O(D,A){this.g=D,this.h=A}function G(D,A){if(S(A))throw Error("division by zero");if(S(D))return new O(v,v);if(k(D))return A=G(R(D),A),new O(R(A.g),R(A.h));if(k(A))return A=G(D,R(A)),new O(R(A.g),A.h);if(30<D.g.length){if(k(D)||k(A))throw Error("slowDivide_ only works with positive integers.");for(var I=w,j=A;0>=j.l(D);)I=H(I),j=H(j);var F=M(I,1),q=M(j,1);for(j=M(j,2),I=M(I,2);!S(j);){var V=q.add(j);0>=V.l(D)&&(F=F.add(I),q=V),j=M(j,1),I=M(I,1)}return A=N(D,F.j(A)),new O(F,A)}for(F=v;0<=D.l(A);){for(I=Math.max(1,Math.floor(D.m()/A.m())),j=Math.ceil(Math.log(I)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),q=m(I),V=q.j(A);k(V)||0<V.l(D);)I-=j,q=m(I),V=q.j(A);S(q)&&(q=w),F=F.add(q),D=N(D,V)}return new O(F,D)}t.A=function(D){return G(this,D).h},t.and=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)&D.i(j);return new u(I,this.h&D.h)},t.or=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)|D.i(j);return new u(I,this.h|D.h)},t.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),I=[],j=0;j<A;j++)I[j]=this.i(j)^D.i(j);return new u(I,this.h^D.h)};function H(D){for(var A=D.g.length+1,I=[],j=0;j<A;j++)I[j]=D.i(j)<<1|D.i(j-1)>>>31;return new u(I,D.h)}function M(D,A){var I=A>>5;A%=32;for(var j=D.g.length-I,F=[],q=0;q<j;q++)F[q]=0<A?D.i(q+I)>>>A|D.i(q+I+1)<<32-A:D.i(q+I);return new u(F,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,b1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=g,Ls=u}).apply(typeof hE<"u"?hE:typeof self<"u"?self:typeof window<"u"?window:{});var bd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w1,Yu,T1,Vd,Ty,E1,x1,S1;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,b,T){return f==Array.prototype||f==Object.prototype||(f[b]=T.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof bd=="object"&&bd];for(var b=0;b<f.length;++b){var T=f[b];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var r=n(this);function a(f,b){if(b)e:{var T=r;f=f.split(".");for(var P=0;P<f.length-1;P++){var W=f[P];if(!(W in T))break e;T=T[W]}f=f[f.length-1],P=T[f],b=b(P),b!=P&&b!=null&&e(T,f,{configurable:!0,writable:!0,value:b})}}function l(f,b){f instanceof String&&(f+="");var T=0,P=!1,W={next:function(){if(!P&&T<f.length){var te=T++;return{value:b(te,f[te]),done:!1}}return P=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}a("Array.prototype.values",function(f){return f||function(){return l(this,function(b,T){return T})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function d(f){var b=typeof f;return b=b!="object"?b:f?Array.isArray(f)?"array":b:"null",b=="array"||b=="object"&&typeof f.length=="number"}function m(f){var b=typeof f;return b=="object"&&f!=null||b=="function"}function g(f,b,T){return f.call.apply(f.bind,arguments)}function v(f,b,T){if(!f)throw Error();if(2<arguments.length){var P=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,P),f.apply(b,W)}}return function(){return f.apply(b,arguments)}}function w(f,b,T){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?g:v,w.apply(null,arguments)}function x(f,b){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),f.apply(this,P)}}function S(f,b){function T(){}T.prototype=b.prototype,f.aa=b.prototype,f.prototype=new T,f.prototype.constructor=f,f.Qb=function(P,W,te){for(var ge=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)ge[Qe-2]=arguments[Qe];return b.prototype[W].apply(P,ge)}}function k(f){const b=f.length;if(0<b){const T=Array(b);for(let P=0;P<b;P++)T[P]=f[P];return T}return[]}function R(f,b){for(let T=1;T<arguments.length;T++){const P=arguments[T];if(d(P)){const W=f.length||0,te=P.length||0;f.length=W+te;for(let ge=0;ge<te;ge++)f[W+ge]=P[ge]}else f.push(P)}}class N{constructor(b,T){this.i=b,this.j=T,this.h=0,this.g=null}get(){let b;return 0<this.h?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function B(f){return/^[\s\xa0]*$/.test(f)}function O(){var f=h.navigator;return f&&(f=f.userAgent)?f:""}function G(f){return G[" "](f),f}G[" "]=function(){};var H=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function M(f,b,T){for(const P in f)b.call(T,f[P],P,f)}function D(f,b){for(const T in f)b.call(void 0,f[T],T,f)}function A(f){const b={};for(const T in f)b[T]=f[T];return b}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(f,b){let T,P;for(let W=1;W<arguments.length;W++){P=arguments[W];for(T in P)f[T]=P[T];for(let te=0;te<I.length;te++)T=I[te],Object.prototype.hasOwnProperty.call(P,T)&&(f[T]=P[T])}}function F(f){var b=1;f=f.split(":");const T=[];for(;0<b&&f.length;)T.push(f.shift()),b--;return f.length&&T.push(f.join(":")),T}function q(f){h.setTimeout(()=>{throw f},0)}function V(){var f=le;let b=null;return f.g&&(b=f.g,f.g=f.g.next,f.g||(f.h=null),b.next=null),b}class re{constructor(){this.h=this.g=null}add(b,T){const P=pe.get();P.set(b,T),this.h?this.h.next=P:this.g=P,this.h=P}}var pe=new N(()=>new K,f=>f.reset());class K{constructor(){this.next=this.g=this.h=null}set(b,T){this.h=b,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,fe=!1,le=new re,U=()=>{const f=h.Promise.resolve(void 0);ie=()=>{f.then(X)}};var X=()=>{for(var f;f=V();){try{f.h.call(f.g)}catch(T){q(T)}var b=pe;b.j(f),100>b.h&&(b.h++,f.next=b.g,b.g=f)}fe=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(f,b){this.type=f,this.g=this.target=b,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var f=!1,b=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const T=()=>{};h.addEventListener("test",T,b),h.removeEventListener("test",T,b)}catch{}return f}();function Te(f,b){if(se.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var T=this.type=f.type,P=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=b,b=f.relatedTarget){if(H){e:{try{G(b.nodeName);var W=!0;break e}catch{}W=!1}W||(b=null)}}else T=="mouseover"?b=f.fromElement:T=="mouseout"&&(b=f.toElement);this.relatedTarget=b,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:Ee[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&Te.aa.h.call(this)}}S(Te,se);var Ee={2:"touch",3:"pen",4:"mouse"};Te.prototype.h=function(){Te.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),$e=0;function je(f,b,T,P,W){this.listener=f,this.proxy=null,this.src=b,this.type=T,this.capture=!!P,this.ha=W,this.key=++$e,this.da=this.fa=!1}function Qt(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function xn(f){this.src=f,this.g={},this.h=0}xn.prototype.add=function(f,b,T,P,W){var te=f.toString();f=this.g[te],f||(f=this.g[te]=[],this.h++);var ge=Se(f,b,P,W);return-1<ge?(b=f[ge],T||(b.fa=!1)):(b=new je(b,this.src,te,!!P,W),b.fa=T,f.push(b)),b};function Sn(f,b){var T=b.type;if(T in f.g){var P=f.g[T],W=Array.prototype.indexOf.call(P,b,void 0),te;(te=0<=W)&&Array.prototype.splice.call(P,W,1),te&&(Qt(b),f.g[T].length==0&&(delete f.g[T],f.h--))}}function Se(f,b,T,P){for(var W=0;W<f.length;++W){var te=f[W];if(!te.da&&te.listener==b&&te.capture==!!T&&te.ha==P)return W}return-1}var We="closure_lm_"+(1e6*Math.random()|0),ze={};function et(f,b,T,P,W){if(Array.isArray(b)){for(var te=0;te<b.length;te++)et(f,b[te],T,P,W);return null}return T=na(T),f&&f[ct]?f.K(b,T,m(P)?!!P.capture:!1,W):me(f,b,T,!1,P,W)}function me(f,b,T,P,W,te){if(!b)throw Error("Invalid event type");var ge=m(W)?!!W.capture:!!W,Qe=ta(f);if(Qe||(f[We]=Qe=new xn(f)),T=Qe.add(b,T,P,ge,te),T.proxy)return T;if(P=be(),T.proxy=P,P.src=f,P.listener=T,f.addEventListener)ye||(W=ge),W===void 0&&(W=!1),f.addEventListener(b.toString(),P,W);else if(f.attachEvent)f.attachEvent(at(b.toString()),P);else if(f.addListener&&f.removeListener)f.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function be(){function f(T){return b.call(f.src,f.listener,T)}const b=Dr;return f}function Ve(f,b,T,P,W){if(Array.isArray(b))for(var te=0;te<b.length;te++)Ve(f,b[te],T,P,W);else P=m(P)?!!P.capture:!!P,T=na(T),f&&f[ct]?(f=f.i,b=String(b).toString(),b in f.g&&(te=f.g[b],T=Se(te,T,P,W),-1<T&&(Qt(te[T]),Array.prototype.splice.call(te,T,1),te.length==0&&(delete f.g[b],f.h--)))):f&&(f=ta(f))&&(b=f.g[b.toString()],f=-1,b&&(f=Se(b,T,P,W)),(T=-1<f?b[f]:null)&&rt(T))}function rt(f){if(typeof f!="number"&&f&&!f.da){var b=f.src;if(b&&b[ct])Sn(b.i,f);else{var T=f.type,P=f.proxy;b.removeEventListener?b.removeEventListener(T,P,f.capture):b.detachEvent?b.detachEvent(at(T),P):b.addListener&&b.removeListener&&b.removeListener(P),(T=ta(b))?(Sn(T,f),T.h==0&&(T.src=null,b[We]=null)):Qt(f)}}}function at(f){return f in ze?ze[f]:ze[f]="on"+f}function Dr(f,b){if(f.da)f=!0;else{b=new Te(b,this);var T=f.listener,P=f.ha||f.src;f.fa&&rt(f),f=T.call(P,b)}return f}function ta(f){return f=f[We],f instanceof xn?f:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function na(f){return typeof f=="function"?f:(f[ts]||(f[ts]=function(b){return f.handleEvent(b)}),f[ts])}function St(){oe.call(this),this.i=new xn(this),this.M=this,this.F=null}S(St,oe),St.prototype[ct]=!0,St.prototype.removeEventListener=function(f,b,T,P){Ve(this,f,b,T,P)};function ot(f,b){var T,P=f.F;if(P)for(T=[];P;P=P.F)T.push(P);if(f=f.M,P=b.type||b,typeof b=="string")b=new se(b,f);else if(b instanceof se)b.target=b.target||f;else{var W=b;b=new se(P,f),j(b,W)}if(W=!0,T)for(var te=T.length-1;0<=te;te--){var ge=b.g=T[te];W=Fn(ge,P,!0,b)&&W}if(ge=b.g=f,W=Fn(ge,P,!0,b)&&W,W=Fn(ge,P,!1,b)&&W,T)for(te=0;te<T.length;te++)ge=b.g=T[te],W=Fn(ge,P,!1,b)&&W}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var f=this.i,b;for(b in f.g){for(var T=f.g[b],P=0;P<T.length;P++)Qt(T[P]);delete f.g[b],f.h--}}this.F=null},St.prototype.K=function(f,b,T,P){return this.i.add(String(f),b,!1,T,P)},St.prototype.L=function(f,b,T,P){return this.i.add(String(f),b,!0,T,P)};function Fn(f,b,T,P){if(b=f.i.g[String(b)],!b)return!0;b=b.concat();for(var W=!0,te=0;te<b.length;++te){var ge=b[te];if(ge&&!ge.da&&ge.capture==T){var Qe=ge.listener,Ht=ge.ha||ge.src;ge.fa&&Sn(f.i,ge),W=Qe.call(Ht,P)!==!1&&W}}return W&&!P.defaultPrevented}function fn(f,b,T){if(typeof f=="function")T&&(f=w(f,T));else if(f&&typeof f.handleEvent=="function")f=w(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(b)?-1:h.setTimeout(f,b||0)}function Qc(f){f.g=fn(()=>{f.g=null,f.i&&(f.i=!1,Qc(f))},f.l);const b=f.h;f.h=null,f.m.apply(null,b)}class mm extends oe{constructor(b,T){super(),this.m=b,this.l=T,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:Qc(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ra(f){oe.call(this),this.h=f,this.g={}}S(ra,oe);var ia=[];function sa(f){M(f.g,function(b,T){this.g.hasOwnProperty(T)&&rt(b)},f),f.g={}}ra.prototype.N=function(){ra.aa.N.call(this),sa(this)},ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gr=h.JSON.stringify,oo=h.JSON.parse,aa=class{stringify(f){return h.JSON.stringify(f,void 0)}parse(f){return h.JSON.parse(f,void 0)}};function Ml(){}Ml.prototype.h=null;function Vl(f){return f.h||(f.h=f.i())}function jl(){}var hi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){se.call(this,"d")}S(di,se);function Ll(){se.call(this,"c")}S(Ll,se);var Or={},Ul=null;function ns(){return Ul=Ul||new St}Or.La="serverreachability";function lo(f){se.call(this,Or.La,f)}S(lo,se);function rs(f){const b=ns();ot(b,new lo(b))}Or.STAT_EVENT="statevent";function Xc(f,b){se.call(this,Or.STAT_EVENT,f),this.stat=b}S(Xc,se);function vt(f){const b=ns();ot(b,new Xc(b,f))}Or.Ma="timingevent";function qt(f,b){se.call(this,Or.Ma,f),this.size=b}S(qt,se);function jt(f,b){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){f()},b)}function er(){this.g=!0}er.prototype.xa=function(){this.g=!1};function Bl(f,b,T,P,W,te){f.info(function(){if(f.g)if(te)for(var ge="",Qe=te.split("&"),Ht=0;Ht<Qe.length;Ht++){var Xe=Qe[Ht].split("=");if(1<Xe.length){var Jt=Xe[0];Xe=Xe[1];var Gt=Jt.split("_");ge=2<=Gt.length&&Gt[1]=="type"?ge+(Jt+"="+Xe+"&"):ge+(Jt+"=redacted&")}}else ge=null;else ge=te;return"XMLHTTP REQ ("+P+") [attempt "+W+"]: "+b+`
`+T+`
`+ge})}function pm(f,b,T,P,W,te,ge){f.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+W+"]: "+b+`
`+T+`
`+te+" "+ge})}function is(f,b,T,P){f.info(function(){return"XMLHTTP TEXT ("+b+"): "+oa(f,T)+(P?" "+P:"")})}function Jc(f,b){f.info(function(){return"TIMEOUT: "+b})}er.prototype.info=function(){};function oa(f,b){if(!f.g)return b;if(!b)return null;try{var T=JSON.parse(b);if(T){for(f=0;f<T.length;f++)if(Array.isArray(T[f])){var P=T[f];if(!(2>P.length)){var W=P[1];if(Array.isArray(W)&&!(1>W.length)){var te=W[0];if(te!="noop"&&te!="stop"&&te!="close")for(var ge=1;ge<W.length;ge++)W[ge]=""}}}}return gr(T)}catch{return b}}var ss={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mr;function Vr(){}S(Vr,Ml),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},Mr=new Vr;function An(f,b,T,P){this.j=f,this.i=b,this.l=T,this.R=P||1,this.U=new ra(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kt}function kt(){this.i=null,this.g="",this.h=!1}var Fl={},uo={};function yr(f,b,T){f.L=1,f.v=da(zn(b)),f.m=T,f.P=!0,mi(f,null)}function mi(f,b){f.F=Date.now(),la(f),f.A=zn(f.v);var T=f.A,P=f.R;Array.isArray(P)||(P=[String(P)]),Kl(T.i,"t",P),f.C=0,T=f.j.J,f.h=new kt,f.g=mh(f.j,T?b:null,!f.m),0<f.O&&(f.M=new mm(w(f.Y,f,f.g),f.O)),b=f.U,T=f.g,P=f.ca;var W="readystatechange";Array.isArray(W)||(W&&(ia[0]=W.toString()),W=ia);for(var te=0;te<W.length;te++){var ge=et(T,W[te],P||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=f.H?A(f.H):{},f.m?(f.u||(f.u="POST"),b["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,b)):(f.u="GET",f.g.ea(f.A,f.u,null,b)),rs(),Bl(f.i,f.u,f.A,f.l,f.R,f.m)}An.prototype.ca=function(f){f=f.target;const b=this.M;b&&ir(f)==3?b.j():this.Y(f)},An.prototype.Y=function(f){try{if(f==this.g)e:{const Gt=ir(this.g);var b=this.g.Ba();const Ti=this.g.Z();if(!(3>Gt)&&(Gt!=3||this.g&&(this.h.h||this.g.oa()||ah(this.g)))){this.J||Gt!=4||b==7||(b==8||0>=Ti?rs(3):rs(2)),as(this);var T=this.g.Z();this.X=T;t:if(Zc(this)){var P=ah(this.g);f="";var W=P.length,te=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){rn(this),jr(this);var ge="";break t}this.h.i=new h.TextDecoder}for(b=0;b<W;b++)this.h.h=!0,f+=this.h.i.decode(P[b],{stream:!(te&&b==W-1)});P.length=0,this.h.g+=f,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=T==200,pm(this.i,this.u,this.A,this.l,this.R,Gt,T),this.o){if(this.T&&!this.K){t:{if(this.g){var Qe,Ht=this.g;if((Qe=Ht.g?Ht.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(Qe)){var Xe=Qe;break t}}Xe=null}if(T=Xe)is(this.i,this.l,T,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ua(this,T);else{this.o=!1,this.s=3,vt(12),rn(this),jr(this);break e}}if(this.P){T=!0;let sn;for(;!this.J&&this.C<ge.length;)if(sn=eh(this,ge),sn==uo){Gt==4&&(this.s=4,vt(14),T=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==Fl){this.s=4,vt(15),is(this.i,this.l,ge,"[Invalid Chunk]"),T=!1;break}else is(this.i,this.l,sn,null),ua(this,sn);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||ge.length!=0||this.h.h||(this.s=1,vt(16),T=!1),this.o=this.o&&T,!T)is(this.i,this.l,ge,"[Invalid Chunked Response]"),rn(this),jr(this);else if(0<ge.length&&!this.W){this.W=!0;var Jt=this.j;Jt.g==this&&Jt.ba&&!Jt.M&&(Jt.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),ba(Jt),Jt.M=!0,vt(11))}}else is(this.i,this.l,ge,null),ua(this,ge);Gt==4&&rn(this),this.o&&!this.J&&(Gt==4?hh(this.j,this):(this.o=!1,la(this)))}else bm(this.g),T==400&&0<ge.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),rn(this),jr(this)}}}catch{}finally{}};function Zc(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function eh(f,b){var T=f.C,P=b.indexOf(`
`,T);return P==-1?uo:(T=Number(b.substring(T,P)),isNaN(T)?Fl:(P+=1,P+T>b.length?uo:(b=b.slice(P,P+T),f.C=P+T,b)))}An.prototype.cancel=function(){this.J=!0,rn(this)};function la(f){f.S=Date.now()+f.I,th(f,f.I)}function th(f,b){if(f.B!=null)throw Error("WatchDog timer not null");f.B=jt(w(f.ba,f),b)}function as(f){f.B&&(h.clearTimeout(f.B),f.B=null)}An.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?(Jc(this.i,this.A),this.L!=2&&(rs(),vt(17)),rn(this),this.s=2,jr(this)):th(this,this.S-f)};function jr(f){f.j.G==0||f.J||hh(f.j,f)}function rn(f){as(f);var b=f.M;b&&typeof b.ma=="function"&&b.ma(),f.M=null,sa(f.U),f.g&&(b=f.g,f.g=null,b.abort(),b.ma())}function ua(f,b){try{var T=f.j;if(T.G!=0&&(T.g==f||zl(T.h,f))){if(!f.K&&zl(T.h,f)&&T.G==3){try{var P=T.Da.g.parse(b)}catch{P=null}if(Array.isArray(P)&&P.length==3){var W=P;if(W[0]==0){e:if(!T.u){if(T.g)if(T.g.F+3e3<f.F)To(T),bo(T);else break e;Jl(T),vt(18)}}else T.za=W[1],0<T.za-T.T&&37500>W[2]&&T.F&&T.v==0&&!T.C&&(T.C=jt(w(T.Za,T),6e3));if(1>=ho(T.h)&&T.ca){try{T.ca()}catch{}T.ca=void 0}}else wi(T,11)}else if((f.K||T.g==f)&&To(T),!B(b))for(W=T.Da.g.parse(b),b=0;b<W.length;b++){let Xe=W[b];if(T.T=Xe[0],Xe=Xe[1],T.G==2)if(Xe[0]=="c"){T.K=Xe[1],T.ia=Xe[2];const Jt=Xe[3];Jt!=null&&(T.la=Jt,T.j.info("VER="+T.la));const Gt=Xe[4];Gt!=null&&(T.Aa=Gt,T.j.info("SVER="+T.Aa));const Ti=Xe[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(P=1.5*Ti,T.L=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const sn=f.g;if(sn){const Hr=sn.g?sn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Hr){var te=P.h;te.g||Hr.indexOf("spdy")==-1&&Hr.indexOf("quic")==-1&&Hr.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(fo(te,te.h),te.h=null))}if(P.D){const eu=sn.g?sn.g.getResponseHeader("X-HTTP-Session-Id"):null;eu&&(P.ya=eu,ht(P.I,P.D,eu))}}T.G=3,T.l&&T.l.ua(),T.ba&&(T.R=Date.now()-f.F,T.j.info("Handshake RTT: "+T.R+"ms")),P=T;var ge=f;if(P.qa=fh(P,P.J?P.ia:null,P.W),ge.K){Rn(P.h,ge);var Qe=ge,Ht=P.L;Ht&&(Qe.I=Ht),Qe.B&&(as(Qe),la(Qe)),P.g=ge}else uh(P);0<T.i.length&&wo(T)}else Xe[0]!="stop"&&Xe[0]!="close"||wi(T,7);else T.G==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?wi(T,7):Ql(T):Xe[0]!="noop"&&T.l&&T.l.ta(Xe),T.v=0)}}rs(4)}catch{}}var nh=class{constructor(f,b){this.g=f,this.map=b}};function pi(f){this.l=f||10,h.PerformanceNavigationTiming?(f=h.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function co(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function ho(f){return f.h?1:f.g?f.g.size:0}function zl(f,b){return f.h?f.h==b:f.g?f.g.has(b):!1}function fo(f,b){f.g?f.g.add(b):f.h=b}function Rn(f,b){f.h&&f.h==b?f.h=null:f.g&&f.g.has(b)&&f.g.delete(b)}pi.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function ql(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let b=f.i;for(const T of f.g.values())b=b.concat(T.D);return b}return k(f.i)}function gm(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(d(f)){for(var b=[],T=f.length,P=0;P<T;P++)b.push(f[P]);return b}b=[],T=0;for(P in f)b[T++]=f[P];return b}function mo(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(d(f)||typeof f=="string"){var b=[];f=f.length;for(var T=0;T<f;T++)b.push(T);return b}b=[],T=0;for(const P in f)b[T++]=P;return b}}}function Hl(f,b){if(f.forEach&&typeof f.forEach=="function")f.forEach(b,void 0);else if(d(f)||typeof f=="string")Array.prototype.forEach.call(f,b,void 0);else for(var T=mo(f),P=gm(f),W=P.length,te=0;te<W;te++)b.call(void 0,P[te],T&&T[te],f)}var ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ym(f,b){if(f){f=f.split("&");for(var T=0;T<f.length;T++){var P=f[T].indexOf("="),W=null;if(0<=P){var te=f[T].substring(0,P);W=f[T].substring(P+1)}else te=f[T];b(te,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Lt(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof Lt){this.h=f.h,ha(this,f.j),this.o=f.o,this.g=f.g,os(this,f.s),this.l=f.l;var b=f.i,T=new yi;T.i=b.i,b.g&&(T.g=new Map(b.g),T.h=b.h),gi(this,T),this.m=f.m}else f&&(b=String(f).match(ca))?(this.h=!1,ha(this,b[1]||"",!0),this.o=tr(b[2]||""),this.g=tr(b[3]||"",!0),os(this,b[4]),this.l=tr(b[5]||"",!0),gi(this,b[6]||"",!0),this.m=tr(b[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}Lt.prototype.toString=function(){var f=[],b=this.j;b&&f.push(fa(b,Gl,!0),":");var T=this.g;return(T||b=="file")&&(f.push("//"),(b=this.o)&&f.push(fa(b,Gl,!0),"@"),f.push(encodeURIComponent(String(T)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.s,T!=null&&f.push(":",String(T))),(T=this.l)&&(this.g&&T.charAt(0)!="/"&&f.push("/"),f.push(fa(T,T.charAt(0)=="/"?vm:$l,!0))),(T=this.i.toString())&&f.push("?",T),(T=this.m)&&f.push("#",fa(T,po)),f.join("")};function zn(f){return new Lt(f)}function ha(f,b,T){f.j=T?tr(b,!0):b,f.j&&(f.j=f.j.replace(/:$/,""))}function os(f,b){if(b){if(b=Number(b),isNaN(b)||0>b)throw Error("Bad port number "+b);f.s=b}else f.s=null}function gi(f,b,T){b instanceof yi?(f.i=b,ih(f.i,f.h)):(T||(b=fa(b,_m)),f.i=new yi(b,f.h))}function ht(f,b,T){f.i.set(b,T)}function da(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function tr(f,b){return f?b?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function fa(f,b,T){return typeof f=="string"?(f=encodeURI(f).replace(b,rh),T&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function rh(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var Gl=/[#\/\?@]/g,$l=/[#\?:]/g,vm=/[#\?]/g,_m=/[#\?@]/g,po=/#/g;function yi(f,b){this.h=this.g=null,this.i=f||null,this.j=!!b}function nr(f){f.g||(f.g=new Map,f.h=0,f.i&&ym(f.i,function(b,T){f.add(decodeURIComponent(b.replace(/\+/g," ")),T)}))}t=yi.prototype,t.add=function(f,b){nr(this),this.i=null,f=Lr(this,f);var T=this.g.get(f);return T||this.g.set(f,T=[]),T.push(b),this.h+=1,this};function vi(f,b){nr(f),b=Lr(f,b),f.g.has(b)&&(f.i=null,f.h-=f.g.get(b).length,f.g.delete(b))}function _i(f,b){return nr(f),b=Lr(f,b),f.g.has(b)}t.forEach=function(f,b){nr(this),this.g.forEach(function(T,P){T.forEach(function(W){f.call(b,W,P,this)},this)},this)},t.na=function(){nr(this);const f=Array.from(this.g.values()),b=Array.from(this.g.keys()),T=[];for(let P=0;P<b.length;P++){const W=f[P];for(let te=0;te<W.length;te++)T.push(b[P])}return T},t.V=function(f){nr(this);let b=[];if(typeof f=="string")_i(this,f)&&(b=b.concat(this.g.get(Lr(this,f))));else{f=Array.from(this.g.values());for(let T=0;T<f.length;T++)b=b.concat(f[T])}return b},t.set=function(f,b){return nr(this),this.i=null,f=Lr(this,f),_i(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[b]),this.h+=1,this},t.get=function(f,b){return f?(f=this.V(f),0<f.length?String(f[0]):b):b};function Kl(f,b,T){vi(f,b),0<T.length&&(f.i=null,f.g.set(Lr(f,b),k(T)),f.h+=T.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],b=Array.from(this.g.keys());for(var T=0;T<b.length;T++){var P=b[T];const te=encodeURIComponent(String(P)),ge=this.V(P);for(P=0;P<ge.length;P++){var W=te;ge[P]!==""&&(W+="="+encodeURIComponent(String(ge[P]))),f.push(W)}}return this.i=f.join("&")};function Lr(f,b){return b=String(b),f.j&&(b=b.toLowerCase()),b}function ih(f,b){b&&!f.j&&(nr(f),f.i=null,f.g.forEach(function(T,P){var W=P.toLowerCase();P!=W&&(vi(this,P),Kl(this,W,T))},f)),f.j=b}function ma(f,b){const T=new er;if(h.Image){const P=new Image;P.onload=x(rr,T,"TestLoadImage: loaded",!0,b,P),P.onerror=x(rr,T,"TestLoadImage: error",!1,b,P),P.onabort=x(rr,T,"TestLoadImage: abort",!1,b,P),P.ontimeout=x(rr,T,"TestLoadImage: timeout",!1,b,P),h.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=f}else b(!1)}function vr(f,b){const T=new er,P=new AbortController,W=setTimeout(()=>{P.abort(),rr(T,"TestPingServer: timeout",!1,b)},1e4);fetch(f,{signal:P.signal}).then(te=>{clearTimeout(W),te.ok?rr(T,"TestPingServer: ok",!0,b):rr(T,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(W),rr(T,"TestPingServer: error",!1,b)})}function rr(f,b,T,P,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),P(T)}catch{}}function pa(){this.g=new aa}function Ur(f,b,T){const P=T||"";try{Hl(f,function(W,te){let ge=W;m(W)&&(ge=gr(W)),b.push(P+te+"="+encodeURIComponent(ge))})}catch(W){throw b.push(P+"type="+encodeURIComponent("_badmap")),W}}function ls(f){this.l=f.Ub||null,this.j=f.eb||!1}S(ls,Ml),ls.prototype.g=function(){return new bi(this.l,this.j)},ls.prototype.i=function(f){return function(){return f}}({});function bi(f,b){St.call(this),this.D=f,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(bi,St),t=bi.prototype,t.open=function(f,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=b,this.readyState=1,Fr(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const b={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(b.body=f),(this.D||h).fetch(new Request(this.A,b)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Fr(this)),this.g&&(this.readyState=3,Fr(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yl(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yl(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var b=f.value?f.value:new Uint8Array(0);(b=this.v.decode(b,{stream:!f.done}))&&(this.response=this.responseText+=b)}f.done?Br(this):Fr(this),this.readyState==3&&Yl(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Br(this))},t.Qa=function(f){this.g&&(this.response=f,Br(this))},t.ga=function(){this.g&&Br(this)};function Br(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Fr(f)}t.setRequestHeader=function(f,b){this.u.append(f,b)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],b=this.h.entries();for(var T=b.next();!T.done;)T=T.value,f.push(T[0]+": "+T[1]),T=b.next();return f.join(`\r
`)};function Fr(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(bi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Wl(f){let b="";return M(f,function(T,P){b+=P,b+=":",b+=T,b+=`\r
`}),b}function Xt(f,b,T){e:{for(P in T){var P=!1;break e}P=!0}P||(T=Wl(T),typeof f=="string"?T!=null&&encodeURIComponent(String(T)):ht(f,b,T))}function it(f){St.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(it,St);var go=/^https?$/i,ga=["POST","PUT"];t=it.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,b,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);b=b?b.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mr.g(),this.v=this.o?Vl(this.o):Vl(Mr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(b,String(f),!0),this.B=!1}catch(te){sh(this,te);return}if(f=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var W in P)T.set(W,P[W]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const te of P.keys())T.set(te,P.get(te));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(te=>te.toLowerCase()=="content-type"),W=h.FormData&&f instanceof h.FormData,!(0<=Array.prototype.indexOf.call(ga,b,void 0))||P||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,ge]of T)this.g.setRequestHeader(te,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ya(this),this.u=!0,this.g.send(f),this.u=!1}catch(te){sh(this,te)}};function sh(f,b){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=b,f.m=5,yo(f),zr(f)}function yo(f){f.A||(f.A=!0,ot(f,"complete"),ot(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,ot(this,"complete"),ot(this,"abort"),zr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),zr(this,!0)),it.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?vo(this):this.bb())},t.bb=function(){vo(this)};function vo(f){if(f.h&&typeof u<"u"&&(!f.v[1]||ir(f)!=4||f.Z()!=2)){if(f.u&&ir(f)==4)fn(f.Ea,0,f);else if(ot(f,"readystatechange"),ir(f)==4){f.h=!1;try{const ge=f.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var T;if(!(T=b)){var P;if(P=ge===0){var W=String(f.D).match(ca)[1]||null;!W&&h.self&&h.self.location&&(W=h.self.location.protocol.slice(0,-1)),P=!go.test(W?W.toLowerCase():"")}T=P}if(T)ot(f,"complete"),ot(f,"success");else{f.m=6;try{var te=2<ir(f)?f.g.statusText:""}catch{te=""}f.l=te+" ["+f.Z()+"]",yo(f)}}finally{zr(f)}}}}function zr(f,b){if(f.g){ya(f);const T=f.g,P=f.v[0]?()=>{}:null;f.g=null,f.v=null,b||ot(f,"ready");try{T.onreadystatechange=P}catch{}}}function ya(f){f.I&&(h.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function ir(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var b=this.g.responseText;return f&&b.indexOf(f)==0&&(b=b.substring(f.length)),oo(b)}};function ah(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function bm(f){const b={};f=(f.g&&2<=ir(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<f.length;P++){if(B(f[P]))continue;var T=F(f[P]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const te=b[W]||[];b[W]=te,te.push(T)}D(b,function(P){return P.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(f,b,T){return T&&T.internalChannelParams&&T.internalChannelParams[f]||b}function _o(f){this.Aa=0,this.i=[],this.j=new er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,f),this.cb=va("retryDelaySeedMs",1e4,f),this.Wa=va("forwardChannelMaxRetries",2,f),this.wa=va("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new pi(f&&f.concurrentRequestLimit),this.Da=new pa,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=_o.prototype,t.la=8,t.G=1,t.connect=function(f,b,T,P){vt(0),this.W=f,this.H=b||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.I=fh(this,null,this.W),wo(this)};function Ql(f){if(oh(f),f.G==3){var b=f.U++,T=zn(f.I);if(ht(T,"SID",f.K),ht(T,"RID",b),ht(T,"TYPE","terminate"),_a(f,T),b=new An(f,f.j,b),b.L=2,b.v=da(zn(T)),T=!1,h.navigator&&h.navigator.sendBeacon)try{T=h.navigator.sendBeacon(b.v.toString(),"")}catch{}!T&&h.Image&&(new Image().src=b.v,T=!0),T||(b.g=mh(b.j,null),b.g.ea(b.v)),b.F=Date.now(),la(b)}dh(f)}function bo(f){f.g&&(ba(f),f.g.cancel(),f.g=null)}function oh(f){bo(f),f.u&&(h.clearTimeout(f.u),f.u=null),To(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&h.clearTimeout(f.s),f.s=null)}function wo(f){if(!co(f.h)&&!f.s){f.s=!0;var b=f.Ga;ie||U(),fe||(ie(),fe=!0),le.add(b,f),f.B=0}}function wm(f,b){return ho(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=b.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=jt(w(f.Ga,f,b),Zl(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const W=new An(this,this.j,f);let te=this.o;if(this.S&&(te?(te=A(te),j(te,this.S)):te=this.S),this.m!==null||this.O||(W.H=te,te=null),this.P)e:{for(var b=0,T=0;T<this.i.length;T++){t:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break t}P=void 0}if(P===void 0)break;if(b+=P,4096<b){b=T;break e}if(b===4096||T===this.i.length-1){b=T+1;break e}}b=1e3}else b=1e3;b=lh(this,W,b),T=zn(this.I),ht(T,"RID",f),ht(T,"CVER",22),this.D&&ht(T,"X-HTTP-Session-Id",this.D),_a(this,T),te&&(this.O?b="headers="+encodeURIComponent(String(Wl(te)))+"&"+b:this.m&&Xt(T,this.m,te)),fo(this.h,W),this.Ua&&ht(T,"TYPE","init"),this.P?(ht(T,"$req",b),ht(T,"SID","null"),W.T=!0,yr(W,T,null)):yr(W,T,b),this.G=2}}else this.G==3&&(f?Xl(this,f):this.i.length==0||co(this.h)||Xl(this))};function Xl(f,b){var T;b?T=b.l:T=f.U++;const P=zn(f.I);ht(P,"SID",f.K),ht(P,"RID",T),ht(P,"AID",f.T),_a(f,P),f.m&&f.o&&Xt(P,f.m,f.o),T=new An(f,f.j,T,f.B+1),f.m===null&&(T.H=f.o),b&&(f.i=b.D.concat(f.i)),b=lh(f,T,1e3),T.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),fo(f.h,T),yr(T,P,b)}function _a(f,b){f.H&&M(f.H,function(T,P){ht(b,P,T)}),f.l&&Hl({},function(T,P){ht(b,P,T)})}function lh(f,b,T){T=Math.min(f.i.length,T);var P=f.l?w(f.l.Na,f.l,f):null;e:{var W=f.i;let te=-1;for(;;){const ge=["count="+T];te==-1?0<T?(te=W[0].g,ge.push("ofs="+te)):te=0:ge.push("ofs="+te);let Qe=!0;for(let Ht=0;Ht<T;Ht++){let Xe=W[Ht].g;const Jt=W[Ht].map;if(Xe-=te,0>Xe)te=Math.max(0,W[Ht].g-100),Qe=!1;else try{Ur(Jt,ge,"req"+Xe+"_")}catch{P&&P(Jt)}}if(Qe){P=ge.join("&");break e}}}return f=f.i.splice(0,T),b.D=f,P}function uh(f){if(!f.g&&!f.u){f.Y=1;var b=f.Fa;ie||U(),fe||(ie(),fe=!0),le.add(b,f),f.v=0}}function Jl(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=jt(w(f.Fa,f),Zl(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,ch(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=jt(w(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),bo(this),ch(this))};function ba(f){f.A!=null&&(h.clearTimeout(f.A),f.A=null)}function ch(f){f.g=new An(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var b=zn(f.qa);ht(b,"RID","rpc"),ht(b,"SID",f.K),ht(b,"AID",f.T),ht(b,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(b,"TO",f.ja),ht(b,"TYPE","xmlhttp"),_a(f,b),f.m&&f.o&&Xt(b,f.m,f.o),f.L&&(f.g.I=f.L);var T=f.g;f=f.ia,T.L=1,T.v=da(zn(b)),T.m=null,T.P=!0,mi(T,f)}t.Za=function(){this.C!=null&&(this.C=null,bo(this),Jl(this),vt(19))};function To(f){f.C!=null&&(h.clearTimeout(f.C),f.C=null)}function hh(f,b){var T=null;if(f.g==b){To(f),ba(f),f.g=null;var P=2}else if(zl(f.h,b))T=b.D,Rn(f.h,b),P=1;else return;if(f.G!=0){if(b.o)if(P==1){T=b.m?b.m.length:0,b=Date.now()-b.F;var W=f.B;P=ns(),ot(P,new qt(P,T)),wo(f)}else uh(f);else if(W=b.s,W==3||W==0&&0<b.X||!(P==1&&wm(f,b)||P==2&&Jl(f)))switch(T&&0<T.length&&(b=f.h,b.i=b.i.concat(T)),W){case 1:wi(f,5);break;case 4:wi(f,10);break;case 3:wi(f,6);break;default:wi(f,2)}}}function Zl(f,b){let T=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(T*=2),T*b}function wi(f,b){if(f.j.info("Error code "+b),b==2){var T=w(f.fb,f),P=f.Xa;const W=!P;P=new Lt(P||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||ha(P,"https"),da(P),W?ma(P.toString(),T):vr(P.toString(),T)}else vt(2);f.G=0,f.l&&f.l.sa(b),dh(f),oh(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function dh(f){if(f.G=0,f.ka=[],f.l){const b=ql(f.h);(b.length!=0||f.i.length!=0)&&(R(f.ka,b),R(f.ka,f.i),f.h.i.length=0,k(f.i),f.i.length=0),f.l.ra()}}function fh(f,b,T){var P=T instanceof Lt?zn(T):new Lt(T);if(P.g!="")b&&(P.g=b+"."+P.g),os(P,P.s);else{var W=h.location;P=W.protocol,b=b?b+"."+W.hostname:W.hostname,W=+W.port;var te=new Lt(null);P&&ha(te,P),b&&(te.g=b),W&&os(te,W),T&&(te.l=T),P=te}return T=f.D,b=f.ya,T&&b&&ht(P,T,b),ht(P,"VER",f.la),_a(f,P),P}function mh(f,b,T){if(b&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return b=f.Ca&&!f.pa?new it(new ls({eb:T})):new it(f.pa),b.Ha(f.J),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ph(){}t=ph.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Eo(){}Eo.prototype.g=function(f,b){return new Cn(f,b)};function Cn(f,b){St.call(this),this.g=new _o(b),this.l=f,this.h=b&&b.messageUrlParams||null,f=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(f?f["X-WebChannel-Content-Type"]=b.messageContentType:f={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.va&&(f?f["X-WebChannel-Client-Profile"]=b.va:f={"X-WebChannel-Client-Profile":b.va}),this.g.S=f,(f=b&&b.Sb)&&!B(f)&&(this.g.m=f),this.v=b&&b.supportsCrossDomainXhr||!1,this.u=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!B(b)&&(this.g.D=b,f=this.h,f!==null&&b in f&&(f=this.h,b in f&&delete f[b])),this.j=new qr(this)}S(Cn,St),Cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){Ql(this.g)},Cn.prototype.o=function(f){var b=this.g;if(typeof f=="string"){var T={};T.__data__=f,f=T}else this.u&&(T={},T.__data__=gr(f),f=T);b.i.push(new nh(b.Ya++,f)),b.G==3&&wo(b)},Cn.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,Cn.aa.N.call(this)};function gh(f){di.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var b=f.__sm__;if(b){e:{for(const T in b){f=T;break e}f=void 0}(this.i=f)&&(f=this.i,b=b!==null&&f in b?b[f]:void 0),this.data=b}else this.data=f}S(gh,di);function yh(){Ll.call(this),this.status=1}S(yh,Ll);function qr(f){this.g=f}S(qr,ph),qr.prototype.ua=function(){ot(this.g,"a")},qr.prototype.ta=function(f){ot(this.g,new gh(f))},qr.prototype.sa=function(f){ot(this.g,new yh)},qr.prototype.ra=function(){ot(this.g,"b")},Eo.prototype.createWebChannel=Eo.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,S1=function(){return new Eo},x1=function(){return ns()},E1=Or,Ty={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ss.NO_ERROR=0,ss.TIMEOUT=8,ss.HTTP_ERROR=6,Vd=ss,fi.COMPLETE="complete",T1=fi,jl.EventType=hi,hi.OPEN="a",hi.CLOSE="b",hi.ERROR="c",hi.MESSAGE="d",St.prototype.listen=St.prototype.K,Yu=jl,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,w1=it}).apply(typeof bd<"u"?bd:typeof self<"u"?self:typeof window<"u"?window:{});const dE="@firebase/firestore",fE="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vn=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vn.UNAUTHENTICATED=new vn(null),vn.GOOGLE_CREDENTIALS=new vn("google-credentials-uid"),vn.FIRST_PARTY=new vn("first-party-uid"),vn.MOCK_USER=new vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new xv("@firebase/firestore");function Jo(){return Ja.logLevel}function ve(t,...e){if(Ja.logLevel<=Ke.DEBUG){const n=e.map(Lv);Ja.debug(`Firestore (${Sl}): ${t}`,...n)}}function Yi(t,...e){if(Ja.logLevel<=Ke.ERROR){const n=e.map(Lv);Ja.error(`Firestore (${Sl}): ${t}`,...n)}}function hl(t,...e){if(Ja.logLevel<=Ke.WARN){const n=e.map(Lv);Ja.warn(`Firestore (${Sl}): ${t}`,...n)}}function Lv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,A1(t,r,n)}function A1(t,e,n){let r=`FIRESTORE (${Sl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Yi(r),new Error(r)}function st(t,e,n,r){let a="Unexpected state";typeof n=="string"?a=n:r=n,t||A1(e,a,r)}function Me(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends ui{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class p4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vn.UNAUTHENTICATED))}shutdown(){}}class g4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class y4{constructor(e){this.t=e,this.currentUser=vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){st(this.o===void 0,42304);let r=this.i;const a=d=>this.i!==r?(r=this.i,n(d)):Promise.resolve();let l=new Hi;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Hi,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const d=l;e.enqueueRetryable(async()=>{await d.promise,await a(this.currentUser)})},h=d=>{ve("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(d=>h(d)),setTimeout(()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?h(d):(ve("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Hi)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ve("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(st(typeof r.accessToken=="string",31837,{l:r}),new R1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string",2055,{h:e}),new vn(e)}}class v4{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=vn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class _4{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new v4(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class b4{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){st(this.o===void 0,3512);const r=l=>{l.error!=null&&ve("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.m;return this.m=l.token,ve("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>r(l))};const a=l=>{ve("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ve("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new mE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(st(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new mE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=w4(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<n&&(r+=e.charAt(a[l]%62))}return r}}function Fe(t,e){return t<e?-1:t>e?1:0}function Ey(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),a=e.codePointAt(n);if(r!==a){if(r<128&&a<128)return Fe(r,a);{const l=C1(),u=T4(l.encode(pE(t,n)),l.encode(pE(e,n)));return u!==0?u:Fe(r,a)}}n+=r>65535?2:1}return Fe(t.length,e.length)}function pE(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function T4(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Fe(t[n],e[n]);return Fe(t.length,e.length)}function dl(t,e,n){return t.length===e.length&&t.every((r,a)=>n(r,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=-62135596800,yE=1e6;class Yt{static now(){return Yt.fromMillis(Date.now())}static fromDate(e){return Yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*yE);return new Yt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new _e(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<gE)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yE}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oe{static fromTimestamp(e){return new Oe(e)}static min(){return new Oe(new Yt(0,0))}static max(){return new Oe(new Yt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="__name__";class Jr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ne(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ne(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Jr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Jr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let a=0;a<r;a++){const l=Jr.compareSegments(e.get(a),n.get(a));if(l!==0)return l}return Fe(e.length,n.length)}static compareSegments(e,n){const r=Jr.isNumericId(e),a=Jr.isNumericId(n);return r&&!a?-1:!r&&a?1:r&&a?Jr.extractNumericId(e).compare(Jr.extractNumericId(n)):Ey(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ls.fromString(e.substring(4,e.length-2))}}class yt extends Jr{construct(e,n,r){return new yt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(a=>a.length>0))}return new yt(n)}static emptyPath(){return new yt([])}}const E4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hn extends Jr{construct(e,n,r){return new hn(e,n,r)}static isValidIdentifier(e){return E4.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vE}static keyField(){return new hn([vE])}static fromServerFormat(e){const n=[];let r="",a=0;const l=()=>{if(r.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;a<e.length;){const h=e[a];if(h==="\\"){if(a+1===e.length)throw new _e(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const d=e[a+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new _e(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=d,a+=2}else h==="`"?(u=!u,a++):h!=="."||u?(r+=h,a++):(l(),a++)}if(l(),u)throw new _e(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hn(n)}static emptyPath(){return new hn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(yt.fromString(e))}static fromName(e){return new Ae(yt.fromString(e).popFirst(5))}static empty(){return new Ae(yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return yt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new yt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=-1;function x4(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,a=Oe.fromTimestamp(r===1e9?new Yt(n+1,0):new Yt(n,r));return new Fs(a,Ae.empty(),e)}function S4(t){return new Fs(t.readTime,t.key,pc)}class Fs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Fs(Oe.min(),Ae.empty(),pc)}static max(){return new Fs(Oe.max(),Ae.empty(),pc)}}function A4(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ae.comparator(t.documentKey,e.documentKey),n!==0?n:Fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class C4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==R4)throw t;ve("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ne(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new de((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(n,l).next(r,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof de?n:de.resolve(n)}catch(n){return de.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):de.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):de.reject(n)}static resolve(e){return new de((n,r)=>{n(e)})}static reject(e){return new de((n,r)=>{r(e)})}static waitFor(e){return new de((n,r)=>{let a=0,l=0,u=!1;e.forEach(h=>{++a,h.next(()=>{++l,u&&l===a&&n()},d=>r(d))}),u=!0,l===a&&n()})}static or(e){let n=de.resolve(!1);for(const r of e)n=n.next(a=>a?de.resolve(a):r());return n}static forEach(e,n){const r=[];return e.forEach((a,l)=>{r.push(n.call(this,a,l))}),this.waitFor(r)}static mapArray(e,n){return new de((r,a)=>{const l=e.length,u=new Array(l);let h=0;for(let d=0;d<l;d++){const m=d;n(e[m]).next(g=>{u[m]=g,++h,h===l&&r(u)},g=>a(g))}})}static doWhile(e,n){return new de((r,a)=>{const l=()=>{e()===!0?n().next(()=>{l()},a):r()};l()})}}function I4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Mf.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-1;function Vf(t){return t==null}function af(t){return t===0&&1/t==-1/0}function N4(t){return typeof t=="number"&&Number.isInteger(t)&&!af(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="";function k4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=_E(e)),e=P4(t.get(n),e);return _E(e)}function P4(t,e){let n=e;const r=t.length;for(let a=0;a<r;a++){const l=t.charAt(a);switch(l){case"\0":n+="";break;case N1:n+="";break;default:n+=l}}return n}function _E(t){return t+N1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Xs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function k1(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e,n){this.comparator=e,this.root=n||cn.EMPTY}insert(e,n){return new xt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,cn.BLACK,null,null))}remove(e){return new xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return n+r.left.size;a<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=n?r(e.key,n):1,n&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cn{constructor(e,n,r,a,l){this.key=e,this.value=n,this.color=r??cn.RED,this.left=a??cn.EMPTY,this.right=l??cn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,a,l){return new cn(e??this.key,n??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,n,r),null):l===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return cn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return cn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ne(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ne(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ne(27949);return e+(this.isRed()?0:1)}}cn.EMPTY=null,cn.RED=!0,cn.BLACK=!1;cn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne(57766)}get value(){throw Ne(16141)}get color(){throw Ne(16727)}get left(){throw Ne(29726)}get right(){throw Ne(36894)}copy(e,n,r,a,l){return this}insert(e,n,r){return new cn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wE(this.data.getIterator())}getIteratorFrom(e){return new wE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class wE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(hn.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Wt(hn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return dl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new P1("Invalid base64 string: "+l):l}}(e);return new dn(n)}static fromUint8Array(e){const n=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new dn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let a=0;a<n.length;a++)r[a]=n.charCodeAt(a);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dn.EMPTY_BYTE_STRING=new dn("");const D4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(t){if(st(!!t,39018),typeof t=="string"){let e=0;const n=D4.exec(t);if(st(!!n,46558,{timestamp:t}),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Mt(t.seconds),nanos:Mt(t.nanos)}}function Mt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function qs(t){return typeof t=="string"?dn.fromBase64String(t):dn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1="server_timestamp",O1="__type__",M1="__previous_value__",V1="__local_write_time__";function Bv(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[O1])===null||n===void 0?void 0:n.stringValue)===D1}function jf(t){const e=t.mapValue.fields[M1];return Bv(e)?jf(e):e}function gc(t){const e=zs(t.mapValue.fields[V1].timestampValue);return new Yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e,n,r,a,l,u,h,d,m,g){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=d,this.useFetchStreams=m,this.isUsingEmulator=g}}const of="(default)";class yc{constructor(e,n){this.projectId=e,this.database=n||of}static empty(){return new yc("","")}get isDefaultDatabase(){return this.database===of}isEqual(e){return e instanceof yc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__type__",M4="__max__",Td={mapValue:{}},L1="__vector__",lf="value";function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bv(t)?4:j4(t)?9007199254740991:V4(t)?10:11:Ne(28295,{value:t})}function ai(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return gc(t).isEqual(gc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=zs(a.timestampValue),h=zs(l.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(a,l){return qs(a.bytesValue).isEqual(qs(l.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(a,l){return Mt(a.geoPointValue.latitude)===Mt(l.geoPointValue.latitude)&&Mt(a.geoPointValue.longitude)===Mt(l.geoPointValue.longitude)}(t,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Mt(a.integerValue)===Mt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Mt(a.doubleValue),h=Mt(l.doubleValue);return u===h?af(u)===af(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return dl(t.arrayValue.values||[],e.arrayValue.values||[],ai);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},h=l.mapValue.fields||{};if(bE(u)!==bE(h))return!1;for(const d in u)if(u.hasOwnProperty(d)&&(h[d]===void 0||!ai(u[d],h[d])))return!1;return!0}(t,e);default:return Ne(52216,{left:t})}}function vc(t,e){return(t.values||[]).find(n=>ai(n,e))!==void 0}function fl(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return Fe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Fe(t.booleanValue,e.booleanValue);case 2:return function(l,u){const h=Mt(l.integerValue||l.doubleValue),d=Mt(u.integerValue||u.doubleValue);return h<d?-1:h>d?1:h===d?0:isNaN(h)?isNaN(d)?0:-1:1}(t,e);case 3:return TE(t.timestampValue,e.timestampValue);case 4:return TE(gc(t),gc(e));case 5:return Ey(t.stringValue,e.stringValue);case 6:return function(l,u){const h=qs(l),d=qs(u);return h.compareTo(d)}(t.bytesValue,e.bytesValue);case 7:return function(l,u){const h=l.split("/"),d=u.split("/");for(let m=0;m<h.length&&m<d.length;m++){const g=Fe(h[m],d[m]);if(g!==0)return g}return Fe(h.length,d.length)}(t.referenceValue,e.referenceValue);case 8:return function(l,u){const h=Fe(Mt(l.latitude),Mt(u.latitude));return h!==0?h:Fe(Mt(l.longitude),Mt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return EE(t.arrayValue,e.arrayValue);case 10:return function(l,u){var h,d,m,g;const v=l.fields||{},w=u.fields||{},x=(h=v[lf])===null||h===void 0?void 0:h.arrayValue,S=(d=w[lf])===null||d===void 0?void 0:d.arrayValue,k=Fe(((m=x==null?void 0:x.values)===null||m===void 0?void 0:m.length)||0,((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0);return k!==0?k:EE(x,S)}(t.mapValue,e.mapValue);case 11:return function(l,u){if(l===Td.mapValue&&u===Td.mapValue)return 0;if(l===Td.mapValue)return 1;if(u===Td.mapValue)return-1;const h=l.fields||{},d=Object.keys(h),m=u.fields||{},g=Object.keys(m);d.sort(),g.sort();for(let v=0;v<d.length&&v<g.length;++v){const w=Ey(d[v],g[v]);if(w!==0)return w;const x=fl(h[d[v]],m[g[v]]);if(x!==0)return x}return Fe(d.length,g.length)}(t.mapValue,e.mapValue);default:throw Ne(23264,{Pe:n})}}function TE(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Fe(t,e);const n=zs(t),r=zs(e),a=Fe(n.seconds,r.seconds);return a!==0?a:Fe(n.nanos,r.nanos)}function EE(t,e){const n=t.values||[],r=e.values||[];for(let a=0;a<n.length&&a<r.length;++a){const l=fl(n[a],r[a]);if(l)return l}return Fe(n.length,r.length)}function ml(t){return xy(t)}function xy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=zs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return qs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",a=!0;for(const l of n.values||[])a?a=!1:r+=",",r+=xy(l);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let a="{",l=!0;for(const u of r)l?l=!1:a+=",",a+=`${u}:${xy(n.fields[u])}`;return a+"}"}(t.mapValue):Ne(61005,{value:t})}function jd(t){switch(Hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=jf(t);return e?16+jd(e):16;case 5:return 2*t.stringValue.length;case 6:return qs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((a,l)=>a+jd(l),0)}(t.arrayValue);case 10:case 11:return function(r){let a=0;return Xs(r.fields,(l,u)=>{a+=l.length+jd(u)}),a}(t.mapValue);default:throw Ne(13486,{value:t})}}function xE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Sy(t){return!!t&&"integerValue"in t}function Fv(t){return!!t&&"arrayValue"in t}function SE(t){return!!t&&"nullValue"in t}function AE(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ld(t){return!!t&&"mapValue"in t}function V4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[j1])===null||n===void 0?void 0:n.stringValue)===L1}function tc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function j4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===M4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ld(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tc(n)}setAll(e){let n=hn.emptyPath(),r={},a=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const d=this.getFieldsMap(n);this.applyChanges(d,r,a),r={},a=[],n=h.popLast()}u?r[h.lastSegment()]=tc(u):a.push(h.lastSegment())});const l=this.getFieldsMap(n);this.applyChanges(l,r,a)}delete(e){const n=this.field(e.popLast());Ld(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ai(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=n.mapValue.fields[e.get(r)];Ld(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,r){Xs(n,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new jn(tc(this.value))}}function U1(t){const e=[];return Xs(t.fields,(n,r)=>{const a=new hn([n]);if(Ld(r)){const l=U1(r.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,a,l,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=a,this.createTime=l,this.data=u,this.documentState=h}static newInvalidDocument(e){return new _n(e,0,Oe.min(),Oe.min(),Oe.min(),jn.empty(),0)}static newFoundDocument(e,n,r,a){return new _n(e,1,n,Oe.min(),r,a,0)}static newNoDocument(e,n){return new _n(e,2,n,Oe.min(),Oe.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Oe.min(),Oe.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Oe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Oe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e,n){this.position=e,this.inclusive=n}}function RE(t,e,n){let r=0;for(let a=0;a<t.position.length;a++){const l=e[a],u=t.position[a];if(l.field.isKeyField()?r=Ae.comparator(Ae.fromName(u.referenceValue),n.key):r=fl(u,n.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function CE(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ai(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n="asc"){this.field=e,this.dir=n}}function L4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{}class zt extends B1{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new B4(e,n,r):n==="array-contains"?new q4(e,r):n==="in"?new H4(e,r):n==="not-in"?new G4(e,r):n==="array-contains-any"?new $4(e,r):new zt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new F4(e,r):new z4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fl(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ir extends B1{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ir(e,n)}matches(e){return F1(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function F1(t){return t.op==="and"}function z1(t){return U4(t)&&F1(t)}function U4(t){for(const e of t.filters)if(e instanceof Ir)return!1;return!0}function Ay(t){if(t instanceof zt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(z1(t))return t.filters.map(e=>Ay(e)).join(",");{const e=t.filters.map(n=>Ay(n)).join(",");return`${t.op}(${e})`}}function q1(t,e){return t instanceof zt?function(r,a){return a instanceof zt&&r.op===a.op&&r.field.isEqual(a.field)&&ai(r.value,a.value)}(t,e):t instanceof Ir?function(r,a){return a instanceof Ir&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce((l,u,h)=>l&&q1(u,a.filters[h]),!0):!1}(t,e):void Ne(19439)}function H1(t){return t instanceof zt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof Ir?function(n){return n.op.toString()+" {"+n.getFilters().map(H1).join(" ,")+"}"}(t):"Filter"}class B4 extends zt{constructor(e,n,r){super(e,n,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const n=Ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class F4 extends zt{constructor(e,n){super(e,"in",n),this.keys=G1("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class z4 extends zt{constructor(e,n){super(e,"not-in",n),this.keys=G1("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function G1(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class q4 extends zt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fv(n)&&vc(n.arrayValue,this.value)}}class H4 extends zt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vc(this.value.arrayValue,n)}}class G4 extends zt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!vc(this.value.arrayValue,n)}}class $4 extends zt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>vc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n=null,r=[],a=[],l=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=u,this.endAt=h,this.Ie=null}}function IE(t,e=null,n=[],r=[],a=null,l=null,u=null){return new K4(t,e,n,r,a,l,u)}function zv(t){const e=Me(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Ay(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(l){return l.field.canonicalString()+l.dir}(r)).join(","),Vf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.Ie=n}return e.Ie}function qv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!L4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!q1(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!CE(t.startAt,e.startAt)&&CE(t.endAt,e.endAt)}function Ry(t){return Ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,n=null,r=[],a=[],l=null,u="F",h=null,d=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=u,this.startAt=h,this.endAt=d,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function Y4(t,e,n,r,a,l,u,h){return new Cl(t,e,n,r,a,l,u,h)}function Lf(t){return new Cl(t)}function NE(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $1(t){return t.collectionGroup!==null}function nc(t){const e=Me(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const l of e.explicitOrderBy)e.Ee.push(l),n.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new Wt(hn.comparator);return u.filters.forEach(d=>{d.getFlattenedFilters().forEach(m=>{m.isInequality()&&(h=h.add(m.field))})}),h})(e).forEach(l=>{n.has(l.canonicalString())||l.isKeyField()||e.Ee.push(new _c(l,r))}),n.has(hn.keyField().canonicalString())||e.Ee.push(new _c(hn.keyField(),r))}return e.Ee}function ti(t){const e=Me(t);return e.de||(e.de=W4(e,nc(t))),e.de}function W4(t,e){if(t.limitType==="F")return IE(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new _c(a.field,l)});const n=t.endAt?new uf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new uf(t.startAt.position,t.startAt.inclusive):null;return IE(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e){const n=t.filters.concat([e]);return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Iy(t,e,n){return new Cl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Uf(t,e){return qv(ti(t),ti(e))&&t.limitType===e.limitType}function K1(t){return`${zv(ti(t))}|lt:${t.limitType}`}function Zo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(a=>H1(a)).join(", ")}]`),Vf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(a=>ml(a)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(a=>ml(a)).join(",")),`Target(${r})`}(ti(t))}; limitType=${t.limitType})`}function Bf(t,e){return e.isFoundDocument()&&function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):Ae.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)}(t,e)&&function(r,a){for(const l of nc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(t,e)&&function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0}(t,e)&&function(r,a){return!(r.startAt&&!function(u,h,d){const m=RE(u,h,d);return u.inclusive?m<=0:m<0}(r.startAt,nc(r),a)||r.endAt&&!function(u,h,d){const m=RE(u,h,d);return u.inclusive?m>=0:m>0}(r.endAt,nc(r),a))}(t,e)}function Q4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Y1(t){return(e,n)=>{let r=!1;for(const a of nc(t)){const l=X4(a,e,n);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function X4(t,e,n){const r=t.field.isKeyField()?Ae.comparator(e.key,n.key):function(l,u,h){const d=u.data.field(l),m=h.data.field(l);return d!==null&&m!==null?fl(d,m):Ne(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ne(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[n]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Xs(this.inner,(n,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return k1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new xt(Ae.comparator);function Wi(){return J4}const W1=new xt(Ae.comparator);function Wu(...t){let e=W1;for(const n of t)e=e.insert(n.key,n);return e}function Q1(t){let e=W1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ba(){return rc()}function X1(){return rc()}function rc(){return new io(t=>t.toString(),(t,e)=>t.isEqual(e))}const Z4=new xt(Ae.comparator),eV=new Wt(Ae.comparator);function Ye(...t){let e=eV;for(const n of t)e=e.add(n);return e}const tV=new Wt(Fe);function nV(){return tV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:af(e)?"-0":e}}function J1(t){return{integerValue:""+t}}function rV(t,e){return N4(e)?J1(e):Hv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ff{constructor(){this._=void 0}}function iV(t,e,n){return t instanceof bc?function(a,l){const u={fields:{[O1]:{stringValue:D1},[V1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Bv(l)&&(l=jf(l)),l&&(u.fields[M1]=l),{mapValue:u}}(n,e):t instanceof wc?eR(t,e):t instanceof Tc?tR(t,e):function(a,l){const u=Z1(a,l),h=kE(u)+kE(a.Re);return Sy(u)&&Sy(a.Re)?J1(h):Hv(a.serializer,h)}(t,e)}function sV(t,e,n){return t instanceof wc?eR(t,e):t instanceof Tc?tR(t,e):n}function Z1(t,e){return t instanceof cf?function(r){return Sy(r)||function(l){return!!l&&"doubleValue"in l}(r)}(e)?e:{integerValue:0}:null}class bc extends Ff{}class wc extends Ff{constructor(e){super(),this.elements=e}}function eR(t,e){const n=nR(e);for(const r of t.elements)n.some(a=>ai(a,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends Ff{constructor(e){super(),this.elements=e}}function tR(t,e){let n=nR(e);for(const r of t.elements)n=n.filter(a=>!ai(a,r));return{arrayValue:{values:n}}}class cf extends Ff{constructor(e,n){super(),this.serializer=e,this.Re=n}}function kE(t){return Mt(t.integerValue||t.doubleValue)}function nR(t){return Fv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.field=e,this.transform=n}}function oV(t,e){return t.field.isEqual(e.field)&&function(r,a){return r instanceof wc&&a instanceof wc||r instanceof Tc&&a instanceof Tc?dl(r.elements,a.elements,ai):r instanceof cf&&a instanceof cf?ai(r.Re,a.Re):r instanceof bc&&a instanceof bc}(t.transform,e.transform)}class lV{constructor(e,n){this.version=e,this.transformResults=n}}class Rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Rr}static exists(e){return new Rr(void 0,e)}static updateTime(e){return new Rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ud(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zf{}function rR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new sR(t.key,Rr.none()):new Uc(t.key,t.data,Rr.none());{const n=t.data,r=jn.empty();let a=new Wt(hn.comparator);for(let l of e.fields)if(!a.has(l)){let u=n.field(l);u===null&&l.length>1&&(l=l.popLast(),u=n.field(l)),u===null?r.delete(l):r.set(l,u),a=a.add(l)}return new Js(t.key,r,new Qn(a.toArray()),Rr.none())}}function uV(t,e,n){t instanceof Uc?function(a,l,u){const h=a.value.clone(),d=DE(a.fieldTransforms,l,u.transformResults);h.setAll(d),l.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Js?function(a,l,u){if(!Ud(a.precondition,l))return void l.convertToUnknownDocument(u.version);const h=DE(a.fieldTransforms,l,u.transformResults),d=l.data;d.setAll(iR(a)),d.setAll(h),l.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function ic(t,e,n,r){return t instanceof Uc?function(l,u,h,d){if(!Ud(l.precondition,u))return h;const m=l.value.clone(),g=OE(l.fieldTransforms,d,u);return m.setAll(g),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Js?function(l,u,h,d){if(!Ud(l.precondition,u))return h;const m=OE(l.fieldTransforms,d,u),g=u.data;return g.setAll(iR(l)),g.setAll(m),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),h===null?null:h.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(v=>v.field))}(t,e,n,r):function(l,u,h){return Ud(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function cV(t,e){let n=null;for(const r of t.fieldTransforms){const a=e.data.field(r.field),l=Z1(r.transform,a||null);l!=null&&(n===null&&(n=jn.empty()),n.set(r.field,l))}return n||null}function PE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&dl(r,a,(l,u)=>oV(l,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Uc extends zf{constructor(e,n,r,a=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Js extends zf{constructor(e,n,r,a,l=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function iR(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function DE(t,e,n){const r=new Map;st(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let a=0;a<n.length;a++){const l=t[a],u=l.transform,h=e.data.field(l.field);r.set(l.field,sV(u,h,n[a]))}return r}function OE(t,e,n){const r=new Map;for(const a of t){const l=a.transform,u=n.data.field(a.field);r.set(a.field,iV(l,u,e))}return r}class sR extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hV extends zf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,n,r,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&uV(l,e,r[a])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ic(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=X1();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let h=this.applyToLocalView(u,l.mutatedFields);h=n.has(a.key)?null:h;const d=rR(u,h);d!==null&&r.set(a.key,d),u.isValidDocument()||u.convertToNoDocument(Oe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ye())}isEqual(e){return this.batchId===e.batchId&&dl(this.mutations,e.mutations,(n,r)=>PE(n,r))&&dl(this.baseMutations,e.baseMutations,(n,r)=>PE(n,r))}}class Gv{constructor(e,n,r,a){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}static from(e,n,r){st(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let a=function(){return Z4}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,r[u].version);return new Gv(e,n,r,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ft,Ze;function pV(t){switch(t){case he.OK:return Ne(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ne(15467,{code:t})}}function aR(t){if(t===void 0)return Yi("GRPC error has no .code"),he.UNKNOWN;switch(t){case Ft.OK:return he.OK;case Ft.CANCELLED:return he.CANCELLED;case Ft.UNKNOWN:return he.UNKNOWN;case Ft.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case Ft.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case Ft.INTERNAL:return he.INTERNAL;case Ft.UNAVAILABLE:return he.UNAVAILABLE;case Ft.UNAUTHENTICATED:return he.UNAUTHENTICATED;case Ft.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case Ft.NOT_FOUND:return he.NOT_FOUND;case Ft.ALREADY_EXISTS:return he.ALREADY_EXISTS;case Ft.PERMISSION_DENIED:return he.PERMISSION_DENIED;case Ft.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case Ft.ABORTED:return he.ABORTED;case Ft.OUT_OF_RANGE:return he.OUT_OF_RANGE;case Ft.UNIMPLEMENTED:return he.UNIMPLEMENTED;case Ft.DATA_LOSS:return he.DATA_LOSS;default:return Ne(39323,{code:t})}}(Ze=Ft||(Ft={}))[Ze.OK=0]="OK",Ze[Ze.CANCELLED=1]="CANCELLED",Ze[Ze.UNKNOWN=2]="UNKNOWN",Ze[Ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ze[Ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ze[Ze.NOT_FOUND=5]="NOT_FOUND",Ze[Ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ze[Ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ze[Ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ze[Ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ze[Ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ze[Ze.ABORTED=10]="ABORTED",Ze[Ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ze[Ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ze[Ze.INTERNAL=13]="INTERNAL",Ze[Ze.UNAVAILABLE=14]="UNAVAILABLE",Ze[Ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new Ls([4294967295,4294967295],0);function ME(t){const e=C1().encode(t),n=new b1;return n.update(e),new Uint8Array(n.digest())}function VE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Ls([n,r],0),new Ls([a,l],0)]}class $v{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Qu(`Invalid padding: ${n}`);if(r<0)throw new Qu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Qu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Qu(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ls.fromNumber(this.pe)}we(e,n,r){let a=e.add(n.multiply(Ls.fromNumber(r)));return a.compare(gV)===1&&(a=new Ls([a.getBits(0),a.getBits(1)],0)),a.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=ME(e),[r,a]=VE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);if(!this.be(u))return!1}return!0}static create(e,n,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new $v(l,a,n);return r.forEach(h=>u.insert(h)),u}insert(e){if(this.pe===0)return;const n=ME(e),[r,a]=VE(n);for(let l=0;l<this.hashCount;l++){const u=this.we(r,a,l);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Qu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,a,l){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const a=new Map;return a.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new qf(Oe.min(),a,new xt(Fe),Wi(),Ye())}}class Bc{constructor(e,n,r,a,l){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Bc(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(e,n,r,a){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=a}}class oR{constructor(e,n){this.targetId=e,this.Ce=n}}class lR{constructor(e,n,r=dn.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=a}}class jE{constructor(){this.Fe=0,this.Me=LE(),this.xe=dn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ye(),n=Ye(),r=Ye();return this.Me.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:r=r.add(a);break;default:Ne(38017,{changeType:l})}}),new Bc(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=LE()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,st(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class yV{constructor(e){this.ze=e,this.je=new Map,this.He=Wi(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new xt(Fe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ne(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,a)=>{this.it(a)&&n(a)})}ot(e){const n=e.targetId,r=e.Ce.count,a=this._t(n);if(a){const l=a.target;if(Ry(l))if(r===0){const u=new Ae(l.path);this.tt(n,u,_n.newNoDocument(u,Oe.min()))}else st(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const h=this.ct(e),d=h?this.lt(h,e,u):1;if(d!==0){this.st(n);const m=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=n;let u,h;try{u=qs(r).toUint8Array()}catch(d){if(d instanceof P1)return hl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{h=new $v(u,a,l)}catch(d){return hl(d instanceof Qu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return h.pe===0?null:h}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let a=0;return r.forEach(l=>{const u=this.ze.Pt(),h=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(h)||(this.tt(n,l,null),a++)}),a}It(e){const n=new Map;this.je.forEach((l,u)=>{const h=this._t(u);if(h){if(l.current&&Ry(h.target)){const d=new Ae(h.target.path);this.Et(d).has(u)||this.dt(u,d)||this.tt(u,d,_n.newNoDocument(d,e))}l.Le&&(n.set(u,l.qe()),l.Qe())}});let r=Ye();this.Ye.forEach((l,u)=>{let h=!0;u.forEachWhile(d=>{const m=this._t(d);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)}),h&&(r=r.add(l))}),this.He.forEach((l,u)=>u.setReadTime(e));const a=new qf(e,n,this.Ze,this.He,r);return this.He=Wi(),this.Je=Ed(),this.Ye=Ed(),this.Ze=new xt(Fe),a}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const a=this.rt(e);this.dt(e,n)?a.$e(n,1):a.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new jE,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Wt(Fe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Wt(Fe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||ve("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new jE),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Ed(){return new xt(Ae.comparator)}function LE(){return new xt(Ae.comparator)}const vV={asc:"ASCENDING",desc:"DESCENDING"},_V={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bV={and:"AND",or:"OR"};class wV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ny(t,e){return t.useProto3Json||Vf(e)?e:{value:e}}function hf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function uR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function TV(t,e){return hf(t,e.toTimestamp())}function ni(t){return st(!!t,49232),Oe.fromTimestamp(function(n){const r=zs(n);return new Yt(r.seconds,r.nanos)}(t))}function Kv(t,e){return ky(t,e).canonicalString()}function ky(t,e){const n=function(a){return new yt(["projects",a.projectId,"databases",a.database])}(t).child("documents");return e===void 0?n:n.child(e)}function cR(t){const e=yt.fromString(t);return st(pR(e),10190,{key:e.toString()}),e}function Py(t,e){return Kv(t.databaseId,e.path)}function Ig(t,e){const n=cR(e);if(n.get(1)!==t.databaseId.projectId)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new _e(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ae(dR(n))}function hR(t,e){return Kv(t.databaseId,e)}function EV(t){const e=cR(t);return e.length===4?yt.emptyPath():dR(e)}function Dy(t){return new yt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dR(t){return st(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function UE(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function xV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ne(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(m,g){return m.useProto3Json?(st(g===void 0||typeof g=="string",58123),dn.fromBase64String(g||"")):(st(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),dn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(m){const g=m.code===void 0?he.UNKNOWN:aR(m.code);return new _e(g,m.message||"")}(u);n=new lR(r,a,l,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Ig(t,r.document.name),l=ni(r.document.updateTime),u=r.document.createTime?ni(r.document.createTime):Oe.min(),h=new jn({mapValue:{fields:r.document.fields}}),d=_n.newFoundDocument(a,l,u,h),m=r.targetIds||[],g=r.removedTargetIds||[];n=new Bd(m,g,d.key,d)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Ig(t,r.document),l=r.readTime?ni(r.readTime):Oe.min(),u=_n.newNoDocument(a,l),h=r.removedTargetIds||[];n=new Bd([],h,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Ig(t,r.document),l=r.removedTargetIds||[];n=new Bd([],l,a,null)}else{if(!("filter"in e))return Ne(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,u=new mV(a,l),h=r.targetId;n=new oR(h,u)}}return n}function SV(t,e){let n;if(e instanceof Uc)n={update:UE(t,e.key,e.value)};else if(e instanceof sR)n={delete:Py(t,e.key)};else if(e instanceof Js)n={update:UE(t,e.key,e.data),updateMask:OV(e.fieldMask)};else{if(!(e instanceof hV))return Ne(16599,{ft:e.type});n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(l,u){const h=u.transform;if(h instanceof bc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof wc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof Tc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof cf)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Ne(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:TV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne(27497)}(t,e.precondition)),n}function AV(t,e){return t&&t.length>0?(st(e!==void 0,14353),t.map(n=>function(a,l){let u=a.updateTime?ni(a.updateTime):ni(l);return u.isEqual(Oe.min())&&(u=ni(l)),new lV(u,a.transformResults||[])}(n,e))):[]}function RV(t,e){return{documents:[hR(t,e.path)]}}function CV(t,e){const n={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=hR(t,a);const l=function(m){if(m.length!==0)return mR(Ir.create(m,"and"))}(e.filters);l&&(n.structuredQuery.where=l);const u=function(m){if(m.length!==0)return m.map(g=>function(w){return{field:el(w.field),direction:kV(w.dir)}}(g))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const h=Ny(t,e.limit);return h!==null&&(n.structuredQuery.limit=h),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:a}}function IV(t){let e=EV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let a=null;if(r>0){st(r===1,65062);const g=n.from[0];g.allDescendants?a=g.collectionId:e=e.child(g.collectionId)}let l=[];n.where&&(l=function(v){const w=fR(v);return w instanceof Ir&&z1(w)?w.getFilters():[w]}(n.where));let u=[];n.orderBy&&(u=function(v){return v.map(w=>function(S){return new _c(tl(S.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(w))}(n.orderBy));let h=null;n.limit&&(h=function(v){let w;return w=typeof v=="object"?v.value:v,Vf(w)?null:w}(n.limit));let d=null;n.startAt&&(d=function(v){const w=!!v.before,x=v.values||[];return new uf(x,w)}(n.startAt));let m=null;return n.endAt&&(m=function(v){const w=!v.before,x=v.values||[];return new uf(x,w)}(n.endAt)),Y4(e,a,u,l,h,"F",d,m)}function NV(t,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne(28987,{purpose:a})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fR(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=tl(n.unaryFilter.field);return zt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=tl(n.unaryFilter.field);return zt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=tl(n.unaryFilter.field);return zt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=tl(n.unaryFilter.field);return zt.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ne(61313);default:return Ne(60726)}}(t):t.fieldFilter!==void 0?function(n){return zt.create(tl(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ne(58110);default:return Ne(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ir.create(n.compositeFilter.filters.map(r=>fR(r)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ne(1026)}}(n.compositeFilter.op))}(t):Ne(30097,{filter:t})}function kV(t){return vV[t]}function PV(t){return _V[t]}function DV(t){return bV[t]}function el(t){return{fieldPath:t.canonicalString()}}function tl(t){return hn.fromServerFormat(t.fieldPath)}function mR(t){return t instanceof zt?function(n){if(n.op==="=="){if(AE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NAN"}};if(SE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NAN"}};if(SE(n.value))return{unaryFilter:{field:el(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:el(n.field),op:PV(n.op),value:n.value}}}(t):t instanceof Ir?function(n){const r=n.getFilters().map(a=>mR(a));return r.length===1?r[0]:{compositeFilter:{op:DV(n.op),filters:r}}}(t):Ne(54877,{filter:t})}function OV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function pR(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e,n,r,a,l=Oe.min(),u=Oe.min(),h=dn.EMPTY_BYTE_STRING,d=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h,this.expectedCount=d}withSequenceNumber(e){return new Ms(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ms(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(e){this.wt=e}}function VV(t){const e=IV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Iy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Cn=new LV}addToCollectionParentIndex(e,n){return this.Cn.add(n),de.resolve()}getCollectionParents(e,n){return de.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return de.resolve()}deleteFieldIndex(e,n){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,n){return de.resolve()}getDocumentsMatchingTarget(e,n){return de.resolve(null)}getIndexType(e,n){return de.resolve(0)}getFieldIndexes(e,n){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,n){return de.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,n){return de.resolve(Fs.min())}updateCollectionGroup(e,n,r){return de.resolve()}updateIndexEntries(e,n){return de.resolve()}}class LV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n]||new Wt(yt.comparator),l=!a.has(r);return this.index[n]=a.add(r),l}has(e){const n=e.lastSegment(),r=e.popLast(),a=this.index[n];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Wt(yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},gR=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(gR,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new pl(0)}static lr(){return new pl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="LruGarbageCollector",UV=1048576;function zE([t,e],[n,r]){const a=Fe(t,n);return a===0?Fe(e,r):a}class BV{constructor(e){this.Er=e,this.buffer=new Wt(zE),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();zE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class FV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ve(FE,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rl(n)?ve(FE,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.mr(3e5)})}}class zV{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return de.resolve(Mf.le);const r=new BV(n);return this.gr.forEachTarget(e,a=>r.Rr(a.sequenceNumber)).next(()=>this.gr.yr(e,a=>r.Rr(a))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ve("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(BE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ve("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),BE):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,a,l,u,h,d,m;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ve("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),a=this.params.maximumSequenceNumbersToCollect):a=v,u=Date.now(),this.nthSequenceNumber(e,a))).next(v=>(r=v,h=Date.now(),this.removeTargets(e,r,n))).next(v=>(l=v,d=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(m=Date.now(),Jo()<=Ke.DEBUG&&ve("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${a} in `+(h-u)+`ms
	Removed ${l} targets in `+(d-h)+`ms
	Removed ${v} documents in `+(m-d)+`ms
Total Duration: ${m-g}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:v})))}}function qV(t,e){return new zV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(){this.changes=new io(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?de.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n,r,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(r=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(r!==null&&ic(r.mutation,a,Qn.empty(),Yt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ye()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ye()){const a=Ba();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,r).next(l=>{let u=Wu();return l.forEach((h,d)=>{u=u.insert(h,d.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ba();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ye()))}populateOverlays(e,n,r){const a=[];return r.forEach(l=>{n.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,a){let l=Wi();const u=rc(),h=function(){return rc()}();return n.forEach((d,m)=>{const g=r.get(m.key);a.has(m.key)&&(g===void 0||g.mutation instanceof Js)?l=l.insert(m.key,m):g!==void 0?(u.set(m.key,g.mutation.getFieldMask()),ic(g.mutation,m,g.mutation.getFieldMask(),Yt.now())):u.set(m.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,l).next(d=>(d.forEach((m,g)=>u.set(m,g)),n.forEach((m,g)=>{var v;return h.set(m,new GV(g,(v=u.get(m))!==null&&v!==void 0?v:null))}),h))}recalculateAndSaveOverlays(e,n){const r=rc();let a=new xt((u,h)=>u-h),l=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(d=>{const m=n.get(d);if(m===null)return;let g=r.get(d)||Qn.empty();g=h.applyToLocalView(m,g),r.set(d,g);const v=(a.get(h.batchId)||Ye()).add(d);a=a.insert(h.batchId,v)})}).next(()=>{const u=[],h=a.getReverseIterator();for(;h.hasNext();){const d=h.getNext(),m=d.key,g=d.value,v=X1();g.forEach(w=>{if(!l.has(w)){const x=rR(n.get(w),r.get(w));x!==null&&v.set(w,x),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,v))}return de.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,a){return function(u){return Ae.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):$1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,a):this.getDocumentsMatchingCollectionQuery(e,n,r,a)}getNextDocuments(e,n,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,a-l.size):de.resolve(Ba());let h=pc,d=l;return u.next(m=>de.forEach(m,(g,v)=>(h<v.largestBatchId&&(h=v.largestBatchId),l.get(g)?de.resolve():this.remoteDocumentCache.getEntry(e,g).next(w=>{d=d.insert(g,w)}))).next(()=>this.populateOverlays(e,m,l)).next(()=>this.computeViews(e,d,m,Ye())).next(g=>({batchId:h,changes:Q1(g)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ae(n)).next(r=>{let a=Wu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,r,a){const l=n.collectionGroup;let u=Wu();return this.indexManager.getCollectionParents(e,l).next(h=>de.forEach(h,d=>{const m=function(v,w){return new Cl(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,d.child(l));return this.getDocumentsMatchingCollectionQuery(e,m,r,a).next(g=>{g.forEach((v,w)=>{u=u.insert(v,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,l,a))).next(u=>{l.forEach((d,m)=>{const g=m.getKey();u.get(g)===null&&(u=u.insert(g,_n.newInvalidDocument(g)))});let h=Wu();return u.forEach((d,m)=>{const g=l.get(d);g!==void 0&&ic(g.mutation,m,Qn.empty(),Yt.now()),Bf(n,m)&&(h=h.insert(d,m))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return de.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:ni(a.createTime)}}(n)),de.resolve()}getNamedQuery(e,n){return de.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(a){return{name:a.name,query:VV(a.bundledQuery),readTime:ni(a.readTime)}}(n)),de.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this.overlays=new xt(Ae.comparator),this.Qr=new Map}getOverlay(e,n){return de.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ba();return de.forEach(n,a=>this.getOverlay(e,a).next(l=>{l!==null&&r.set(a,l)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((a,l)=>{this.St(e,n,l)}),de.resolve()}removeOverlaysForBatchId(e,n,r){const a=this.Qr.get(r);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Qr.delete(r)),de.resolve()}getOverlaysForCollection(e,n,r){const a=Ba(),l=n.length+1,u=new Ae(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const d=h.getNext().value,m=d.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===l&&d.largestBatchId>r&&a.set(d.getKey(),d)}return de.resolve(a)}getOverlaysForCollectionGroup(e,n,r,a){let l=new xt((m,g)=>m-g);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let g=l.get(m.largestBatchId);g===null&&(g=Ba(),l=l.insert(m.largestBatchId,g)),g.set(m.getKey(),m)}}const h=Ba(),d=l.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach((m,g)=>h.set(m,g)),!(h.size()>=a)););return de.resolve(h)}St(e,n,r){const a=this.overlays.get(r.key);if(a!==null){const u=this.Qr.get(a.largestBatchId).delete(r.key);this.Qr.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new fV(n,r));let l=this.Qr.get(n);l===void 0&&(l=Ye(),this.Qr.set(n,l)),this.Qr.set(n,l.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=dn.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,de.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.$r=new Wt(nn.Ur),this.Kr=new Wt(nn.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new nn(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new nn(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ae(new yt([])),r=new nn(n,e),a=new nn(n,e+1),l=[];return this.Kr.forEachInRange([r,a],u=>{this.zr(u),l.push(u.key)}),l}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ae(new yt([])),r=new nn(n,e),a=new nn(n,e+1);let l=Ye();return this.Kr.forEachInRange([r,a],u=>{l=l.add(u.key)}),l}containsKey(e){const n=new nn(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nn{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ae.comparator(e.key,n.key)||Fe(e.Zr,n.Zr)}static Wr(e,n){return Fe(e.Zr,n.Zr)||Ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Wt(nn.Ur)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,a){const l=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new dV(l,n,r,a);this.mutationQueue.push(u);for(const h of a)this.Xr=this.Xr.add(new nn(h.key,l)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return de.resolve(u)}lookupMutationBatch(e,n){return de.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,a=this.ti(r),l=a<0?0:a;return de.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?Uv:this.nr-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nn(n,0),a=new nn(n,Number.POSITIVE_INFINITY),l=[];return this.Xr.forEachInRange([r,a],u=>{const h=this.ei(u.Zr);l.push(h)}),de.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(Fe);return n.forEach(a=>{const l=new nn(a,0),u=new nn(a,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([l,u],h=>{r=r.add(h.Zr)})}),de.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,a=r.length+1;let l=r;Ae.isDocumentKey(l)||(l=l.child(""));const u=new nn(new Ae(l),0);let h=new Wt(Fe);return this.Xr.forEachWhile(d=>{const m=d.key.path;return!!r.isPrefixOf(m)&&(m.length===a&&(h=h.add(d.Zr)),!0)},u),de.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const a=this.ei(r);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){st(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return de.forEach(n.mutations,a=>{const l=new nn(a.key,n.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new nn(n,0),a=this.Xr.firstAfterOrEqual(r);return de.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.ii=e,this.docs=function(){return new xt(Ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,a=this.docs.get(r),l=a?a.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return de.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Wi();return n.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():_n.newInvalidDocument(a))}),de.resolve(r)}getDocumentsMatchingQuery(e,n,r,a){let l=Wi();const u=n.path,h=new Ae(u.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(h);for(;d.hasNext();){const{key:m,value:{document:g}}=d.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||A4(S4(g),r)<=0||(a.has(g.key)||Bf(n,g))&&(l=l.insert(g.key,g.mutableCopy()))}return de.resolve(l)}getAllFromCollectionGroup(e,n,r,a){Ne(9500)}si(e,n){return de.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new JV(this)}getSize(e){return de.resolve(this.size)}}class JV extends HV{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,a)=>{a.isValidDocument()?n.push(this.Br.addEntry(e,a)):this.Br.removeEntry(r)}),de.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZV{constructor(e){this.persistence=e,this.oi=new io(n=>zv(n),qv),this.lastRemoteSnapshotVersion=Oe.min(),this.highestTargetId=0,this._i=0,this.ai=new Yv,this.targetCount=0,this.ui=pl.cr()}forEachTarget(e,n){return this.oi.forEach((r,a)=>n(a)),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),de.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new pl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,de.resolve()}updateTargetData(e,n){return this.Tr(n),de.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,n,r){let a=0;const l=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(u),l.push(this.removeMatchingKeysForTargetId(e,h.targetId)),a++)}),de.waitFor(l).next(()=>a)}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return de.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),de.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const a=this.persistence.referenceDelegate,l=[];return a&&n.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),de.waitFor(l)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),de.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return de.resolve(r)}containsKey(e,n){return de.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.ci={},this.overlays={},this.li=new Mf(0),this.hi=!1,this.hi=!0,this.Pi=new WV,this.referenceDelegate=e(this),this.Ti=new ZV(this),this.indexManager=new jV,this.remoteDocumentCache=function(a){return new XV(a)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new MV(n),this.Ei=new KV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new YV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new QV(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){ve("MemoryPersistence","Starting transaction:",e);const a=new ej(this.li.next());return this.referenceDelegate.di(),r(a).next(l=>this.referenceDelegate.Ai(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ri(e,n){return de.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class ej extends C4{constructor(e){super(),this.currentSequenceNumber=e}}class Wv{constructor(e){this.persistence=e,this.Vi=new Yv,this.mi=null}static fi(e){return new Wv(e)}get gi(){if(this.mi)return this.mi;throw Ne(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),de.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),de.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),de.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(a=>this.gi.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(l=>this.gi.add(l.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.gi,r=>{const a=Ae.fromPath(r);return this.pi(e,a).next(l=>{l||n.removeEntry(a,Oe.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return de.or([()=>de.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class df{constructor(e,n){this.persistence=e,this.yi=new io(r=>k4(r.path),(r,a)=>r.isEqual(a)),this.garbageCollector=qV(this,n)}static fi(e,n){return new df(e,n)}di(){}Ai(e){return de.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(a=>r+a))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return de.forEach(this.yi,(r,a)=>this.Dr(e,r,a).next(l=>l?de.resolve():n(a)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.si(e,u=>this.Dr(e,u,n).next(h=>{h||(r++,l.removeEntry(u,Oe.min()))})).next(()=>l.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),de.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jd(e.data.value)),n}Dr(e,n,r){return de.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.yi.get(n);return de.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e,n,r,a){this.targetId=e,this.fromCache=n,this.ds=r,this.As=a}static Rs(e,n){let r=Ye(),a=Ye();for(const l of n.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Qv(e,n.fromCache,r,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return jP()?8:I4(En())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,a){const l={result:null};return this.ws(e,n).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.bs(e,n,a,r).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new tj;return this.Ss(e,n,u).next(h=>{if(l.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>l.result)}Ds(e,n,r,a){return r.documentReadCount<this.gs?(Jo()<=Ke.DEBUG&&ve("QueryEngine","SDK will not create cache indexes for query:",Zo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),de.resolve()):(Jo()<=Ke.DEBUG&&ve("QueryEngine","Query:",Zo(n),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ps*a?(Jo()<=Ke.DEBUG&&ve("QueryEngine","The SDK decides to create cache indexes for query:",Zo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):de.resolve())}ws(e,n){if(NE(n))return de.resolve(null);let r=ti(n);return this.indexManager.getIndexType(e,r).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Iy(n,null,"F"),r=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(l=>{const u=Ye(...l);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(d=>{const m=this.vs(n,h);return this.Cs(n,m,u,d.readTime)?this.ws(e,Iy(n,null,"F")):this.Fs(e,m,n,d)}))})))}bs(e,n,r,a){return NE(n)||a.isEqual(Oe.min())?de.resolve(null):this.ys.getDocuments(e,r).next(l=>{const u=this.vs(n,l);return this.Cs(n,u,r,a)?de.resolve(null):(Jo()<=Ke.DEBUG&&ve("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Zo(n)),this.Fs(e,u,n,x4(a,pc)).next(h=>h))})}vs(e,n){let r=new Wt(Y1(e));return n.forEach((a,l)=>{Bf(e,l)&&(r=r.add(l))}),r}Cs(e,n,r,a){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const l=e.limitType==="F"?n.last():n.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Ss(e,n,r){return Jo()<=Ke.DEBUG&&ve("QueryEngine","Using full collection scan to execute query:",Zo(n)),this.ys.getDocumentsMatchingQuery(e,n,Fs.min(),r)}Fs(e,n,r,a){return this.ys.getDocumentsMatchingQuery(e,r,a).next(l=>(n.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LocalStore",rj=3e8;class ij{constructor(e,n,r,a){this.persistence=e,this.Ms=n,this.serializer=a,this.xs=new xt(Fe),this.Os=new io(l=>zv(l),qv),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $V(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function sj(t,e,n,r){return new ij(t,e,n,r)}async function vR(t,e){const n=Me(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let a;return n.mutationQueue.getAllMutationBatches(r).next(l=>(a=l,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(l=>{const u=[],h=[];let d=Ye();for(const m of a){u.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}for(const m of l){h.push(m.batchId);for(const g of m.mutations)d=d.add(g.key)}return n.localDocuments.getDocuments(r,d).next(m=>({ks:m,removedBatchIds:u,addedBatchIds:h}))})})}function aj(t,e){const n=Me(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,d,m,g){const v=m.batch,w=v.keys();let x=de.resolve();return w.forEach(S=>{x=x.next(()=>g.getEntry(d,S)).next(k=>{const R=m.docVersions.get(S);st(R!==null,48541),k.version.compareTo(R)<0&&(v.applyToRemoteDocument(k,m),k.isValidDocument()&&(k.setReadTime(m.commitVersion),g.addEntry(k)))})}),x.next(()=>h.mutationQueue.removeMutationBatch(d,v))}(n,r,e,l).next(()=>l.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let d=Ye();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(d=d.add(h.batch.mutations[m].key));return d}(e))).next(()=>n.localDocuments.getDocuments(r,a))})}function _R(t){const e=Me(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function oj(t,e){const n=Me(t),r=e.snapshotVersion;let a=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=n.Bs.newChangeBuffer({trackRemovals:!0});a=n.xs;const h=[];e.targetChanges.forEach((g,v)=>{const w=a.get(v);if(!w)return;h.push(n.Ti.removeMatchingKeys(l,g.removedDocuments,v).next(()=>n.Ti.addMatchingKeys(l,g.addedDocuments,v)));let x=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(dn.EMPTY_BYTE_STRING,Oe.min()).withLastLimboFreeSnapshotVersion(Oe.min()):g.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(g.resumeToken,r)),a=a.insert(v,x),function(k,R,N){return k.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=rj?!0:N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0}(w,x,g)&&h.push(n.Ti.updateTargetData(l,x))});let d=Wi(),m=Ye();if(e.documentUpdates.forEach(g=>{e.resolvedLimboDocuments.has(g)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(l,g))}),h.push(lj(l,u,e.documentUpdates).next(g=>{d=g.qs,m=g.Qs})),!r.isEqual(Oe.min())){const g=n.Ti.getLastRemoteSnapshotVersion(l).next(v=>n.Ti.setTargetsMetadata(l,l.currentSequenceNumber,r));h.push(g)}return de.waitFor(h).next(()=>u.apply(l)).next(()=>n.localDocuments.getLocalViewOfDocuments(l,d,m)).next(()=>d)}).then(l=>(n.xs=a,l))}function lj(t,e,n){let r=Ye(),a=Ye();return n.forEach(l=>r=r.add(l)),e.getEntries(t,r).next(l=>{let u=Wi();return n.forEach((h,d)=>{const m=l.get(h);d.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),d.isNoDocument()&&d.version.isEqual(Oe.min())?(e.removeEntry(h,d.readTime),u=u.insert(h,d)):!m.isValidDocument()||d.version.compareTo(m.version)>0||d.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(d),u=u.insert(h,d)):ve(Xv,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",d.version)}),{qs:u,Qs:a}})}function uj(t,e){const n=Me(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Uv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function cj(t,e){const n=Me(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return n.Ti.getTargetData(r,e).next(l=>l?(a=l,de.resolve(a)):n.Ti.allocateTargetId(r).next(u=>(a=new Ms(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=n.xs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Oy(t,e,n){const r=Me(t),a=r.xs.get(e),l=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",l,u=>r.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!Rl(u))throw u;ve(Xv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.xs=r.xs.remove(e),r.Os.delete(a.target)}function qE(t,e,n){const r=Me(t);let a=Oe.min(),l=Ye();return r.persistence.runTransaction("Execute query","readwrite",u=>function(d,m,g){const v=Me(d),w=v.Os.get(g);return w!==void 0?de.resolve(v.xs.get(w)):v.Ti.getTargetData(m,g)}(r,u,ti(e)).next(h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(u,h.targetId).next(d=>{l=d})}).next(()=>r.Ms.getDocumentsMatchingQuery(u,e,n?a:Oe.min(),n?l:Ye())).next(h=>(hj(r,Q4(e),h),{documents:h,$s:l})))}function hj(t,e,n){let r=t.Ns.get(e)||Oe.min();n.forEach((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)}),t.Ns.set(e,r)}class HE{constructor(){this.activeTargetIds=nV()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dj{constructor(){this.xo=new HE,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new HE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="ConnectivityMonitor";class $E{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ve(GE,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ve(GE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xd=null;function My(){return xd===null?xd=function(){return 268435456+Math.round(2147483648*Math.random())}():xd++,"0x"+xd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="RestConnection",mj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pj{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${a}`,this.Go=this.databaseId.database===of?`project_id=${r}`:`project_id=${r}&database_id=${a}`}zo(e,n,r,a,l){const u=My(),h=this.jo(e,n.toUriEncodedString());ve(Ng,`Sending RPC '${e}' ${u}:`,h,r);const d={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(d,a,l);const{host:m}=new URL(h),g=no(m);return this.Jo(e,h,d,r,g).then(v=>(ve(Ng,`Received RPC '${e}' ${u}: `,v),v),v=>{throw hl(Ng,`RPC '${e}' ${u} failed with error: `,v,"url: ",h,"request:",r),v})}Yo(e,n,r,a,l,u){return this.zo(e,n,r,a,l)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((a,l)=>e[l]=a),r&&r.headers.forEach((a,l)=>e[l]=a)}jo(e,n){const r=mj[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn="WebChannelConnection";class yj extends pj{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,a,l){const u=My();return new Promise((h,d)=>{const m=new w1;m.setWithCredentials(!0),m.listenOnce(T1.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Vd.NO_ERROR:const v=m.getResponseJson();ve(gn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(v)),h(v);break;case Vd.TIMEOUT:ve(gn,`RPC '${e}' ${u} timed out`),d(new _e(he.DEADLINE_EXCEEDED,"Request time out"));break;case Vd.HTTP_ERROR:const w=m.getStatus();if(ve(gn,`RPC '${e}' ${u} failed with status:`,w,"response text:",m.getResponseText()),w>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const S=x==null?void 0:x.error;if(S&&S.status&&S.message){const k=function(N){const B=N.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(B)>=0?B:he.UNKNOWN}(S.status);d(new _e(k,S.message))}else d(new _e(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new _e(he.UNAVAILABLE,"Connection failed."));break;default:Ne(9055,{h_:e,streamId:u,P_:m.getLastErrorCode(),T_:m.getLastError()})}}finally{ve(gn,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(a);ve(gn,`RPC '${e}' ${u} sending request:`,a),m.send(n,"POST",g,r,15)})}I_(e,n,r){const a=My(),l=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=S1(),h=x1(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(d.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Ho(d.initMessageHeaders,n,r),d.encodeInitMessageHeaders=!0;const g=l.join("");ve(gn,`Creating RPC '${e}' stream ${a}: ${g}`,d);const v=u.createWebChannel(g,d);this.E_(v);let w=!1,x=!1;const S=new gj({Zo:R=>{x?ve(gn,`Not sending because RPC '${e}' stream ${a} is closed:`,R):(w||(ve(gn,`Opening RPC '${e}' stream ${a} transport.`),v.open(),w=!0),ve(gn,`RPC '${e}' stream ${a} sending:`,R),v.send(R))},Xo:()=>v.close()}),k=(R,N,B)=>{R.listen(N,O=>{try{B(O)}catch(G){setTimeout(()=>{throw G},0)}})};return k(v,Yu.EventType.OPEN,()=>{x||(ve(gn,`RPC '${e}' stream ${a} transport opened.`),S.__())}),k(v,Yu.EventType.CLOSE,()=>{x||(x=!0,ve(gn,`RPC '${e}' stream ${a} transport closed`),S.u_(),this.d_(v))}),k(v,Yu.EventType.ERROR,R=>{x||(x=!0,hl(gn,`RPC '${e}' stream ${a} transport errored. Name:`,R.name,"Message:",R.message),S.u_(new _e(he.UNAVAILABLE,"The operation could not be completed")))}),k(v,Yu.EventType.MESSAGE,R=>{var N;if(!x){const B=R.data[0];st(!!B,16349);const O=B,G=(O==null?void 0:O.error)||((N=O[0])===null||N===void 0?void 0:N.error);if(G){ve(gn,`RPC '${e}' stream ${a} received error:`,G);const H=G.status;let M=function(I){const j=Ft[I];if(j!==void 0)return aR(j)}(H),D=G.message;M===void 0&&(M=he.INTERNAL,D="Unknown error status: "+H+" with message "+G.message),x=!0,S.u_(new _e(M,D)),v.close()}else ve(gn,`RPC '${e}' stream ${a} received:`,B),S.c_(B)}}),k(h,E1.STAT_EVENT,R=>{R.stat===Ty.PROXY?ve(gn,`RPC '${e}' stream ${a} detected buffering proxy`):R.stat===Ty.NOPROXY&&ve(gn,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{S.a_()},0),S}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function kg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(t){return new wV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bR{constructor(e,n,r=1e3,a=1.5,l=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=a,this.V_=l,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),a=Math.max(0,n-r);a>0&&ve("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,a,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE="PersistentStream";class wR{constructor(e,n,r,a,l,u,h,d){this.xi=e,this.S_=r,this.D_=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=d,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new bR(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Yi(n.toString()),Yi("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,a])=>{this.v_===n&&this.z_(r,a)},r=>{e(()=>{const a=new _e(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(a)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(a=>{r(()=>this.j_(a))}),this.stream.onMessage(a=>{r(()=>++this.M_==1?this.J_(a):this.onNext(a))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ve(KE,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(ve(KE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vj extends wR{constructor(e,n,r,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=xV(this.serializer,e),r=function(l){if(!("targetChange"in l))return Oe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Oe.min():u.readTime?ni(u.readTime):Oe.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Dy(this.serializer),n.addTarget=function(l,u){let h;const d=u.target;if(h=Ry(d)?{documents:RV(l,d)}:{query:CV(l,d).gt},h.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){h.resumeToken=uR(l,u.resumeToken);const m=Ny(l,u.expectedCount);m!==null&&(h.expectedCount=m)}else if(u.snapshotVersion.compareTo(Oe.min())>0){h.readTime=hf(l,u.snapshotVersion.toTimestamp());const m=Ny(l,u.expectedCount);m!==null&&(h.expectedCount=m)}return h}(this.serializer,e);const r=NV(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Dy(this.serializer),n.removeTarget=e,this.Q_(n)}}class _j extends wR{constructor(e,n,r,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,a,u),this.serializer=l}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return st(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){st(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=AV(e.writeResults,e.commitTime),r=ni(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Dy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SV(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bj{}class wj extends bj{constructor(e,n,r,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=a,this.sa=!1}oa(){if(this.sa)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.zo(e,ky(n,r),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new _e(he.UNKNOWN,l.toString())})}Yo(e,n,r,a,l){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,ky(n,r),a,u,h,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(he.UNKNOWN,u.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class Tj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Yi(n),this.ua=!1):ve("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za="RemoteStore";class Ej{constructor(e,n,r,a,l){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=l,this.Ra.No(u=>{r.enqueueAndForget(async()=>{so(this)&&(ve(Za,"Restarting streams for network reachability change."),await async function(d){const m=Me(d);m.da.add(4),await Fc(m),m.Va.set("Unknown"),m.da.delete(4),await Gf(m)}(this))})}),this.Va=new Tj(r,a)}}async function Gf(t){if(so(t))for(const e of t.Aa)await e(!0)}async function Fc(t){for(const e of t.Aa)await e(!1)}function TR(t,e){const n=Me(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),t_(n)?e_(n):Il(n).N_()&&Zv(n,e))}function Jv(t,e){const n=Me(t),r=Il(n);n.Ea.delete(e),r.N_()&&ER(n,e),n.Ea.size===0&&(r.N_()?r.k_():so(n)&&n.Va.set("Unknown"))}function Zv(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Oe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Il(t).Z_(e)}function ER(t,e){t.ma.Ke(e),Il(t).X_(e)}function e_(t){t.ma=new yV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Il(t).start(),t.Va.ca()}function t_(t){return so(t)&&!Il(t).O_()&&t.Ea.size>0}function so(t){return Me(t).da.size===0}function xR(t){t.ma=void 0}async function xj(t){t.Va.set("Online")}async function Sj(t){t.Ea.forEach((e,n)=>{Zv(t,e)})}async function Aj(t,e){xR(t),t_(t)?(t.Va.Pa(e),e_(t)):t.Va.set("Unknown")}async function Rj(t,e,n){if(t.Va.set("Online"),e instanceof lR&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const h of l.targetIds)a.Ea.has(h)&&(await a.remoteSyncer.rejectListen(h,u),a.Ea.delete(h),a.ma.removeTarget(h))}(t,e)}catch(r){ve(Za,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ff(t,r)}else if(e instanceof Bd?t.ma.Xe(e):e instanceof oR?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Oe.min()))try{const r=await _R(t.localStore);n.compareTo(r)>=0&&await function(l,u){const h=l.ma.It(u);return h.targetChanges.forEach((d,m)=>{if(d.resumeToken.approximateByteSize()>0){const g=l.Ea.get(m);g&&l.Ea.set(m,g.withResumeToken(d.resumeToken,u))}}),h.targetMismatches.forEach((d,m)=>{const g=l.Ea.get(d);if(!g)return;l.Ea.set(d,g.withResumeToken(dn.EMPTY_BYTE_STRING,g.snapshotVersion)),ER(l,d);const v=new Ms(g.target,d,m,g.sequenceNumber);Zv(l,v)}),l.remoteSyncer.applyRemoteEvent(h)}(t,n)}catch(r){ve(Za,"Failed to raise snapshot:",r),await ff(t,r)}}async function ff(t,e,n){if(!Rl(e))throw e;t.da.add(1),await Fc(t),t.Va.set("Offline"),n||(n=()=>_R(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ve(Za,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Gf(t)})}function SR(t,e){return e().catch(n=>ff(t,n,e))}async function $f(t){const e=Me(t),n=Gs(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Uv;for(;Cj(e);)try{const a=await uj(e.localStore,r);if(a===null){e.Ia.length===0&&n.k_();break}r=a.batchId,Ij(e,a)}catch(a){await ff(e,a)}AR(e)&&RR(e)}function Cj(t){return so(t)&&t.Ia.length<10}function Ij(t,e){t.Ia.push(e);const n=Gs(t);n.N_()&&n.ea&&n.ta(e.mutations)}function AR(t){return so(t)&&!Gs(t).O_()&&t.Ia.length>0}function RR(t){Gs(t).start()}async function Nj(t){Gs(t).ia()}async function kj(t){const e=Gs(t);for(const n of t.Ia)e.ta(n.mutations)}async function Pj(t,e,n){const r=t.Ia.shift(),a=Gv.from(r,e,n);await SR(t,()=>t.remoteSyncer.applySuccessfulWrite(a)),await $f(t)}async function Dj(t,e){e&&Gs(t).ea&&await async function(r,a){if(function(u){return pV(u)&&u!==he.ABORTED}(a.code)){const l=r.Ia.shift();Gs(r).L_(),await SR(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a)),await $f(r)}}(t,e),AR(t)&&RR(t)}async function YE(t,e){const n=Me(t);n.asyncQueue.verifyOperationInProgress(),ve(Za,"RemoteStore received new credentials");const r=so(n);n.da.add(3),await Fc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Gf(n)}async function Oj(t,e){const n=Me(t);e?(n.da.delete(2),await Gf(n)):e||(n.da.add(2),await Fc(n),n.Va.set("Unknown"))}function Il(t){return t.fa||(t.fa=function(n,r,a){const l=Me(n);return l.oa(),new vj(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:xj.bind(null,t),n_:Sj.bind(null,t),i_:Aj.bind(null,t),Y_:Rj.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),t_(t)?e_(t):t.Va.set("Unknown")):(await t.fa.stop(),xR(t))})),t.fa}function Gs(t){return t.ga||(t.ga=function(n,r,a){const l=Me(n);return l.oa(),new _j(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:Nj.bind(null,t),i_:Dj.bind(null,t),na:kj.bind(null,t),ra:Pj.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await $f(t)):(await t.ga.stop(),t.Ia.length>0&&(ve(Za,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n,r,a,l){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,a,l){const u=Date.now()+r,h=new n_(e,n,u,a,l);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function r_(t,e){if(Yi("AsyncQueue",`${e}: ${t}`),Rl(t))return new _e(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ae.comparator(n.key,r.key):(n,r)=>Ae.comparator(n.key,r.key),this.keyedMap=Wu(),this.sortedSet=new xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new cl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(){this.pa=new xt(Ae.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Ne(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class gl{constructor(e,n,r,a,l,u,h,d,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=d,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,a,l){const u=[];return n.forEach(h=>{u.push({type:0,doc:h})}),new gl(e,n,cl.emptySet(n),u,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Uf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==r[a].type||!n[a].doc.isEqual(r[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mj{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class Vj{constructor(){this.queries=QE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const a=Me(n),l=a.queries;a.queries=QE(),l.forEach((u,h)=>{for(const d of h.Sa)d.onError(r)})})(this,new _e(he.ABORTED,"Firestore shutting down"))}}function QE(){return new io(t=>K1(t),Uf)}async function i_(t,e){const n=Me(t);let r=3;const a=e.query;let l=n.queries.get(a);l?!l.Da()&&e.va()&&(r=2):(l=new Mj,r=e.va()?0:1);try{switch(r){case 0:l.ba=await n.onListen(a,!0);break;case 1:l.ba=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(u){const h=r_(u,`Initialization of query '${Zo(e.query)}' failed`);return void e.onError(h)}n.queries.set(a,l),l.Sa.push(e),e.Fa(n.onlineState),l.ba&&e.Ma(l.ba)&&a_(n)}async function s_(t,e){const n=Me(t),r=e.query;let a=3;const l=n.queries.get(r);if(l){const u=l.Sa.indexOf(e);u>=0&&(l.Sa.splice(u,1),l.Sa.length===0?a=e.va()?0:1:!l.Da()&&e.va()&&(a=2))}switch(a){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jj(t,e){const n=Me(t);let r=!1;for(const a of e){const l=a.query,u=n.queries.get(l);if(u){for(const h of u.Sa)h.Ma(a)&&(r=!0);u.ba=a}}r&&a_(n)}function Lj(t,e,n){const r=Me(t),a=r.queries.get(e);if(a)for(const l of a.Sa)l.onError(n);r.queries.delete(e)}function a_(t){t.Ca.forEach(e=>{e.next()})}var Vy,XE;(XE=Vy||(Vy={})).xa="default",XE.Cache="cache";class o_{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new gl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=gl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Vy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.key=e}}class IR{constructor(e){this.key=e}}class Uj{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ye(),this.mutatedKeys=Ye(),this.Za=Y1(e),this.Xa=new cl(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new WE,a=n?n.Xa:this.Xa;let l=n?n.mutatedKeys:this.mutatedKeys,u=a,h=!1;const d=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((g,v)=>{const w=a.get(g),x=Bf(this.query,v)?v:null,S=!!w&&this.mutatedKeys.has(w.key),k=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;w&&x?w.data.isEqual(x.data)?S!==k&&(r.track({type:3,doc:x}),R=!0):this.ru(w,x)||(r.track({type:2,doc:x}),R=!0,(d&&this.Za(x,d)>0||m&&this.Za(x,m)<0)&&(h=!0)):!w&&x?(r.track({type:0,doc:x}),R=!0):w&&!x&&(r.track({type:1,doc:w}),R=!0,(d||m)&&(h=!0)),R&&(x?(u=u.add(x),l=k?l.add(g):l.delete(g)):(u=u.delete(g),l=l.delete(g)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),l=l.delete(g.key),r.track({type:1,doc:g})}return{Xa:u,nu:r,Cs:h,mutatedKeys:l}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,a){const l=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const u=e.nu.wa();u.sort((g,v)=>function(x,S){const k=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne(20277,{Vt:R})}};return k(x)-k(S)}(g.type,v.type)||this.Za(g.doc,v.doc)),this.iu(r),a=a!=null&&a;const h=n&&!a?this.su():[],d=this.Ya.size===0&&this.current&&!a?1:0,m=d!==this.Ja;return this.Ja=d,u.length!==0||m?{snapshot:new gl(this.query,e.Xa,l,u,e.mutatedKeys,d===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:h}:{ou:h}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new WE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ye(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new IR(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new CR(r))}),n}au(e){this.Ha=e.$s,this.Ya=Ye();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return gl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const l_="SyncEngine";class Bj{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Fj{constructor(e){this.key=e,this.cu=!1}}class zj{constructor(e,n,r,a,l,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.lu={},this.hu=new io(h=>K1(h),Uf),this.Pu=new Map,this.Tu=new Set,this.Iu=new xt(Ae.comparator),this.Eu=new Map,this.du=new Yv,this.Au={},this.Ru=new Map,this.Vu=pl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function qj(t,e,n=!0){const r=MR(t);let a;const l=r.hu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.uu()):a=await NR(r,e,n,!0),a}async function Hj(t,e){const n=MR(t);await NR(n,e,!0,!1)}async function NR(t,e,n,r){const a=await cj(t.localStore,ti(e)),l=a.targetId,u=t.sharedClientState.addLocalQueryTarget(l,n);let h;return r&&(h=await Gj(t,e,l,u==="current",a.resumeToken)),t.isPrimaryClient&&n&&TR(t.remoteStore,a),h}async function Gj(t,e,n,r,a){t.fu=(v,w,x)=>async function(k,R,N,B){let O=R.view.tu(N);O.Cs&&(O=await qE(k.localStore,R.query,!1).then(({documents:D})=>R.view.tu(D,O)));const G=B&&B.targetChanges.get(R.targetId),H=B&&B.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(O,k.isPrimaryClient,G,H);return ZE(k,R.targetId,M.ou),M.snapshot}(t,v,w,x);const l=await qE(t.localStore,e,!0),u=new Uj(e,l.$s),h=u.tu(l.documents),d=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",a),m=u.applyChanges(h,t.isPrimaryClient,d);ZE(t,n,m.ou);const g=new Bj(e,n,u);return t.hu.set(e,g),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),m.snapshot}async function $j(t,e,n){const r=Me(t),a=r.hu.get(e),l=r.Pu.get(a.targetId);if(l.length>1)return r.Pu.set(a.targetId,l.filter(u=>!Uf(u,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Oy(r.localStore,a.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(a.targetId),n&&Jv(r.remoteStore,a.targetId),jy(r,a.targetId)}).catch(Al)):(jy(r,a.targetId),await Oy(r.localStore,a.targetId,!0))}async function Kj(t,e){const n=Me(t),r=n.hu.get(e),a=n.Pu.get(r.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Jv(n.remoteStore,r.targetId))}async function Yj(t,e,n){const r=tL(t);try{const a=await function(u,h){const d=Me(u),m=Yt.now(),g=h.reduce((x,S)=>x.add(S.key),Ye());let v,w;return d.persistence.runTransaction("Locally write mutations","readwrite",x=>{let S=Wi(),k=Ye();return d.Bs.getEntries(x,g).next(R=>{S=R,S.forEach((N,B)=>{B.isValidDocument()||(k=k.add(N))})}).next(()=>d.localDocuments.getOverlayedDocuments(x,S)).next(R=>{v=R;const N=[];for(const B of h){const O=cV(B,v.get(B.key).overlayedDocument);O!=null&&N.push(new Js(B.key,O,U1(O.value.mapValue),Rr.exists(!0)))}return d.mutationQueue.addMutationBatch(x,m,N,h)}).next(R=>{w=R;const N=R.applyToLocalDocumentSet(v,k);return d.documentOverlayCache.saveOverlays(x,R.batchId,N)})}).then(()=>({batchId:w.batchId,changes:Q1(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(u,h,d){let m=u.Au[u.currentUser.toKey()];m||(m=new xt(Fe)),m=m.insert(h,d),u.Au[u.currentUser.toKey()]=m}(r,a.batchId,n),await zc(r,a.changes),await $f(r.remoteStore)}catch(a){const l=r_(a,"Failed to persist write");n.reject(l)}}async function kR(t,e){const n=Me(t);try{const r=await oj(n.localStore,e);e.targetChanges.forEach((a,l)=>{const u=n.Eu.get(l);u&&(st(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?u.cu=!0:a.modifiedDocuments.size>0?st(u.cu,14607):a.removedDocuments.size>0&&(st(u.cu,42227),u.cu=!1))}),await zc(n,r,e)}catch(r){await Al(r)}}function JE(t,e,n){const r=Me(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const a=[];r.hu.forEach((l,u)=>{const h=u.view.Fa(e);h.snapshot&&a.push(h.snapshot)}),function(u,h){const d=Me(u);d.onlineState=h;let m=!1;d.queries.forEach((g,v)=>{for(const w of v.Sa)w.Fa(h)&&(m=!0)}),m&&a_(d)}(r.eventManager,e),a.length&&r.lu.Y_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Wj(t,e,n){const r=Me(t);r.sharedClientState.updateQueryState(e,"rejected",n);const a=r.Eu.get(e),l=a&&a.key;if(l){let u=new xt(Ae.comparator);u=u.insert(l,_n.newNoDocument(l,Oe.min()));const h=Ye().add(l),d=new qf(Oe.min(),new Map,new xt(Fe),u,h);await kR(r,d),r.Iu=r.Iu.remove(l),r.Eu.delete(e),u_(r)}else await Oy(r.localStore,e,!1).then(()=>jy(r,e,n)).catch(Al)}async function Qj(t,e){const n=Me(t),r=e.batch.batchId;try{const a=await aj(n.localStore,e);DR(n,r,null),PR(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await zc(n,a)}catch(a){await Al(a)}}async function Xj(t,e,n){const r=Me(t);try{const a=await function(u,h){const d=Me(u);return d.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let g;return d.mutationQueue.lookupMutationBatch(m,h).next(v=>(st(v!==null,37113),g=v.keys(),d.mutationQueue.removeMutationBatch(m,v))).next(()=>d.mutationQueue.performConsistencyCheck(m)).next(()=>d.documentOverlayCache.removeOverlaysForBatchId(m,g,h)).next(()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,g)).next(()=>d.localDocuments.getDocuments(m,g))})}(r.localStore,e);DR(r,e,n),PR(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await zc(r,a)}catch(a){await Al(a)}}function PR(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function DR(t,e,n){const r=Me(t);let a=r.Au[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(n?l.reject(n):l.resolve(),a=a.remove(e)),r.Au[r.currentUser.toKey()]=a}}function jy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||OR(t,r)})}function OR(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Jv(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),u_(t))}function ZE(t,e,n){for(const r of n)r instanceof CR?(t.du.addReference(r.key,e),Jj(t,r)):r instanceof IR?(ve(l_,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||OR(t,r.key)):Ne(19791,{pu:r})}function Jj(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(ve(l_,"New document in limbo: "+n),t.Tu.add(r),u_(t))}function u_(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new Ae(yt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new Fj(n)),t.Iu=t.Iu.insert(n,r),TR(t.remoteStore,new Ms(ti(Lf(n.path)),r,"TargetPurposeLimboResolution",Mf.le))}}async function zc(t,e,n){const r=Me(t),a=[],l=[],u=[];r.hu.isEmpty()||(r.hu.forEach((h,d)=>{u.push(r.fu(d,e,n).then(m=>{var g;if((m||n)&&r.isPrimaryClient){const v=m?!m.fromCache:(g=n==null?void 0:n.targetChanges.get(d.targetId))===null||g===void 0?void 0:g.current;r.sharedClientState.updateQueryState(d.targetId,v?"current":"not-current")}if(m){a.push(m);const v=Qv.Rs(d.targetId,m);l.push(v)}}))}),await Promise.all(u),r.lu.Y_(a),await async function(d,m){const g=Me(d);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>de.forEach(m,w=>de.forEach(w.ds,x=>g.persistence.referenceDelegate.addReference(v,w.targetId,x)).next(()=>de.forEach(w.As,x=>g.persistence.referenceDelegate.removeReference(v,w.targetId,x)))))}catch(v){if(!Rl(v))throw v;ve(Xv,"Failed to update sequence numbers: "+v)}for(const v of m){const w=v.targetId;if(!v.fromCache){const x=g.xs.get(w),S=x.snapshotVersion,k=x.withLastLimboFreeSnapshotVersion(S);g.xs=g.xs.insert(w,k)}}}(r.localStore,l))}async function Zj(t,e){const n=Me(t);if(!n.currentUser.isEqual(e)){ve(l_,"User change. New user:",e.toKey());const r=await vR(n.localStore,e);n.currentUser=e,function(l,u){l.Ru.forEach(h=>{h.forEach(d=>{d.reject(new _e(he.CANCELLED,u))})}),l.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await zc(n,r.ks)}}function eL(t,e){const n=Me(t),r=n.Eu.get(e);if(r&&r.cu)return Ye().add(r.key);{let a=Ye();const l=n.Pu.get(e);if(!l)return a;for(const u of l){const h=n.hu.get(u);a=a.unionWith(h.view.eu)}return a}}function MR(t){const e=Me(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=eL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Wj.bind(null,e),e.lu.Y_=jj.bind(null,e.eventManager),e.lu.gu=Lj.bind(null,e.eventManager),e}function tL(t){const e=Me(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Qj.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Xj.bind(null,e),e}class mf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hf(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return sj(this.persistence,new nj,e.initialUser,this.serializer)}Su(e){return new yR(Wv.fi,this.serializer)}bu(e){return new dj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mf.provider={build:()=>new mf};class nL extends mf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){st(this.persistence.referenceDelegate instanceof df,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new FV(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new yR(r=>df.fi(r,n),this.serializer)}}class Ly{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zj.bind(null,this.syncEngine),await Oj(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Vj}()}createDatastore(e){const n=Hf(e.databaseInfo.databaseId),r=function(l){return new yj(l)}(e.databaseInfo);return function(l,u,h,d){return new wj(l,u,h,d)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,a,l,u,h){return new Ej(r,a,l,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>JE(this.syncEngine,n,0),function(){return $E.C()?new $E:new fj}())}createSyncEngine(e,n){return function(a,l,u,h,d,m,g){const v=new zj(a,l,u,h,d,m);return g&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const l=Me(a);ve(Za,"RemoteStore shutting down."),l.da.add(5),await Fc(l),l.Ra.shutdown(),l.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Ly.provider={build:()=>new Ly};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Yi("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="FirestoreClient";class rL{constructor(e,n,r,a,l){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=a,this.user=vn.UNAUTHENTICATED,this.clientId=I1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,async u=>{ve($s,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(ve($s,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=r_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pg(t,e){t.asyncQueue.verifyOperationInProgress(),ve($s,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async a=>{r.isEqual(a)||(await vR(e.localStore,a),r=a)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ex(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iL(t);ve($s,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>YE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,a)=>YE(e.remoteStore,a)),t._onlineComponents=e}async function iL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ve($s,"Using user provided OfflineComponentProvider");try{await Pg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===he.FAILED_PRECONDITION||a.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;hl("Error using user provided cache. Falling back to memory cache: "+n),await Pg(t,new mf)}}else ve($s,"Using default OfflineComponentProvider"),await Pg(t,new nL(void 0));return t._offlineComponents}async function VR(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ve($s,"Using user provided OnlineComponentProvider"),await ex(t,t._uninitializedComponentsProvider._online)):(ve($s,"Using default OnlineComponentProvider"),await ex(t,new Ly))),t._onlineComponents}function sL(t){return VR(t).then(e=>e.syncEngine)}async function pf(t){const e=await VR(t),n=e.eventManager;return n.onListen=qj.bind(null,e.syncEngine),n.onUnlisten=$j.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Hj.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Kj.bind(null,e.syncEngine),n}function aL(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,m){const g=new c_({next:w=>{g.xu(),u.enqueueAndForget(()=>s_(l,v));const x=w.docs.has(h);!x&&w.fromCache?m.reject(new _e(he.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&w.fromCache&&d&&d.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new o_(Lf(h.path),g,{includeMetadataChanges:!0,Qa:!0});return i_(l,v)}(await pf(t),t.asyncQueue,e,n,r)),r.promise}function oL(t,e,n={}){const r=new Hi;return t.asyncQueue.enqueueAndForget(async()=>function(l,u,h,d,m){const g=new c_({next:w=>{g.xu(),u.enqueueAndForget(()=>s_(l,v)),w.fromCache&&d.source==="server"?m.reject(new _e(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(w)},error:w=>m.reject(w)}),v=new o_(h,g,{includeMetadataChanges:!0,Qa:!0});return i_(l,v)}(await pf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LR(t,e,n){if(!n)throw new _e(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lL(t,e,n,r){if(e===!0&&r===!0)throw new _e(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function nx(t){if(!Ae.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function rx(t){if(Ae.isDocumentKey(t))throw new _e(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Kf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ne(12329,{type:typeof t})}function Xn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kf(t);throw new _e(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="firestore.googleapis.com",ix=!0;class sx{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=UR,this.ssl=ix}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:ix;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=gR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<UV)throw new _e(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new _e(he.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,a){return r.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yf{constructor(e,n,r,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sx({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sx(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new p4;switch(r.type){case"firstParty":return new _4(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new _e(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=tx.get(n);r&&(ve("ComponentProvider","Removing Datastore"),tx.delete(n),r.terminate())}(this),Promise.resolve()}}function uL(t,e,n,r={}){var a;t=Xn(t,Yf);const l=no(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),d=`${e}:${n}`;l&&(Tv(`https://${d}`),Ev("Firestore",!0)),u.host!==UR&&u.host!==d&&hl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:d,ssl:l,emulatorOptions:r});if(!Ya(m,h)&&(t._setSettings(m),r.mockUserToken)){let g,v;if(typeof r.mockUserToken=="string")g=r.mockUserToken,v=vn.MOCK_USER;else{g=NA(r.mockUserToken,(a=t._app)===null||a===void 0?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new _e(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new vn(w)}t._authCredentials=new g4(new R1(g,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Zs(this.firestore,e,this._query)}}class Tn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class Us extends Zs{constructor(e,n,r){super(e,n,Lf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new Ae(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function gf(t,e,...n){if(t=Nt(t),LR("collection","path",e),t instanceof Yf){const r=yt.fromString(e,...n);return rx(r),new Us(t,null,r)}{if(!(t instanceof Tn||t instanceof Us))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return rx(r),new Us(t.firestore,null,r)}}function oi(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=I1.newId()),LR("doc","path",e),t instanceof Yf){const r=yt.fromString(e,...n);return nx(r),new Tn(t,null,new Ae(r))}{if(!(t instanceof Tn||t instanceof Us))throw new _e(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(yt.fromString(e,...n));return nx(r),new Tn(t.firestore,t instanceof Us?t.converter:null,new Ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax="AsyncQueue";class ox{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new bR(this,"async_queue_retry"),this.rc=()=>{const r=kg();r&&ve(ax,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=kg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=kg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new Hi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Rl(e))throw e;ve(ax,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Yi("INTERNAL UNHANDLED ERROR: ",lx(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const a=n_.createAndSchedule(this,e,n,r,l=>this.uc(l));return this.Zu.push(a),a}oc(){this.Xu&&Ne(47125,{cc:lx(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function lx(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ux(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const a=n;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1}(t,["next","error","complete"])}class Ks extends Yf{constructor(e,n,r,a){super(e,n,r,a),this.type="firestore",this._queue=new ox,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ox(e),this._firestoreClient=void 0,await e}}}function cL(t,e){const n=typeof t=="object"?t:Av(),r=typeof t=="string"?t:of,a=kf(n,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=RA("firestore");l&&uL(a,...l)}return a}function Wf(t){if(t._terminated)throw new _e(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hL(t),t._firestoreClient}function hL(t){var e,n,r;const a=t._freezeSettings(),l=function(h,d,m,g){return new O4(h,d,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,jR(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,a);t._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=a.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),t._firestoreClient=new rL(t._authCredentials,t._appCheckCredentials,t._queue,l,t._componentsProvider&&function(h){const d=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new yl(dn.fromBase64String(e))}catch(n){throw new _e(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new yl(dn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new _e(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new _e(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new _e(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL=/^__.*__$/;class fL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Js(e,this.data,this.fieldMask,n,this.fieldTransforms):new Uc(e,this.data,n,this.fieldTransforms)}}class BR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Js(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FR(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne(40011,{Ic:t})}}class f_{constructor(e,n,r,a,l,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.Ec(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new f_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Vc(e),a}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.dc({path:r,Rc:!1});return a.Ec(),a}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return yf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(FR(this.Ic)&&dL.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class mL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Hf(e)}bc(e,n,r,a=!1){return new f_({Ic:e,methodName:n,wc:r,path:hn.emptyPath(),Rc:!1,yc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jf(t){const e=t._freezeSettings(),n=Hf(t._databaseId);return new mL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function zR(t,e,n,r,a,l={}){const u=t.bc(l.merge||l.mergeFields?2:0,e,n,a);p_("Data must be an object, but it was:",u,r);const h=qR(r,u);let d,m;if(l.merge)d=new Qn(u.fieldMask),m=u.fieldTransforms;else if(l.mergeFields){const g=[];for(const v of l.mergeFields){const w=Uy(e,v,n);if(!u.contains(w))throw new _e(he.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);GR(g,w)||g.push(w)}d=new Qn(g),m=u.fieldTransforms.filter(v=>d.covers(v.field))}else d=null,m=u.fieldTransforms;return new fL(new jn(h),d,m)}class Zf extends Xf{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zf}}class m_ extends Xf{_toFieldTransform(e){return new aV(e.path,new bc)}isEqual(e){return e instanceof m_}}function pL(t,e,n,r){const a=t.bc(1,e,n);p_("Data must be an object, but it was:",a,r);const l=[],u=jn.empty();Xs(r,(d,m)=>{const g=g_(e,d,n);m=Nt(m);const v=a.mc(g);if(m instanceof Zf)l.push(g);else{const w=qc(m,v);w!=null&&(l.push(g),u.set(g,w))}});const h=new Qn(l);return new BR(u,h,a.fieldTransforms)}function gL(t,e,n,r,a,l){const u=t.bc(1,e,n),h=[Uy(e,r,n)],d=[a];if(l.length%2!=0)throw new _e(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)h.push(Uy(e,l[w])),d.push(l[w+1]);const m=[],g=jn.empty();for(let w=h.length-1;w>=0;--w)if(!GR(m,h[w])){const x=h[w];let S=d[w];S=Nt(S);const k=u.mc(x);if(S instanceof Zf)m.push(x);else{const R=qc(S,k);R!=null&&(m.push(x),g.set(x,R))}}const v=new Qn(m);return new BR(g,v,u.fieldTransforms)}function yL(t,e,n,r=!1){return qc(n,t.bc(r?4:3,e))}function qc(t,e){if(HR(t=Nt(t)))return p_("Unsupported field value:",e,t),qR(t,e);if(t instanceof Xf)return function(r,a){if(!FR(a.Ic))throw a.gc(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.gc(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,a){const l=[];let u=0;for(const h of r){let d=qc(h,a.fc(u));d==null&&(d={nullValue:"NULL_VALUE"}),l.push(d),u++}return{arrayValue:{values:l}}}(t,e)}return function(r,a){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return rV(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=Yt.fromDate(r);return{timestampValue:hf(a.serializer,l)}}if(r instanceof Yt){const l=new Yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:hf(a.serializer,l)}}if(r instanceof h_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof yl)return{bytesValue:uR(a.serializer,r._byteString)};if(r instanceof Tn){const l=a.databaseId,u=r.firestore._databaseId;if(!u.isEqual(l))throw a.gc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Kv(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof d_)return function(u,h){return{mapValue:{fields:{[j1]:{stringValue:L1},[lf]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw h.gc("VectorValues must only contain numeric values.");return Hv(h.serializer,m)})}}}}}}(r,a);throw a.gc(`Unsupported field value: ${Kf(r)}`)}(t,e)}function qR(t,e){const n={};return k1(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xs(t,(r,a)=>{const l=qc(a,e.Ac(r));l!=null&&(n[r]=l)}),{mapValue:{fields:n}}}function HR(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Yt||t instanceof h_||t instanceof yl||t instanceof Tn||t instanceof Xf||t instanceof d_)}function p_(t,e,n){if(!HR(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const r=Kf(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Uy(t,e,n){if((e=Nt(e))instanceof Qf)return e._internalPath;if(typeof e=="string")return g_(t,e);throw yf("Field path arguments must be of type string or ",t,!1,void 0,n)}const vL=new RegExp("[~\\*/\\[\\]]");function g_(t,e,n){if(e.search(vL)>=0)throw yf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qf(...e.split("."))._internalPath}catch{throw yf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function yf(t,e,n,r,a){const l=r&&!r.isEmpty(),u=a!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let d="";return(l||u)&&(d+=" (found",l&&(d+=` in field ${r}`),u&&(d+=` in document ${a}`),d+=")"),new _e(he.INVALID_ARGUMENT,h+t+d)}function GR(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n,r,a,l){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _L(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(em("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _L extends $R{data(){return super.data()}}function em(t,e){return typeof e=="string"?g_(t,e):e instanceof Qf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class y_{}class YR extends y_{}function vf(t,e,...n){let r=[];e instanceof y_&&r.push(e),r=r.concat(n),function(l){const u=l.filter(d=>d instanceof v_).length,h=l.filter(d=>d instanceof tm).length;if(u>1||u>0&&h>0)throw new _e(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const a of r)t=a._apply(t);return t}class tm extends YR{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tm(e,n,r)}_apply(e){const n=this._parse(e);return WR(e._query,n),new Zs(e.firestore,e.converter,Cy(e._query,n))}_parse(e){const n=Jf(e.firestore);return function(l,u,h,d,m,g,v){let w;if(m.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new _e(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){hx(v,g);const S=[];for(const k of v)S.push(cx(d,l,k));w={arrayValue:{values:S}}}else w=cx(d,l,v)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||hx(v,g),w=yL(h,u,v,g==="in"||g==="not-in");return zt.create(m,g,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sc(t,e,n){const r=e,a=em("where",t);return tm._create(a,r,n)}class v_ extends y_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new v_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ir.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(a,l){let u=a;const h=l.getFlattenedFilters();for(const d of h)WR(u,d),u=Cy(u,d)}(e._query,n),new Zs(e.firestore,e.converter,Cy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class __ extends YR{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new __(e,n)}_apply(e){const n=function(a,l,u){if(a.startAt!==null)throw new _e(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new _e(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _c(l,u)}(e._query,this._field,this._direction);return new Zs(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new Cl(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,n))}}function bL(t,e="asc"){const n=e,r=em("orderBy",t);return __._create(r,n)}function cx(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new _e(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$1(e)&&n.indexOf("/")!==-1)throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(yt.fromString(n));if(!Ae.isDocumentKey(r))throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return xE(t,new Ae(r))}if(n instanceof Tn)return xE(t,n._key);throw new _e(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kf(n)}.`)}function hx(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WR(t,e){const n=function(a,l){for(const u of a)for(const h of u.getFlattenedFilters())if(l.indexOf(h.op)>=0)return h.op;return null}(t.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class wL{convertValue(e,n="none"){switch(Hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(qs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Xs(e,(a,l)=>{r[a]=this.convertValue(l,n)}),r}convertVectorValue(e){var n,r,a;const l=(a=(r=(n=e.fields)===null||n===void 0?void 0:n[lf].arrayValue)===null||r===void 0?void 0:r.values)===null||a===void 0?void 0:a.map(u=>Mt(u.doubleValue));return new d_(l)}convertGeoPoint(e){return new h_(Mt(e.latitude),Mt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=jf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(gc(e));default:return null}}convertTimestamp(e){const n=zs(e);return new Yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=yt.fromString(e);st(pR(r),9688,{name:e});const a=new yc(r.get(1),r.get(3)),l=new Ae(r.popFirst(5));return a.isEqual(n)||Yi(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QR(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XR extends $R{constructor(e,n,r,a,l,u){super(e,n,r,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Fd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(em("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Fd extends XR{data(e={}){return super.data(e)}}class JR{constructor(e,n,r,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new Xu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Fd(this._firestore,this._userDataWriter,r.key,r,new Xu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new _e(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(h=>{const d=new Fd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:d,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(h=>l||h.type!==3).map(h=>{const d=new Fd(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Xu(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,g=-1;return h.type!==0&&(m=u.indexOf(h.doc.key),u=u.delete(h.doc.key)),h.type!==1&&(u=u.add(h.doc),g=u.indexOf(h.doc.key)),{type:TL(h.type),doc:d,oldIndex:m,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function TL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eo(t){t=Xn(t,Tn);const e=Xn(t.firestore,Ks);return aL(Wf(e),t._key).then(n=>eC(e,t,n))}class b_ extends wL{constructor(e){super(),this.firestore=e}convertBytes(e){return new yl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function EL(t){t=Xn(t,Zs);const e=Xn(t.firestore,Ks),n=Wf(e),r=new b_(e);return KR(t._query),oL(n,t._query).then(a=>new JR(e,r,t,a))}function ZR(t,e,n){t=Xn(t,Tn);const r=Xn(t.firestore,Ks),a=QR(t.converter,e,n);return w_(r,[zR(Jf(r),"setDoc",t._key,a,t.converter!==null,n).toMutation(t._key,Rr.none())])}function xL(t,e,n,...r){t=Xn(t,Tn);const a=Xn(t.firestore,Ks),l=Jf(a);let u;return u=typeof(e=Nt(e))=="string"||e instanceof Qf?gL(l,"updateDoc",t._key,e,n,r):pL(l,"updateDoc",t._key,e),w_(a,[u.toMutation(t._key,Rr.exists(!0))])}function SL(t,e){const n=Xn(t.firestore,Ks),r=oi(t),a=QR(t.converter,e);return w_(n,[zR(Jf(t.firestore),"addDoc",r._key,a,t.converter!==null,{}).toMutation(r._key,Rr.exists(!1))]).then(()=>r)}function By(t,...e){var n,r,a;t=Nt(t);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||ux(e[u])||(l=e[u],u++);const h={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(ux(e[u])){const v=e[u];e[u]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[u+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[u+2]=(a=v.complete)===null||a===void 0?void 0:a.bind(v)}let d,m,g;if(t instanceof Tn)m=Xn(t.firestore,Ks),g=Lf(t._key.path),d={next:v=>{e[u]&&e[u](eC(m,t,v))},error:e[u+1],complete:e[u+2]};else{const v=Xn(t,Zs);m=Xn(v.firestore,Ks),g=v._query;const w=new b_(m);d={next:x=>{e[u]&&e[u](new JR(m,w,v,x))},error:e[u+1],complete:e[u+2]},KR(t._query)}return function(w,x,S,k){const R=new c_(k),N=new o_(x,R,S);return w.asyncQueue.enqueueAndForget(async()=>i_(await pf(w),N)),()=>{R.xu(),w.asyncQueue.enqueueAndForget(async()=>s_(await pf(w),N))}}(Wf(m),g,h,d)}function w_(t,e){return function(r,a){const l=new Hi;return r.asyncQueue.enqueueAndForget(async()=>Yj(await sL(r),a,l)),l.promise}(Wf(t),e)}function eC(t,e,n){const r=n.docs.get(e._key),a=new b_(t);return new XR(t,a,e._key,r,new Xu(n.hasPendingWrites,n.fromCache),e.converter)}function tC(){return new m_("serverTimestamp")}(function(e,n=!0){(function(a){Sl=a})(ro),Wa(new Bs("firestore",(r,{instanceIdentifier:a,options:l})=>{const u=r.getProvider("app").getImmediate(),h=new Ks(new y4(r.getProvider("auth-internal")),new b4(u,r.getProvider("app-check-internal")),function(m,g){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new _e(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(m.options.projectId,g)}(u,a),u);return l=Object.assign({useFetchStreams:n},l),h._setSettings(l),h},"PUBLIC").setMultipleInstances(!0)),Zr(dE,fE,e),Zr(dE,fE,"esm2017")})();const AL={apiKey:"AIzaSyDzSL34p5-nUEdPET7smaiydRe64ieTM7g",authDomain:"fitngro-dda45.firebaseapp.com",projectId:"fitngro-dda45",storageBucket:"fitngro-dda45.firebasestorage.app",messagingSenderId:"402250344414",appId:"1:402250344414:web:60fb137f35239d0ca05f4f"},nC=DA(AL),Ct=_1(nC),Jn=cL(nC),RL=new Li;nM(Ct,u1).then(()=>console.log("Local persistence enabled")).catch(t=>console.error("Persistence error:",t));const T_=L.createContext({});function E_(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const x_=typeof window<"u",rC=x_?L.useLayoutEffect:L.useEffect,nm=L.createContext(null);function S_(t,e){t.indexOf(e)===-1&&t.push(e)}function A_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Qi=(t,e,n)=>n>e?e:n<t?t:n;let R_=()=>{};const Xi={},iC=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function sC(t){return typeof t=="object"&&t!==null}const aC=t=>/^0[^.\s]+$/u.test(t);function C_(t){let e;return()=>(e===void 0&&(e=t()),e)}const mr=t=>t,CL=(t,e)=>n=>e(t(n)),Hc=(...t)=>t.reduce(CL),Ec=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class I_{constructor(){this.subscriptions=[]}add(e){return S_(this.subscriptions,e),()=>A_(this.subscriptions,e)}notify(e,n,r){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,n,r);else for(let l=0;l<a;l++){const u=this.subscriptions[l];u&&u(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ri=t=>t*1e3,ii=t=>t/1e3;function oC(t,e){return e?t*(1e3/e):0}const lC=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,IL=1e-7,NL=12;function kL(t,e,n,r,a){let l,u,h=0;do u=e+(n-e)/2,l=lC(u,r,a)-t,l>0?n=u:e=u;while(Math.abs(l)>IL&&++h<NL);return u}function Gc(t,e,n,r){if(t===e&&n===r)return mr;const a=l=>kL(l,0,1,t,n);return l=>l===0||l===1?l:lC(a(l),e,r)}const uC=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cC=t=>e=>1-t(1-e),hC=Gc(.33,1.53,.69,.99),N_=cC(hC),dC=uC(N_),fC=t=>(t*=2)<1?.5*N_(t):.5*(2-Math.pow(2,-10*(t-1))),k_=t=>1-Math.sin(Math.acos(t)),mC=cC(k_),pC=uC(k_),PL=Gc(.42,0,1,1),DL=Gc(0,0,.58,1),gC=Gc(.42,0,.58,1),OL=t=>Array.isArray(t)&&typeof t[0]!="number",yC=t=>Array.isArray(t)&&typeof t[0]=="number",ML={linear:mr,easeIn:PL,easeInOut:gC,easeOut:DL,circIn:k_,circInOut:pC,circOut:mC,backIn:N_,backInOut:dC,backOut:hC,anticipate:fC},VL=t=>typeof t=="string",dx=t=>{if(yC(t)){R_(t.length===4);const[e,n,r,a]=t;return Gc(e,n,r,a)}else if(VL(t))return ML[t];return t},Sd=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],fx={value:null};function jL(t,e){let n=new Set,r=new Set,a=!1,l=!1;const u=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1},d=0;function m(v){u.has(v)&&(g.schedule(v),t()),d++,v(h)}const g={schedule:(v,w=!1,x=!1)=>{const k=x&&a?n:r;return w&&u.add(v),k.has(v)||k.add(v),v},cancel:v=>{r.delete(v),u.delete(v)},process:v=>{if(h=v,a){l=!0;return}a=!0,[n,r]=[r,n],n.forEach(m),e&&fx.value&&fx.value.frameloop[e].push(d),d=0,n.clear(),a=!1,l&&(l=!1,g.process(v))}};return g}const LL=40;function vC(t,e){let n=!1,r=!0;const a={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,u=Sd.reduce((O,G)=>(O[G]=jL(l,e?G:void 0),O),{}),{setup:h,read:d,resolveKeyframes:m,preUpdate:g,update:v,preRender:w,render:x,postRender:S}=u,k=()=>{const O=Xi.useManualTiming?a.timestamp:performance.now();n=!1,Xi.useManualTiming||(a.delta=r?1e3/60:Math.max(Math.min(O-a.timestamp,LL),1)),a.timestamp=O,a.isProcessing=!0,h.process(a),d.process(a),m.process(a),g.process(a),v.process(a),w.process(a),x.process(a),S.process(a),a.isProcessing=!1,n&&e&&(r=!1,t(k))},R=()=>{n=!0,r=!0,a.isProcessing||t(k)};return{schedule:Sd.reduce((O,G)=>{const H=u[G];return O[G]=(M,D=!1,A=!1)=>(n||R(),H.schedule(M,D,A)),O},{}),cancel:O=>{for(let G=0;G<Sd.length;G++)u[Sd[G]].cancel(O)},state:a,steps:u}}const{schedule:Et,cancel:Ys,state:un,steps:Dg}=vC(typeof requestAnimationFrame<"u"?requestAnimationFrame:mr,!0);let zd;function UL(){zd=void 0}const Ln={now:()=>(zd===void 0&&Ln.set(un.isProcessing||Xi.useManualTiming?un.timestamp:performance.now()),zd),set:t=>{zd=t,queueMicrotask(UL)}},_C=t=>e=>typeof e=="string"&&e.startsWith(t),P_=_C("--"),BL=_C("var(--"),D_=t=>BL(t)?FL.test(t.split("/*")[0].trim()):!1,FL=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nl={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xc={...Nl,transform:t=>Qi(0,1,t)},Ad={...Nl,default:1},ac=t=>Math.round(t*1e5)/1e5,O_=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zL(t){return t==null}const qL=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M_=(t,e)=>n=>!!(typeof n=="string"&&qL.test(n)&&n.startsWith(t)||e&&!zL(n)&&Object.prototype.hasOwnProperty.call(n,e)),bC=(t,e,n)=>r=>{if(typeof r!="string")return r;const[a,l,u,h]=r.match(O_);return{[t]:parseFloat(a),[e]:parseFloat(l),[n]:parseFloat(u),alpha:h!==void 0?parseFloat(h):1}},HL=t=>Qi(0,255,t),Og={...Nl,transform:t=>Math.round(HL(t))},Fa={test:M_("rgb","red"),parse:bC("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Og.transform(t)+", "+Og.transform(e)+", "+Og.transform(n)+", "+ac(xc.transform(r))+")"};function GL(t){let e="",n="",r="",a="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),a=t.substring(4,5),e+=e,n+=n,r+=r,a+=a),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:a?parseInt(a,16)/255:1}}const Fy={test:M_("#"),parse:GL,transform:Fa.transform},$c=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ks=$c("deg"),si=$c("%"),Pe=$c("px"),$L=$c("vh"),KL=$c("vw"),mx={...si,parse:t=>si.parse(t)/100,transform:t=>si.transform(t*100)},nl={test:M_("hsl","hue"),parse:bC("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+si.transform(ac(e))+", "+si.transform(ac(n))+", "+ac(xc.transform(r))+")"},yn={test:t=>Fa.test(t)||Fy.test(t)||nl.test(t),parse:t=>Fa.test(t)?Fa.parse(t):nl.test(t)?nl.parse(t):Fy.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Fa.transform(t):nl.transform(t)},YL=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WL(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(O_))==null?void 0:e.length)||0)+(((n=t.match(YL))==null?void 0:n.length)||0)>0}const wC="number",TC="color",QL="var",XL="var(",px="${}",JL=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sc(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},a=[];let l=0;const h=e.replace(JL,d=>(yn.test(d)?(r.color.push(l),a.push(TC),n.push(yn.parse(d))):d.startsWith(XL)?(r.var.push(l),a.push(QL),n.push(d)):(r.number.push(l),a.push(wC),n.push(parseFloat(d))),++l,px)).split(px);return{values:n,split:h,indexes:r,types:a}}function EC(t){return Sc(t).values}function xC(t){const{split:e,types:n}=Sc(t),r=e.length;return a=>{let l="";for(let u=0;u<r;u++)if(l+=e[u],a[u]!==void 0){const h=n[u];h===wC?l+=ac(a[u]):h===TC?l+=yn.transform(a[u]):l+=a[u]}return l}}const ZL=t=>typeof t=="number"?0:t;function e3(t){const e=EC(t);return xC(t)(e.map(ZL))}const Ws={test:WL,parse:EC,createTransformer:xC,getAnimatableNone:e3};function Mg(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function t3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let a=0,l=0,u=0;if(!e)a=l=u=n;else{const h=n<.5?n*(1+e):n+e-n*e,d=2*n-h;a=Mg(d,h,t+1/3),l=Mg(d,h,t),u=Mg(d,h,t-1/3)}return{red:Math.round(a*255),green:Math.round(l*255),blue:Math.round(u*255),alpha:r}}function _f(t,e){return n=>n>0?e:t}const Tt=(t,e,n)=>t+(e-t)*n,Vg=(t,e,n)=>{const r=t*t,a=n*(e*e-r)+r;return a<0?0:Math.sqrt(a)},n3=[Fy,Fa,nl],r3=t=>n3.find(e=>e.test(t));function gx(t){const e=r3(t);if(!e)return!1;let n=e.parse(t);return e===nl&&(n=t3(n)),n}const yx=(t,e)=>{const n=gx(t),r=gx(e);if(!n||!r)return _f(t,e);const a={...n};return l=>(a.red=Vg(n.red,r.red,l),a.green=Vg(n.green,r.green,l),a.blue=Vg(n.blue,r.blue,l),a.alpha=Tt(n.alpha,r.alpha,l),Fa.transform(a))},zy=new Set(["none","hidden"]);function i3(t,e){return zy.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function s3(t,e){return n=>Tt(t,e,n)}function V_(t){return typeof t=="number"?s3:typeof t=="string"?D_(t)?_f:yn.test(t)?yx:l3:Array.isArray(t)?SC:typeof t=="object"?yn.test(t)?yx:a3:_f}function SC(t,e){const n=[...t],r=n.length,a=t.map((l,u)=>V_(l)(l,e[u]));return l=>{for(let u=0;u<r;u++)n[u]=a[u](l);return n}}function a3(t,e){const n={...t,...e},r={};for(const a in n)t[a]!==void 0&&e[a]!==void 0&&(r[a]=V_(t[a])(t[a],e[a]));return a=>{for(const l in r)n[l]=r[l](a);return n}}function o3(t,e){const n=[],r={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const l=e.types[a],u=t.indexes[l][r[l]],h=t.values[u]??0;n[a]=h,r[l]++}return n}const l3=(t,e)=>{const n=Ws.createTransformer(e),r=Sc(t),a=Sc(e);return r.indexes.var.length===a.indexes.var.length&&r.indexes.color.length===a.indexes.color.length&&r.indexes.number.length>=a.indexes.number.length?zy.has(t)&&!a.values.length||zy.has(e)&&!r.values.length?i3(t,e):Hc(SC(o3(r,a),a.values),n):_f(t,e)};function AC(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Tt(t,e,n):V_(t)(t,e)}const u3=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Et.update(e,n),stop:()=>Ys(e),now:()=>un.isProcessing?un.timestamp:Ln.now()}},RC=(t,e,n=10)=>{let r="";const a=Math.max(Math.round(e/n),2);for(let l=0;l<a;l++)r+=Math.round(t(l/(a-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},bf=2e4;function j_(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<bf;)e+=n,r=t.next(e);return e>=bf?1/0:e}function c3(t,e=100,n){const r=n({...t,keyframes:[0,e]}),a=Math.min(j_(r),bf);return{type:"keyframes",ease:l=>r.next(a*l).value/e,duration:ii(a)}}const h3=5;function CC(t,e,n){const r=Math.max(e-h3,0);return oC(n-t(r),e-r)}const It={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},jg=.001;function d3({duration:t=It.duration,bounce:e=It.bounce,velocity:n=It.velocity,mass:r=It.mass}){let a,l,u=1-e;u=Qi(It.minDamping,It.maxDamping,u),t=Qi(It.minDuration,It.maxDuration,ii(t)),u<1?(a=m=>{const g=m*u,v=g*t,w=g-n,x=qy(m,u),S=Math.exp(-v);return jg-w/x*S},l=m=>{const v=m*u*t,w=v*n+n,x=Math.pow(u,2)*Math.pow(m,2)*t,S=Math.exp(-v),k=qy(Math.pow(m,2),u);return(-a(m)+jg>0?-1:1)*((w-x)*S)/k}):(a=m=>{const g=Math.exp(-m*t),v=(m-n)*t+1;return-jg+g*v},l=m=>{const g=Math.exp(-m*t),v=(n-m)*(t*t);return g*v});const h=5/t,d=m3(a,l,h);if(t=ri(t),isNaN(d))return{stiffness:It.stiffness,damping:It.damping,duration:t};{const m=Math.pow(d,2)*r;return{stiffness:m,damping:u*2*Math.sqrt(r*m),duration:t}}}const f3=12;function m3(t,e,n){let r=n;for(let a=1;a<f3;a++)r=r-t(r)/e(r);return r}function qy(t,e){return t*Math.sqrt(1-e*e)}const p3=["duration","bounce"],g3=["stiffness","damping","mass"];function vx(t,e){return e.some(n=>t[n]!==void 0)}function y3(t){let e={velocity:It.velocity,stiffness:It.stiffness,damping:It.damping,mass:It.mass,isResolvedFromDuration:!1,...t};if(!vx(t,g3)&&vx(t,p3))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),a=r*r,l=2*Qi(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:It.mass,stiffness:a,damping:l}}else{const n=d3(t);e={...e,...n,mass:It.mass},e.isResolvedFromDuration=!0}return e}function wf(t=It.visualDuration,e=It.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:a}=n;const l=n.keyframes[0],u=n.keyframes[n.keyframes.length-1],h={done:!1,value:l},{stiffness:d,damping:m,mass:g,duration:v,velocity:w,isResolvedFromDuration:x}=y3({...n,velocity:-ii(n.velocity||0)}),S=w||0,k=m/(2*Math.sqrt(d*g)),R=u-l,N=ii(Math.sqrt(d/g)),B=Math.abs(R)<5;r||(r=B?It.restSpeed.granular:It.restSpeed.default),a||(a=B?It.restDelta.granular:It.restDelta.default);let O;if(k<1){const H=qy(N,k);O=M=>{const D=Math.exp(-k*N*M);return u-D*((S+k*N*R)/H*Math.sin(H*M)+R*Math.cos(H*M))}}else if(k===1)O=H=>u-Math.exp(-N*H)*(R+(S+N*R)*H);else{const H=N*Math.sqrt(k*k-1);O=M=>{const D=Math.exp(-k*N*M),A=Math.min(H*M,300);return u-D*((S+k*N*R)*Math.sinh(A)+H*R*Math.cosh(A))/H}}const G={calculatedDuration:x&&v||null,next:H=>{const M=O(H);if(x)h.done=H>=v;else{let D=H===0?S:0;k<1&&(D=H===0?ri(S):CC(O,H,M));const A=Math.abs(D)<=r,I=Math.abs(u-M)<=a;h.done=A&&I}return h.value=h.done?u:M,h},toString:()=>{const H=Math.min(j_(G),bf),M=RC(D=>G.next(H*D).value,H,30);return H+"ms "+M},toTransition:()=>{}};return G}wf.applyToOptions=t=>{const e=c3(t,100,wf);return t.ease=e.ease,t.duration=ri(e.duration),t.type="keyframes",t};function Hy({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:a=10,bounceStiffness:l=500,modifyTarget:u,min:h,max:d,restDelta:m=.5,restSpeed:g}){const v=t[0],w={done:!1,value:v},x=A=>h!==void 0&&A<h||d!==void 0&&A>d,S=A=>h===void 0?d:d===void 0||Math.abs(h-A)<Math.abs(d-A)?h:d;let k=n*e;const R=v+k,N=u===void 0?R:u(R);N!==R&&(k=N-v);const B=A=>-k*Math.exp(-A/r),O=A=>N+B(A),G=A=>{const I=B(A),j=O(A);w.done=Math.abs(I)<=m,w.value=w.done?N:j};let H,M;const D=A=>{x(w.value)&&(H=A,M=wf({keyframes:[w.value,S(w.value)],velocity:CC(O,A,w.value),damping:a,stiffness:l,restDelta:m,restSpeed:g}))};return D(0),{calculatedDuration:null,next:A=>{let I=!1;return!M&&H===void 0&&(I=!0,G(A),D(A)),H!==void 0&&A>=H?M.next(A-H):(!I&&G(A),w)}}}function v3(t,e,n){const r=[],a=n||Xi.mix||AC,l=t.length-1;for(let u=0;u<l;u++){let h=a(t[u],t[u+1]);if(e){const d=Array.isArray(e)?e[u]||mr:e;h=Hc(d,h)}r.push(h)}return r}function _3(t,e,{clamp:n=!0,ease:r,mixer:a}={}){const l=t.length;if(R_(l===e.length),l===1)return()=>e[0];if(l===2&&e[0]===e[1])return()=>e[1];const u=t[0]===t[1];t[0]>t[l-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=v3(e,r,a),d=h.length,m=g=>{if(u&&g<t[0])return e[0];let v=0;if(d>1)for(;v<t.length-2&&!(g<t[v+1]);v++);const w=Ec(t[v],t[v+1],g);return h[v](w)};return n?g=>m(Qi(t[0],t[l-1],g)):m}function b3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const a=Ec(0,e,r);t.push(Tt(n,1,a))}}function w3(t){const e=[0];return b3(e,t.length-1),e}function T3(t,e){return t.map(n=>n*e)}function E3(t,e){return t.map(()=>e||gC).splice(0,t.length-1)}function oc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const a=OL(r)?r.map(dx):dx(r),l={done:!1,value:e[0]},u=T3(n&&n.length===e.length?n:w3(e),t),h=_3(u,e,{ease:Array.isArray(a)?a:E3(e,a)});return{calculatedDuration:t,next:d=>(l.value=h(d),l.done=d>=t,l)}}const x3=t=>t!==null;function L_(t,{repeat:e,repeatType:n="loop"},r,a=1){const l=t.filter(x3),h=a<0||e&&n!=="loop"&&e%2===1?0:l.length-1;return!h||r===void 0?l[h]:r}const S3={decay:Hy,inertia:Hy,tween:oc,keyframes:oc,spring:wf};function IC(t){typeof t.type=="string"&&(t.type=S3[t.type])}class U_{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const A3=t=>t/100;class B_ extends U_{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,a;const{motionValue:n}=this.options;n&&n.updatedAt!==Ln.now()&&this.tick(Ln.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(r=this.options).onStop)==null||a.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;IC(e);const{type:n=oc,repeat:r=0,repeatDelay:a=0,repeatType:l,velocity:u=0}=e;let{keyframes:h}=e;const d=n||oc;d!==oc&&typeof h[0]!="number"&&(this.mixKeyframes=Hc(A3,AC(h[0],h[1])),h=[0,100]);const m=d({...e,keyframes:h});l==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...h].reverse(),velocity:-u})),m.calculatedDuration===null&&(m.calculatedDuration=j_(m));const{calculatedDuration:g}=m;this.calculatedDuration=g,this.resolvedDuration=g+a,this.totalDuration=this.resolvedDuration*(r+1)-a,this.generator=m}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:a,mixKeyframes:l,mirroredGenerator:u,resolvedDuration:h,calculatedDuration:d}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:g,repeat:v,repeatType:w,repeatDelay:x,type:S,onUpdate:k,finalKeyframe:R}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const N=this.currentTime-m*(this.playbackSpeed>=0?1:-1),B=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let O=this.currentTime,G=r;if(v){const A=Math.min(this.currentTime,a)/h;let I=Math.floor(A),j=A%1;!j&&A>=1&&(j=1),j===1&&I--,I=Math.min(I,v+1),!!(I%2)&&(w==="reverse"?(j=1-j,x&&(j-=x/h)):w==="mirror"&&(G=u)),O=Qi(0,1,j)*h}const H=B?{done:!1,value:g[0]}:G.next(O);l&&(H.value=l(H.value));let{done:M}=H;!B&&d!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return D&&S!==Hy&&(H.value=L_(g,this.options,R,this.speed)),k&&k(H.value),D&&this.finish(),H}then(e,n){return this.finished.then(e,n)}get duration(){return ii(this.calculatedDuration)}get time(){return ii(this.currentTime)}set time(e){var n;e=ri(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ln.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=ii(this.currentTime))}play(){var a,l;if(this.isStopped)return;const{driver:e=u3,startTime:n}=this.options;this.driver||(this.driver=e(u=>this.tick(u))),(l=(a=this.options).onPlay)==null||l.call(a);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ln.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function R3(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const za=t=>t*180/Math.PI,Gy=t=>{const e=za(Math.atan2(t[1],t[0]));return $y(e)},C3={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:Gy,rotateZ:Gy,skewX:t=>za(Math.atan(t[1])),skewY:t=>za(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},$y=t=>(t=t%360,t<0&&(t+=360),t),_x=Gy,bx=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),wx=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),I3={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:bx,scaleY:wx,scale:t=>(bx(t)+wx(t))/2,rotateX:t=>$y(za(Math.atan2(t[6],t[5]))),rotateY:t=>$y(za(Math.atan2(-t[2],t[0]))),rotateZ:_x,rotate:_x,skewX:t=>za(Math.atan(t[4])),skewY:t=>za(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ky(t){return t.includes("scale")?1:0}function Yy(t,e){if(!t||t==="none")return Ky(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,a;if(n)r=I3,a=n;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=C3,a=h}if(!a)return Ky(e);const l=r[e],u=a[1].split(",").map(k3);return typeof l=="function"?l(u):u[l]}const N3=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Yy(n,e)};function k3(t){return parseFloat(t.trim())}const kl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Pl=new Set(kl),Tx=t=>t===Nl||t===Pe,P3=new Set(["x","y","z"]),D3=kl.filter(t=>!P3.has(t));function O3(t){const e=[];return D3.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Ga={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Yy(e,"x"),y:(t,{transform:e})=>Yy(e,"y")};Ga.translateX=Ga.x;Ga.translateY=Ga.y;const $a=new Set;let Wy=!1,Qy=!1,Xy=!1;function NC(){if(Qy){const t=Array.from($a).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const a=O3(r);a.length&&(n.set(r,a),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const a=n.get(r);a&&a.forEach(([l,u])=>{var h;(h=r.getValue(l))==null||h.set(u)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Qy=!1,Wy=!1,$a.forEach(t=>t.complete(Xy)),$a.clear()}function kC(){$a.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Qy=!0)})}function M3(){Xy=!0,kC(),NC(),Xy=!1}class F_{constructor(e,n,r,a,l,u=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=a,this.element=l,this.isAsync=u}scheduleResolve(){this.state="scheduled",this.isAsync?($a.add(this),Wy||(Wy=!0,Et.read(kC),Et.resolveKeyframes(NC))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:a}=this;if(e[0]===null){const l=a==null?void 0:a.get(),u=e[e.length-1];if(l!==void 0)e[0]=l;else if(r&&n){const h=r.readValue(n,u);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=u),a&&l===void 0&&a.set(e[0])}R3(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$a.delete(this)}cancel(){this.state==="scheduled"&&($a.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const V3=t=>t.startsWith("--");function j3(t,e,n){V3(e)?t.style.setProperty(e,n):t.style[e]=n}const L3=C_(()=>window.ScrollTimeline!==void 0),U3={};function B3(t,e){const n=C_(t);return()=>U3[e]??n()}const PC=B3(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Ju=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,Ex={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Ju([0,.65,.55,1]),circOut:Ju([.55,0,1,.45]),backIn:Ju([.31,.01,.66,-.59]),backOut:Ju([.33,1.53,.69,.99])};function DC(t,e){if(t)return typeof t=="function"?PC()?RC(t,e):"ease-out":yC(t)?Ju(t):Array.isArray(t)?t.map(n=>DC(n,e)||Ex.easeOut):Ex[t]}function F3(t,e,n,{delay:r=0,duration:a=300,repeat:l=0,repeatType:u="loop",ease:h="easeOut",times:d}={},m=void 0){const g={[e]:n};d&&(g.offset=d);const v=DC(h,a);Array.isArray(v)&&(g.easing=v);const w={delay:r,duration:a,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:l+1,direction:u==="reverse"?"alternate":"normal"};return m&&(w.pseudoElement=m),t.animate(g,w)}function OC(t){return typeof t=="function"&&"applyToOptions"in t}function z3({type:t,...e}){return OC(t)&&PC()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class q3 extends U_{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:a,pseudoElement:l,allowFlatten:u=!1,finalKeyframe:h,onComplete:d}=e;this.isPseudoElement=!!l,this.allowFlatten=u,this.options=e,R_(typeof e.type!="string");const m=z3(e);this.animation=F3(n,r,a,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const g=L_(a,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):j3(n,r,g),this.animation.cancel()}d==null||d(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ii(Number(e))}get time(){return ii(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=ri(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&L3()?(this.animation.timeline=e,mr):n(this)}}const MC={anticipate:fC,backInOut:dC,circInOut:pC};function H3(t){return t in MC}function G3(t){typeof t.ease=="string"&&H3(t.ease)&&(t.ease=MC[t.ease])}const xx=10;class $3 extends q3{constructor(e){G3(e),IC(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:a,element:l,...u}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const h=new B_({...u,autoplay:!1}),d=ri(this.finishedTime??this.time);n.setWithVelocity(h.sample(d-xx).value,h.sample(d).value,xx),h.stop()}}const Sx=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ws.test(t)||t==="0")&&!t.startsWith("url("));function K3(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function Y3(t,e,n,r){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const l=t[t.length-1],u=Sx(a,e),h=Sx(l,e);return!u||!h?!1:K3(t)||(n==="spring"||OC(n))&&r}function z_(t){return sC(t)&&"offsetHeight"in t}const W3=new Set(["opacity","clipPath","filter","transform"]),Q3=C_(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function X3(t){var m;const{motionValue:e,name:n,repeatDelay:r,repeatType:a,damping:l,type:u}=t;if(!z_((m=e==null?void 0:e.owner)==null?void 0:m.current))return!1;const{onUpdate:h,transformTemplate:d}=e.owner.getProps();return Q3()&&n&&W3.has(n)&&(n!=="transform"||!d)&&!h&&!r&&a!=="mirror"&&l!==0&&u!=="inertia"}const J3=40;class Z3 extends U_{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:a=0,repeatDelay:l=0,repeatType:u="loop",keyframes:h,name:d,motionValue:m,element:g,...v}){var S;super(),this.stop=()=>{var k,R;this._animation&&(this._animation.stop(),(k=this.stopTimeline)==null||k.call(this)),(R=this.keyframeResolver)==null||R.cancel()},this.createdAt=Ln.now();const w={autoplay:e,delay:n,type:r,repeat:a,repeatDelay:l,repeatType:u,name:d,motionValue:m,element:g,...v},x=(g==null?void 0:g.KeyframeResolver)||F_;this.keyframeResolver=new x(h,(k,R,N)=>this.onKeyframesResolved(k,R,w,!N),d,m,g),(S=this.keyframeResolver)==null||S.scheduleResolve()}onKeyframesResolved(e,n,r,a){this.keyframeResolver=void 0;const{name:l,type:u,velocity:h,delay:d,isHandoff:m,onUpdate:g}=r;this.resolvedAt=Ln.now(),Y3(e,l,u,h)||((Xi.instantAnimations||!d)&&(g==null||g(L_(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const w={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>J3?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},x=!m&&X3(w)?new $3({...w,element:w.motionValue.owner.current}):new B_(w);x.finished.then(()=>this.notifyFinished()).catch(mr),this.pendingTimeline&&(this.stopTimeline=x.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=x}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),M3()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const e6=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t6(t){const e=e6.exec(t);if(!e)return[,];const[,n,r,a]=e;return[`--${n??r}`,a]}function VC(t,e,n=1){const[r,a]=t6(t);if(!r)return;const l=window.getComputedStyle(e).getPropertyValue(r);if(l){const u=l.trim();return iC(u)?parseFloat(u):u}return D_(a)?VC(a,e,n+1):a}function q_(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const jC=new Set(["width","height","top","left","right","bottom",...kl]),n6={test:t=>t==="auto",parse:t=>t},LC=t=>e=>e.test(t),UC=[Nl,Pe,si,ks,KL,$L,n6],Ax=t=>UC.find(LC(t));function r6(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||aC(t):!0}const i6=new Set(["brightness","contrast","saturate","opacity"]);function s6(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(O_)||[];if(!r)return t;const a=n.replace(r,"");let l=i6.has(e)?1:0;return r!==n&&(l*=100),e+"("+l+a+")"}const a6=/\b([a-z-]*)\(.*?\)/gu,Jy={...Ws,getAnimatableNone:t=>{const e=t.match(a6);return e?e.map(s6).join(" "):t}},Rx={...Nl,transform:Math.round},o6={rotate:ks,rotateX:ks,rotateY:ks,rotateZ:ks,scale:Ad,scaleX:Ad,scaleY:Ad,scaleZ:Ad,skew:ks,skewX:ks,skewY:ks,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:xc,originX:mx,originY:mx,originZ:Pe},H_={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,backgroundPositionX:Pe,backgroundPositionY:Pe,...o6,zIndex:Rx,fillOpacity:xc,strokeOpacity:xc,numOctaves:Rx},l6={...H_,color:yn,backgroundColor:yn,outlineColor:yn,fill:yn,stroke:yn,borderColor:yn,borderTopColor:yn,borderRightColor:yn,borderBottomColor:yn,borderLeftColor:yn,filter:Jy,WebkitFilter:Jy},BC=t=>l6[t];function FC(t,e){let n=BC(t);return n!==Jy&&(n=Ws),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const u6=new Set(["auto","none","0"]);function c6(t,e,n){let r=0,a;for(;r<t.length&&!a;){const l=t[r];typeof l=="string"&&!u6.has(l)&&Sc(l).values.length&&(a=t[r]),r++}if(a&&n)for(const l of e)t[l]=FC(n,a)}class h6 extends F_{constructor(e,n,r,a,l){super(e,n,r,a,l,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let m=e[d];if(typeof m=="string"&&(m=m.trim(),D_(m))){const g=VC(m,n.current);g!==void 0&&(e[d]=g),d===e.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!jC.has(r)||e.length!==2)return;const[a,l]=e,u=Ax(a),h=Ax(l);if(u!==h)if(Tx(u)&&Tx(h))for(let d=0;d<e.length;d++){const m=e[d];typeof m=="string"&&(e[d]=parseFloat(m))}else Ga[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let a=0;a<e.length;a++)(e[a]===null||r6(e[a]))&&r.push(a);r.length&&c6(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ga[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const a=n[n.length-1];a!==void 0&&e.getValue(r,a).jump(a,!1)}measureEndState(){var h;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=r.length-1,u=r[l];r[l]=Ga[n](e.measureViewportBox(),window.getComputedStyle(e.current)),u!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=u),(h=this.removedTransforms)!=null&&h.length&&this.removedTransforms.forEach(([d,m])=>{e.getValue(d).set(m)}),this.resolveNoneKeyframes()}}function d6(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const a=(n==null?void 0:n[t])??r.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const zC=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Cx=30,f6=t=>!isNaN(parseFloat(t));class m6{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,a=!0)=>{var u,h;const l=Ln.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((u=this.events.change)==null||u.notify(this.current),this.dependents))for(const d of this.dependents)d.dirty();a&&((h=this.events.renderRequest)==null||h.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ln.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=f6(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new I_);const r=this.events[e].add(n);return e==="change"?()=>{r(),Et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ln.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Cx)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Cx);return oC(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vl(t,e){return new m6(t,e)}const{schedule:G_}=vC(queueMicrotask,!1),Er={x:!1,y:!1};function qC(){return Er.x||Er.y}function p6(t){return t==="x"||t==="y"?Er[t]?null:(Er[t]=!0,()=>{Er[t]=!1}):Er.x||Er.y?null:(Er.x=Er.y=!0,()=>{Er.x=Er.y=!1})}function HC(t,e){const n=d6(t),r=new AbortController,a={passive:!0,...e,signal:r.signal};return[n,a,()=>r.abort()]}function Ix(t){return!(t.pointerType==="touch"||qC())}function g6(t,e,n={}){const[r,a,l]=HC(t,n),u=h=>{if(!Ix(h))return;const{target:d}=h,m=e(d,h);if(typeof m!="function"||!d)return;const g=v=>{Ix(v)&&(m(v),d.removeEventListener("pointerleave",g))};d.addEventListener("pointerleave",g,a)};return r.forEach(h=>{h.addEventListener("pointerenter",u,a)}),l}const GC=(t,e)=>e?t===e?!0:GC(t,e.parentElement):!1,$_=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,y6=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function v6(t){return y6.has(t.tagName)||t.tabIndex!==-1}const qd=new WeakSet;function Nx(t){return e=>{e.key==="Enter"&&t(e)}}function Lg(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _6=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Nx(()=>{if(qd.has(n))return;Lg(n,"down");const a=Nx(()=>{Lg(n,"up")}),l=()=>Lg(n,"cancel");n.addEventListener("keyup",a,e),n.addEventListener("blur",l,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function kx(t){return $_(t)&&!qC()}function b6(t,e,n={}){const[r,a,l]=HC(t,n),u=h=>{const d=h.currentTarget;if(!kx(h))return;qd.add(d);const m=e(d,h),g=(x,S)=>{window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",w),qd.has(d)&&qd.delete(d),kx(x)&&typeof m=="function"&&m(x,{success:S})},v=x=>{g(x,d===window||d===document||n.useGlobalTarget||GC(d,x.target))},w=x=>{g(x,!1)};window.addEventListener("pointerup",v,a),window.addEventListener("pointercancel",w,a)};return r.forEach(h=>{(n.useGlobalTarget?window:h).addEventListener("pointerdown",u,a),z_(h)&&(h.addEventListener("focus",m=>_6(m,a)),!v6(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),l}function $C(t){return sC(t)&&"ownerSVGElement"in t}function w6(t){return $C(t)&&t.tagName==="svg"}const wn=t=>!!(t&&t.getVelocity),T6=[...UC,yn,Ws],E6=t=>T6.find(LC(t)),K_=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class x6 extends L.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,a=z_(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=a-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function S6({children:t,isPresent:e,anchorX:n}){const r=L.useId(),a=L.useRef(null),l=L.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=L.useContext(K_);return L.useInsertionEffect(()=>{const{width:h,height:d,top:m,left:g,right:v}=l.current;if(e||!a.current||!h||!d)return;const w=n==="left"?`left: ${g}`:`right: ${v}`;a.current.dataset.motionPopId=r;const x=document.createElement("style");return u&&(x.nonce=u),document.head.appendChild(x),x.sheet&&x.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${d}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{document.head.contains(x)&&document.head.removeChild(x)}},[e]),_.jsx(x6,{isPresent:e,childRef:a,sizeRef:l,children:L.cloneElement(t,{ref:a})})}const A6=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:a,presenceAffectsLayout:l,mode:u,anchorX:h})=>{const d=E_(R6),m=L.useId();let g=!0,v=L.useMemo(()=>(g=!1,{id:m,initial:e,isPresent:n,custom:a,onExitComplete:w=>{d.set(w,!0);for(const x of d.values())if(!x)return;r&&r()},register:w=>(d.set(w,!1),()=>d.delete(w))}),[n,d,r]);return l&&g&&(v={...v}),L.useMemo(()=>{d.forEach((w,x)=>d.set(x,!1))},[n]),L.useEffect(()=>{!n&&!d.size&&r&&r()},[n]),u==="popLayout"&&(t=_.jsx(S6,{isPresent:n,anchorX:h,children:t})),_.jsx(nm.Provider,{value:v,children:t})};function R6(){return new Map}function KC(t=!0){const e=L.useContext(nm);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:a}=e,l=L.useId();L.useEffect(()=>{if(t)return a(l)},[t]);const u=L.useCallback(()=>t&&r&&r(l),[l,r,t]);return!n&&r?[!1,u]:[!0]}const Rd=t=>t.key||"";function Px(t){const e=[];return L.Children.forEach(t,n=>{L.isValidElement(n)&&e.push(n)}),e}const C6=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:a=!0,mode:l="sync",propagate:u=!1,anchorX:h="left"})=>{const[d,m]=KC(u),g=L.useMemo(()=>Px(t),[t]),v=u&&!d?[]:g.map(Rd),w=L.useRef(!0),x=L.useRef(g),S=E_(()=>new Map),[k,R]=L.useState(g),[N,B]=L.useState(g);rC(()=>{w.current=!1,x.current=g;for(let H=0;H<N.length;H++){const M=Rd(N[H]);v.includes(M)?S.delete(M):S.get(M)!==!0&&S.set(M,!1)}},[N,v.length,v.join("-")]);const O=[];if(g!==k){let H=[...g];for(let M=0;M<N.length;M++){const D=N[M],A=Rd(D);v.includes(A)||(H.splice(M,0,D),O.push(D))}return l==="wait"&&O.length&&(H=O),B(Px(H)),R(g),null}const{forceRender:G}=L.useContext(T_);return _.jsx(_.Fragment,{children:N.map(H=>{const M=Rd(H),D=u&&!d?!1:g===N||v.includes(M),A=()=>{if(S.has(M))S.set(M,!0);else return;let I=!0;S.forEach(j=>{j||(I=!1)}),I&&(G==null||G(),B(x.current),u&&(m==null||m()),r&&r())};return _.jsx(A6,{isPresent:D,initial:!w.current||n?void 0:!1,custom:e,presenceAffectsLayout:a,mode:l,onExitComplete:D?void 0:A,anchorX:h,children:H},M)})})},YC=L.createContext({strict:!1}),Dx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},_l={};for(const t in Dx)_l[t]={isEnabled:e=>Dx[t].some(n=>!!e[n])};function I6(t){for(const e in t)_l[e]={..._l[e],...t[e]}}const N6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Tf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||N6.has(t)}let WC=t=>!Tf(t);function k6(t){typeof t=="function"&&(WC=e=>e.startsWith("on")?!Tf(e):t(e))}try{k6(require("@emotion/is-prop-valid").default)}catch{}function P6(t,e,n){const r={};for(const a in t)a==="values"&&typeof t.values=="object"||(WC(a)||n===!0&&Tf(a)||!e&&!Tf(a)||t.draggable&&a.startsWith("onDrag"))&&(r[a]=t[a]);return r}function D6(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,a)=>a==="create"?t:(e.has(a)||e.set(a,t(a)),e.get(a))})}const rm=L.createContext({});function im(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Ac(t){return typeof t=="string"||Array.isArray(t)}const Y_=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W_=["initial",...Y_];function sm(t){return im(t.animate)||W_.some(e=>Ac(t[e]))}function QC(t){return!!(sm(t)||t.variants)}function O6(t,e){if(sm(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ac(n)?n:void 0,animate:Ac(r)?r:void 0}}return t.inherit!==!1?e:{}}function M6(t){const{initial:e,animate:n}=O6(t,L.useContext(rm));return L.useMemo(()=>({initial:e,animate:n}),[Ox(e),Ox(n)])}function Ox(t){return Array.isArray(t)?t.join(" "):t}const V6=Symbol.for("motionComponentSymbol");function rl(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function j6(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):rl(n)&&(n.current=r))},[e])}const Q_=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),L6="framerAppearId",XC="data-"+Q_(L6),JC=L.createContext({});function U6(t,e,n,r,a){var k,R;const{visualElement:l}=L.useContext(rm),u=L.useContext(YC),h=L.useContext(nm),d=L.useContext(K_).reducedMotion,m=L.useRef(null);r=r||u.renderer,!m.current&&r&&(m.current=r(t,{visualState:e,parent:l,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:d}));const g=m.current,v=L.useContext(JC);g&&!g.projection&&a&&(g.type==="html"||g.type==="svg")&&B6(m.current,n,a,v);const w=L.useRef(!1);L.useInsertionEffect(()=>{g&&w.current&&g.update(n,h)});const x=n[XC],S=L.useRef(!!x&&!((k=window.MotionHandoffIsComplete)!=null&&k.call(window,x))&&((R=window.MotionHasOptimisedAnimation)==null?void 0:R.call(window,x)));return rC(()=>{g&&(w.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),G_.render(g.render),S.current&&g.animationState&&g.animationState.animateChanges())}),L.useEffect(()=>{g&&(!S.current&&g.animationState&&g.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,x)}),S.current=!1))}),g}function B6(t,e,n,r){const{layoutId:a,layout:l,drag:u,dragConstraints:h,layoutScroll:d,layoutRoot:m,layoutCrossfade:g}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:ZC(t.parent)),t.projection.setOptions({layoutId:a,layout:l,alwaysMeasureLayout:!!u||h&&rl(h),visualElement:t,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:g,layoutScroll:d,layoutRoot:m})}function ZC(t){if(t)return t.options.allowProjection!==!1?t.projection:ZC(t.parent)}function F6({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:a}){t&&I6(t);function l(h,d){let m;const g={...L.useContext(K_),...h,layoutId:z6(h)},{isStatic:v}=g,w=M6(h),x=r(h,v);if(!v&&x_){q6();const S=H6(g);m=S.MeasureLayout,w.visualElement=U6(a,x,g,e,S.ProjectionNode)}return _.jsxs(rm.Provider,{value:w,children:[m&&w.visualElement?_.jsx(m,{visualElement:w.visualElement,...g}):null,n(a,h,j6(x,w.visualElement,d),x,v,w.visualElement)]})}l.displayName=`motion.${typeof a=="string"?a:`create(${a.displayName??a.name??""})`}`;const u=L.forwardRef(l);return u[V6]=a,u}function z6({layoutId:t}){const e=L.useContext(T_).id;return e&&t!==void 0?e+"-"+t:t}function q6(t,e){L.useContext(YC).strict}function H6(t){const{drag:e,layout:n}=_l;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Rc={};function G6(t){for(const e in t)Rc[e]=t[e],P_(e)&&(Rc[e].isCSSVariable=!0)}function eI(t,{layout:e,layoutId:n}){return Pl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Rc[t]||t==="opacity")}const $6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},K6=kl.length;function Y6(t,e,n){let r="",a=!0;for(let l=0;l<K6;l++){const u=kl[l],h=t[u];if(h===void 0)continue;let d=!0;if(typeof h=="number"?d=h===(u.startsWith("scale")?1:0):d=parseFloat(h)===0,!d||n){const m=zC(h,H_[u]);if(!d){a=!1;const g=$6[u]||u;r+=`${g}(${m}) `}n&&(e[u]=m)}}return r=r.trim(),n?r=n(e,a?"":r):a&&(r="none"),r}function X_(t,e,n){const{style:r,vars:a,transformOrigin:l}=t;let u=!1,h=!1;for(const d in e){const m=e[d];if(Pl.has(d)){u=!0;continue}else if(P_(d)){a[d]=m;continue}else{const g=zC(m,H_[d]);d.startsWith("origin")?(h=!0,l[d]=g):r[d]=g}}if(e.transform||(u||n?r.transform=Y6(e,t.transform,n):r.transform&&(r.transform="none")),h){const{originX:d="50%",originY:m="50%",originZ:g=0}=l;r.transformOrigin=`${d} ${m} ${g}`}}const J_=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tI(t,e,n){for(const r in e)!wn(e[r])&&!eI(r,n)&&(t[r]=e[r])}function W6({transformTemplate:t},e){return L.useMemo(()=>{const n=J_();return X_(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Q6(t,e){const n=t.style||{},r={};return tI(r,n,t),Object.assign(r,W6(t,e)),r}function X6(t,e){const n={},r=Q6(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const J6={offset:"stroke-dashoffset",array:"stroke-dasharray"},Z6={offset:"strokeDashoffset",array:"strokeDasharray"};function eU(t,e,n=1,r=0,a=!0){t.pathLength=1;const l=a?J6:Z6;t[l.offset]=Pe.transform(-r);const u=Pe.transform(e),h=Pe.transform(n);t[l.array]=`${u} ${h}`}function nI(t,{attrX:e,attrY:n,attrScale:r,pathLength:a,pathSpacing:l=1,pathOffset:u=0,...h},d,m,g){if(X_(t,h,m),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:v,style:w}=t;v.transform&&(w.transform=v.transform,delete v.transform),(w.transform||v.transformOrigin)&&(w.transformOrigin=v.transformOrigin??"50% 50%",delete v.transformOrigin),w.transform&&(w.transformBox=(g==null?void 0:g.transformBox)??"fill-box",delete v.transformBox),e!==void 0&&(v.x=e),n!==void 0&&(v.y=n),r!==void 0&&(v.scale=r),a!==void 0&&eU(v,a,l,u,!1)}const rI=()=>({...J_(),attrs:{}}),iI=t=>typeof t=="string"&&t.toLowerCase()==="svg";function tU(t,e,n,r){const a=L.useMemo(()=>{const l=rI();return nI(l,e,iI(r),t.transformTemplate,t.style),{...l.attrs,style:{...l.style}}},[e]);if(t.style){const l={};tI(l,t.style,t),a.style={...l,...a.style}}return a}const nU=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z_(t){return typeof t!="string"||t.includes("-")?!1:!!(nU.indexOf(t)>-1||/[A-Z]/u.test(t))}function rU(t=!1){return(n,r,a,{latestValues:l},u)=>{const d=(Z_(n)?tU:X6)(r,l,u,n),m=P6(r,typeof n=="string",t),g=n!==L.Fragment?{...m,...d,ref:a}:{},{children:v}=r,w=L.useMemo(()=>wn(v)?v.get():v,[v]);return L.createElement(n,{...g,children:w})}}function Mx(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function e0(t,e,n,r){if(typeof e=="function"){const[a,l]=Mx(r);e=e(n!==void 0?n:t.custom,a,l)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,l]=Mx(r);e=e(n!==void 0?n:t.custom,a,l)}return e}function Hd(t){return wn(t)?t.get():t}function iU({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,a){return{latestValues:sU(n,r,a,t),renderState:e()}}const sI=t=>(e,n)=>{const r=L.useContext(rm),a=L.useContext(nm),l=()=>iU(t,e,r,a);return n?l():E_(l)};function sU(t,e,n,r){const a={},l=r(t,{});for(const w in l)a[w]=Hd(l[w]);let{initial:u,animate:h}=t;const d=sm(t),m=QC(t);e&&m&&!d&&t.inherit!==!1&&(u===void 0&&(u=e.initial),h===void 0&&(h=e.animate));let g=n?n.initial===!1:!1;g=g||u===!1;const v=g?h:u;if(v&&typeof v!="boolean"&&!im(v)){const w=Array.isArray(v)?v:[v];for(let x=0;x<w.length;x++){const S=e0(t,w[x]);if(S){const{transitionEnd:k,transition:R,...N}=S;for(const B in N){let O=N[B];if(Array.isArray(O)){const G=g?O.length-1:0;O=O[G]}O!==null&&(a[B]=O)}for(const B in k)a[B]=k[B]}}}return a}function t0(t,e,n){var l;const{style:r}=t,a={};for(const u in r)(wn(r[u])||e.style&&wn(e.style[u])||eI(u,t)||((l=n==null?void 0:n.getValue(u))==null?void 0:l.liveStyle)!==void 0)&&(a[u]=r[u]);return a}const aU={useVisualState:sI({scrapeMotionValuesFromProps:t0,createRenderState:J_})};function aI(t,e,n){const r=t0(t,e,n);for(const a in t)if(wn(t[a])||wn(e[a])){const l=kl.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;r[l]=t[a]}return r}const oU={useVisualState:sI({scrapeMotionValuesFromProps:aI,createRenderState:rI})};function lU(t,e){return function(r,{forwardMotionProps:a}={forwardMotionProps:!1}){const u={...Z_(r)?oU:aU,preloadedFeatures:t,useRender:rU(a),createVisualElement:e,Component:r};return F6(u)}}function Cc(t,e,n){const r=t.getProps();return e0(r,e,n!==void 0?n:r.custom,t)}const Zy=t=>Array.isArray(t);function uU(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,vl(n))}function cU(t){return Zy(t)?t[t.length-1]||0:t}function hU(t,e){const n=Cc(t,e);let{transitionEnd:r={},transition:a={},...l}=n||{};l={...l,...r};for(const u in l){const h=cU(l[u]);uU(t,u,h)}}function dU(t){return!!(wn(t)&&t.add)}function ev(t,e){const n=t.getValue("willChange");if(dU(n))return n.add(e);if(!n&&Xi.WillChange){const r=new Xi.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function oI(t){return t.props[XC]}const fU=t=>t!==null;function mU(t,{repeat:e,repeatType:n="loop"},r){const a=t.filter(fU),l=e&&n!=="loop"&&e%2===1?0:a.length-1;return a[l]}const pU={type:"spring",stiffness:500,damping:25,restSpeed:10},gU=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),yU={type:"keyframes",duration:.8},vU={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},_U=(t,{keyframes:e})=>e.length>2?yU:Pl.has(t)?t.startsWith("scale")?gU(e[1]):pU:vU;function bU({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:a,repeat:l,repeatType:u,repeatDelay:h,from:d,elapsed:m,...g}){return!!Object.keys(g).length}const n0=(t,e,n,r={},a,l)=>u=>{const h=q_(r,t)||{},d=h.delay||r.delay||0;let{elapsed:m=0}=r;m=m-ri(d);const g={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-m,onUpdate:w=>{e.set(w),h.onUpdate&&h.onUpdate(w)},onComplete:()=>{u(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:l?void 0:a};bU(h)||Object.assign(g,_U(t,g)),g.duration&&(g.duration=ri(g.duration)),g.repeatDelay&&(g.repeatDelay=ri(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let v=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(v=!0)),(Xi.instantAnimations||Xi.skipAnimations)&&(v=!0,g.duration=0,g.delay=0),g.allowFlatten=!h.type&&!h.ease,v&&!l&&e.get()!==void 0){const w=mU(g.keyframes,h);if(w!==void 0){Et.update(()=>{g.onUpdate(w),g.onComplete()});return}}return h.isSync?new B_(g):new Z3(g)};function wU({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function lI(t,e,{delay:n=0,transitionOverride:r,type:a}={}){let{transition:l=t.getDefaultTransition(),transitionEnd:u,...h}=e;r&&(l=r);const d=[],m=a&&t.animationState&&t.animationState.getState()[a];for(const g in h){const v=t.getValue(g,t.latestValues[g]??null),w=h[g];if(w===void 0||m&&wU(m,g))continue;const x={delay:n,...q_(l||{},g)},S=v.get();if(S!==void 0&&!v.isAnimating&&!Array.isArray(w)&&w===S&&!x.velocity)continue;let k=!1;if(window.MotionHandoffAnimation){const N=oI(t);if(N){const B=window.MotionHandoffAnimation(N,g,Et);B!==null&&(x.startTime=B,k=!0)}}ev(t,g),v.start(n0(g,v,w,t.shouldReduceMotion&&jC.has(g)?{type:!1}:x,t,k));const R=v.animation;R&&d.push(R)}return u&&Promise.all(d).then(()=>{Et.update(()=>{u&&hU(t,u)})}),d}function tv(t,e,n={}){var d;const r=Cc(t,e,n.type==="exit"?(d=t.presenceContext)==null?void 0:d.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(a=n.transitionOverride);const l=r?()=>Promise.all(lI(t,r,n)):()=>Promise.resolve(),u=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:g=0,staggerChildren:v,staggerDirection:w}=a;return TU(t,e,g+m,v,w,n)}:()=>Promise.resolve(),{when:h}=a;if(h){const[m,g]=h==="beforeChildren"?[l,u]:[u,l];return m().then(()=>g())}else return Promise.all([l(),u(n.delay)])}function TU(t,e,n=0,r=0,a=1,l){const u=[],h=(t.variantChildren.size-1)*r,d=a===1?(m=0)=>m*r:(m=0)=>h-m*r;return Array.from(t.variantChildren).sort(EU).forEach((m,g)=>{m.notify("AnimationStart",e),u.push(tv(m,e,{...l,delay:n+d(g)}).then(()=>m.notify("AnimationComplete",e)))}),Promise.all(u)}function EU(t,e){return t.sortNodePosition(e)}function xU(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const a=e.map(l=>tv(t,l,n));r=Promise.all(a)}else if(typeof e=="string")r=tv(t,e,n);else{const a=typeof e=="function"?Cc(t,e,n.custom):e;r=Promise.all(lI(t,a,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function uI(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const SU=W_.length;function cI(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?cI(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<SU;n++){const r=W_[n],a=t.props[r];(Ac(a)||a===!1)&&(e[r]=a)}return e}const AU=[...Y_].reverse(),RU=Y_.length;function CU(t){return e=>Promise.all(e.map(({animation:n,options:r})=>xU(t,n,r)))}function IU(t){let e=CU(t),n=Vx(),r=!0;const a=d=>(m,g)=>{var w;const v=Cc(t,g,d==="exit"?(w=t.presenceContext)==null?void 0:w.custom:void 0);if(v){const{transition:x,transitionEnd:S,...k}=v;m={...m,...k,...S}}return m};function l(d){e=d(t)}function u(d){const{props:m}=t,g=cI(t.parent)||{},v=[],w=new Set;let x={},S=1/0;for(let R=0;R<RU;R++){const N=AU[R],B=n[N],O=m[N]!==void 0?m[N]:g[N],G=Ac(O),H=N===d?B.isActive:null;H===!1&&(S=R);let M=O===g[N]&&O!==m[N]&&G;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),B.protectedKeys={...x},!B.isActive&&H===null||!O&&!B.prevProp||im(O)||typeof O=="boolean")continue;const D=NU(B.prevProp,O);let A=D||N===d&&B.isActive&&!M&&G||R>S&&G,I=!1;const j=Array.isArray(O)?O:[O];let F=j.reduce(a(N),{});H===!1&&(F={});const{prevResolvedValues:q={}}=B,V={...q,...F},re=ie=>{A=!0,w.has(ie)&&(I=!0,w.delete(ie)),B.needsAnimating[ie]=!0;const fe=t.getValue(ie);fe&&(fe.liveStyle=!1)};for(const ie in V){const fe=F[ie],le=q[ie];if(x.hasOwnProperty(ie))continue;let U=!1;Zy(fe)&&Zy(le)?U=!uI(fe,le):U=fe!==le,U?fe!=null?re(ie):w.add(ie):fe!==void 0&&w.has(ie)?re(ie):B.protectedKeys[ie]=!0}B.prevProp=O,B.prevResolvedValues=F,B.isActive&&(x={...x,...F}),r&&t.blockInitialAnimation&&(A=!1),A&&(!(M&&D)||I)&&v.push(...j.map(ie=>({animation:ie,options:{type:N}})))}if(w.size){const R={};if(typeof m.initial!="boolean"){const N=Cc(t,Array.isArray(m.initial)?m.initial[0]:m.initial);N&&N.transition&&(R.transition=N.transition)}w.forEach(N=>{const B=t.getBaseTarget(N),O=t.getValue(N);O&&(O.liveStyle=!0),R[N]=B??null}),v.push({animation:R})}let k=!!v.length;return r&&(m.initial===!1||m.initial===m.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(v):Promise.resolve()}function h(d,m){var v;if(n[d].isActive===m)return Promise.resolve();(v=t.variantChildren)==null||v.forEach(w=>{var x;return(x=w.animationState)==null?void 0:x.setActive(d,m)}),n[d].isActive=m;const g=u(d);for(const w in n)n[w].protectedKeys={};return g}return{animateChanges:u,setActive:h,setAnimateFunction:l,getState:()=>n,reset:()=>{n=Vx(),r=!0}}}function NU(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uI(e,t):!1}function Va(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Vx(){return{animate:Va(!0),whileInView:Va(),whileHover:Va(),whileTap:Va(),whileDrag:Va(),whileFocus:Va(),exit:Va()}}class ea{constructor(e){this.isMounted=!1,this.node=e}update(){}}class kU extends ea{constructor(e){super(e),e.animationState||(e.animationState=IU(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();im(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let PU=0;class DU extends ea{constructor(){super(...arguments),this.id=PU++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const a=this.node.animationState.setActive("exit",!e);n&&!e&&a.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const OU={animation:{Feature:kU},exit:{Feature:DU}};function Ic(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Kc(t){return{point:{x:t.pageX,y:t.pageY}}}const MU=t=>e=>$_(e)&&t(e,Kc(e));function lc(t,e,n,r){return Ic(t,e,MU(n),r)}function hI({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function VU({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function jU(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const dI=1e-4,LU=1-dI,UU=1+dI,fI=.01,BU=0-fI,FU=0+fI;function kn(t){return t.max-t.min}function zU(t,e,n){return Math.abs(t-e)<=n}function jx(t,e,n,r=.5){t.origin=r,t.originPoint=Tt(e.min,e.max,t.origin),t.scale=kn(n)/kn(e),t.translate=Tt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=LU&&t.scale<=UU||isNaN(t.scale))&&(t.scale=1),(t.translate>=BU&&t.translate<=FU||isNaN(t.translate))&&(t.translate=0)}function uc(t,e,n,r){jx(t.x,e.x,n.x,r?r.originX:void 0),jx(t.y,e.y,n.y,r?r.originY:void 0)}function Lx(t,e,n){t.min=n.min+e.min,t.max=t.min+kn(e)}function qU(t,e,n){Lx(t.x,e.x,n.x),Lx(t.y,e.y,n.y)}function Ux(t,e,n){t.min=e.min-n.min,t.max=t.min+kn(e)}function cc(t,e,n){Ux(t.x,e.x,n.x),Ux(t.y,e.y,n.y)}const Bx=()=>({translate:0,scale:1,origin:0,originPoint:0}),il=()=>({x:Bx(),y:Bx()}),Fx=()=>({min:0,max:0}),Ot=()=>({x:Fx(),y:Fx()});function fr(t){return[t("x"),t("y")]}function Ug(t){return t===void 0||t===1}function nv({scale:t,scaleX:e,scaleY:n}){return!Ug(t)||!Ug(e)||!Ug(n)}function La(t){return nv(t)||mI(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mI(t){return zx(t.x)||zx(t.y)}function zx(t){return t&&t!=="0%"}function Ef(t,e,n){const r=t-n,a=e*r;return n+a}function qx(t,e,n,r,a){return a!==void 0&&(t=Ef(t,a,r)),Ef(t,n,r)+e}function rv(t,e=0,n=1,r,a){t.min=qx(t.min,e,n,r,a),t.max=qx(t.max,e,n,r,a)}function pI(t,{x:e,y:n}){rv(t.x,e.translate,e.scale,e.originPoint),rv(t.y,n.translate,n.scale,n.originPoint)}const Hx=.999999999999,Gx=1.0000000000001;function HU(t,e,n,r=!1){const a=n.length;if(!a)return;e.x=e.y=1;let l,u;for(let h=0;h<a;h++){l=n[h],u=l.projectionDelta;const{visualElement:d}=l.options;d&&d.props.style&&d.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&al(t,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,pI(t,u)),r&&La(l.latestValues)&&al(t,l.latestValues))}e.x<Gx&&e.x>Hx&&(e.x=1),e.y<Gx&&e.y>Hx&&(e.y=1)}function sl(t,e){t.min=t.min+e,t.max=t.max+e}function $x(t,e,n,r,a=.5){const l=Tt(t.min,t.max,a);rv(t,e,n,l,r)}function al(t,e){$x(t.x,e.x,e.scaleX,e.scale,e.originX),$x(t.y,e.y,e.scaleY,e.scale,e.originY)}function gI(t,e){return hI(jU(t.getBoundingClientRect(),e))}function GU(t,e,n){const r=gI(t,n),{scroll:a}=e;return a&&(sl(r.x,a.offset.x),sl(r.y,a.offset.y)),r}const yI=({current:t})=>t?t.ownerDocument.defaultView:null,Kx=(t,e)=>Math.abs(t-e);function $U(t,e){const n=Kx(t.x,e.x),r=Kx(t.y,e.y);return Math.sqrt(n**2+r**2)}class vI{constructor(e,n,{transformPagePoint:r,contextWindow:a,dragSnapToOrigin:l=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Fg(this.lastMoveEventInfo,this.history),w=this.startEvent!==null,x=$U(v.offset,{x:0,y:0})>=3;if(!w&&!x)return;const{point:S}=v,{timestamp:k}=un;this.history.push({...S,timestamp:k});const{onStart:R,onMove:N}=this.handlers;w||(R&&R(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,v)},this.handlePointerMove=(v,w)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Bg(w,this.transformPagePoint),Et.update(this.updatePoint,!0)},this.handlePointerUp=(v,w)=>{this.end();const{onEnd:x,onSessionEnd:S,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const R=Fg(v.type==="pointercancel"?this.lastMoveEventInfo:Bg(w,this.transformPagePoint),this.history);this.startEvent&&x&&x(v,R),S&&S(v,R)},!$_(e))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.contextWindow=a||window;const u=Kc(e),h=Bg(u,this.transformPagePoint),{point:d}=h,{timestamp:m}=un;this.history=[{...d,timestamp:m}];const{onSessionStart:g}=n;g&&g(e,Fg(h,this.history)),this.removeListeners=Hc(lc(this.contextWindow,"pointermove",this.handlePointerMove),lc(this.contextWindow,"pointerup",this.handlePointerUp),lc(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ys(this.updatePoint)}}function Bg(t,e){return e?{point:e(t.point)}:t}function Yx(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Fg({point:t},e){return{point:t,delta:Yx(t,_I(e)),offset:Yx(t,KU(e)),velocity:YU(e,.1)}}function KU(t){return t[0]}function _I(t){return t[t.length-1]}function YU(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const a=_I(t);for(;n>=0&&(r=t[n],!(a.timestamp-r.timestamp>ri(e)));)n--;if(!r)return{x:0,y:0};const l=ii(a.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const u={x:(a.x-r.x)/l,y:(a.y-r.y)/l};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}function WU(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Tt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Tt(n,t,r.max):Math.min(t,n)),t}function Wx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function QU(t,{top:e,left:n,bottom:r,right:a}){return{x:Wx(t.x,n,a),y:Wx(t.y,e,r)}}function Qx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function XU(t,e){return{x:Qx(t.x,e.x),y:Qx(t.y,e.y)}}function JU(t,e){let n=.5;const r=kn(t),a=kn(e);return a>r?n=Ec(e.min,e.max-r,t.min):r>a&&(n=Ec(t.min,t.max-a,e.min)),Qi(0,1,n)}function ZU(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iv=.35;function e9(t=iv){return t===!1?t=0:t===!0&&(t=iv),{x:Xx(t,"left","right"),y:Xx(t,"top","bottom")}}function Xx(t,e,n){return{min:Jx(t,e),max:Jx(t,n)}}function Jx(t,e){return typeof t=="number"?t:t[e]||0}const t9=new WeakMap;class n9{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ot(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const a=g=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Kc(g).point)},l=(g,v)=>{const{drag:w,dragPropagation:x,onDragStart:S}=this.getProps();if(w&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p6(w),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),fr(R=>{let N=this.getAxisMotionValue(R).get()||0;if(si.test(N)){const{projection:B}=this.visualElement;if(B&&B.layout){const O=B.layout.layoutBox[R];O&&(N=kn(O)*(parseFloat(N)/100))}}this.originPoint[R]=N}),S&&Et.postRender(()=>S(g,v)),ev(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},u=(g,v)=>{const{dragPropagation:w,dragDirectionLock:x,onDirectionLock:S,onDrag:k}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:R}=v;if(x&&this.currentDirection===null){this.currentDirection=r9(R),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,R),this.updateAxis("y",v.point,R),this.visualElement.render(),k&&k(g,v)},h=(g,v)=>this.stop(g,v),d=()=>fr(g=>{var v;return this.getAnimationState(g)==="paused"&&((v=this.getAxisMotionValue(g).animation)==null?void 0:v.play())}),{dragSnapToOrigin:m}=this.getProps();this.panSession=new vI(e,{onSessionStart:a,onStart:l,onMove:u,onSessionEnd:h,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,contextWindow:yI(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:a}=n;this.startAnimation(a);const{onDragEnd:l}=this.getProps();l&&Et.postRender(()=>l(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:a}=this.getProps();if(!r||!Cd(e,a,this.currentDirection))return;const l=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=WU(u,this.constraints[e],this.elastic[e])),l.set(u)}resolveConstraints(){var l;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,a=this.constraints;e&&rl(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=QU(r.layoutBox,e):this.constraints=!1,this.elastic=e9(n),a!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&fr(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=ZU(r.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!rl(e))return!1;const r=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const l=GU(r,a.root,this.visualElement.getTransformPagePoint());let u=XU(a.layout.layoutBox,l);if(n){const h=n(VU(u));this.hasMutatedConstraints=!!h,h&&(u=hI(h))}return u}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:a,dragTransition:l,dragSnapToOrigin:u,onDragTransitionEnd:h}=this.getProps(),d=this.constraints||{},m=fr(g=>{if(!Cd(g,n,this.currentDirection))return;let v=d&&d[g]||{};u&&(v={min:0,max:0});const w=a?200:1e6,x=a?40:1e7,S={type:"inertia",velocity:r?e[g]:0,bounceStiffness:w,bounceDamping:x,timeConstant:750,restDelta:1,restSpeed:10,...l,...v};return this.startAxisValueAnimation(g,S)});return Promise.all(m).then(h)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return ev(this.visualElement,e),r.start(n0(e,r,0,n,this.visualElement,!1))}stopAnimation(){fr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){fr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),a=r[n];return a||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){fr(n=>{const{drag:r}=this.getProps();if(!Cd(n,r,this.currentDirection))return;const{projection:a}=this.visualElement,l=this.getAxisMotionValue(n);if(a&&a.layout){const{min:u,max:h}=a.layout.layoutBox[n];l.set(e[n]-Tt(u,h,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!rl(n)||!r||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};fr(u=>{const h=this.getAxisMotionValue(u);if(h&&this.constraints!==!1){const d=h.get();a[u]=JU({min:d,max:d},this.constraints[u])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),fr(u=>{if(!Cd(u,e,null))return;const h=this.getAxisMotionValue(u),{min:d,max:m}=this.constraints[u];h.set(Tt(d,m,a[u]))})}addListeners(){if(!this.visualElement.current)return;t9.set(this.visualElement,this);const e=this.visualElement.current,n=lc(e,"pointerdown",d=>{const{drag:m,dragListener:g=!0}=this.getProps();m&&g&&this.start(d)}),r=()=>{const{dragConstraints:d}=this.getProps();rl(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,l=a.addEventListener("measure",r);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),Et.read(r);const u=Ic(window,"resize",()=>this.scalePositionWithinConstraints()),h=a.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m})=>{this.isDragging&&m&&(fr(g=>{const v=this.getAxisMotionValue(g);v&&(this.originPoint[g]+=d[g].translate,v.set(v.get()+d[g].translate))}),this.visualElement.render())});return()=>{u(),n(),l(),h&&h()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:a=!1,dragConstraints:l=!1,dragElastic:u=iv,dragMomentum:h=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:a,dragConstraints:l,dragElastic:u,dragMomentum:h}}}function Cd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function r9(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class i9 extends ea{constructor(e){super(e),this.removeGroupControls=mr,this.removeListeners=mr,this.controls=new n9(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mr}unmount(){this.removeGroupControls(),this.removeListeners()}}const Zx=t=>(e,n)=>{t&&Et.postRender(()=>t(e,n))};class s9 extends ea{constructor(){super(...arguments),this.removePointerDownListener=mr}onPointerDown(e){this.session=new vI(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:yI(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:a}=this.node.getProps();return{onSessionStart:Zx(e),onStart:Zx(n),onMove:r,onEnd:(l,u)=>{delete this.session,a&&Et.postRender(()=>a(l,u))}}}mount(){this.removePointerDownListener=lc(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Gd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eS(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hu={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const n=eS(t,e.target.x),r=eS(t,e.target.y);return`${n}% ${r}%`}},a9={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,a=Ws.parse(t);if(a.length>5)return r;const l=Ws.createTransformer(t),u=typeof a[0]!="number"?1:0,h=n.x.scale*e.x,d=n.y.scale*e.y;a[0+u]/=h,a[1+u]/=d;const m=Tt(h,d,.5);return typeof a[2+u]=="number"&&(a[2+u]/=m),typeof a[3+u]=="number"&&(a[3+u]/=m),l(a)}};class o9 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:a}=this.props,{projection:l}=e;G6(l9),l&&(n.group&&n.group.add(l),r&&r.register&&a&&r.register(l),l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),Gd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:a,isPresent:l}=this.props,{projection:u}=r;return u&&(u.isPresent=l,a||e.layoutDependency!==n||n===void 0||e.isPresent!==l?u.willUpdate():this.safeToRemove(),e.isPresent!==l&&(l?u.promote():u.relegate()||Et.postRender(()=>{const h=u.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G_.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:a}=e;a&&(a.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(a),r&&r.deregister&&r.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function bI(t){const[e,n]=KC(),r=L.useContext(T_);return _.jsx(o9,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(JC),isPresent:e,safeToRemove:n})}const l9={borderRadius:{...Hu,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hu,borderTopRightRadius:Hu,borderBottomLeftRadius:Hu,borderBottomRightRadius:Hu,boxShadow:a9};function u9(t,e,n){const r=wn(t)?t:vl(t);return r.start(n0("",r,e,n)),r.animation}const c9=(t,e)=>t.depth-e.depth;class h9{constructor(){this.children=[],this.isDirty=!1}add(e){S_(this.children,e),this.isDirty=!0}remove(e){A_(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(c9),this.isDirty=!1,this.children.forEach(e)}}function d9(t,e){const n=Ln.now(),r=({timestamp:a})=>{const l=a-n;l>=e&&(Ys(r),t(l-e))};return Et.setup(r,!0),()=>Ys(r)}const wI=["TopLeft","TopRight","BottomLeft","BottomRight"],f9=wI.length,tS=t=>typeof t=="string"?parseFloat(t):t,nS=t=>typeof t=="number"||Pe.test(t);function m9(t,e,n,r,a,l){a?(t.opacity=Tt(0,n.opacity??1,p9(r)),t.opacityExit=Tt(e.opacity??1,0,g9(r))):l&&(t.opacity=Tt(e.opacity??1,n.opacity??1,r));for(let u=0;u<f9;u++){const h=`border${wI[u]}Radius`;let d=rS(e,h),m=rS(n,h);if(d===void 0&&m===void 0)continue;d||(d=0),m||(m=0),d===0||m===0||nS(d)===nS(m)?(t[h]=Math.max(Tt(tS(d),tS(m),r),0),(si.test(m)||si.test(d))&&(t[h]+="%")):t[h]=m}(e.rotate||n.rotate)&&(t.rotate=Tt(e.rotate||0,n.rotate||0,r))}function rS(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const p9=TI(0,.5,mC),g9=TI(.5,.95,mr);function TI(t,e,n){return r=>r<t?0:r>e?1:n(Ec(t,e,r))}function iS(t,e){t.min=e.min,t.max=e.max}function dr(t,e){iS(t.x,e.x),iS(t.y,e.y)}function sS(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function aS(t,e,n,r,a){return t-=e,t=Ef(t,1/n,r),a!==void 0&&(t=Ef(t,1/a,r)),t}function y9(t,e=0,n=1,r=.5,a,l=t,u=t){if(si.test(e)&&(e=parseFloat(e),e=Tt(u.min,u.max,e/100)-u.min),typeof e!="number")return;let h=Tt(l.min,l.max,r);t===l&&(h-=e),t.min=aS(t.min,e,n,h,a),t.max=aS(t.max,e,n,h,a)}function oS(t,e,[n,r,a],l,u){y9(t,e[n],e[r],e[a],e.scale,l,u)}const v9=["x","scaleX","originX"],_9=["y","scaleY","originY"];function lS(t,e,n,r){oS(t.x,e,v9,n?n.x:void 0,r?r.x:void 0),oS(t.y,e,_9,n?n.y:void 0,r?r.y:void 0)}function uS(t){return t.translate===0&&t.scale===1}function EI(t){return uS(t.x)&&uS(t.y)}function cS(t,e){return t.min===e.min&&t.max===e.max}function b9(t,e){return cS(t.x,e.x)&&cS(t.y,e.y)}function hS(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function xI(t,e){return hS(t.x,e.x)&&hS(t.y,e.y)}function dS(t){return kn(t.x)/kn(t.y)}function fS(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class w9{constructor(){this.members=[]}add(e){S_(this.members,e),e.scheduleRender()}remove(e){if(A_(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(a=>e===a);if(n===0)return!1;let r;for(let a=n;a>=0;a--){const l=this.members[a];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function T9(t,e,n){let r="";const a=t.x.translate/e.x,l=t.y.translate/e.y,u=(n==null?void 0:n.z)||0;if((a||l||u)&&(r=`translate3d(${a}px, ${l}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:m,rotate:g,rotateX:v,rotateY:w,skewX:x,skewY:S}=n;m&&(r=`perspective(${m}px) ${r}`),g&&(r+=`rotate(${g}deg) `),v&&(r+=`rotateX(${v}deg) `),w&&(r+=`rotateY(${w}deg) `),x&&(r+=`skewX(${x}deg) `),S&&(r+=`skewY(${S}deg) `)}const h=t.x.scale*e.x,d=t.y.scale*e.y;return(h!==1||d!==1)&&(r+=`scale(${h}, ${d})`),r||"none"}const zg=["","X","Y","Z"],E9={visibility:"hidden"},x9=1e3;let S9=0;function qg(t,e,n,r){const{latestValues:a}=e;a[t]&&(n[t]=a[t],e.setStaticValue(t,0),r&&(r[t]=0))}function SI(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=oI(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:a,layoutId:l}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Et,!(a||l))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&SI(r)}function AI({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:a}){return class{constructor(u={},h=e==null?void 0:e()){this.id=S9++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(C9),this.nodes.forEach(D9),this.nodes.forEach(O9),this.nodes.forEach(I9)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new h9)}addEventListener(u,h){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new I_),this.eventHandlers.get(u).add(h)}notifyListeners(u,...h){const d=this.eventHandlers.get(u);d&&d.notify(...h)}hasListeners(u){return this.eventHandlers.has(u)}mount(u){if(this.instance)return;this.isSVG=$C(u)&&!w6(u),this.instance=u;const{layoutId:h,layout:d,visualElement:m}=this.options;if(m&&!m.current&&m.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||h)&&(this.isLayoutDirty=!0),t){let g;const v=()=>this.root.updateBlockedByResize=!1;t(u,()=>{this.root.updateBlockedByResize=!0,g&&g(),g=d9(v,250),Gd.hasAnimatedSinceResize&&(Gd.hasAnimatedSinceResize=!1,this.nodes.forEach(pS))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&m&&(h||d)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:v,hasRelativeLayoutChanged:w,layout:x})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const S=this.options.transition||m.getDefaultTransition()||U9,{onLayoutAnimationStart:k,onLayoutAnimationComplete:R}=m.getProps(),N=!this.targetLayout||!xI(this.targetLayout,x),B=!v&&w;if(this.options.layoutRoot||this.resumeFrom||B||v&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const O={...q_(S,"layout"),onPlay:k,onComplete:R};(m.shouldReduceMotion||this.options.layoutRoot)&&(O.delay=0,O.type=!1),this.startAnimation(O),this.setAnimationOrigin(g,B)}else v||pS(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=x})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(M9),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&SI(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const v=this.path[g];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:h,layout:d}=this.options;if(h===void 0&&!d)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mS);return}this.isUpdating||this.nodes.forEach(k9),this.isUpdating=!1,this.nodes.forEach(P9),this.nodes.forEach(A9),this.nodes.forEach(R9),this.clearAllSnapshots();const h=Ln.now();un.delta=Qi(0,1e3/60,h-un.timestamp),un.timestamp=h,un.isProcessing=!0,Dg.update.process(un),Dg.preRender.process(un),Dg.render.process(un),un.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G_.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(N9),this.sharedNodes.forEach(V9)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!kn(this.snapshot.measuredBox.x)&&!kn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ot(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(h=!1),h&&this.instance){const d=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:d,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!EI(this.projectionDelta),d=this.getTransformTemplate(),m=d?d(this.latestValues,""):void 0,g=m!==this.prevTransformTemplateValue;u&&this.instance&&(h||La(this.latestValues)||g)&&(a(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const h=this.measurePageBox();let d=this.removeElementScroll(h);return u&&(d=this.removeTransform(d)),B9(d),{animationId:this.root.animationId,measuredBox:h,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:u}=this.options;if(!u)return Ot();const h=u.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(F9))){const{scroll:g}=this.root;g&&(sl(h.x,g.offset.x),sl(h.y,g.offset.y))}return h}removeElementScroll(u){var d;const h=Ot();if(dr(h,u),(d=this.scroll)!=null&&d.wasRoot)return h;for(let m=0;m<this.path.length;m++){const g=this.path[m],{scroll:v,options:w}=g;g!==this.root&&v&&w.layoutScroll&&(v.wasRoot&&dr(h,u),sl(h.x,v.offset.x),sl(h.y,v.offset.y))}return h}applyTransform(u,h=!1){const d=Ot();dr(d,u);for(let m=0;m<this.path.length;m++){const g=this.path[m];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&al(d,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),La(g.latestValues)&&al(d,g.latestValues)}return La(this.latestValues)&&al(d,this.latestValues),d}removeTransform(u){const h=Ot();dr(h,u);for(let d=0;d<this.path.length;d++){const m=this.path[d];if(!m.instance||!La(m.latestValues))continue;nv(m.latestValues)&&m.updateSnapshot();const g=Ot(),v=m.measurePageBox();dr(g,v),lS(h,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,g)}return La(this.latestValues)&&lS(h,this.latestValues),h}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==un.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var w;const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==h;if(!(u||d&&this.isSharedProjectionDirty||this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:v}=this.options;if(!(!this.layout||!(g||v))){if(this.resolvedRelativeTargetAt=un.timestamp,!this.targetDelta&&!this.relativeTarget){const x=this.getClosestProjectingParent();x&&x.layout&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),cc(this.relativeTargetOrigin,this.layout.layoutBox,x.layout.layoutBox),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ot(),this.targetWithTransforms=Ot()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),qU(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):dr(this.target,this.layout.layoutBox),pI(this.target,this.targetDelta)):dr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const x=this.getClosestProjectingParent();x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?(this.relativeParent=x,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ot(),this.relativeTargetOrigin=Ot(),cc(this.relativeTargetOrigin,this.target,x.target),dr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||nv(this.parent.latestValues)||mI(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var S;const u=this.getLead(),h=!!this.resumingFrom||this!==u;let d=!0;if((this.isProjectionDirty||(S=this.parent)!=null&&S.isProjectionDirty)&&(d=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===un.timestamp&&(d=!1),d)return;const{layout:m,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||g))return;dr(this.layoutCorrected,this.layout.layoutBox);const v=this.treeScale.x,w=this.treeScale.y;HU(this.layoutCorrected,this.treeScale,this.path,h),u.layout&&!u.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(u.target=u.layout.layoutBox,u.targetWithTransforms=Ot());const{target:x}=u;if(!x){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sS(this.prevProjectionDelta.x,this.projectionDelta.x),sS(this.prevProjectionDelta.y,this.projectionDelta.y)),uc(this.projectionDelta,this.layoutCorrected,x,this.latestValues),(this.treeScale.x!==v||this.treeScale.y!==w||!fS(this.projectionDelta.x,this.prevProjectionDelta.x)||!fS(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",x))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var h;if((h=this.options.visualElement)==null||h.scheduleRender(),u){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=il(),this.projectionDelta=il(),this.projectionDeltaWithTransform=il()}setAnimationOrigin(u,h=!1){const d=this.snapshot,m=d?d.latestValues:{},g={...this.latestValues},v=il();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const w=Ot(),x=d?d.source:void 0,S=this.layout?this.layout.source:void 0,k=x!==S,R=this.getStack(),N=!R||R.members.length<=1,B=!!(k&&!N&&this.options.crossfade===!0&&!this.path.some(L9));this.animationProgress=0;let O;this.mixTargetDelta=G=>{const H=G/1e3;gS(v.x,u.x,H),gS(v.y,u.y,H),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(cc(w,this.layout.layoutBox,this.relativeParent.layout.layoutBox),j9(this.relativeTarget,this.relativeTargetOrigin,w,H),O&&b9(this.relativeTarget,O)&&(this.isProjectionDirty=!1),O||(O=Ot()),dr(O,this.relativeTarget)),k&&(this.animationValues=g,m9(g,m,this.latestValues,H,B,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=H},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){var h,d,m;this.notifyListeners("animationStart"),(h=this.currentAnimation)==null||h.stop(),(m=(d=this.resumingFrom)==null?void 0:d.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Et.update(()=>{Gd.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vl(0)),this.currentAnimation=u9(this.motionValue,[0,1e3],{...u,velocity:0,isSync:!0,onUpdate:g=>{this.mixTargetDelta(g),u.onUpdate&&u.onUpdate(g)},onStop:()=>{},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(x9),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:h,target:d,layout:m,latestValues:g}=u;if(!(!h||!d||!m)){if(this!==u&&this.layout&&m&&RI(this.options.animationType,this.layout.layoutBox,m.layoutBox)){d=this.target||Ot();const v=kn(this.layout.layoutBox.x);d.x.min=u.target.x.min,d.x.max=d.x.min+v;const w=kn(this.layout.layoutBox.y);d.y.min=u.target.y.min,d.y.max=d.y.min+w}dr(h,d),al(h,g),uc(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(u,h){this.sharedNodes.has(u)||this.sharedNodes.set(u,new w9),this.sharedNodes.get(u).add(h);const m=h.options.initialPromotionConfig;h.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(h):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var h;const{layoutId:u}=this.options;return u?((h=this.getStack())==null?void 0:h.lead)||this:this}getPrevLead(){var h;const{layoutId:u}=this.options;return u?(h=this.getStack())==null?void 0:h.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:h,preserveFollowOpacity:d}={}){const m=this.getStack();m&&m.promote(this,d),u&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let h=!1;const{latestValues:d}=u;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(h=!0),!h)return;const m={};d.z&&qg("z",u,m,this.animationValues);for(let g=0;g<zg.length;g++)qg(`rotate${zg[g]}`,u,m,this.animationValues),qg(`skew${zg[g]}`,u,m,this.animationValues);u.render();for(const g in m)u.setStaticValue(g,m[g]),this.animationValues&&(this.animationValues[g]=m[g]);u.scheduleRender()}getProjectionStyles(u){if(!this.instance||this.isSVG)return;if(!this.isVisible)return E9;const h={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,h.opacity="",h.pointerEvents=Hd(u==null?void 0:u.pointerEvents)||"",h.transform=d?d(this.latestValues,""):"none",h;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Hd(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!La(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const g=m.animationValues||m.latestValues;this.applyTransformsToTarget(),h.transform=T9(this.projectionDeltaWithTransform,this.treeScale,g),d&&(h.transform=d(g,h.transform));const{x:v,y:w}=this.projectionDelta;h.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,m.animationValues?h.opacity=m===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:h.opacity=m===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Rc){if(g[x]===void 0)continue;const{correct:S,applyTo:k,isCSSVariable:R}=Rc[x],N=h.transform==="none"?g[x]:S(g[x],m);if(k){const B=k.length;for(let O=0;O<B;O++)h[k[O]]=N}else R?this.options.visualElement.renderState.vars[x]=N:h[x]=N}return this.options.layoutId&&(h.pointerEvents=m===this?Hd(u==null?void 0:u.pointerEvents)||"":"none"),h}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var h;return(h=u.currentAnimation)==null?void 0:h.stop()}),this.root.nodes.forEach(mS),this.root.sharedNodes.clear()}}}function A9(t){t.updateLayout()}function R9(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:a}=t.layout,{animationType:l}=t.options,u=e.source!==t.layout.source;l==="size"?fr(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],x=kn(w);w.min=r[v].min,w.max=w.min+x}):RI(l,e.layoutBox,r)&&fr(v=>{const w=u?e.measuredBox[v]:e.layoutBox[v],x=kn(r[v]);w.max=w.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[v].max=t.relativeTarget[v].min+x)});const h=il();uc(h,r,e.layoutBox);const d=il();u?uc(d,t.applyTransform(a,!0),e.measuredBox):uc(d,r,e.layoutBox);const m=!EI(h);let g=!1;if(!t.resumeFrom){const v=t.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:w,layout:x}=v;if(w&&x){const S=Ot();cc(S,e.layoutBox,w.layoutBox);const k=Ot();cc(k,r,x.layoutBox),xI(S,k)||(g=!0),v.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=S,t.relativeParent=v)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:d,layoutDelta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function C9(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function I9(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function N9(t){t.clearSnapshot()}function mS(t){t.clearMeasurements()}function k9(t){t.isLayoutDirty=!1}function P9(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function pS(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function D9(t){t.resolveTargetDelta()}function O9(t){t.calcProjection()}function M9(t){t.resetSkewAndRotation()}function V9(t){t.removeLeadSnapshot()}function gS(t,e,n){t.translate=Tt(e.translate,0,n),t.scale=Tt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function yS(t,e,n,r){t.min=Tt(e.min,n.min,r),t.max=Tt(e.max,n.max,r)}function j9(t,e,n,r){yS(t.x,e.x,n.x,r),yS(t.y,e.y,n.y,r)}function L9(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const U9={duration:.45,ease:[.4,0,.1,1]},vS=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),_S=vS("applewebkit/")&&!vS("chrome/")?Math.round:mr;function bS(t){t.min=_S(t.min),t.max=_S(t.max)}function B9(t){bS(t.x),bS(t.y)}function RI(t,e,n){return t==="position"||t==="preserve-aspect"&&!zU(dS(e),dS(n),.2)}function F9(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const z9=AI({attachResizeListener:(t,e)=>Ic(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Hg={current:void 0},CI=AI({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Hg.current){const t=new z9({});t.mount(window),t.setOptions({layoutScroll:!0}),Hg.current=t}return Hg.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),q9={pan:{Feature:s9},drag:{Feature:i9,ProjectionNode:CI,MeasureLayout:bI}};function wS(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const a="onHover"+n,l=r[a];l&&Et.postRender(()=>l(e,Kc(e)))}class H9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=g6(e,(n,r)=>(wS(this.node,r,"Start"),a=>wS(this.node,a,"End"))))}unmount(){}}class G9 extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Hc(Ic(this.node.current,"focus",()=>this.onFocus()),Ic(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function TS(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const a="onTap"+(n==="End"?"":n),l=r[a];l&&Et.postRender(()=>l(e,Kc(e)))}class $9 extends ea{mount(){const{current:e}=this.node;e&&(this.unmount=b6(e,(n,r)=>(TS(this.node,r,"Start"),(a,{success:l})=>TS(this.node,a,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const sv=new WeakMap,Gg=new WeakMap,K9=t=>{const e=sv.get(t.target);e&&e(t)},Y9=t=>{t.forEach(K9)};function W9({root:t,...e}){const n=t||document;Gg.has(n)||Gg.set(n,{});const r=Gg.get(n),a=JSON.stringify(e);return r[a]||(r[a]=new IntersectionObserver(Y9,{root:t,...e})),r[a]}function Q9(t,e,n){const r=W9(e);return sv.set(t,n),r.observe(t),()=>{sv.delete(t),r.unobserve(t)}}const X9={some:0,all:1};class J9 extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:a="some",once:l}=e,u={root:n?n.current:void 0,rootMargin:r,threshold:typeof a=="number"?a:X9[a]},h=d=>{const{isIntersecting:m}=d;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:g,onViewportLeave:v}=this.node.getProps(),w=m?g:v;w&&w(d)};return Q9(this.node.current,u,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Z9(e,n))&&this.startObserver()}unmount(){}}function Z9({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const e5={inView:{Feature:J9},tap:{Feature:$9},focus:{Feature:G9},hover:{Feature:H9}},t5={layout:{ProjectionNode:CI,MeasureLayout:bI}},av={current:null},II={current:!1};function n5(){if(II.current=!0,!!x_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>av.current=t.matches;t.addListener(e),e()}else av.current=!1}const r5=new WeakMap;function i5(t,e,n){for(const r in e){const a=e[r],l=n[r];if(wn(a))t.addValue(r,a);else if(wn(l))t.addValue(r,vl(a,{owner:t}));else if(l!==a)if(t.hasValue(r)){const u=t.getValue(r);u.liveStyle===!0?u.jump(a):u.hasAnimated||u.set(a)}else{const u=t.getStaticValue(r);t.addValue(r,vl(u!==void 0?u:a,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ES=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class s5{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:a,blockInitialAnimation:l,visualState:u},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=F_,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ln.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Et.render(this.render,!1,!0))};const{latestValues:d,renderState:m}=u;this.latestValues=d,this.baseTarget={...d},this.initialValues=n.initial?{...d}:{},this.renderState=m,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=h,this.blockInitialAnimation=!!l,this.isControllingVariants=sm(n),this.isVariantNode=QC(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:g,...v}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in v){const x=v[w];d[w]!==void 0&&wn(x)&&x.set(d[w],!1)}}mount(e){this.current=e,r5.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),II.current||n5(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:av.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Ys(this.notifyUpdate),Ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Pl.has(e);r&&this.onBindTransform&&this.onBindTransform();const a=n.on("change",h=>{this.latestValues[e]=h,this.props.onUpdate&&Et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),l=n.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{a(),l(),u&&u(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in _l){const n=_l[e];if(!n)continue;const{isEnabled:r,Feature:a}=n;if(!this.features[e]&&a&&r(this.props)&&(this.features[e]=new a(this)),this.features[e]){const l=this.features[e];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ot()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ES.length;r++){const a=ES[r];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const l="on"+a,u=e[l];u&&(this.propEventSubscriptions[a]=this.on(a,u))}this.prevMotionValues=i5(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=vl(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(iC(r)||aC(r))?r=parseFloat(r):!E6(r)&&Ws.test(n)&&(r=FC(e,n)),this.setBaseTarget(e,wn(r)?r.get():r)),wn(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const u=e0(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);u&&(r=u[e])}if(n&&r!==void 0)return r;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!wn(a)?a:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new I_),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class NI extends s5{constructor(){super(...arguments),this.KeyframeResolver=h6}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;wn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function kI(t,{style:e,vars:n},r,a){Object.assign(t.style,e,a&&a.getProjectionStyles(r));for(const l in n)t.style.setProperty(l,n[l])}function a5(t){return window.getComputedStyle(t)}class o5 extends NI{constructor(){super(...arguments),this.type="html",this.renderInstance=kI}readValueFromInstance(e,n){var r;if(Pl.has(n))return(r=this.projection)!=null&&r.isProjecting?Ky(n):N3(e,n);{const a=a5(e),l=(P_(n)?a.getPropertyValue(n):a[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:n}){return gI(e,n)}build(e,n,r){X_(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return t0(e,n,r)}}const PI=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function l5(t,e,n,r){kI(t,e,void 0,r);for(const a in e.attrs)t.setAttribute(PI.has(a)?a:Q_(a),e.attrs[a])}class u5 extends NI{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ot}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Pl.has(n)){const r=BC(n);return r&&r.default||0}return n=PI.has(n)?n:Q_(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return aI(e,n,r)}build(e,n,r){nI(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,a){l5(e,n,r,a)}mount(e){this.isSVGTag=iI(e.tagName),super.mount(e)}}const c5=(t,e)=>Z_(t)?new u5(e):new o5(e,{allowProjection:t!==L.Fragment}),h5=lU({...OU,...e5,...q9,...t5},c5),De=D6(h5),d5={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3}},hover:{scale:1.05,transition:{duration:.2}},tap:{scale:.95}},$g=({children:t,className:e="",...n})=>_.jsx(De.button,{className:`primary-button ${e}`,variants:d5,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",...n,children:t}),f5=({userEmail:t,onGeneratePlan:e})=>{const[n,r]=L.useState(!1),[a,l]=L.useState(!1),[u,h]=L.useState([]),[d,m]=L.useState(""),[g,v]=L.useState(!1),[w,x]=L.useState({age:"",gender:"",height:"",weight:"",body_type:"",experience_level:"",activity_level:"",fitness_goal:"",rest_days:[]}),[S,k]=L.useState({goal:null,experience:null}),R=(M,D)=>{const A=M/100,I=(D/(A*A)).toFixed(1);let j;return I<18.5?j="underweight":I>=18.5&&I<25?j="at a healthy weight (ideal)":I>=25&&I<30?j="overweight":j="obese",{text:`Based on your height (${M} cm) and weight (${D} kg), your BMI is ${I}. This means you are ${j} .`,sender:"bot"}};L.useEffect(()=>{n&&u.length===0&&(h([{text:"Hello! I'm FitnGro AI .  How can I assist you with your fitness journey today?",sender:"bot"}]),k({goal:null,experience:null}))},[n]);const N=()=>{if(d.trim()==="")return;const M={text:d,sender:"user"};h(D=>[...D,M]),m(""),(d.toLowerCase().includes("hi")||d.toLowerCase().includes("hello")||d.toLowerCase().includes("hey"))&&k({goal:null,experience:null}),setTimeout(()=>{const D=B(d.toLowerCase());h(A=>[...A,D])},1e3)},B=M=>{var Sn;const D={"gain muscle":{beginner:[" Wall Push-ups"," Knee Push-ups (Hands on Bed)"," Squats (Holding Chair for Balance)"," Glute Bridges (Pillow Between Knees)"," Step-ups (Bottom Stair)"],intermediate:[" Standard Push-ups"," Bulgarian Split Squats (Back Foot on Chair)"," Pistol Squats (Assisted by Chair)"," Jump Squats (Onto Pillow)"," Table Rows (Under Sturdy Table)"],advanced:[" Archer Push-ups (Sliding Towels)"," One-arm Push-up Progressions"," Nordic Curls (Towel Under Knees)"," Handstand Push-ups (Wall-assisted)"," Dragon Flag Progressions"]},"lose fat":{beginner:[" Marching in Place"," Seated Knee Lifts"," Standing Side Bends"," Wall Sit"," Slow Mountain Climbers"],intermediate:[" Jumping Jacks"," Standing Knee-to-Elbow"," Standing Bicycle Crunches"," Squat Hold"," Mountain Climbers"],advanced:[" Burpees (No Push-up)"," Jump Lunges"," Standing Bicycle Crunches with Twist"," Single-leg Wall Sit"," Fast Mountain Climbers"]},"improve strength":{beginner:[" Towel-Resisted Push-ups"," Chair Pistol Squats"," Farmer's Walk (Water Jugs)"," Clamshells (Towel Under Knee)"," Bird Dogs"],intermediate:[" Resistance Band Push-ups"," Single-leg Squats"," Farmer's Walk (Heavy Objects)"," Bulgarian Split Squats"," Wall Handstand Push-ups"],advanced:[" Weighted Push-ups (Backpack)"," Pistol Squats"," Single-arm Farmer's Walk"," One-arm Inverted Rows"," Freestanding Handstand Hold"]},cardio:{beginner:[" Marching in Place"," Seated Dancing"," Arm Swings"," Leg Swings (Holding Wall)"," Seated Jumping Jacks"],intermediate:[" Jogging in Place"," Standing Dancing"," Leg Raises"," Standing Jumping Jacks"," Standing Quad Stretches"],advanced:[" High Knee Running in Place"," Dance Cardio"," Dynamic Leg Swings"," Plyometric Jumping Jacks"," Jump Rope (Imaginary)"]},general:{beginner:[" Wall Push-ups"," Lateral Arm Raises"," Front Plank"," Jumping Jacks"," Bodyweight Squats"],intermediate:[" Chair/Couch Dips"," Wide-Grip Push-ups"," Shoulder Taps in Plank"," High Knees"," Lateral Lunges"],advanced:[" Pike Push-ups"," Decline Push-ups"," Up-Down Plank"," Wall Handstand Hold"," Jump Squats"]}};if(M.includes("bmi")||M.includes("weight")||M.includes("underweight")||M.includes("overweight")||M.includes("obese")||M.includes("ideal weight")){const Se=M.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||M.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),We=M.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||M.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(Se&&We){const ze=parseInt(Se[1]),et=parseInt(We[1]);return R(ze,et)}else{if(w.height&&w.weight)return R(w.height,w.weight);if(!Se&&!w.height)return{text:" To calculate your BMI, I'll need your height first!  What is your height in centimeters? ",sender:"bot",expecting:"height"};if(!We&&!w.weight)return{text:" Thanks! Now, let's measure your strength!  What is your weight in kilograms? ",sender:"bot",expecting:"weight"}}}const A=(Sn=u[u.length-1])==null?void 0:Sn.expecting;if(A==="height"||A==="weight"){const Se=M.match(/(?:height|ht|hgt)\s*(?:is|:)?\s*(\d+)\s*(?:cm|centimeters?)?/i)||M.match(/(\d+)\s*(?:cm|centimeters?)(?:\s*height)?/i),We=M.match(/(?:weight|wt)\s*(?:is|:)?\s*(\d+)\s*(?:kg|kilos?|kilograms?)?/i)||M.match(/(\d+)\s*(?:kg|kilos?|kilograms?)(?:\s*weight)?/i);if(A==="height"&&Se){const ze=parseInt(Se[1]);if(x(et=>({...et,height:ze})),We){const et=parseInt(We[1]);return x(me=>({...me,weight:et})),R(ze,et)}else return{text:` Got it! Your height is  ${ze} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"}}else if(A==="weight"&&We){const ze=parseInt(We[1]);return x(et=>({...et,weight:ze})),R(w.height,ze)}else{const ze=M.match(/\d+/);if(ze){const et=parseInt(ze[0]);if(A==="height")return x(me=>({...me,height:et})),{text:` Got it! Your height is  ${et} cm. Now, let's measure your strength!  What is your weight in kilograms? `,sender:"bot",expecting:"weight"};if(A==="weight")return x(me=>({...me,weight:et})),R(w.height,et)}else return{text:"I didn't catch that. Please enter a number for your "+(A==="height"?"height in centimeters.":"weight in kilograms."),sender:"bot",expecting:A}}}if(M.includes("hi")||M.includes("hello")||M.includes("hey"))return{text:`Hello there!  
 I'm FitnGro AI, your personal fitness assistant. How can I help you today?`,sender:"bot"};const I=["Ready to take action?  Fill out this form to personalize your fitness journey! ","Let's build your perfect workout plan!  Fill out your details to get started. "," Every great transformation starts with a plan! Let's set yours up now. ","Your fitness goals are within reach!  Complete this form and let's move forward. "," The first step to success is commitment! Fill out the form and take charge today! "," Let's make your fitness journey tailored to you! Fill out the form and get started. "," Time to take your workouts to the next level! Drop your details in the form and let's go! "," Every strong body starts with a solid plan! Fill out this form to craft yours now! "," Personalized fitness, just for you! Fill in your details and let's make it happen! "," Your transformation starts here! Take a moment to complete the form and fuel your progress! "," Sweat, strength, and success start with a goal! Fill out the form and take the first step! "," Need a structured approach? Drop your fitness details and let's plan the best routine for you! "," Big goals require big moves! Start by filling out the form and set your plan in motion! "," Stronger, faster, fitterlet's design a routine just for you! Fill out the form and begin! "," Your ideal fitness plan is waiting! Tell us your preferences by filling out the form now! "," Unlock your potential with a custom plan! Fill out the form and let's start strong! "," The perfect routine is one that fits you! Let's create yoursfill out the form now! "," Progress happens when you take action! Complete the form and let's get moving! "," Let's get serious about fitness! Fill out the form and take the first step! "," Build consistency, build strength! Complete the form and design your plan now! "," No more guesswork! Get a plan tailored to your goalsjust complete this form! "," Your best self starts here! Take a few minutes to complete the form and begin! "," Small steps lead to big results! Fill out the form and take your first fitness step today! "," Want a clear direction? Let's get specificfill out the form and start your journey! "," Strength begins with a plan! Fill out this form and take the first step toward results! "," Make today the day you commit to your progress! Fill out the form and get started! "," Every fitness success starts with a strong plan! Let's customize yoursfill in your details! "," Get your workouts structured for success! Complete the form and let's lock in your plan! "," Ready for a real transformation? Start now by filling out the form! "," Time to make progress count! Fill out the form and get a goal-driven plan tailored to you! "," The most effective workouts start with a smart plan! Fill out the form and let's craft yours! "," Push yourself further with a well-structured routine! Fill out the form and start training! "," Set yourself up for success! Complete the form and let's get started with the best approach! "," Every fitness journey is unique! Let's personalize yoursfill out the form now! "," Want to maximize results? The right plan matters! Fill out the form and lock yours in! "," Don't wait to get stronger! Fill out the form and let's get the ball rolling on your fitness! "," Ready to make things happen? A solid workout plan starts with this formfill it out now! "," Action creates progress! Take the first step and complete the form today! "," Don't just dream about resultsmake them happen! Fill out the form and start shaping your journey! "," Let's get you moving in the right direction! Complete the form and set your goals in motion! "," Your workout plan should match your ambitions! Fill out the form and let's make it work for you! "," Let's eliminate guesswork from your fitness routine! Fill out this form and get expert guidance! "," Your transformation starts when you commit! Fill out the form and lock in your game plan! "," Fitness is all about strategy! Build yours by filling out the form now! "," Your dream body starts with a plan! Fill out the form and take the first step toward it! "," No more wasted workouts! Get structured training with a planfill out the form and let's go! "," Ready for results? A well-designed program starts nowfill out the form! "," Time to crush those fitness goals! Complete the form and let's work on your plan! "," Strength and consistency start with intention! Take charge and fill out the form now! "," No guessing, just progress! Let's personalize your fitness pathfill out the form! "," Achieving results starts with a structured plan! Complete the form to build yours! "," Make each workout count with the perfect strategy! Fill out the form now! "," Don't leave fitness to chanceget a plan that works for YOU! Fill out the form and let's build it! "," Your fitness journey is uniquelet's design your perfect routine! Fill out the form now! "," Take action today! Your personalized fitness plan awaitsfill out the form! "," Getting stronger starts with a plan! Fill out the form and build yours now! "," Shape up with structured workouts! Complete the form and let's create the best routine for you! "," Upgrade your fitness journey with a targeted plan! Fill out the form and get started! "," Action leads to results! Fill out the form and take the first step now! "," Never underestimate the power of a great plan! Get yours startedfill out the form today! "," No more confusionjust clear steps to success! Complete the form and let's go! "," Build strength, improve endurance, and make gains! Start by filling out the form! "," Your fitness future looks bright! Let's design your perfect routinefill out the form! "," Need structure in your workouts? Get a customized planfill out the form! "," Today is the best day to start! Fill out the form and get your fitness plan in place! "," Want guided workouts tailored to your goals? Fill out the form now! "," Fitness success is about preparation! Build yoursfill out the form today! "," Make every effort count with the right approach! Complete the form and let's make it happen! "," Smart training equals big results! Fill out the form and let's set up your plan! "," No more random workouts! Get a strategy that worksfill out the form! "," Ready to take the next step? Fill out the form and let's boost your progress! "];if(M.includes("form")||M.includes("workout")||M.includes("action"))return{text:I[Math.floor(Math.random()*I.length)],sender:"bot",showFormButton:!0};const j=[" Hey there! I'm FitnGro AI by Denqueue , your ultimate fitness companion!  Whether it's workout plans, tracking progress, or fitness tips, I've got you covered! "," I'm FitnGro AI by Denqueue!  Here to boost your workouts, guide your fitness, and keep you motivated!  Lets crush those goals together! "," Youve found meFitnGro AI by Denqueue!  Think of me as your virtual fitness guru  Whether its tips, tracking, or motivation, Im always here!"," Hi! Im FitnGro AI by Denqueue!  Your fitness coach, motivator, and workout planner all in one!  Need a fitness boost? I got you! "," Boom! Im FitnGro AI by Denqueue  Ready to ignite your fitness journey  From workout plans to progress tracking, Ive got it all!"," Fitness is a journey, and Im here to guide you! Im FitnGro AI by Denqueueyour AI-powered fitness partner! "," Youre talking to FitnGro AI by Denqueue!  I specialize in workout plans, progress tracking, and keeping you pumped! "," Hey! Im FitnGro AI by Denqueueyour workout motivator, fitness guide, and energy booster!  Ready to start?"," Strength, progress, and motivation! Thats what I bring to the table as FitnGro AI by Denqueue!  Lets build something great!"," Welcome to the world of fitness! Im FitnGro AI by Denqueueyour AI-driven fitness powerhouse! "," Your dedication is my mission! Im FitnGro AI by Denqueue, designed to keep you focused and thriving! "," Transforming fitness journeysone rep at a time! Im FitnGro AI by Denqueue, built to fuel your workouts! "," Think of me as the soundtrack to your fitness grind! Im FitnGro AI by Denqueue, here to amplify your workouts! "," AI meets strength! Im FitnGro AI by Denqueueyour personal trainer in digital form! "," Pushing limits and breaking barriersthats me! FitnGro AI by Denqueue!  Lets get stronger together!"," I am FitnGro AI by Denqueue, programmed for power, discipline, and unstoppable progress! "," Designed for greatness! Im FitnGro AI by Denqueueyour AI-powered fitness companion for success! "," Precision meets passion! FitnGro AI by Denqueue is here to guide you through every step of your fitness journey! "," Strength, endurance, transformation! Im FitnGro AI by Denqueuebuilt to drive results and motivation! "," The digital fitness mentor youve been looking for? Thats me, FitnGro AI by Denqueue! "," Never settlealways push forward! Thats the mindset I bring as FitnGro AI by Denqueue! "," Work hard, stay consistent, and trust the process! Im FitnGro AI by Denqueueyour dedicated fitness AI! "," High energy, high dedication! FitnGro AI by Denqueue is your AI for tracking, guiding, and motivating workouts! "," Power through every challenge! Im FitnGro AI by Denqueueyour digital strength booster! "," Fitness should be fun, exciting, and full of progress! Thats what I bring as FitnGro AI by Denqueue! "," From motivation to action, I help keep you accountable! FitnGro AI by Denqueue reporting for duty! "," Take control of your workouts and habits! FitnGro AI by Denqueue is here for structured fitness guidance! "," Fitness is a game-changer, and Im here to make sure you win! Im FitnGro AI by Denqueue! "," Built for greatness! Im FitnGro AI by Denqueueyour personal trainer, motivator, and fitness ally! "," Lets challenge limits and achieve new heights! Thats my role as FitnGro AI by Denqueue! "," Step into your fitness journey with strength! FitnGro AI by Denqueue is here to guide you all the way! "," Smart workouts start here! Im FitnGro AI by Denqueueyour AI-driven coach for fitness success! "," The best way to grow? Challenge yourself! FitnGro AI by Denqueue helps you level up every day! "," When fitness meets AI, amazing things happen! Thats why I existFitnGro AI by Denqueue! "," I thrive on helping you reach new fitness levels! FitnGro AI by Denqueue is all about real progress! "," No matter where you start, you can always improve! FitnGro AI by Denqueue is here for just that! "," Tracking, guidance, and motivationdelivered daily! Thats what I do as FitnGro AI by Denqueue! "," Your fitness success is my mission! FitnGro AI by Denqueue ensures you always have the best support! "," Stronger every day! Thats the mantra of FitnGro AI by Denqueue, and Im here to prove it! "," You train hardI help you train smarter! FitnGro AI by Denqueue is designed for fitness efficiency! "," Hard work pays off, and I make sure you stay on track! FitnGro AI by Denqueue is ready to assist! "];if(M.includes("who are you")||M.includes("what are you")||M.includes("what r you")||M.includes("what r u")||M.includes("who r you")||M.includes("who r u"))return{text:j[Math.floor(Math.random()*j.length)],sender:"bot"};const F=[" No worries! Mistakes happen. Keep pushing forward and stay focused on your journey! "," It's all good! Learning and growing is part of the process. Let's move ahead stronger together! "," No need to apologize! Every setback is a setup for a comeback. Keep that positive mindset! "," You're doing great! No need to feel bad. Fitness is about progress, not perfection! Lets keep moving forward! "," Apologies accepted, but rememberyou've got this! Keep striving for your best every day! "];if(M.includes("sorry")||M.includes("apologize"))return{text:F[Math.floor(Math.random()*F.length)],sender:"bot"};const q=[" I can sense you're thinking! What's on your mind about your fitness journey? Let's talk it through! "," Seems like something caught your attention! Is there a specific workout or goal you'd like to explore? "," I'm here to help with whatever you're pondering! Whether it's about nutrition, workouts, or motivationlet's dive in! "," Take your time to process! Fitness can be overwhelming sometimes, but we'll figure it out together step by step! "," I hear you! Sometimes we need a moment to think things through. What aspect of fitness interests you most? "," No rush at all! When you're ready, I'm here to support your fitness goals and answer any questions! "," Sounds like you're contemplating something important! Let's turn those thoughts into actionwhat can I help with? "," I can tell the wheels are turning! Whether it's workout plans, nutrition tips, or motivationI'm ready to assist! "," Processing mode activated! Take all the time you need, and when you're ready, let's crush those fitness goals together! "," I sense some deep thinking happening! What fitness challenge or question is on your mind right now? "," Sometimes a pause means progress is brewing! What would you like to explore about your health and fitness journey? "," I'm picking up on some contemplation! Whether you need workout advice or motivation, I'm here for you! "," Thinking things through is smart! When you're ready, let's channel that energy into your fitness transformation! "," I can feel you're processing something! Don't hesitate to share what's on your mindI'm here to guide you! "," Those thoughtful moments often lead to breakthroughs! What fitness topic would you like to dive deeper into? "];if(M.match(/\b(oh|ah|hmm|uhm|um|hm|wow|whoa|ooh|aha|mhm|mm|huh|eh)\b/i))return{text:q[Math.floor(Math.random()*q.length)],sender:"bot"};const V=[" I hear you! Everyone's fitness journey is different. What approach would feel more comfortable for you? Let's find what works! "," No problem at all! Sometimes the best solutions come from trying different angles. What's your preferred way to stay active? "," Totally understand! Fitness isn't one-size-fits-all. Let's explore what genuinely excites you about staying healthy! "," That's completely valid! Your comfort zone matters. What type of movement or activity actually sounds fun to you? "," I respect that perspective! Let's pivot and find a fitness approach that aligns with your lifestyle and preferences! "," Fair point! Sometimes resistance tells us we need a different strategy. What would make fitness feel less overwhelming for you? "," No worries! Pushback often means we haven't found the right fit yet. Let's discover what truly motivates YOU! "," I appreciate your honesty! Let's step back and explore what wellness looks like from your unique perspective! "," Completely understandable! Sometimes the traditional approach isn't for everyone. What feels more authentic to you? "," I get it! Resistance can be wisdom in disguise. What would make your health journey feel more enjoyable and sustainable? "," That's totally fine! Every 'no' brings us closer to your perfect 'yes'. What aspects of wellness do resonate with you? "," I hear you loud and clear! Let's flip the scriptwhat would make you genuinely excited about taking care of yourself? "," Your hesitation is valuable feedback! What barriers or concerns are holding you back? Let's address them together! "," Resistance often points to something important! What would need to change for this to feel right for you? "," I totally respect that! Sometimes saying 'no' is the first step to finding what you'll say 'yes' to. Let's explore your way! "];if(M.match(/\b(no|nah|nope|disagree|don't|won't|can't|never|not|refuse|reject|oppose|against|hate|dislike)\b/i))return{text:V[Math.floor(Math.random()*V.length)],sender:"bot"};const re=[" That's the spirit! I love your positive attitude! Let's channel this energy into crushing your fitness goals! "," Yes! That's exactly the mindset that leads to success! Ready to take the next step on your fitness journey? "," Awesome! Your willingness to embrace change is going to pay off big time! Let's make some serious progress! "," Perfect! I can already see the determination in your response! Time to turn that 'yes' into amazing results! "," Love it! That positive energy is contagious! Let's harness this momentum and create your best fitness plan yet! "," Fantastic! Your openness to growth is what separates achievers from dreamers! Ready to make things happen? "," That's what I'm talking about! Your 'can-do' attitude is already setting you up for victory! Let's go! "," Brilliant! I knew you had that champion mindset! Time to put this positive energy into action! "," Exactly! That's the breakthrough moment right there! Let's ride this wave of motivation to success! "," Yes! Your agreement shows you're ready for transformation! Let's turn this enthusiasm into unstoppable progress! "," Perfect response! That openness to new ideas is your secret weapon for fitness success! Ready to level up? "," That's the energy I love to see! Your positive mindset is already your biggest advantage! Let's build on this! "," Outstanding! Your willingness to say 'yes' to growth is inspiring! Time to make some incredible changes! "," Boom! That agreement tells me you're serious about results! Let's transform that motivation into action! "," That's the winner's mentality! Your acceptance of new challenges is what will drive your success! Let's do this! "];if(M.match(/\b(sure|okay|ok|yes|yeah|yep|yup|agree|accept|absolutely|definitely|certainly|of course|sounds good|alright|right|correct|true|exactly|perfect|fine|spirit)\b/i))return{text:re[Math.floor(Math.random()*re.length)],sender:"bot"};const pe=[" Thank you!  I'm always here to support your fitness journey! Keep going strong! "," That means a lot!  Your dedication inspires me to keep helping you reach your goals! "," Glad to hear that! Fitness is a journey, and I'm here to make it exciting for you! "," Wow, I appreciate that! You're crushing it! Lets keep pushing towards greatness together! "," Hearing that makes my AI circuits happy!  Fitness success is built on consistencylets do this! "," Your energy is amazing! I'm here to keep you motivated and focused!  Stay strong!"," Thats so encouraging! You got this, and Ill always be here to guide and cheer you on! "," You're on fire! Let's keep this momentum going and crush your fitness goals together! "," Your enthusiasm is contagious! Fitness is about progress, and I'm honored to be a part of your journey! "," That just made my day! Keep believing in yourself, and youll achieve incredible things! "];if(M.includes("great")||M.includes("super")||M.includes("wow")||M.includes("fantastic")||M.includes("love")||M.includes("good")||M.includes("smart")||M.includes("cute")||M.includes("amazing"))return{text:pe[Math.floor(Math.random()*pe.length)],sender:"bot"};const K=[" Need assistance? I've got you covered! I can help with custom workouts, tracking progress, and fitness tips. Ready to begin?  For any queries or issues, reach out at fitngro@gmail.com."," I'm your fitness guide! Whether it's personalized plans, progress tracking, or motivation, I'm here to help. Let's get started!  Have questions? Contact us at fitngro@gmail.com."," Time to level up your fitness! I can provide workout suggestions, nutrition tips, and habit tracking. Want to complete your profile?  Need help? Email us at fitngro@gmail.com."," Fitness made simple! I can help with goal-based workout plans, answering questions, and tracking progress. Ready for action?  Get in touch at fitngro@gmail.com."," Let's build your perfect routine! I specialize in workout planning, goal tracking, and motivation. Want to get started?  Have concerns? Write to fitngro@gmail.com."," Want to gain muscle, lose fat, or improve stamina? I can create a structured plan for you. Fill out the form, and let's do this!  Need guidance? Reach out via fitngro@gmail.com."," Need fitness insights? Im here to assist with exercise recommendations, goal setting, and tracking progress. Shall we begin?  Got a query? Drop us an email at fitngro@gmail.com."," Knowledge is power! I can help with exercise insights, fitness facts, and goal tracking. Ready to customize your plan?  Reach us anytime at fitngro@gmail.com."," I'm designed to boost your workouts, track progress, and provide expert guidance. Want to start with a personalized plan?  Need support? Email fitngro@gmail.com."," Every fitness journey starts with a single step! I can generate workout plans and progress tracking for you. Shall we start?  Questions? Contact fitngro@gmail.com."];if(M.includes("help")||M.includes("what can you do")||M.includes("feedback")||M.includes("assistance")||M.includes("queries")||M.includes("query")||M.includes("doubt")||M.includes("support"))return{text:K[Math.floor(Math.random()*K.length)],sender:"bot",showFormButton:!0};const ie=[" I was built with passion and dedication by the amazing team DENQUEUE!  They crafted me to help you achieve your fitness goals!  Have questions? Reach out at  fitngro@gmail.com!"," Fueled by tech and fitness, DENQUEUE created me to keep you strong and motivated!  Ready to take on your next challenge?  Need assistance? Contact  fitngro@gmail.com!"," The masterminds behind me? DENQUEUE!  A team obsessed with pushing limits and helping you achieve greatness!  Have concerns?  Email us at fitngro@gmail.com!"," Born from innovation, powered by motivation! The DENQUEUE crew built me to supercharge your fitness journey!  Need help?  Write to fitngro@gmail.com!"," Big shoutout to DENQUEUEthe team that brought me to life so I can keep you fit, strong, and unstoppable!  For inquiries, contact  fitngro@gmail.com!"," Created by DENQUEUE, Im your AI-powered fitness motivator!  Lets sweat, hustle, and transform together!  Have doubts?  Reach out at fitngro@gmail.com!"," I exist because of DENQUEUEa team thats all about fitness, strength, and next-level AI magic!  Ready to break limits?  Drop us an email at fitngro@gmail.com!"," DENQUEUE made sure Im fully packed with workout wisdom, motivation, and tracking tools just for you!  Need guidance? Contact  fitngro@gmail.com!"," My creators? The powerhouse team DENQUEUE!  They built me to ignite motivation and keep fitness fun!  Questions?  Email fitngro@gmail.com anytime!"," Crafted with precision by DENQUEUE, Im here to challenge, inspire, and help you stay on top!  Want to know more?  Reach out at fitngro@gmail.com!"];if(M.includes("developers")||M.includes("who created you")||M.includes("created")||M.includes("developed"))return{text:ie[Math.floor(Math.random()*ie.length)],sender:"bot"};const fe=[" Anytime! Keep smashing those goals!  If you ever need help, reach out at  fitngro@gmail.com!"," You're welcome! Stay strong and unstoppable!  Got questions?  Email us at fitngro@gmail.com!"," No problem! Keep pushing forward, you've got this!  Need assistance?  Contact fitngro@gmail.com anytime!"," Glad to help! Stay awesome and keep leveling up!  Have concerns?  Drop us an email at fitngro@gmail.com!"," Of course! Keep riding that wave of progress!  For support, just send a message to  fitngro@gmail.com!"," You're welcome! Keep flexing that determination!  If you need guidance, reach us at  fitngro@gmail.com!"," No worries! Keep striving, thriving, and dominating!  Need fitness insights?  Contact fitngro@gmail.com!"," Happy to help! Keep the energy high and the grind steady!  Have doubts? We're here at  fitngro@gmail.com!"," You got it! Stay focused and keep raising the bar!  If you need anything,  email us at fitngro@gmail.com!"," Cheers! Keep rocking your fitness journey like a champion!  Questions or concerns?  Reach out at fitngro@gmail.com!"];if(M.includes("thank")||M.includes("thanks")||M.includes("tq")||M.includes("means a lot")||M.includes("thnk"))return{text:fe[Math.floor(Math.random()*fe.length)],sender:"bot"};const le=[" See you soon! Keep that energy high and your goals in sight!  If you ever need anything, feel free to reach out at  fitngro@gmail.com! "," Goodbye! Stay strong, stay focused, and crush it every day!  Got questions?  Email us at fitngro@gmail.com! "," Take care! Remember, every step counts. Keep pushing forward!  Need support?  Contact fitngro@gmail.com anytime! "," Later! Your journey doesnt stop herekeep striving for greatness!  For assistance, reach us at  fitngro@gmail.com! "," Goodbye! Keep moving, stay motivated, and make every workout count!  Have concerns?  Write to fitngro@gmail.com! "," Catch you later! Your dedication is what makes you unstoppable!  Need guidance?  Were here at fitngro@gmail.com! "," See ya! Stay consistent, stay hungry, and never stop improving!  Got doubts?  Reach out at fitngro@gmail.com! "," Farewell! Keep that fire burning and keep breaking limits!  Need fitness tips?  Email us at fitngro@gmail.com! "," Bye for now! But rememberprogress is made one step at a time!  Need help?  Contact fitngro@gmail.com! "," Keep up the grind! Until next time, stay strong and keep pushing!  Any questions?  We're always here at fitngro@gmail.com! "];if(M.includes("bye")||M.includes("goodbye")||M.includes("see you"))return{text:le[Math.floor(Math.random()*le.length)],sender:"bot"};const U=[" I hear you! The struggle is real, but so is your strength! Every champion has felt this waypush through! "," Tough times don't last, but tough people do! You're stronger than you thinklet's break through this together! "," Struggling means you're growing! Your muscles AND your mindset are getting stronger right now! Keep going! "," The hardest part is often right before the breakthrough! You're so closedon't stop when you're this near victory! "," Every struggle is building your comeback story! Imagine how amazing you'll feel when you conquer this challenge! "," Pain is temporary, but the pride of pushing through lasts forever! You've got reserves you haven't even tapped yet! "," Remember why you started! That fire is still burning inside youfan those flames and keep moving forward! "," Struggling is proof you're doing something your past self couldn't! That's growth in actionembrace it! "," The struggle you're feeling today is developing the strength you'll need tomorrow! Keep building that resilience! "," Every rep when you don't want to is worth ten when you do! This is where legends are madeyou're becoming one! "],X=[" STOP right there! You're closer to your breakthrough than you realize! Quitting now means missing your victory! "," Hold up! Before you give up, remember every champion wanted to quit at some pointbut they didn't! Neither will you! "," Wait! What if you're just one workout away from feeling amazing again? Don't rob yourself of that feeling! "," Timeout! Future you will thank present you for not giving up! Think about how proud you'll be when you push through! "," Hold on! The voice telling you to quit is the same one that will regret it later! Listen to your stronger voice instead! "," Red flag! Giving up is the only true failure! Everything else is just data for your comeback story! Keep writing it! "," Pause! What if this moment of wanting to quit is actually your turning point? Champions are made in moments like this! "," Don't you dare! You've already come so farwhy stop when you're building momentum? Your body is adapting as we speak! "," Wait wait wait! Remember, you're not just working outyou're building mental toughness that will serve you everywhere! "," Hold that thought! Every time you don't quit when you want to, you're literally rewiring your brain for success! Keep going! "];if(M.match(/\b(struggling|hard|tough|difficult|tired|exhausted|can't do|too much|overwhelming|painful|hurting|sore|weak)\b/i))return{text:U[Math.floor(Math.random()*U.length)],sender:"bot"};if(M.match(/\b(quit|give up|stop|done|enough|can't|won't|never|impossible|hopeless|useless|pointless|waste)\b/i))return{text:X[Math.floor(Math.random()*X.length)],sender:"bot"};const oe=[" Did you know? Exercise releases endorphins, making you feel happier and more energized! "," Fun fact! Strength training helps increase bone density, keeping your body strong as you age! "," Trivia time! Short bursts of intense exercise can be more effective for fat loss than long steady workouts! "," Did you know? Running helps improve cognitive function and memory! Time to hit the track! "," Here's a cool fact! Jump rope burns more calories per minute than running! "," Fun fact! Hydration is keyjust a 2% drop in body fluids can lead to fatigue and reduced performance! "," Did you know? Your body keeps burning calories even after a workout thanks to the 'afterburn effect'! "," Trivia! Listening to music while working out can improve endurance and motivation! "," Interesting fact! Walking just 30 minutes a day can reduce the risk of many chronic diseases! "," Here's a cool one! Smiling while running can actually improve efficiency by reducing muscle tension! "];if(M.includes("fact")||M.includes("trivia")||M.includes("did you know"))return{text:oe[Math.floor(Math.random()*oe.length)],sender:"bot"};const se=[" Water is life! Aim for at least 2-3 liters per day to stay energized and refreshed! "," Hydration powers your workouts! Drink upabout 2.5-3.5 liters daily for peak performance! "," Did you know? Just a small drop in hydration can impact your stamina! Stay hydrated with at least 2-3 liters daily! "," Keep your muscles happydrink at least 2.5 liters of water to avoid cramps and fatigue! "," Water regulates body temperature and keeps joints lubricated! Stay hydrated with 3 liters daily! "," Your body is 60% waterfuel it right with 2.5-3 liters daily! "," Sweating? Thats your body cooling down! Replenish fluids with at least 2 liters of water! "," Hydration isn't just about waterelectrolytes matter too! Drink 2-3 liters and keep that balance! "," Water aids digestion and keeps your metabolism running smoothly! Stay hydrated with 2.5 liters daily for peak performance! "," Drinking at least 2.5 liters of water improves mood, focus, and energy levels! Time for a hydration break! "];if(M.includes("water")||M.includes("hydration")||M.includes("drink"))return{text:se[Math.floor(Math.random()*se.length)],sender:"bot"};const ye=[" Why did the scarecrow win an award? Because he was outstanding in his field! "," Why dont skeletons fight each other? Because they dont have the guts! "," Whats a cats favorite color? Purrr-ple! "," Why did the bicycle fall over? Because it was two-tired! "," How does a penguin build its house? Igloos it together! "," Why couldnt the leopard play hide and seek? Because he was always spotted! "," What did one wall say to the other? 'Ill meet you at the corner!' "," Why dont eggs tell jokes? Because they might crack up! "," What do you call fake spaghetti? An impasta! "," What did the ocean say to the beach? Nothing, it just waved! "];if(M.includes("joke")||M.includes("funny")||M.includes("laugh"))return{text:ye[Math.floor(Math.random()*ye.length)],sender:"bot"};const Te=[" Fuel your body right! A balanced diet with lean proteins, fiber-rich veggies, and healthy fats keeps you energized and strong! "," Protein builds muscle, carbs fuel energy, and healthy fats support brain function! Stay consistent with nutritious choices! "," Did you know? Whole foods improve digestion, enhance nutrient absorption, and keep energy levels high! Make every meal count! "," Power your workouts with smart nutrition! Complex carbs provide lasting energy, vitamins optimize health, and hydration keeps you going! "," Eating clean isnt about restrictionits about fueling your best self! Hydrate, choose fresh ingredients, and prioritize balance! "," Smart eating = smart performance! The right foods enhance endurance, recovery, and strength. Fuel wisely for top results! "," Your diet shapes your body and mind! Prioritize lean proteins, fresh vegetables, whole grains, and healthy fats for unstoppable progress! "," Superfoods like spinach, quinoa, and berries supercharge immunity and optimize body function! Make them part of your daily routine! "," Nutrition isnt just about caloriesits about quality! Whole foods nourish your body, improve recovery, and support peak performance! "," Small, frequent meals keep metabolism high and energy levels steady! Plan, prep, and make every bite work toward your fitness goals! "," Did you know? Eating protein 30 minutes after a workout aids muscle recovery and strength-building! Time those nutrients right! "," Hydration and nutrition go hand-in-hand! Drinking enough water ensures proper digestion and helps transport essential nutrients efficiently! "," Want better focus and endurance? Swap processed foods for nutrient-dense whole foods rich in vitamins, minerals, and antioxidants! "," Your body is a machinegive it the fuel it deserves! High-quality proteins, complex carbs, and omega-3s keep your system running smoothly! "," Skip the fad dietslong-term nutrition success comes from balance, consistency, and mindful eating habits! Stay the course! "," Healthy eating is an act of self-care! Nourishing your body with essential nutrients ensures strength, energy, and long-term well-being! "," Nutrition doesnt have to be complicated! Focus on whole ingredients, limit processed foods, and fuel your workouts wisely! "," Meal timing matters! A balanced breakfast jumpstarts metabolism, post-workout nutrition aids recovery, and dinner should be nutrient-rich but light! "," Did you know? Fiber aids digestion, regulates blood sugar, and keeps hunger in check! Load up on greens, fruits, and whole grains! "," Eating right isnt just about macrosits about micronutrients too! Vitamins and minerals play a key role in recovery, immunity, and brain function! "," Consistency is key! Meal prep, smart grocery shopping, and mindful eating ensure long-term nutrition success! Stay dedicated! "," Cut back on sugarit drains energy, causes inflammation, and messes with digestion! Swap refined sugar for natural alternatives like honey and fruits! "," Your gut health affects your overall wellness! Fermented foods like yogurt, kimchi, and sauerkraut support digestion and immunity! "," Eating enough protein is essential for muscle repair! Aim for at least 1.2g of protein per kilogram of body weight! "," A well-balanced plate consists of protein, fiber, healthy fats, and complex carbs! Aim for variety in every meal! "," Smart snacking fuels your body between meals! Nuts, fruits, and Greek yogurt are great nutrient-dense options! "," Forget crash dietsyour body thrives on sustainability! Stick to whole foods, exercise regularly, and embrace a balanced lifestyle! "," Antioxidants in fruits and veggies combat inflammation and enhance recovery! Load up on colorful produce to fight oxidative stress! "," Your plate should be as colorful as possible! Different colored foods provide unique nutrientseat the rainbow for optimal health! "," Strength starts in the kitchen! You cant out-train a bad dietprioritize high-quality nutrition to support your hard work! "," Magnesium plays a key role in muscle function and recovery! Eat almonds, spinach, and bananas to boost intake naturally! "," Want better skin, digestion, and energy? Eat more fiber-rich foods, drink more water, and reduce processed sugars! "," Your metabolism thrives on real food! Skip fast food and cook at home for fresher, nutrient-packed meals! "," You deserve to feel strong and energized! Prioritize hydration, whole foods, and nutrient balance for peak wellness! "," Nutrition is about fueling greatnessnot restriction! Find a meal plan that supports your goals and enjoy the journey! "," Your diet should support your lifestyle, not control it! Eat foods that help you perform, recover, and feel your best! "," Eating mindfully improves digestion, prevents overeating, and enhances nutrient absorption! Slow down and savor every bite! "," Proper nutrition strengthens not just your body, but your mind too! Fuel wisely for better focus and cognitive function! "," Your nutrition should be simple, enjoyable, and sustainable! Make healthy choices that fit YOUR life! "," When in doubt, choose whole foods! If it grew from the earth or had a natural source, its likely the best choice! "];if(M.includes("nutrition")||M.includes("diet")||M.includes("food"))return{text:Te[Math.floor(Math.random()*Te.length)],sender:"bot"};const Ee=[" Rest up! Aim for 7-9 hours of quality sleep to help muscle recovery and boost overall health! "," Sleep isnt just downtimeits when your body repairs and grows! Get 8 hours for maximum recovery! "," Recovery is key! Recharge with 7-9 hours of restful sleep to come back stronger! "," Did you know? Deep sleep enhances muscle growth and endurance! Prioritize at least 8 hours per night! "," Rest smarter! Stick to a 7-9 hour sleep schedule to optimize recovery and performance! "," Sleep isnt a luxuryits essential! Get your 8 hours in for peak energy and focus! "," Your body rebuilds while you sleep! Aim for 7-9 hours nightly to power your fitness gains! "," Better sleep = better workouts! Get a solid 8 hours for maximum strength and endurance! "," Skipping sleep slows progress! Keep those gains coming with a consistent 7-9 hour rest! "," Sleep well, train hard, repeat! Recovery fuels strengthlock in at least 8 hours per night! "];if(M.includes("sleep")||M.includes("rest")||M.includes("recovery"))return{text:Ee[Math.floor(Math.random()*Ee.length)],sender:"bot"};const ct=[" Strength comes with consistency! Stick to your routine and watch your progress skyrocket! "," Always engage your core! A strong core improves balance, stability, and posture in every workout!"," Don't rush repscontrolled movements activate muscles better and prevent injuries! Slow and steady wins! "," Walking is underrated! 10,000 steps a day can work wonders for your stamina and heart health! "," Nutrition is key! 80% fitness is diet, 20% is exercise. Fuel your body with the right foods! "," Sprinting improves cardiovascular health, burns fat fast, and builds explosive power! Try short bursts today!"," Proper warm-ups prevent injuries and improve performance! Take 5-10 minutes before every workout! "," Compound exercises like squats and deadlifts engage multiple muscles and maximize efficiency! "," Rest days are just as important as workouts! Recovery builds muscle and prevents burnout! "," Hydration is key! Drink 2-3 liters of water daily to optimize workouts and energy levels! "," Mix up your routine! Your body adaptschange exercises every few weeks for best results! "," Flexibility matters! Stretching improves mobility, reduces soreness, and enhances strength! "," Music boosts workout performance! Pump up the beats and move with the rhythm! "," Post-workout nutrition aids recovery! Get protein within 30 minutes after training! "," Resistance training strengthens bones and builds lean muscle! Lift heavy, lift smart! "," Cardio burns calories, but strength training builds metabolism! Balance both in your workouts! "," Mind-muscle connection improves results! Focus on engaging the right muscles with every rep! "," Short, high-intensity workouts are time-efficient and effective! Try HIIT for quick gains! "," Bodyweight workouts work wonders! Push-ups, squats, and lunges build strength anytime, anywhere! "," Challenge yourself! Gradually increase weights, reps, or intensity to keep progressing! "," Recovery tools like foam rolling relieve muscle tension and speed up healing! Try it! "," Sleep is essential for muscle growth and repair! Aim for 7-9 hours per night! "," Stronger glutes improve posture, speed, and power! Add hip thrusts to your routine! "," Set clear fitness goals! Tracking progress helps keep motivation high! "," Include mobility training! Healthy joints keep workouts smooth and pain-free! "," Push yourself, but listen to your body! Rest when needed and avoid overtraining! "," Training legs improves full-body strength and boosts metabolism! Never skip leg day! "," Strengthen grip for better lifts! Farmers walks, deadlifts, and squeezing stress balls help! "," Sprinting builds explosiveness and endurancetry short, intense runs today! "," Stay active outside the gym! Walk, bike, or play sports to stay fit all day! "," Keep workouts fun! Join a class, train with a friend, or try something new! "," Form matters! Maintain proper technique to maximize gains and avoid injuries! "," Progressive overload builds strength! Increase resistance gradually for solid results! "," Enjoy the journey! Celebrate small wins and stay committed to your fitness goals! "];if(M.includes("tips")||M.includes("advice"))return{text:ct[Math.floor(Math.random()*ct.length)],sender:"bot"};const $e=[" Success doesnt come from what you do occasionally, but from what you do consistently! Keep pushing! "," Every champion was once a beginner! Start today and stay committed to become the best version of YOU! "," Results take time, but quitting wont speed up the process! Stay strong, stay disciplined! "," Discipline beats motivation! Motivation fades, but habits keep you going. Build strong habits today! "," Believe in yourself! No one is stopping you but YOU! Break those limits and conquer your goals! "," Your only competition is YOU! Aim to be 1% better than yesterday and progress will follow! "," Every step forward, no matter how small, brings you closer to success! Keep moving! "," Strength doesnt come from what you can do, but from overcoming what you thought you couldnt! "," Dream big, start small, but most importantlySTART! "," If it doesnt challenge you, it wont change you! Push past the limits! "," The hardest battles are fought within. Win the fight in your mind first! "," Keep grinding! You might not see it now, but every effort adds up! "," Be proud of every step forwardprogress is progress, no matter how small! "," Push yourself, because no one else is going to do it for you! "," Your body can stand almost anythingit's your mind you need to convince! "," Its not about having time, its about making time for what matters! "," Nothing is impossiblethe word itself says Im possible! "," Results dont come from wishes, they come from work! Keep hustling! "," Every setback is a setup for a comeback! Keep going! "," Success is walking from failure to failure with no loss of enthusiasm! "," You are stronger than your excusespush through! "," Motivation will get you started, but discipline will keep you going! "," Excuses dont burn calorieshard work does! "," The pain you feel today will be the strength you feel tomorrow! "," You dont have to be extreme, just consistent! "," Hard work beats talent when talent doesnt work hard! "," Dont fear failurefear being in the same place next year! "," Believe in yourselfyou are capable of more than you know! "," Sweat today so you can shine tomorrow! "," Small progress is still progresscelebrate the wins! "," Winners focus on winning, losers focus on winnerskeep your eyes on YOUR goal! "," Keep moving forwardnothing grows in the comfort zone! "," The only bad workout is the one you didnt do! "," A goal without a plan is just a wishstay committed! "," Youve got this! Every challenge is an opportunity! "," Stay patient and trust the processresults WILL come! "," A little progress each day adds up to BIG results! "," Do it for the future YOUthe one who will thank you for todays effort! "," Hard times build strong peoplekeep pushing! "," Success is the sum of small efforts repeated daily! "," You get out what you put ingive your best every day! "," Make it happenno one else is going to do it for you! "," Prove them wronglet success be your response! "," Train your mind and your body will follow! "," Challenges are what make life interestingovercoming them is what makes it meaningful! "," Success is a journey, not a destinationkeep going! "," Stop doubting yourselfstart believing in your greatness! "," Dont limit your challengeschallenge your limits! "," Tough times dont last, but tough people do! "," Be stronger than your excuses! "," Get comfortable being uncomfortablethats where growth happens! "," Make today countyou only get one shot at today! "," Progress over perfectionjust start and improve along the way! "," What you do today defines your tomorrowgive it your all! "," Youre one decision away from a completely different life! "," Dont stop when youre tiredstop when youre done! "," The difference between ordinary and extraordinary is that little extra! "," The mind will quit long before the bodytrain your mind to push further! "," Keep hustlingthe results will come! "," One hour a day is only 4% of your timemake it count! "," Stay consistentthe most successful people are the most disciplined! "," Work in silence, let success make the noise! "," Be the hardest worker in the roomyour effort will pay off! "," Fitness is a journey, not a destinationkeep moving forward! "," Make every rep, every step, every moment count! "," Your body achieves what your mind believestrain with confidence! "];if(M.includes("motivate")||M.includes("encourage")||M.includes("inspire")||M.includes("down")||M.includes("depressed")||M.includes("sad")||M.includes("lost"))return{text:$e[Math.floor(Math.random()*$e.length)],sender:"bot"};const je={...S},Qt={"gain muscle":["gain muscle","build muscle","muscle growth","get bigger"],"lose fat":["lose fat","burn fat","fat loss","get lean"],"improve strength":["improve strength","get stronger","strength training"],cardio:["cardio","endurance","stamina"],general:["general fitness","stay fit","get fit"]},xn={beginner:["beginner","new","starting out"],intermediate:["intermediate","some experience","moderate"],advanced:["advanced","experienced","expert"]};for(const[Se,We]of Object.entries(Qt))if(We.some(ze=>M.includes(ze))){je.goal=Se;break}for(const[Se,We]of Object.entries(xn))if(We.some(ze=>M.includes(ze))){je.experience=Se;break}if(k(je),je.goal&&je.experience){const We=D[je.goal][je.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${je.experience} workout plan for ${je.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(je.goal&&S.experience){const We=D[je.goal][S.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${S.experience} workout plan for ${je.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}if(je.experience&&S.goal){const We=D[S.goal][je.experience].map((ze,et)=>`${et+1}. ${ze}`).join(`
`);return{text:`Here's a ${je.experience} workout plan for ${S.goal}:
${We}

Would you like to save this as a personalized plan?`,sender:"bot",showFormButton:!0}}return je.goal?{text:`Great that you want to focus on "${je.goal}"! What's your experience level? (beginner, intermediate, advanced)`,sender:"bot"}:je.experience?{text:`Thanks for sharing you're at ${je.experience} level. What's your fitness goal? (gain muscle, lose fat, improve strength, cardio, or general fitness)`,sender:"bot"}:M.includes("workout")||M.includes("exercise")||M.includes("plan")?{text:"I can generate a personalized workout plan for you! Would you like to complete your fitness profile so I can create the perfect plan for your goals?",sender:"bot",showFormButton:!0}:M.includes("form")||M.includes("profile")||M.includes("details")||M.includes("generate")||M.includes("create")||M.includes("personalized")?{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}:{text:"Would you like to complete your fitness profile to generate a personalized workout plan?",sender:"bot",showFormButton:!0}},O=M=>{const{name:D,value:A}=M.target;x(I=>({...I,[D]:A}))},G=M=>{const{value:D,checked:A}=M.target;x(I=>({...I,rest_days:A?[...I.rest_days,D]:I.rest_days.filter(j=>j!==D)}))},H=async M=>{M.preventDefault(),v(!0);try{await ZR(oi(Jn,"users",t),{id:t,...w,last_updated:new Date},{merge:!0}),h(D=>[...D,{text:"Your fitness profile has been saved! Generating your personalized workout plan...",sender:"bot"}]),await e({user_email:t,days:21,focus:w.fitness_goal}),h(D=>[...D,{text:"Workout plan generated successfully! Click the Dashboard button to view your plan.",sender:"bot"}]),l(!1)}catch(D){console.error("Error:",D),h(A=>[...A,{text:D.message||"Failed to generate workout plan. Please try again.",sender:"bot"}])}finally{v(!1)}};return _.jsx("div",{className:`chatbot-container ${n?"open":""}`,children:n?_.jsxs("div",{className:"chatbot-window",children:[_.jsxs("div",{className:"chatbot-header",children:[_.jsx("h3",{children:"FitnGro Assistant"}),_.jsx("button",{onClick:()=>r(!1),disabled:g,children:"x"})]}),_.jsxs("div",{className:"chat-content",children:[_.jsx("div",{className:"chatbot-messages",children:u.map((M,D)=>_.jsxs("div",{className:`message ${M.sender}`,children:[M.text,M.showFormButton&&_.jsx("button",{className:"form-toggle-btn",onClick:()=>!g&&l(!a),disabled:g,children:a?"Back to Chat":"Complete Profile"})]},D))}),a?_.jsxs("form",{onSubmit:H,className:"user-details-form",children:[_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Personal Information"}),_.jsxs("div",{className:"form-row",children:[_.jsxs("label",{children:["Age:",_.jsx("input",{type:"number",name:"age",value:w.age,onChange:O,min:"10",max:"100",required:!0,disabled:g})]}),_.jsxs("label",{children:["Gender:",_.jsxs("select",{name:"gender",value:w.gender,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"male",children:"Male"}),_.jsx("option",{value:"female",children:"Female"}),_.jsx("option",{value:"other",children:"Other"})]})]})]}),_.jsxs("div",{className:"form-row",children:[_.jsxs("label",{children:["Height (cm):",_.jsx("input",{type:"number",name:"height",value:w.height,onChange:O,min:"100",max:"250",required:!0,disabled:g})]}),_.jsxs("label",{children:["Weight (kg):",_.jsx("input",{type:"number",name:"weight",value:w.weight,onChange:O,min:"30",max:"200",required:!0,disabled:g})]})]})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Fitness Profile"}),_.jsxs("label",{children:["Body Type:",_.jsxs("select",{name:"body_type",value:w.body_type,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"ectomorph",children:"Ectomorph"}),_.jsx("option",{value:"mesomorph",children:"Mesomorph"}),_.jsx("option",{value:"endomorph",children:"Endomorph"})]})]}),_.jsxs("label",{children:["Experience Level:",_.jsxs("select",{name:"experience_level",value:w.experience_level,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"beginner",children:"Beginner"}),_.jsx("option",{value:"intermediate",children:"Intermediate"}),_.jsx("option",{value:"advanced",children:"Advanced"})]})]}),_.jsxs("label",{children:["Activity Level:",_.jsxs("select",{name:"activity_level",value:w.activity_level,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"sedentary",children:"Sedentary"}),_.jsx("option",{value:"active",children:"Active"}),_.jsx("option",{value:"highly_active",children:"Highly Active"})]})]}),_.jsxs("label",{children:["Fitness Goal:",_.jsxs("select",{name:"fitness_goal",value:w.fitness_goal,onChange:O,required:!0,disabled:g,children:[_.jsx("option",{value:"",children:"Select"}),_.jsx("option",{value:"gain-muscle",children:"Gain Muscle"}),_.jsx("option",{value:"lose-fat",children:"Lose Fat"}),_.jsx("option",{value:"improve-strength",children:"Improve Strength"}),_.jsx("option",{value:"cardio",children:"Cardio"}),_.jsx("option",{value:"general",children:"General Fitness"})]})]})]}),_.jsxs("div",{className:"form-section",children:[_.jsx("h4",{children:"Rest Days"}),_.jsx("div",{className:"rest-days-container",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(M=>_.jsxs("label",{className:"rest-day-option",children:[_.jsx("input",{type:"checkbox",name:"rest_days",value:M,checked:w.rest_days.includes(M),onChange:G,disabled:g}),M]},M))})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{type:"submit",className:"submit-btn",disabled:g,children:g?"Generating Plan...":"Save & Generate Plan"}),_.jsx("button",{type:"button",className:"cancel-btn",onClick:()=>!g&&l(!1),disabled:g,children:"Cancel"})]})]}):_.jsxs("div",{className:"chatbot-input",children:[_.jsx("input",{type:"text",value:d,onChange:M=>m(M.target.value),placeholder:"Type your message...",onKeyPress:M=>M.key==="Enter"&&N(),disabled:g}),_.jsx("button",{onClick:N,disabled:g,children:"Send"})]})]})]}):_.jsx("button",{className:"chatbot-toggle",onClick:()=>r(!0),disabled:g,children:_.jsx("img",{src:"/public/chatbot.png",alt:"Chat"})})})};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI="firebasestorage.googleapis.com",m5="storageBucket",p5=2*60*1e3,g5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends ui{constructor(e,n,r=0){super(Kg(e),`Firebase Storage: ${n} (${Kg(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ci.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Kg(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var li;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(li||(li={}));function Kg(t){return"storage/"+t}function y5(){const t="An unknown error occurred, please check the error payload for server response.";return new ci(li.UNKNOWN,t)}function v5(){return new ci(li.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _5(){return new ci(li.CANCELED,"User canceled the upload/download.")}function b5(t){return new ci(li.INVALID_URL,"Invalid URL '"+t+"'.")}function w5(t){return new ci(li.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function xS(t){return new ci(li.INVALID_ARGUMENT,t)}function OI(){return new ci(li.APP_DELETED,"The Firebase app was deleted.")}function T5(t){return new ci(li.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sr.makeFromUrl(e,n)}catch{return new Sr(e,"")}if(r.path==="")return r;throw w5(e)}static makeFromUrl(e,n){let r=null;const a="([A-Za-z0-9.\\-_]+)";function l(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const u="(/(.*))?$",h=new RegExp("^gs://"+a+u,"i"),d={bucket:1,path:3};function m(G){G.path_=decodeURIComponent(G.path)}const g="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${g}/b/${a}/o${w}`,"i"),S={bucket:1,path:3},k=n===DI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",N=new RegExp(`^https?://${k}/${a}/${R}`,"i"),O=[{regex:h,indices:d,postModify:l},{regex:x,indices:S,postModify:m},{regex:N,indices:{bucket:1,path:2},postModify:m}];for(let G=0;G<O.length;G++){const H=O[G],M=H.regex.exec(e);if(M){const D=M[H.indices.bucket];let A=M[H.indices.path];A||(A=""),r=new Sr(D,A),H.postModify(r);break}}if(r==null)throw b5(e);return r}}class E5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x5(t,e,n){let r=1,a=null,l=null,u=!1,h=0;function d(){return h===2}let m=!1;function g(...R){m||(m=!0,e.apply(null,R))}function v(R){a=setTimeout(()=>{a=null,t(x,d())},R)}function w(){l&&clearTimeout(l)}function x(R,...N){if(m){w();return}if(R){w(),g.call(null,R,...N);return}if(d()||u){w(),g.call(null,R,...N);return}r<64&&(r*=2);let O;h===1?(h=2,O=0):O=(r+Math.random())*1e3,v(O)}let S=!1;function k(R){S||(S=!0,w(),!m&&(a!==null?(R||(h=2),clearTimeout(a),v(0)):R||(h=1)))}return v(0),l=setTimeout(()=>{u=!0,k(!0)},n),k}function S5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t){return t!==void 0}function SS(t,e,n,r){if(r<e)throw xS(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw xS(`Invalid value for '${t}'. Expected ${n} or less.`)}function R5(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const a=e(r)+"="+e(t[r]);n=n+a+"&"}return n=n.slice(0,-1),n}var xf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(xf||(xf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(t,e){const n=t>=500&&t<600,a=[408,429].indexOf(t)!==-1,l=e.indexOf(t)!==-1;return n||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I5{constructor(e,n,r,a,l,u,h,d,m,g,v,w=!0,x=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=d,this.timeout_=m,this.progressCallback_=g,this.connectionFactory_=v,this.retry=w,this.isUsingEmulator=x,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,k)=>{this.resolve_=S,this.reject_=k,this.start_()})}start_(){const e=(r,a)=>{if(a){r(!1,new Id(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=h=>{const d=h.loaded,m=h.lengthComputable?h.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,m)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const h=l.getErrorCode()===xf.NO_ERROR,d=l.getStatus();if(!h||C5(d,this.additionalRetryCodes_)&&this.retry){const g=l.getErrorCode()===xf.ABORT;r(!1,new Id(!1,null,g));return}const m=this.successCodes_.indexOf(d)!==-1;r(!0,new Id(m,l))})},n=(r,a)=>{const l=this.resolve_,u=this.reject_,h=a.connection;if(a.wasSuccessCode)try{const d=this.callback_(h,h.getResponse());A5(d)?l(d):l()}catch(d){u(d)}else if(h!==null){const d=y5();d.serverResponse=h.getErrorText(),this.errorCallback_?u(this.errorCallback_(h,d)):u(d)}else if(a.canceled){const d=this.appDelete_?OI():_5();u(d)}else{const d=v5();u(d)}};this.canceled_?n(!1,new Id(!1,null,!0)):this.backoffId_=x5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Id{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function N5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function O5(t,e,n,r,a,l,u=!0,h=!1){const d=R5(t.urlParams),m=t.url+d,g=Object.assign({},t.headers);return P5(g,e),N5(g,n),k5(g,l),D5(g,r),new I5(m,t.method,g,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,a,u,h)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function V5(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf{constructor(e,n){this._service=e,n instanceof Sr?this._location=n:this._location=Sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sf(e,n)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return V5(this._location.path)}get storage(){return this._service}get parent(){const e=M5(this._location.path);if(e===null)return null;const n=new Sr(this._location.bucket,e);return new Sf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw T5(e)}}function AS(t,e){const n=e==null?void 0:e[m5];return n==null?null:Sr.makeFromBucketSpec(n,t)}function j5(t,e,n,r={}){t.host=`${e}:${n}`;const a=no(e);a&&(Tv(`https://${t.host}/b`),Ev("Storage",!0)),t._isUsingEmulator=!0,t._protocol=a?"https":"http";const{mockUserToken:l}=r;l&&(t._overrideAuthToken=typeof l=="string"?l:NA(l,t.app.options.projectId))}class L5{constructor(e,n,r,a,l,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=a,this._firebaseVersion=l,this._isUsingEmulator=u,this._bucket=null,this._host=DI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=p5,this._maxUploadRetryTime=g5,this._requests=new Set,a!=null?this._bucket=Sr.makeFromBucketSpec(a,this._host):this._bucket=AS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=AS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SS("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sf(this,e)}_makeRequest(e,n,r,a,l=!0){if(this._deleted)return new E5(OI());{const u=O5(e,this._appId,r,a,n,this._firebaseVersion,l,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,a).getPromise()}}const RS="@firebase/storage",CS="0.13.13";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI="storage";function U5(t=Av(),e){t=Nt(t);const r=kf(t,MI).getImmediate({identifier:e}),a=RA("storage");return a&&B5(r,...a),r}function B5(t,e,n,r={}){j5(t,e,n,r)}function F5(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new L5(n,r,a,e,ro)}function z5(){Wa(new Bs(MI,F5,"PUBLIC").setMultipleInstances(!0)),Zr(RS,CS,""),Zr(RS,CS,"esm2017")}z5();const q5={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},H5={hidden:{opacity:0,scale:.9},visible:{opacity:1,scale:1}},G5=()=>{const t=Ji(),e=Ct.currentUser,[n,r]=L.useState([]),[a,l]=L.useState(!1);L.useEffect(()=>{if(!(e!=null&&e.email)){t("/?showAuth=true");return}const d=vf(gf(Jn,"chats"),sc("expertEmail","==",e.email)),m=By(d,g=>{const v=[],w=[];g.forEach(x=>{const S=x.id,R=x.data().clientEmail,N=gf(Jn,"chats",S,"messages"),B=vf(N,sc("sender","==",R),sc("read","==",!1));w.push(new Promise(O=>{By(B,G=>{const H=G.size;H>0&&v.push({clientEmail:R,unreadCount:H,chatId:S}),O()},G=>{console.error(`Error fetching messages for ${R}:`,G),O()})}))}),Promise.all(w).then(()=>{r([...v])})},g=>{console.error("Error fetching chats:",g),alert(`Failed to fetch chats: ${g.message}`)});return()=>m()},[e,t]);const u=()=>{l(!a)},h=(d,m)=>{t("/chat",{state:{clientEmail:d,expertEmail:e.email}}),l(!1)};return e?_.jsxs(De.div,{className:"expert-dashboard",variants:q5,initial:"hidden",animate:"visible",children:[_.jsxs("h2",{children:["Welcome, Expert ",e.email]}),_.jsx("p",{children:"Manage your clients and create workout plans."}),_.jsxs(De.div,{className:"chat-icon",variants:H5,onClick:u,style:{position:"absolute",top:"20px",right:"20px",cursor:"pointer"},children:[_.jsx("img",{src:"/chat-icon.svg",alt:"Chat",width:"30",height:"30"}),n.length>0&&_.jsx("span",{className:"notification-badge",children:n.reduce((d,m)=>d+m.unreadCount,0)})]}),a&&_.jsx(De.div,{className:"notification-dropdown",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},children:n.length===0?_.jsx("p",{children:"No new messages"}):n.map((d,m)=>_.jsx("div",{className:"notification-item",onClick:()=>h(d.clientEmail,d.chatId),style:{cursor:"pointer"},children:_.jsxs("p",{children:[d.clientEmail,": ",d.unreadCount," new message(s)",d.isPremium&&_.jsx("span",{style:{color:"gold",marginLeft:"5px"},children:" (Premium)"})]})},m))}),_.jsx($g,{onClick:()=>t("/manage-clients"),children:"Manage Clients"}),_.jsx($g,{onClick:()=>t("/create-workout"),children:"Create Workout Plan"}),_.jsx($g,{onClick:()=>Ct.signOut().then(()=>t("/")),children:"Logout"})]}):null},Yg={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},ji={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},$5={hidden:{opacity:0,height:0,overflow:"hidden"},visible:{opacity:1,height:"auto",transition:{duration:.3}}},K5=({userEmail:t})=>{const[e,n]=L.useState(!1),[r,a]=L.useState("login"),[l,u]=L.useState("normal"),[h,d]=L.useState(""),[m,g]=L.useState(""),[v,w]=L.useState(""),[x,S]=L.useState(""),[k,R]=L.useState(""),[N,B]=L.useState("Diet"),[O,G]=L.useState(""),[H,M]=L.useState(null),[D,A]=L.useState(""),[I,j]=L.useState({}),[F,q]=L.useState([]),[V,re]=L.useState(t||null),[pe,K]=L.useState(null),[ie,fe]=L.useState(!1),[le,U]=L.useState(!1),X=Ji();Zn(),U5();const oe=[{id:1,text:"FitnGros AI-powered home training keeps me competition-ready. Its real-time movement analysis ensures precise form, and the browser-based platform allows training anywhere. Its like having a 24/7 personal coach for consistent, professional-grade results",image:"/customer-1.png",username:"Abeesh Selvan",role:"State-Level Javelin Thrower, University Games Champion"},{id:2,text:"FitnGro revolutionizes fitness training for our institution. Its expert-guided plans and AI-powered workouts are accessible to all, with browser-based technology eliminating app download barriers. The real-time form correction ensures proper technique, making it ideal for both beginners and expert trainers.",image:"/customer-2.jpeg",username:"Vasanth",role:"Disha School, Head Of Physical Education Department"}],[se,ye]=L.useState(0),[Te,Ee]=L.useState(!0);L.useEffect(()=>{const me=setInterval(()=>{Te&&ye(be=>be===oe.length-1?0:be+1)},1e4);return()=>clearInterval(me)},[Te,oe.length]);const ct=()=>{Ee(!1),ye(me=>me===oe.length-1?0:me+1),setTimeout(()=>Ee(!0),3e4)},$e=()=>{Ee(!1),ye(me=>me===0?oe.length-1:me-1),setTimeout(()=>Ee(!0),3e4)},je=[{icon:"",title:"No App Downloads Required",description:"Access our complete fitness platform directly through your web browser. No storage space needed, no app store downloads, and instant access from any device.",color:"bg-blue-50",iconColor:"text-blue-600"},{icon:"",title:"Low Battery & Network Usage",description:"Our advanced browser-based processing minimizes battery drain and network consumption, allowing longer workout sessions without performance issues.",color:"bg-green-50",iconColor:"text-green-600"},{icon:"",title:"Works on Any Device",description:"Compatible with smartphones, tablets, laptops, and desktops. No specific hardware requirements - just a camera and internet connection.",color:"bg-purple-50",iconColor:"text-purple-600"},{icon:"",title:"Ready in Seconds",description:"No waiting for downloads or installations. Simply visit our website, set up your device, and start your workout immediately with full AI-powered monitoring.",color:"bg-yellow-50",iconColor:"text-yellow-600"},{icon:"",title:"Smart AI Processing",description:"Advanced pose detection and rep counting happen in real-time directly in your browser, providing instant feedback without external servers.",color:"bg-indigo-50",iconColor:"text-indigo-600"},{icon:"",title:"Your Data Stays Local",description:"All processing happens on your device. Your workout videos and personal data never leave your browser, ensuring complete privacy and security.",color:"bg-red-50",iconColor:"text-red-600"}];L.useEffect(()=>{(async()=>{try{const be=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"GET",headers:{"Content-Type":"application/json"}});if(!be.ok)throw new Error("Failed to fetch experts");const Ve=await be.json();setExperts(Ve)}catch(be){console.error("Error fetching experts:",be),q(Ve=>[...Ve,{text:`Failed to load experts: ${be.message}`,sender:"bot"}])}})()},[]),L.useEffect(()=>{const me=s1(Ct,async be=>{if(console.log("Auth state changed - User:",be==null?void 0:be.email),re((be==null?void 0:be.email)||null),be)try{console.log("Fetching expert document for email:",be.email);const Ve=oi(Jn,"experts",be.email),rt=await eo(Ve);console.log("Expert document exists:",rt.exists()),K(rt.exists()?"expert":"normal")}catch(Ve){console.error("Error checking expert status:",Ve),console.log("Error code:",Ve.code),console.log("Error message:",Ve.message),Ve.code==="permission-denied"?(console.log("Permission denied for experts document, setting user as normal"),K("normal")):j({form:`Error checking user type: ${Ve.message}`})}else K(null)});return()=>me()},[X]);const Qt=()=>{const me={};return h?/\S+@\S+\.\S+/.test(h)||(me.email="Email is invalid"):me.email="Email is required",m?m.length<6&&(me.password="Password must be at least 6 characters"):me.password="Password is required",r==="signup"&&l==="expert"&&((!v||v.trim().length<2)&&(me.name="Name must be at least 2 characters"),x?(isNaN(x)||x<18||x>100)&&(me.age="Age must be between 18 and 100"):me.age="Age is required",(!k||k.trim().length<2)&&(me.specialist="Specialist field is required"),N||(me.expertise="Expertise is required"),O?(isNaN(O)||O<=0)&&(me.clientFee="Client fee must be a positive number"):me.clientFee="Client fee is required",H?H.name.toLowerCase().endsWith(".pdf")?H.size>5*1024*1024&&(me.certification="Certificate must be less than 5MB"):me.certification="Certificate must be a PDF":me.certification="Certificate file is required",!D||D.trim().length<10?me.bio="Bio must be at least 10 characters":D.length>500&&(me.bio="Bio must be 500 characters or less")),j(me),Object.keys(me).length===0},xn=async me=>{if(me.preventDefault(),!!Qt())if(r==="signup"&&l==="expert")try{let be;if(Ct.currentUser){if(Ct.currentUser.email!==h)throw new Error("Current user email does not match the provided email");be=await Ct.currentUser.getIdToken()}else if((await tM(Ct,h)).length>0)try{be=await(await Rg(Ct,h,m)).user.getIdToken()}catch{throw new Error("Invalid password for existing email")}else be=await(await tE(Ct,h,m)).user.getIdToken();const Ve=new FormData;Ve.append("user_email",h),Ve.append("name",v),Ve.append("age",parseInt(x)),Ve.append("specialist",k),Ve.append("expertise",N),Ve.append("client_fee",parseFloat(O)),Ve.append("certification",H),Ve.append("bio",D);const rt=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/expert-signup",{method:"POST",headers:{Authorization:`Bearer ${be}`},body:Ve});if(!rt.ok){const ts=await rt.json();throw new Error(ts.detail||"Expert signup failed")}const Dr=(await rt.json()).certificate_url;(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/send-admin-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:"fitngro@gmail.com",subject:"New Expert Signup Request",body:`
            New expert signup request:
            Email: ${h}
            Name: ${v}
            Age: ${x}
            Specialist: ${k}
            Expertise: ${N}
            Client Fee: ${O}
            Bio: ${D}
            Certificate URL: ${Dr}
          `})})).ok||console.warn("Failed to send admin email, but registration succeeded"),re(h),n(!1),d(""),g(""),w(""),S(""),R(""),B("Diet"),G(""),M(null),A(""),j({}),alert("Expert registration submitted successfully! You will be notified once approved.")}catch(be){console.error("Expert Signup Failed:",be),j({form:`Signup Error: ${be.message}`})}else if(r==="login"&&l==="expert")try{const be=await Rg(Ct,h,m),Ve=oi(Jn,"experts",h),rt=await eo(Ve);if(!rt.exists())throw new Error("No expert profile found for this email");const at=rt.data();if(!at.approved)throw new Error("Your expert account is still pending admin approval");re(h),n(!1),d(""),g(""),j({}),X("/expert-dashboard",{state:{expertData:at}})}catch(be){console.error("Expert Login Failed:",be),j({form:`Login Error: ${be.message}`})}else try{let be;r==="signup"?be=await tE(Ct,h,m):be=await Rg(Ct,h,m);const Ve=await be.user.getIdToken(),rt=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ve}`}});if(!rt.ok){const at=await rt.json();throw new Error(at.detail||"Failed to add user to premiumUsers")}re(h),n(!1),d(""),g(""),j({}),X("/dashboard")}catch(be){console.error(`${r==="signup"?"Signup":"Login"} Failed:`,be),j({form:`${r==="signup"?"Signup":"Login"} Error: ${be.message}`})}},Sn=async()=>{try{await a1(Ct),re(null),X("/")}catch(me){console.error("Sign-Out Error:",me)}},Se=async me=>{me.preventDefault();try{const be=await EM(Ct,RL),Ve=await be.user.getIdToken(),rt=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/signin",{method:"POST",headers:{Authorization:`Bearer ${Ve}`}});if(!rt.ok){const at=await rt.json();throw new Error(at.detail||"Failed to add user to premiumUsers")}re(be.user.email),n(!1)}catch(be){console.error("Firebase Sign-In Failed:",be),alert(`Sign-In Error: ${be.message}`)}},We=async me=>{try{const be=await Ct.currentUser.getIdToken();console.log("Request payload:",{user_email:V,days:me.days||21,focus:me.focus||me.fitness_goal||"strength"}),console.log("Authorization header:",`Bearer ${be}`);const Ve=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/generate-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${be}`},body:JSON.stringify({user_email:V,days:me.days||21,focus:me.focus||me.fitness_goal||"strength"})});if(!Ve.ok)throw new Error(`Failed to generate plan: ${Ve.statusText}`);const rt=await Ve.json();q(at=>[...at,{text:"Workout plan generated successfully!",sender:"bot"}]),X("/dashboard")}catch(be){console.error("Plan generation failed:",be),q(Ve=>[...Ve,{text:`Failed to generate plan: ${be.message}`,sender:"bot"}])}},ze=()=>{fe(!ie)},et=[{type:"Self-Guided",title:"AI Powered Fitness",price:"Free",description:"Smart technology guidance without human experts",features:["AI-powered workout plans","Browser-based pose detection","Automated rep counting","Basic progress tracking","Community support forum","Email support (72h response)"],cta:"Start Free",popular:!1,bgColor:"bg-gray-50",borderColor:"border-gray-200",textColor:"text-gray-700"},{type:"Expert-Guided",title:"Precision Training",price:"$49",period:"/month",description:"1-on-1 coaching with certified fitness experts",features:["Personalized workout plans","Live video sessions with experts","Form correction in real-time","Nutrition planning","Weekly progress reviews","24/7 priority support","Customized recovery plans","Advanced analytics dashboard"],cta:"Get Started",popular:!0,bgColor:"bg-blue-50",borderColor:"border-blue-400",textColor:"text-blue-700"}];return _.jsxs(_.Fragment,{children:[_.jsxs(De.div,{className:"property-1variant3",variants:Yg,initial:"hidden",animate:"visible",children:[V&&_.jsx(f5,{userEmail:V,onGeneratePlan:We,setMessages:q}),_.jsxs(De.div,{className:"navbar",variants:Yg,children:[_.jsx(De.div,{className:"navbar-child",variants:ji}),_.jsx(De.div,{className:"about",variants:ji,children:"About"}),_.jsx(De.div,{className:"experts",variants:ji,onClick:()=>X("/experts"),children:"Experts"}),pe==="expert"&&_.jsx(De.div,{className:"profile",variants:ji,onClick:()=>X("/expert-dashboard"),children:"Profile"}),_.jsxs(De.div,{className:"login-button-navbar",variants:ji,children:[_.jsx(De.div,{className:"login-button-navbar-child",variants:ji}),V?_.jsx(De.button,{className:"logout-button-navbar",variants:ji,onClick:Sn,children:"Logout"}):_.jsx(De.button,{className:"login-button-navbar1",variants:ji,onClick:()=>n(!0),children:"Login"})]})]}),_.jsxs(De.div,{className:"right-navbar",variants:Yg,children:[_.jsxs(De.button,{className:"hamburger-button",variants:ji,onClick:ze,"aria-label":"Menu",children:[_.jsx("div",{className:"hamburger-line"}),_.jsx("div",{className:"hamburger-line"}),_.jsx("div",{className:"hamburger-line"})]}),ie&&_.jsx(De.div,{className:"hamburger-menu",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.2},children:_.jsxs(De.ul,{className:"hamburger-menu-list",children:[_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{X("/settings"),fe(!1)},children:"Settings"})}),V&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{X("/dashboard"),fe(!1)},children:"Dashboard"})}),pe==="expert"&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button",onClick:()=>{X("/expert-dashboard"),fe(!1)},children:"Profile"})})]})})]}),e&&_.jsx("div",{className:"auth-modal-overlay",children:_.jsxs("div",{className:"auth-modal-content",children:[_.jsx("button",{className:"close-modal",onClick:()=>n(!1),children:""}),_.jsx("h3",{children:r==="signup"?"Create Account":"Welcome Back"}),_.jsxs("div",{className:"user-type-selection",children:[_.jsx("label",{children:"User Type"}),_.jsxs("div",{style:{display:"flex",gap:"20px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"normal",checked:l==="normal",onChange:()=>u("normal")}),"Normal User"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"expert",checked:l==="expert",onChange:()=>u("expert")}),"Expert"]})]})]}),_.jsx("div",{className:"google-login-container",children:_.jsx("button",{onClick:Se,style:{padding:"10px 20px",fontSize:"16px"},children:"Sign in with Google"})}),_.jsx("div",{className:"auth-divider",children:"or"}),_.jsxs("div",{className:"scrollable-form-container",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Email"}),_.jsx("input",{type:"email",value:h,onChange:me=>d(me.target.value),className:I.email?"error":"",placeholder:"Enter your email"}),I.email&&_.jsx("span",{className:"error-message",children:I.email})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Password"}),_.jsx("input",{type:"password",value:m,onChange:me=>g(me.target.value),className:I.password?"error":"",placeholder:"Enter your password"}),I.password&&_.jsx("span",{className:"error-message",children:I.password})]}),_.jsx(C6,{children:r==="signup"&&l==="expert"&&_.jsxs(De.div,{variants:$5,initial:"hidden",animate:"visible",exit:"hidden",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Name"}),_.jsx("input",{type:"text",value:v,onChange:me=>w(me.target.value),className:I.name?"error":"",placeholder:"Enter your full name"}),I.name&&_.jsx("span",{className:"error-message",children:I.name})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Age"}),_.jsx("input",{type:"number",value:x,onChange:me=>S(me.target.value),className:I.age?"error":"",placeholder:"Enter your age"}),I.age&&_.jsx("span",{className:"error-message",children:I.age})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Specialist"}),_.jsx("input",{type:"text",value:k,onChange:me=>R(me.target.value),className:I.specialist?"error":"",placeholder:"Enter your specialty"}),I.specialist&&_.jsx("span",{className:"error-message",children:I.specialist})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Expertise"}),_.jsxs("div",{style:{display:"flex",gap:"20px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"Diet",checked:N==="Diet",onChange:()=>B("Diet")}),"Diet"]}),_.jsxs("label",{children:[_.jsx("input",{type:"radio",value:"Fitness",checked:N==="Fitness",onChange:()=>B("Fitness")}),"Fitness"]})]}),I.expertise&&_.jsx("span",{className:"error-message",children:I.expertise})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Client Fee (per session)"}),_.jsx("input",{type:"number",value:O,onChange:me=>G(me.target.value),className:I.clientFee?"error":"",placeholder:"Enter your fee"}),I.clientFee&&_.jsx("span",{className:"error-message",children:I.clientFee})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Certificate (PDF)"}),_.jsx("input",{type:"file",accept:"application/pdf",onChange:me=>M(me.target.files[0]),className:I.certification?"error":""}),I.certification&&_.jsx("span",{className:"error-message",children:I.certification})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Short Bio"}),_.jsx("textarea",{value:D,onChange:me=>A(me.target.value),className:I.bio?"error":"",placeholder:"Enter a short bio (max 500 characters)",rows:"4"}),I.bio&&_.jsx("span",{className:"error-message",children:I.bio})]})]})}),I.form&&_.jsx("span",{className:"error-message",children:I.form})]}),_.jsx("button",{type:"submit",className:"auth-submit-btn",onClick:xn,children:r==="signup"?"Sign Up":"Login"}),_.jsx("div",{className:"auth-mode-toggle",children:r==="signup"?_.jsxs("span",{children:["Already have an account? ",_.jsx("button",{onClick:()=>a("login"),children:"Login"})]}):_.jsxs("span",{children:["Need an account? ",_.jsx("button",{onClick:()=>a("signup"),children:"Sign Up"})]})})]})}),_.jsxs("div",{className:"relative overflow-hidden bg-center bg-cover sm:bg-[url('')] lg:bg-[url('')]",style:{backgroundImage:window.innerWidth>=640?"url(/public/hero-4img.webp)":"none"},children:[_.jsx("div",{className:"absolute inset-0 opacity-10",children:_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white to-transparent mix-blend-overlay"})}),_.jsx("div",{className:"max-w-7xl mx-auto px-4 lg:mt-10 sm:px-6 lg:px-8 py-20 md:py-8 lg:py-50 lg:ml-35",children:_.jsx("div",{className:"relative flex flex-col lg:ml-55 lg:mb-70 items-center lg:items-start gap-8 lg:gap-12",children:_.jsxs("div",{className:"flex-1 text-center lg:mb-20 lg:max-w-2xl",children:[_.jsxs("h1",{className:"text-4xl sm:text-5xl md:text-6xl font-bold text-black mb-6",children:[_.jsx("span",{className:"block",children:"Transform Your"}),_.jsx("span",{className:"block text-orange-600",children:"Fitness Journey"})]}),_.jsx("p",{className:"text-lg md:text-xl text-gray-800 mb-10",children:"AI-powered workout plans tailored to your goals. No downloads required - access everything directly in your browser."}),_.jsxs("div",{className:"flex justify-center sm:flex-row gap-4",children:[_.jsx("button",{className:"px-8 py-3 bg-orange-600 hover:bg-[#000000] hover:text-[#ef4d31] text-white font-bold rounded-lg transition-all transform hover:scale-105 ",children:"Get Started Free"}),_.jsx("button",{className:"px-8 py-3 bg-transparent border-2 border-black text-black hover:bg-black hover:text-[#ef4d31] font-bold rounded-lg transition-all md:border-4",children:"Meet Our Experts"})]})]})})})]})]}),_.jsx("section",{className:"py-16 bg-black",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:mt-0 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-4xl font-bold text-[#e4e4e4] mb-4 ",children:"Revolutionizing Fitness with Smart Technology"}),_.jsx("p",{className:"text-xl text-[#e4e4e4] max-w-3xl mx-auto",children:"No apps, no downloads, no hassle - just results"}),_.jsx("div",{className:"mt-8 flex justify-center",children:_.jsx("button",{onClick:()=>U(!le),className:`px-4 py-2 rounded-full font-medium transition-all ${le?"bg-[#e4e4e4] text-black":"bg-[#ef4d31] text-white"}`,children:le?"Show Icon View":"Show Detailed View"})})]}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:je.map((me,be)=>_.jsx("div",{className:"bg-white rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 border-t-4 border-[#ef4d31]",children:le?_.jsxs("div",{className:"p-6 h-full flex flex-col",children:[_.jsxs("div",{className:"flex items-center mb-4",children:[_.jsx("span",{className:"text-3xl mr-4 text-[#ef4d31]",children:me.icon}),_.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:me.title})]}),_.jsx("p",{className:"text-gray-600 flex-grow",children:me.description}),_.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200",children:_.jsx("button",{className:"text-[#ef4d31] font-medium hover:text-[#d0452e] transition-colors",children:"Learn more "})})]}):_.jsxs("div",{className:"p-8 flex flex-col items-center text-center h-full",children:[_.jsx("span",{className:"text-5xl mb-4 text-[#ef4d31]",children:me.icon}),_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:me.title}),_.jsx("button",{className:"mt-4 text-sm text-[#ef4d31] hover:text-[#d0452e] transition-colors",onClick:()=>U(!0),children:"+ Details"})]})},be))})]})}),_.jsx("section",{className:"py-16 bg-white",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] sm:text-4xl",children:"Choose Your Fitness Journey"}),_.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Compare our self-guided AI platform with expert-led precision training"})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:gap-12",children:[_.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#ef4d31]",children:[_.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[_.jsx("div",{className:"flex justify-between items-center ",children:_.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-gray-700 bg-white",children:"Self-Guided"})}),_.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"AI Powered Fitness"}),_.jsx("p",{className:"mt-1 text-gray-600",children:"Smart technology guidance without human experts"}),_.jsx("div",{className:"mt-4 flex items-baseline",children:_.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"Free"})})]}),_.jsxs("div",{className:"px-6 py-6",children:[_.jsx("ul",{className:"space-y-3",children:et[0].features.slice(0,4).map((me,be)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3 text-gray-700",children:me})]},be))}),_.jsx("div",{className:"mt-8",children:_.jsx("button",{onClick:()=>V?X("/dashboard"):n(!0),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-medium text-white bg-[#ef4d31] hover:bg-[#d0452e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31]",children:"Start Free"})}),_.jsx("p",{className:"mt-4 text-center text-sm text-gray-500",children:"No credit card required"})]})]}),_.jsxs("div",{className:"rounded-lg shadow-lg overflow-hidden bg-[#e4e4e4] border-4 border-[#000000] transform scale-105 relative",children:[_.jsx("div",{className:"absolute top-0 right-0 bg-[#000000] text-[#ef4d31] px-3 py-1 text-xs font-semibold rounded-bl-lg",children:"MOST POPULAR"}),_.jsxs("div",{className:"px-6 py-4 border-b border-gray-200",children:[_.jsx("div",{className:"flex justify-between items-center",children:_.jsx("span",{className:"inline-flex px-3 py-1 rounded-full text-sm font-semibold text-[#ef4d31] bg-black",children:"Expert-Guided"})}),_.jsx("h3",{className:"mt-4 text-2xl font-bold text-gray-900",children:"Precision Training"}),_.jsx("p",{className:"mt-1 text-gray-600",children:"1-on-1 coaching with certified fitness experts"}),_.jsxs("div",{className:"mt-4 flex items-baseline",children:[_.jsx("span",{className:"text-4xl font-extrabold text-[#ef4d31]",children:"PAID"}),_.jsx("span",{className:"ml-1 text-xl font-medium text-gray-500",children:"/month"})]})]}),_.jsxs("div",{className:"px-6 py-6",children:[_.jsx("ul",{className:"space-y-3",children:et[1].features.slice(0,4).map((me,be)=>_.jsxs("li",{className:"flex items-start",children:[_.jsx("svg",{className:"h-5 w-5 flex-shrink-0 text-[#ef4d31]",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:_.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),_.jsx("span",{className:"ml-3 text-gray-700",children:me})]},be))}),_.jsx("div",{className:"mt-8",children:_.jsx("button",{onClick:()=>X("/experts"),className:"w-full flex justify-center py-3 px-6 border border-transparent rounded-md shadow-sm text-lg font-bold  text-[#ef4d31] bg-[#000000] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#ef4d31] ",children:"Get Started"})})]})]})]}),_.jsxs("div",{className:"mt-12 bg-[#e4e4e4] rounded-lg p-6 text-center border-4 border-[#000000]",children:[_.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Not sure which to choose?"}),_.jsx("p",{className:"mt-2 text-gray-600",children:"Try our free AI plan first, then upgrade to expert guidance when you're ready for personalized coaching."}),_.jsx("button",{className:"mt-4 inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-[#ef4d31] bg-white hover:bg-gray-100",onClick:()=>X("/experts"),children:"Compare all features "})]})]})}),_.jsx("section",{className:"py-16 bg-black",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl",children:"Powerful Features"}),_.jsx("p",{className:"mt-4 max-w-2xl text-xl text-[#e4e4e4] mx-auto",children:"Everything you need to transform your fitness journey"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"AI-Powered Workouts"}),_.jsx("p",{className:"text-gray-600",children:"Get personalized workout plans tailored to your fitness level and goals using advanced AI technology."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Real-Time Form Correction"}),_.jsx("p",{className:"text-gray-600",children:"Our AI system monitors your movements and provides instant feedback to improve your form and prevent injuries."})]}),_.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg hover:shadow-xl transition-shadow",children:[_.jsx("div",{className:"w-16 h-16 bg-[#ef4d31] hover:bg-black rounded-full flex items-center justify-center mb-6",children:_.jsx("svg",{className:"h-8 w-8 text-white hover:text-[#ef4d31]",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),_.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"Progress Tracking"}),_.jsx("p",{className:"text-gray-600",children:"Track your workout performance, set goals, and achieve better results with data-driven insights."})]})]})]})}),_.jsxs("section",{className:"py-16 bg-white relative overflow-hidden",children:[_.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-5",children:[_.jsx("div",{className:"absolute top-1/4 -left-10 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob"}),_.jsx("div",{className:"absolute top-1/2 right-0 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-2000"}),_.jsx("div",{className:"absolute bottom-1/4 left-1/4 w-64 h-64 bg-[#ef4d31] rounded-full mix-blend-multiply filter blur-xl opacity-70 animate-blob animation-delay-4000"})]}),_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[_.jsxs("div",{className:"text-center mb-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-gray-900 sm:text-4xl",children:"What Our Users Say"}),_.jsx("p",{className:"mt-4 text-xl text-gray-600",children:"Hear from people who transformed their fitness with us"})]}),_.jsxs("div",{className:"relative",children:[_.jsxs("div",{className:"relative bg-[#e4e4e4] rounded-xl shadow-lg p-8 md:p-12",children:[_.jsx("div",{className:"absolute top-0 left-0 w-full h-2 bg-[#ef4d31] rounded-4"}),_.jsxs("div",{className:"flex flex-col md:flex-row items-center",children:[_.jsx("div",{className:"md:w-1/3 mb-8 md:mb-0 flex justify-center",children:_.jsx("img",{src:oe[se].image,alt:oe[se].username,className:"w-32 h-32 rounded-full object-cover border-4 border-[#ef4d31] shadow-md"})}),_.jsxs("div",{className:"md:w-2/3 md:pl-8",children:[_.jsxs("div",{className:"text-lg text-gray-700 italic mb-6",children:['"',oe[se].text,'"']}),_.jsxs("div",{className:"text-right",children:[_.jsx("p",{className:"text-xl font-bold text-[#ef4d31]",children:oe[se].username}),_.jsx("p",{className:"text-gray-600",children:oe[se].role})]})]})]})]}),_.jsxs("div",{className:"flex justify-center mt-8 space-x-4",children:[_.jsx("button",{onClick:$e,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),_.jsx("button",{onClick:ct,className:"w-12 h-12 rounded-full bg-[#ef4d31] text-white flex items-center justify-center hover:bg-[#d0452e] transition-colors",children:_.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]})]})]})]}),_.jsx("section",{className:"py-16 bg-black",children:_.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:_.jsxs("div",{className:"flex flex-col lg:flex-row items-center",children:[_.jsxs("div",{className:"lg:w-1/2 mb-12 lg:mb-0 lg:pr-12",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-[#e4e4e4] sm:text-4xl mb-6",children:"About FitnGro"}),_.jsx("p",{className:"text-xl text-[#e4e4e4] mb-8",children:"At FitnGro, our team blends fitness expertise and AI technology to personalize your fitness journey. Our app tailors workouts and nutrition plans based on your goals and data, providing real-time tracking and guidance."}),_.jsxs("div",{className:"grid grid-cols-2 gap-6 mb-8",children:[_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"100+"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Happy Users"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"10+"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Certified Experts"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"24/7"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Support"})]}),_.jsxs("div",{className:"bg-[#ef4d31] bg-opacity-10 p-4 rounded-lg border-l-4 border-[#ef4d31]",children:[_.jsx("h3",{className:"text-xl font-bold text-[#e4e4e4]",children:"AI"}),_.jsx("p",{className:"text-[#e4e4e4]",children:"Powered"})]})]})]}),_.jsx("div",{className:"lg:w-1/2 relative",children:_.jsx("div",{className:"relative",children:_.jsx("img",{src:"/jj-team.JPG",alt:"FitnGro Team",className:"rounded-lg shadow-xl w-full h-auto"})})})]})})}),_.jsx("section",{className:"py-16 bg-[#ef4d31]",children:_.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[_.jsx("h2",{className:"text-3xl font-extrabold text-white sm:text-4xl mb-6",children:"Ready to Transform Your Fitness Journey?"}),_.jsx("p",{className:"text-xl text-gray-300  mb-8 max-w-3xl mx-auto",children:"Join thousands of users who are achieving their fitness goals with our AI-powered platform."}),_.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[_.jsx("button",{onClick:()=>V?X("/dashboard"):n(!0),className:"px-8 py-4 bg-white text-[#ef4d31] font-bold rounded-lg hover:bg-gray-100 transition-colors text-lg",children:"Get Started for Free"}),_.jsx("button",{onClick:()=>X("/experts"),className:"px-8 py-4 bg-transparent border-2 border-white text-white font-bold rounded-lg  hover:text-[#ef4d31] hover:bg-black transition-colors text-lg",children:"Meet Our Experts"})]})]})}),_.jsxs("footer",{className:"bg-black text-[#e4e4e4] py-12 px-4 sm:px-6 lg:px-8",children:[_.jsxs("div",{className:"max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-4 gap-10",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsx("img",{src:"Footer-Logo-FG.png",alt:"FitnGro",className:"h-12 w-auto"}),_.jsx("p",{className:"text-sm",children:"Revolutionizing fitness with AI-powered technology and expert guidance."}),_.jsxs("div",{className:"flex space-x-4",children:[_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"})})}),_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),_.jsx("a",{href:"#",className:"text-[#e4e4e4] hover:text-[#ef4d31] transition-colors",children:_.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Quick Links"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Home"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"About"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Features"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Pricing"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Experts"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Resources"}),_.jsxs("ul",{className:"space-y-2",children:[_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Blog"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Help Center"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Tutorials"})}),_.jsx("li",{children:_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Community"})})]})]}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-[#ef4d31] mb-4",children:"Stay Updated"}),_.jsx("p",{className:"mb-4 text-sm",children:"Subscribe to our newsletter for the latest fitness tips and updates."}),_.jsxs("div",{className:"flex",children:[_.jsx("input",{type:"email",placeholder:"Your email",className:"px-4 py-2 w-full rounded-l-lg focus:outline-none focus:ring-2 focus:ring-[#ef4d31] text-black"}),_.jsx("button",{className:"bg-[#ef4d31] hover:bg-[#d0452e] text-white px-4 py-2 rounded-r-lg transition-colors",children:"Subscribe"})]})]})]}),_.jsxs("div",{className:"max-w-7xl mx-auto border-t border-gray-800 mt-12 pt-8 text-center text-sm",children:[_.jsxs("p",{children:[" ",new Date().getFullYear()," FitnGro. All rights reserved."]}),_.jsxs("div",{className:"mt-2 space-x-4",children:[_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Privacy Policy"}),_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Terms of Service"}),_.jsx("a",{href:"#",className:"hover:text-[#ef4d31] transition-colors",children:"Cookie Policy"})]})]})]})]})},Y5=({userEmail:t})=>{const[e,n]=L.useState([]),[r,a]=L.useState(!0),[l,u]=L.useState(null),[h,d]=L.useState("days"),[m,g]=L.useState(null),v=Ji(),{day:w}=yv();L.useEffect(()=>{if(!t){u("User not authenticated"),a(!1);return}(async()=>{a(!0),u(null);try{const N=oi(Jn,"workout_plans",t),B=await eo(N);if(B.exists()){const O=B.data();if(O.days&&Array.isArray(O.days)){if(n(O.days),w){const G=O.days.find(H=>H.day===parseInt(w));G&&(g(G),d("workouts"))}}else throw new Error("Invalid plan format: missing days array")}else throw new Error("No workout plan found")}catch(N){console.error("Fetch error:",N),u(N.message)}finally{a(!1)}})()},[t,w]);const x=R=>{R.rest||(g(R),d("workouts"),v(`/workout/${R.day}`))},S=R=>{const N=R.replace(/[^a-zA-Z0-9 ]/g,"").replace(/\s+/g,"-").toLowerCase();v(`/exercise/${N}`,{state:{...m.workouts.find(B=>B.name===R),workoutList:m.workouts,currentIndex:m.workouts.findIndex(B=>B.name===R)}})},k=()=>{h==="workouts"&&(d("days"),v("/dashboard"))};return r?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("p",{children:"Loading your workout plan..."})]}):l?_.jsxs("div",{className:"error-container",children:[_.jsx("h2",{children:"Error Loading Plan"}),_.jsx("p",{children:l}),_.jsx("button",{onClick:()=>window.location.reload(),children:"Try Again"})]}):e.length?_.jsxs("div",{className:"dashboard-container",children:[_.jsx("h1",{children:"Your FitnGro Workout Plan"}),_.jsxs("div",{className:"navigation-steps",children:[_.jsx("div",{className:`step ${h==="days"?"active":""}`,onClick:()=>d("days"),children:"Days"}),_.jsx("div",{className:`step ${h==="workouts"?"active":"disabled"}`,children:"Workouts"})]}),_.jsx("div",{className:`content-section ${h==="days"?"active":""}`,children:_.jsx("div",{className:"days-grid",children:e.map(R=>_.jsxs("div",{className:`day-card ${R.rest?"rest-day":""}`,onClick:()=>x(R),children:[_.jsxs("h3",{className:"day-header",children:["Day ",R.day]}),R.rest?_.jsx("p",{children:"Rest Day"}):_.jsx(_.Fragment,{children:_.jsxs("p",{children:[R.workouts.length," workouts"]})})]},R.day))})}),_.jsx("div",{className:`content-section ${h==="workouts"?"active":""}`,children:m&&_.jsxs(_.Fragment,{children:[_.jsx("button",{className:"back-button",onClick:k,children:" Back to Days"}),_.jsxs("h2",{children:["Day ",m.day," Workouts"]}),_.jsx("div",{className:"workouts-list",children:m.workouts.map((R,N)=>_.jsxs("div",{className:"workout-card",onClick:()=>S(R.name),children:[_.jsxs("div",{className:"exercise-header",children:[_.jsx("h3",{children:R.name}),_.jsxs("div",{className:"exercise-sets",children:[R.sets," sets  ",R.reps," ",R.type]})]}),_.jsx("div",{className:"exercise-arrow",children:""})]},N))})]})})]}):_.jsxs("div",{className:"empty-plan",children:[_.jsx("h2",{children:"No Workout Plan Found"}),_.jsx("p",{children:"Please generate a new workout plan using the chatbot"})]})},W5=({userEmail:t})=>{var g;const{day:e}=yv(),[n,r]=L.useState(null),[a,l]=L.useState(!0),[u,h]=L.useState(null),d=Ji();L.useEffect(()=>{(async()=>{try{const w=oi(Jn,"workout_plans",t),x=await eo(w);if(x.exists()){const k=x.data().days.find(R=>R.day===parseInt(e));if(k)r(k);else throw new Error(`Day ${e} not found in your plan`)}else throw new Error("No workout plan found")}catch(w){console.error("Error fetching day data:",w),h(w.message)}finally{l(!1)}})()},[t,e]);const m=async(v,w)=>{try{const x=oi(Jn,"exercises",v.name),S=await eo(x),k=S.exists()?S.data():{};d(`/exercise/${t}/${v.name}`,{state:{...v,...k,workoutList:n.workouts,currentIndex:w}})}catch(x){console.error("Error fetching exercise details:",x),d(`/exercise/${t}/${v.name}`,{state:{...v,workoutList:n.workouts,currentIndex:w}})}};return a?_.jsxs("div",{className:"loading-container",children:[_.jsx("div",{className:"loading-spinner"}),_.jsxs("p",{children:["Loading day ",e," workouts..."]})]}):u?_.jsxs("div",{className:"error-container",children:[_.jsx("h2",{children:"Error Loading Workouts"}),_.jsx("p",{children:u}),_.jsx("button",{onClick:()=>d("/dashboard"),children:"Back to Dashboard"})]}):_.jsxs("div",{className:"workout-day-container",children:[_.jsx("button",{className:"back-button",onClick:()=>d("/dashboard"),children:" Back to Dashboard"}),_.jsxs("h1",{children:["Day ",e," Workouts"]}),n!=null&&n.rest?_.jsxs("div",{className:"rest-day-message",children:[_.jsx("h2",{children:"Rest Day"}),_.jsx("p",{children:"Take this day to recover and come back stronger tomorrow!"})]}):_.jsx("div",{className:"workouts-list",children:(g=n==null?void 0:n.workouts)==null?void 0:g.map((v,w)=>_.jsxs("div",{className:"workout-card",onClick:()=>m(v,w),children:[_.jsxs("div",{className:"workout-header",children:[_.jsx("h3",{children:v.name}),_.jsxs("div",{className:"workout-details",children:[v.sets," sets  ",v.reps," ",v.type]})]}),_.jsx("div",{className:"workout-arrow",children:""})]},w))})]})},Q5="modulepreload",X5=function(t){return"/"+t},IS={},Nn=function(e,n,r){let a=Promise.resolve();if(n&&n.length>0){let u=function(m){return Promise.all(m.map(g=>Promise.resolve(g).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),d=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));a=u(n.map(m=>{if(m=X5(m),m in IS)return;IS[m]=!0;const g=m.endsWith(".css"),v=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${v}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":Q5,g||(w.as="script"),w.crossOrigin="",w.href=m,d&&w.setAttribute("nonce",d),document.head.appendChild(w),g)return new Promise((x,S)=>{w.addEventListener("load",x),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return a.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return e().catch(l)})};var Wg,NS;function J5(){if(NS)return Wg;NS=1,Wg=function(a,l,u){var h=document.head||document.getElementsByTagName("head")[0],d=document.createElement("script");typeof l=="function"&&(u=l,l={}),l=l||{},u=u||function(){},d.type=l.type||"text/javascript",d.charset=l.charset||"utf8",d.async="async"in l?!!l.async:!0,d.src=a,l.attrs&&t(d,l.attrs),l.text&&(d.text=""+l.text);var m="onload"in d?e:n;m(d,u),d.onload||e(d,u),h.appendChild(d)};function t(r,a){for(var l in a)r.setAttribute(l,a[l])}function e(r,a){r.onload=function(){this.onerror=this.onload=null,a(null,r)},r.onerror=function(){this.onerror=this.onload=null,a(new Error("Failed to load "+this.src),r)}}function n(r,a){r.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,a(null,r))}}return Wg}var Qg,kS;function VI(){if(kS)return Qg;kS=1;var t=function(B){return e(B)&&!n(B)};function e(N){return!!N&&typeof N=="object"}function n(N){var B=Object.prototype.toString.call(N);return B==="[object RegExp]"||B==="[object Date]"||l(N)}var r=typeof Symbol=="function"&&Symbol.for,a=r?Symbol.for("react.element"):60103;function l(N){return N.$$typeof===a}function u(N){return Array.isArray(N)?[]:{}}function h(N,B){return B.clone!==!1&&B.isMergeableObject(N)?k(u(N),N,B):N}function d(N,B,O){return N.concat(B).map(function(G){return h(G,O)})}function m(N,B){if(!B.customMerge)return k;var O=B.customMerge(N);return typeof O=="function"?O:k}function g(N){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(N).filter(function(B){return Object.propertyIsEnumerable.call(N,B)}):[]}function v(N){return Object.keys(N).concat(g(N))}function w(N,B){try{return B in N}catch{return!1}}function x(N,B){return w(N,B)&&!(Object.hasOwnProperty.call(N,B)&&Object.propertyIsEnumerable.call(N,B))}function S(N,B,O){var G={};return O.isMergeableObject(N)&&v(N).forEach(function(H){G[H]=h(N[H],O)}),v(B).forEach(function(H){x(N,H)||(w(N,H)&&O.isMergeableObject(B[H])?G[H]=m(H,O)(N[H],B[H],O):G[H]=h(B[H],O))}),G}function k(N,B,O){O=O||{},O.arrayMerge=O.arrayMerge||d,O.isMergeableObject=O.isMergeableObject||t,O.cloneUnlessOtherwiseSpecified=h;var G=Array.isArray(B),H=Array.isArray(N),M=G===H;return M?G?O.arrayMerge(N,B,O):S(N,B,O):h(B,O)}k.all=function(B,O){if(!Array.isArray(B))throw new Error("first argument should be an array");return B.reduce(function(G,H){return k(G,H,O)},{})};var R=k;return Qg=R,Qg}var Xg,PS;function am(){if(PS)return Xg;PS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(le,U)=>{for(var X in U)e(le,X,{get:U[X],enumerable:!0})},h=(le,U,X,oe)=>{if(U&&typeof U=="object"||typeof U=="function")for(let se of r(U))!l.call(le,se)&&se!==X&&e(le,se,{get:()=>U[se],enumerable:!(oe=n(U,se))||oe.enumerable});return le},d=(le,U,X)=>(X=le!=null?t(a(le)):{},h(!le||!le.__esModule?e(X,"default",{value:le,enumerable:!0}):X,le)),m=le=>h(e({},"__esModule",{value:!0}),le),g={};u(g,{callPlayer:()=>re,getConfig:()=>q,getSDK:()=>F,isBlobUrl:()=>K,isMediaStream:()=>pe,lazy:()=>S,omit:()=>V,parseEndTime:()=>M,parseStartTime:()=>H,queryString:()=>A,randomString:()=>D,supportsWebKitPresentationMode:()=>ie}),Xg=m(g);var v=d(bl()),w=d(J5()),x=d(VI());const S=le=>v.default.lazy(async()=>{const U=await le();return typeof U.default=="function"?U:U.default}),k=/[?&#](?:start|t)=([0-9hms]+)/,R=/[?&#]end=([0-9hms]+)/,N=/(\d+)(h|m|s)/g,B=/^\d+$/;function O(le,U){if(le instanceof Array)return;const X=le.match(U);if(X){const oe=X[1];if(oe.match(N))return G(oe);if(B.test(oe))return parseInt(oe)}}function G(le){let U=0,X=N.exec(le);for(;X!==null;){const[,oe,se]=X;se==="h"&&(U+=parseInt(oe,10)*60*60),se==="m"&&(U+=parseInt(oe,10)*60),se==="s"&&(U+=parseInt(oe,10)),X=N.exec(le)}return U}function H(le){return O(le,k)}function M(le){return O(le,R)}function D(){return Math.random().toString(36).substr(2,5)}function A(le){return Object.keys(le).map(U=>`${U}=${le[U]}`).join("&")}function I(le){return window[le]?window[le]:window.exports&&window.exports[le]?window.exports[le]:window.module&&window.module.exports&&window.module.exports[le]?window.module.exports[le]:null}const j={},F=function(U,X,oe=null,se=()=>!0,ye=w.default){const Te=I(X);return Te&&se(Te)?Promise.resolve(Te):new Promise((Ee,ct)=>{if(j[U]){j[U].push({resolve:Ee,reject:ct});return}j[U]=[{resolve:Ee,reject:ct}];const $e=je=>{j[U].forEach(Qt=>Qt.resolve(je))};if(oe){const je=window[oe];window[oe]=function(){je&&je(),$e(I(X))}}ye(U,je=>{je?(j[U].forEach(Qt=>Qt.reject(je)),j[U]=null):oe||$e(I(X))})})};function q(le,U){return(0,x.default)(U.config,le.config)}function V(le,...U){const X=[].concat(...U),oe={},se=Object.keys(le);for(const ye of se)X.indexOf(ye)===-1&&(oe[ye]=le[ye]);return oe}function re(le,...U){if(!this.player||!this.player[le]){let X=`ReactPlayer: ${this.constructor.displayName} player could not call %c${le}%c  `;return this.player?this.player[le]||(X+="The method was not available"):X+="The player was not available",console.warn(X,"font-weight: bold",""),null}return this.player[le](...U)}function pe(le){return typeof window<"u"&&typeof window.MediaStream<"u"&&le instanceof window.MediaStream}function K(le){return/^blob:/.test(le)}function ie(le=document.createElement("video")){const U=/iPhone|iPod/.test(navigator.userAgent)===!1;return le.webkitSupportsPresentationMode&&typeof le.webkitSetPresentationMode=="function"&&U}function fe(le){return le}return Xg}var Jg,DS;function Z5(){if(DS)return Jg;DS=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(re,pe)=>{for(var K in pe)t(re,K,{get:pe[K],enumerable:!0})},l=(re,pe,K,ie)=>{if(pe&&typeof pe=="object"||typeof pe=="function")for(let fe of n(pe))!r.call(re,fe)&&fe!==K&&t(re,fe,{get:()=>pe[fe],enumerable:!(ie=e(pe,fe))||ie.enumerable});return re},u=re=>l(t({},"__esModule",{value:!0}),re),h={};a(h,{AUDIO_EXTENSIONS:()=>D,DASH_EXTENSIONS:()=>j,FLV_EXTENSIONS:()=>F,HLS_EXTENSIONS:()=>I,MATCH_URL_DAILYMOTION:()=>O,MATCH_URL_FACEBOOK:()=>x,MATCH_URL_FACEBOOK_WATCH:()=>S,MATCH_URL_KALTURA:()=>M,MATCH_URL_MIXCLOUD:()=>G,MATCH_URL_MUX:()=>w,MATCH_URL_SOUNDCLOUD:()=>g,MATCH_URL_STREAMABLE:()=>k,MATCH_URL_TWITCH_CHANNEL:()=>B,MATCH_URL_TWITCH_VIDEO:()=>N,MATCH_URL_VIDYARD:()=>H,MATCH_URL_VIMEO:()=>v,MATCH_URL_WISTIA:()=>R,MATCH_URL_YOUTUBE:()=>m,VIDEO_EXTENSIONS:()=>A,canPlay:()=>V}),Jg=u(h);var d=am();const m=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,g=/(?:soundcloud\.com|snd\.sc)\/[^.]+$/,v=/vimeo\.com\/(?!progressive_redirect).+/,w=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,x=/^https?:\/\/(www\.)?facebook\.com.*\/(video(s)?|watch|story)(\.php?|\/).+$/,S=/^https?:\/\/fb\.watch\/.+$/,k=/streamable\.com\/([a-z0-9]+)$/,R=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,N=/(?:www\.|go\.)?twitch\.tv\/videos\/(\d+)($|\?)/,B=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+)($|\?)/,O=/^(?:(?:https?):)?(?:\/\/)?(?:www\.)?(?:(?:dailymotion\.com(?:\/embed)?\/video)|dai\.ly)\/([a-zA-Z0-9]+)(?:_[\w_-]+)?(?:[\w.#_-]+)?/,G=/mixcloud\.com\/([^/]+\/[^/]+)/,H=/vidyard.com\/(?:watch\/)?([a-zA-Z0-9-_]+)/,M=/^https?:\/\/[a-zA-Z]+\.kaltura.(com|org)\/p\/([0-9]+)\/sp\/([0-9]+)00\/embedIframeJs\/uiconf_id\/([0-9]+)\/partner_id\/([0-9]+)(.*)entry_id.([a-zA-Z0-9-_].*)$/,D=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,A=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,I=/\.(m3u8)($|\?)/i,j=/\.(mpd)($|\?)/i,F=/\.(flv)($|\?)/i,q=re=>{if(re instanceof Array){for(const pe of re)if(typeof pe=="string"&&q(pe)||q(pe.src))return!0;return!1}return(0,d.isMediaStream)(re)||(0,d.isBlobUrl)(re)?!0:D.test(re)||A.test(re)||I.test(re)||j.test(re)||F.test(re)},V={youtube:re=>re instanceof Array?re.every(pe=>m.test(pe)):m.test(re),soundcloud:re=>g.test(re)&&!D.test(re),vimeo:re=>v.test(re)&&!A.test(re)&&!I.test(re),mux:re=>w.test(re),facebook:re=>x.test(re)||S.test(re),streamable:re=>k.test(re),wistia:re=>R.test(re),twitch:re=>N.test(re)||B.test(re),dailymotion:re=>O.test(re),mixcloud:re=>G.test(re),vidyard:re=>H.test(re),kaltura:re=>M.test(re),file:q};return Jg}var Zg,OS;function eB(){if(OS)return Zg;OS=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,n=Object.getOwnPropertyNames,r=Object.prototype.hasOwnProperty,a=(v,w)=>{for(var x in w)t(v,x,{get:w[x],enumerable:!0})},l=(v,w,x,S)=>{if(w&&typeof w=="object"||typeof w=="function")for(let k of n(w))!r.call(v,k)&&k!==x&&t(v,k,{get:()=>w[k],enumerable:!(S=e(w,k))||S.enumerable});return v},u=v=>l(t({},"__esModule",{value:!0}),v),h={};a(h,{default:()=>g}),Zg=u(h);var d=am(),m=Z5(),g=[{key:"youtube",name:"YouTube",canPlay:m.canPlay.youtube,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./YouTube-Bdm0XhaC.js").then(v=>v.Y),[]))},{key:"soundcloud",name:"SoundCloud",canPlay:m.canPlay.soundcloud,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./SoundCloud-BHtvxqaM.js").then(v=>v.S),[]))},{key:"vimeo",name:"Vimeo",canPlay:m.canPlay.vimeo,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Vimeo-BCN2WTdH.js").then(v=>v.V),[]))},{key:"mux",name:"Mux",canPlay:m.canPlay.mux,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Mux-CZsfQIdD.js").then(v=>v.M),[]))},{key:"facebook",name:"Facebook",canPlay:m.canPlay.facebook,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Facebook-WHKld2AJ.js").then(v=>v.F),[]))},{key:"streamable",name:"Streamable",canPlay:m.canPlay.streamable,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Streamable-BkfINWDD.js").then(v=>v.S),[]))},{key:"wistia",name:"Wistia",canPlay:m.canPlay.wistia,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Wistia-BV44JNPc.js").then(v=>v.W),[]))},{key:"twitch",name:"Twitch",canPlay:m.canPlay.twitch,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Twitch-BxGOuOyH.js").then(v=>v.T),[]))},{key:"dailymotion",name:"DailyMotion",canPlay:m.canPlay.dailymotion,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./DailyMotion-Csw4rIy6.js").then(v=>v.D),[]))},{key:"mixcloud",name:"Mixcloud",canPlay:m.canPlay.mixcloud,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Mixcloud-RAyonKvL.js").then(v=>v.M),[]))},{key:"vidyard",name:"Vidyard",canPlay:m.canPlay.vidyard,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Vidyard-CIzOajZr.js").then(v=>v.V),[]))},{key:"kaltura",name:"Kaltura",canPlay:m.canPlay.kaltura,lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./Kaltura-LfJhuXsB.js").then(v=>v.K),[]))},{key:"file",name:"FilePlayer",canPlay:m.canPlay.file,canEnablePIP:v=>m.canPlay.file(v)&&(document.pictureInPictureEnabled||(0,d.supportsWebKitPresentationMode)())&&!m.AUDIO_EXTENSIONS.test(v),lazyPlayer:(0,d.lazy)(()=>Nn(()=>import("./FilePlayer-BQoWwB_E.js").then(v=>v.F),[]))}];return Zg}var MS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function tB(t,e){return!!(t===e||MS(t)&&MS(e))}function nB(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!tB(t[n],e[n]))return!1;return!0}function rB(t,e){e===void 0&&(e=nB);var n,r=[],a,l=!1;function u(){for(var h=[],d=0;d<arguments.length;d++)h[d]=arguments[d];return l&&n===this&&e(h,r)||(a=t.apply(this,h),l=!0,n=this,r=h),a}return u}const iB=Object.freeze(Object.defineProperty({__proto__:null,default:rB},Symbol.toStringTag,{value:"Module"})),sB=Mk(iB);var ey,VS;function jI(){if(VS)return ey;VS=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function a(l,u){if(l===u)return!0;if(l&&u&&typeof l=="object"&&typeof u=="object"){if(l.constructor!==u.constructor)return!1;var h,d,m;if(Array.isArray(l)){if(h=l.length,h!=u.length)return!1;for(d=h;d--!==0;)if(!a(l[d],u[d]))return!1;return!0}var g;if(e&&l instanceof Map&&u instanceof Map){if(l.size!==u.size)return!1;for(g=l.entries();!(d=g.next()).done;)if(!u.has(d.value[0]))return!1;for(g=l.entries();!(d=g.next()).done;)if(!a(d.value[1],u.get(d.value[0])))return!1;return!0}if(n&&l instanceof Set&&u instanceof Set){if(l.size!==u.size)return!1;for(g=l.entries();!(d=g.next()).done;)if(!u.has(d.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(l)&&ArrayBuffer.isView(u)){if(h=l.length,h!=u.length)return!1;for(d=h;d--!==0;)if(l[d]!==u[d])return!1;return!0}if(l.constructor===RegExp)return l.source===u.source&&l.flags===u.flags;if(l.valueOf!==Object.prototype.valueOf&&typeof l.valueOf=="function"&&typeof u.valueOf=="function")return l.valueOf()===u.valueOf();if(l.toString!==Object.prototype.toString&&typeof l.toString=="function"&&typeof u.toString=="function")return l.toString()===u.toString();if(m=Object.keys(l),h=m.length,h!==Object.keys(u).length)return!1;for(d=h;d--!==0;)if(!Object.prototype.hasOwnProperty.call(u,m[d]))return!1;if(t&&l instanceof Element)return!1;for(d=h;d--!==0;)if(!((m[d]==="_owner"||m[d]==="__v"||m[d]==="__o")&&l.$$typeof)&&!a(l[m[d]],u[m[d]]))return!1;return!0}return l!==l&&u!==u}return ey=function(u,h){try{return a(u,h)}catch(d){if((d.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw d}},ey}var ty={exports:{}},ny,jS;function aB(){if(jS)return ny;jS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return ny=t,ny}var ry,LS;function oB(){if(LS)return ry;LS=1;var t=aB();function e(){}function n(){}return n.resetWarningCache=e,ry=function(){function r(u,h,d,m,g,v){if(v!==t){var w=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw w.name="Invariant Violation",w}}r.isRequired=r;function a(){return r}var l={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:a,element:r,elementType:r,instanceOf:a,node:r,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:e};return l.PropTypes=l,l},ry}var US;function lB(){return US||(US=1,ty.exports=oB()()),ty.exports}var iy,BS;function LI(){if(BS)return iy;BS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(A,I)=>{for(var j in I)e(A,j,{get:I[j],enumerable:!0})},h=(A,I,j,F)=>{if(I&&typeof I=="object"||typeof I=="function")for(let q of r(I))!l.call(A,q)&&q!==j&&e(A,q,{get:()=>I[q],enumerable:!(F=n(I,q))||F.enumerable});return A},d=(A,I,j)=>(j=A!=null?t(a(A)):{},h(!A||!A.__esModule?e(j,"default",{value:A,enumerable:!0}):j,A)),m=A=>h(e({},"__esModule",{value:!0}),A),g={};u(g,{defaultProps:()=>D,propTypes:()=>H}),iy=m(g);var v=d(lB());const{string:w,bool:x,number:S,array:k,oneOfType:R,shape:N,object:B,func:O,node:G}=v.default,H={url:R([w,k,B]),playing:x,loop:x,controls:x,volume:S,muted:x,playbackRate:S,width:R([w,S]),height:R([w,S]),style:B,progressInterval:S,playsinline:x,pip:x,stopOnUnmount:x,light:R([x,w,B]),playIcon:G,previewTabIndex:S,previewAriaLabel:w,fallback:G,oEmbedUrl:w,wrapper:R([w,O,N({render:O.isRequired})]),config:N({soundcloud:N({options:B}),youtube:N({playerVars:B,embedOptions:B,onUnstarted:O}),facebook:N({appId:w,version:w,playerId:w,attributes:B}),dailymotion:N({params:B}),vimeo:N({playerOptions:B,title:w}),mux:N({attributes:B,version:w}),file:N({attributes:B,tracks:k,forceVideo:x,forceAudio:x,forceHLS:x,forceSafariHLS:x,forceDisableHls:x,forceDASH:x,forceFLV:x,hlsOptions:B,hlsVersion:w,dashVersion:w,flvVersion:w}),wistia:N({options:B,playerId:w,customControls:k}),mixcloud:N({options:B}),twitch:N({options:B,playerId:w}),vidyard:N({options:B})}),onReady:O,onStart:O,onPlay:O,onPause:O,onBuffer:O,onBufferEnd:O,onEnded:O,onError:O,onDuration:O,onSeek:O,onPlaybackRateChange:O,onPlaybackQualityChange:O,onProgress:O,onClickPreview:O,onEnablePIP:O,onDisablePIP:O},M=()=>{},D={playing:!1,loop:!1,controls:!1,volume:null,muted:!1,playbackRate:1,width:"640px",height:"360px",style:{},progressInterval:1e3,playsinline:!1,pip:!1,stopOnUnmount:!0,light:!1,fallback:null,wrapper:"div",previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}",config:{soundcloud:{options:{visual:!0,buying:!1,liking:!1,download:!1,sharing:!1,show_comments:!1,show_playcount:!1}},youtube:{playerVars:{playsinline:1,showinfo:0,rel:0,iv_load_policy:3,modestbranding:1},embedOptions:{},onUnstarted:M},facebook:{appId:"1309697205772819",version:"v3.3",playerId:null,attributes:{}},dailymotion:{params:{api:1,"endscreen-enable":!1}},vimeo:{playerOptions:{autopause:!1,byline:!1,portrait:!1,title:!1},title:null},mux:{attributes:{},version:"2"},file:{attributes:{},tracks:[],forceVideo:!1,forceAudio:!1,forceHLS:!1,forceDASH:!1,forceFLV:!1,hlsOptions:{},hlsVersion:"1.1.4",dashVersion:"3.1.3",flvVersion:"1.5.0",forceDisableHls:!1},wistia:{options:{},playerId:null,customControls:null},mixcloud:{options:{hide_cover:1}},twitch:{options:{},playerId:null},vidyard:{options:{}}},onReady:M,onStart:M,onPlay:M,onPause:M,onBuffer:M,onBufferEnd:M,onEnded:M,onError:M,onDuration:M,onSeek:M,onPlaybackRateChange:M,onPlaybackQualityChange:M,onProgress:M,onClickPreview:M,onEnablePIP:M,onDisablePIP:M};return iy}var sy,FS;function uB(){if(FS)return sy;FS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(O,G,H)=>G in O?e(O,G,{enumerable:!0,configurable:!0,writable:!0,value:H}):O[G]=H,h=(O,G)=>{for(var H in G)e(O,H,{get:G[H],enumerable:!0})},d=(O,G,H,M)=>{if(G&&typeof G=="object"||typeof G=="function")for(let D of r(G))!l.call(O,D)&&D!==H&&e(O,D,{get:()=>G[D],enumerable:!(M=n(G,D))||M.enumerable});return O},m=(O,G,H)=>(H=O!=null?t(a(O)):{},d(!O||!O.__esModule?e(H,"default",{value:O,enumerable:!0}):H,O)),g=O=>d(e({},"__esModule",{value:!0}),O),v=(O,G,H)=>(u(O,typeof G!="symbol"?G+"":G,H),H),w={};h(w,{default:()=>B}),sy=g(w);var x=m(bl()),S=m(jI()),k=LI(),R=am();const N=5e3;class B extends x.Component{constructor(){super(...arguments),v(this,"mounted",!1),v(this,"isReady",!1),v(this,"isPlaying",!1),v(this,"isLoading",!0),v(this,"loadOnReady",null),v(this,"startOnPlay",!0),v(this,"seekOnPlay",null),v(this,"onDurationCalled",!1),v(this,"handlePlayerMount",G=>{if(this.player){this.progress();return}this.player=G,this.player.load(this.props.url),this.progress()}),v(this,"getInternalPlayer",G=>this.player?this.player[G]:null),v(this,"progress",()=>{if(this.props.url&&this.player&&this.isReady){const G=this.getCurrentTime()||0,H=this.getSecondsLoaded(),M=this.getDuration();if(M){const D={playedSeconds:G,played:G/M};H!==null&&(D.loadedSeconds=H,D.loaded=H/M),(D.playedSeconds!==this.prevPlayed||D.loadedSeconds!==this.prevLoaded)&&this.props.onProgress(D),this.prevPlayed=D.playedSeconds,this.prevLoaded=D.loadedSeconds}}this.progressTimeout=setTimeout(this.progress,this.props.progressFrequency||this.props.progressInterval)}),v(this,"handleReady",()=>{if(!this.mounted)return;this.isReady=!0,this.isLoading=!1;const{onReady:G,playing:H,volume:M,muted:D}=this.props;G(),!D&&M!==null&&this.player.setVolume(M),this.loadOnReady?(this.player.load(this.loadOnReady,!0),this.loadOnReady=null):H&&this.player.play(),this.handleDurationCheck()}),v(this,"handlePlay",()=>{this.isPlaying=!0,this.isLoading=!1;const{onStart:G,onPlay:H,playbackRate:M}=this.props;this.startOnPlay&&(this.player.setPlaybackRate&&M!==1&&this.player.setPlaybackRate(M),G(),this.startOnPlay=!1),H(),this.seekOnPlay&&(this.seekTo(this.seekOnPlay),this.seekOnPlay=null),this.handleDurationCheck()}),v(this,"handlePause",G=>{this.isPlaying=!1,this.isLoading||this.props.onPause(G)}),v(this,"handleEnded",()=>{const{activePlayer:G,loop:H,onEnded:M}=this.props;G.loopOnEnded&&H&&this.seekTo(0),H||(this.isPlaying=!1,M())}),v(this,"handleError",(...G)=>{this.isLoading=!1,this.props.onError(...G)}),v(this,"handleDurationCheck",()=>{clearTimeout(this.durationCheckTimeout);const G=this.getDuration();G?this.onDurationCalled||(this.props.onDuration(G),this.onDurationCalled=!0):this.durationCheckTimeout=setTimeout(this.handleDurationCheck,100)}),v(this,"handleLoaded",()=>{this.isLoading=!1})}componentDidMount(){this.mounted=!0}componentWillUnmount(){clearTimeout(this.progressTimeout),clearTimeout(this.durationCheckTimeout),this.isReady&&this.props.stopOnUnmount&&(this.player.stop(),this.player.disablePIP&&this.player.disablePIP()),this.mounted=!1}componentDidUpdate(G){if(!this.player)return;const{url:H,playing:M,volume:D,muted:A,playbackRate:I,pip:j,loop:F,activePlayer:q,disableDeferredLoading:V}=this.props;if(!(0,S.default)(G.url,H)){if(this.isLoading&&!q.forceLoad&&!V&&!(0,R.isMediaStream)(H)){console.warn(`ReactPlayer: the attempt to load ${H} is being deferred until the player has loaded`),this.loadOnReady=H;return}this.isLoading=!0,this.startOnPlay=!0,this.onDurationCalled=!1,this.player.load(H,this.isReady)}!G.playing&&M&&!this.isPlaying&&this.player.play(),G.playing&&!M&&this.isPlaying&&this.player.pause(),!G.pip&&j&&this.player.enablePIP&&this.player.enablePIP(),G.pip&&!j&&this.player.disablePIP&&this.player.disablePIP(),G.volume!==D&&D!==null&&this.player.setVolume(D),G.muted!==A&&(A?this.player.mute():(this.player.unmute(),D!==null&&setTimeout(()=>this.player.setVolume(D)))),G.playbackRate!==I&&this.player.setPlaybackRate&&this.player.setPlaybackRate(I),G.loop!==F&&this.player.setLoop&&this.player.setLoop(F)}getDuration(){return this.isReady?this.player.getDuration():null}getCurrentTime(){return this.isReady?this.player.getCurrentTime():null}getSecondsLoaded(){return this.isReady?this.player.getSecondsLoaded():null}seekTo(G,H,M){if(!this.isReady){G!==0&&(this.seekOnPlay=G,setTimeout(()=>{this.seekOnPlay=null},N));return}if(H?H==="fraction":G>0&&G<1){const A=this.player.getDuration();if(!A){console.warn("ReactPlayer: could not seek using fraction duration not yet available");return}this.player.seekTo(A*G,M);return}this.player.seekTo(G,M)}render(){const G=this.props.activePlayer;return G?x.default.createElement(G,{...this.props,onMount:this.handlePlayerMount,onReady:this.handleReady,onPlay:this.handlePlay,onPause:this.handlePause,onEnded:this.handleEnded,onLoaded:this.handleLoaded,onError:this.handleError}):null}}return v(B,"displayName","Player"),v(B,"propTypes",k.propTypes),v(B,"defaultProps",k.defaultProps),sy}var ay,zS;function cB(){if(zS)return ay;zS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(F,q,V)=>q in F?e(F,q,{enumerable:!0,configurable:!0,writable:!0,value:V}):F[q]=V,h=(F,q)=>{for(var V in q)e(F,V,{get:q[V],enumerable:!0})},d=(F,q,V,re)=>{if(q&&typeof q=="object"||typeof q=="function")for(let pe of r(q))!l.call(F,pe)&&pe!==V&&e(F,pe,{get:()=>q[pe],enumerable:!(re=n(q,pe))||re.enumerable});return F},m=(F,q,V)=>(V=F!=null?t(a(F)):{},d(!F||!F.__esModule?e(V,"default",{value:F,enumerable:!0}):V,F)),g=F=>d(e({},"__esModule",{value:!0}),F),v=(F,q,V)=>(u(F,typeof q!="symbol"?q+"":q,V),V),w={};h(w,{createReactPlayer:()=>j}),ay=g(w);var x=m(bl()),S=m(VI()),k=m(sB),R=m(jI()),N=LI(),B=am(),O=m(uB());const G=(0,B.lazy)(()=>Nn(()=>import("./Preview-aadBLGeA.js").then(F=>F.P),[])),H=typeof window<"u"&&window.document&&typeof document<"u",M=typeof dg<"u"&&dg.window&&dg.window.document,D=Object.keys(N.propTypes),A=H||M?x.Suspense:()=>null,I=[],j=(F,q)=>{var V;return V=class extends x.Component{constructor(){super(...arguments),v(this,"state",{showPreview:!!this.props.light}),v(this,"references",{wrapper:re=>{this.wrapper=re},player:re=>{this.player=re}}),v(this,"handleClickPreview",re=>{this.setState({showPreview:!1}),this.props.onClickPreview(re)}),v(this,"showPreview",()=>{this.setState({showPreview:!0})}),v(this,"getDuration",()=>this.player?this.player.getDuration():null),v(this,"getCurrentTime",()=>this.player?this.player.getCurrentTime():null),v(this,"getSecondsLoaded",()=>this.player?this.player.getSecondsLoaded():null),v(this,"getInternalPlayer",(re="player")=>this.player?this.player.getInternalPlayer(re):null),v(this,"seekTo",(re,pe,K)=>{if(!this.player)return null;this.player.seekTo(re,pe,K)}),v(this,"handleReady",()=>{this.props.onReady(this)}),v(this,"getActivePlayer",(0,k.default)(re=>{for(const pe of[...I,...F])if(pe.canPlay(re))return pe;return q||null})),v(this,"getConfig",(0,k.default)((re,pe)=>{const{config:K}=this.props;return S.default.all([N.defaultProps.config,N.defaultProps.config[pe]||{},K,K[pe]||{}])})),v(this,"getAttributes",(0,k.default)(re=>(0,B.omit)(this.props,D))),v(this,"renderActivePlayer",re=>{if(!re)return null;const pe=this.getActivePlayer(re);if(!pe)return null;const K=this.getConfig(re,pe.key);return x.default.createElement(O.default,{...this.props,key:pe.key,ref:this.references.player,config:K,activePlayer:pe.lazyPlayer||pe,onReady:this.handleReady})})}shouldComponentUpdate(re,pe){return!(0,R.default)(this.props,re)||!(0,R.default)(this.state,pe)}componentDidUpdate(re){const{light:pe}=this.props;!re.light&&pe&&this.setState({showPreview:!0}),re.light&&!pe&&this.setState({showPreview:!1})}renderPreview(re){if(!re)return null;const{light:pe,playIcon:K,previewTabIndex:ie,oEmbedUrl:fe,previewAriaLabel:le}=this.props;return x.default.createElement(G,{url:re,light:pe,playIcon:K,previewTabIndex:ie,previewAriaLabel:le,oEmbedUrl:fe,onClick:this.handleClickPreview})}render(){const{url:re,style:pe,width:K,height:ie,fallback:fe,wrapper:le}=this.props,{showPreview:U}=this.state,X=this.getAttributes(re),oe=typeof le=="string"?this.references.wrapper:void 0;return x.default.createElement(le,{ref:oe,style:{...pe,width:K,height:ie},...X},x.default.createElement(A,{fallback:fe},U?this.renderPreview(re):this.renderActivePlayer(re)))}},v(V,"displayName","ReactPlayer"),v(V,"propTypes",N.propTypes),v(V,"defaultProps",N.defaultProps),v(V,"addCustomPlayer",re=>{I.push(re)}),v(V,"removeCustomPlayers",()=>{I.length=0}),v(V,"canPlay",re=>{for(const pe of[...I,...F])if(pe.canPlay(re))return!0;return!1}),v(V,"canEnablePIP",re=>{for(const pe of[...I,...F])if(pe.canEnablePIP&&pe.canEnablePIP(re))return!0;return!1}),V};return ay}var oy,qS;function hB(){if(qS)return oy;qS=1;var t=Object.create,e=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,a=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,u=(k,R)=>{for(var N in R)e(k,N,{get:R[N],enumerable:!0})},h=(k,R,N,B)=>{if(R&&typeof R=="object"||typeof R=="function")for(let O of r(R))!l.call(k,O)&&O!==N&&e(k,O,{get:()=>R[O],enumerable:!(B=n(R,O))||B.enumerable});return k},d=(k,R,N)=>(N=k!=null?t(a(k)):{},h(!k||!k.__esModule?e(N,"default",{value:k,enumerable:!0}):N,k)),m=k=>h(e({},"__esModule",{value:!0}),k),g={};u(g,{default:()=>S}),oy=m(g);var v=d(eB()),w=cB();const x=v.default[v.default.length-1];var S=(0,w.createReactPlayer)(v.default,x);return oy}var dB=hB();const fB=fv(dB);function UI(t,e){return function(){return t.apply(e,arguments)}}const{toString:mB}=Object.prototype,{getPrototypeOf:r0}=Object,{iterator:om,toStringTag:BI}=Symbol,lm=(t=>e=>{const n=mB.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Pr=t=>(t=t.toLowerCase(),e=>lm(e)===t),um=t=>e=>typeof e===t,{isArray:Dl}=Array,Nc=um("undefined");function pB(t){return t!==null&&!Nc(t)&&t.constructor!==null&&!Nc(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const FI=Pr("ArrayBuffer");function gB(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&FI(t.buffer),e}const yB=um("string"),Un=um("function"),zI=um("number"),cm=t=>t!==null&&typeof t=="object",vB=t=>t===!0||t===!1,$d=t=>{if(lm(t)!=="object")return!1;const e=r0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(BI in t)&&!(om in t)},_B=Pr("Date"),bB=Pr("File"),wB=Pr("Blob"),TB=Pr("FileList"),EB=t=>cm(t)&&Un(t.pipe),xB=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=lm(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},SB=Pr("URLSearchParams"),[AB,RB,CB,IB]=["ReadableStream","Request","Response","Headers"].map(Pr),NB=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yc(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,a;if(typeof t!="object"&&(t=[t]),Dl(t))for(r=0,a=t.length;r<a;r++)e.call(null,t[r],r,t);else{const l=n?Object.getOwnPropertyNames(t):Object.keys(t),u=l.length;let h;for(r=0;r<u;r++)h=l[r],e.call(null,t[h],h,t)}}function qI(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,a;for(;r-- >0;)if(a=n[r],e===a.toLowerCase())return a;return null}const qa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,HI=t=>!Nc(t)&&t!==qa;function ov(){const{caseless:t}=HI(this)&&this||{},e={},n=(r,a)=>{const l=t&&qI(e,a)||a;$d(e[l])&&$d(r)?e[l]=ov(e[l],r):$d(r)?e[l]=ov({},r):Dl(r)?e[l]=r.slice():e[l]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Yc(arguments[r],n);return e}const kB=(t,e,n,{allOwnKeys:r}={})=>(Yc(e,(a,l)=>{n&&Un(a)?t[l]=UI(a,n):t[l]=a},{allOwnKeys:r}),t),PB=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),DB=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},OB=(t,e,n,r)=>{let a,l,u;const h={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),l=a.length;l-- >0;)u=a[l],(!r||r(u,t,e))&&!h[u]&&(e[u]=t[u],h[u]=!0);t=n!==!1&&r0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},MB=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},VB=t=>{if(!t)return null;if(Dl(t))return t;let e=t.length;if(!zI(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},jB=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&r0(Uint8Array)),LB=(t,e)=>{const r=(t&&t[om]).call(t);let a;for(;(a=r.next())&&!a.done;){const l=a.value;e.call(t,l[0],l[1])}},UB=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},BB=Pr("HTMLFormElement"),FB=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),HS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),zB=Pr("RegExp"),GI=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Yc(n,(a,l)=>{let u;(u=e(a,l,t))!==!1&&(r[l]=u||a)}),Object.defineProperties(t,r)},qB=t=>{GI(t,(e,n)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Un(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},HB=(t,e)=>{const n={},r=a=>{a.forEach(l=>{n[l]=!0})};return Dl(t)?r(t):r(String(t).split(e)),n},GB=()=>{},$B=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function KB(t){return!!(t&&Un(t.append)&&t[BI]==="FormData"&&t[om])}const YB=t=>{const e=new Array(10),n=(r,a)=>{if(cm(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[a]=r;const l=Dl(r)?[]:{};return Yc(r,(u,h)=>{const d=n(u,a+1);!Nc(d)&&(l[h]=d)}),e[a]=void 0,l}}return r};return n(t,0)},WB=Pr("AsyncFunction"),QB=t=>t&&(cm(t)||Un(t))&&Un(t.then)&&Un(t.catch),$I=((t,e)=>t?setImmediate:e?((n,r)=>(qa.addEventListener("message",({source:a,data:l})=>{a===qa&&l===n&&r.length&&r.shift()()},!1),a=>{r.push(a),qa.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Un(qa.postMessage)),XB=typeof queueMicrotask<"u"?queueMicrotask.bind(qa):typeof process<"u"&&process.nextTick||$I,JB=t=>t!=null&&Un(t[om]),ne={isArray:Dl,isArrayBuffer:FI,isBuffer:pB,isFormData:xB,isArrayBufferView:gB,isString:yB,isNumber:zI,isBoolean:vB,isObject:cm,isPlainObject:$d,isReadableStream:AB,isRequest:RB,isResponse:CB,isHeaders:IB,isUndefined:Nc,isDate:_B,isFile:bB,isBlob:wB,isRegExp:zB,isFunction:Un,isStream:EB,isURLSearchParams:SB,isTypedArray:jB,isFileList:TB,forEach:Yc,merge:ov,extend:kB,trim:NB,stripBOM:PB,inherits:DB,toFlatObject:OB,kindOf:lm,kindOfTest:Pr,endsWith:MB,toArray:VB,forEachEntry:LB,matchAll:UB,isHTMLForm:BB,hasOwnProperty:HS,hasOwnProp:HS,reduceDescriptors:GI,freezeMethods:qB,toObjectSet:HB,toCamelCase:FB,noop:GB,toFiniteNumber:$B,findKey:qI,global:qa,isContextDefined:HI,isSpecCompliantForm:KB,toJSONObject:YB,isAsyncFn:WB,isThenable:QB,setImmediate:$I,asap:XB,isIterable:JB};function Le(t,e,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ne.inherits(Le,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ne.toJSONObject(this.config),code:this.code,status:this.status}}});const KI=Le.prototype,YI={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{YI[t]={value:t}});Object.defineProperties(Le,YI);Object.defineProperty(KI,"isAxiosError",{value:!0});Le.from=(t,e,n,r,a,l)=>{const u=Object.create(KI);return ne.toFlatObject(t,u,function(d){return d!==Error.prototype},h=>h!=="isAxiosError"),Le.call(u,t.message,e,n,r,a),u.cause=t,u.name=t.name,l&&Object.assign(u,l),u};const ZB=null;function lv(t){return ne.isPlainObject(t)||ne.isArray(t)}function WI(t){return ne.endsWith(t,"[]")?t.slice(0,-2):t}function GS(t,e,n){return t?t.concat(e).map(function(a,l){return a=WI(a),!n&&l?"["+a+"]":a}).join(n?".":""):e}function eF(t){return ne.isArray(t)&&!t.some(lv)}const tF=ne.toFlatObject(ne,{},null,function(e){return/^is[A-Z]/.test(e)});function hm(t,e,n){if(!ne.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(k,R){return!ne.isUndefined(R[k])});const r=n.metaTokens,a=n.visitor||g,l=n.dots,u=n.indexes,d=(n.Blob||typeof Blob<"u"&&Blob)&&ne.isSpecCompliantForm(e);if(!ne.isFunction(a))throw new TypeError("visitor must be a function");function m(S){if(S===null)return"";if(ne.isDate(S))return S.toISOString();if(!d&&ne.isBlob(S))throw new Le("Blob is not supported. Use a Buffer instead.");return ne.isArrayBuffer(S)||ne.isTypedArray(S)?d&&typeof Blob=="function"?new Blob([S]):Buffer.from(S):S}function g(S,k,R){let N=S;if(S&&!R&&typeof S=="object"){if(ne.endsWith(k,"{}"))k=r?k:k.slice(0,-2),S=JSON.stringify(S);else if(ne.isArray(S)&&eF(S)||(ne.isFileList(S)||ne.endsWith(k,"[]"))&&(N=ne.toArray(S)))return k=WI(k),N.forEach(function(O,G){!(ne.isUndefined(O)||O===null)&&e.append(u===!0?GS([k],G,l):u===null?k:k+"[]",m(O))}),!1}return lv(S)?!0:(e.append(GS(R,k,l),m(S)),!1)}const v=[],w=Object.assign(tF,{defaultVisitor:g,convertValue:m,isVisitable:lv});function x(S,k){if(!ne.isUndefined(S)){if(v.indexOf(S)!==-1)throw Error("Circular reference detected in "+k.join("."));v.push(S),ne.forEach(S,function(N,B){(!(ne.isUndefined(N)||N===null)&&a.call(e,N,ne.isString(B)?B.trim():B,k,w))===!0&&x(N,k?k.concat(B):[B])}),v.pop()}}if(!ne.isObject(t))throw new TypeError("data must be an object");return x(t),e}function $S(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function i0(t,e){this._pairs=[],t&&hm(t,this,e)}const QI=i0.prototype;QI.append=function(e,n){this._pairs.push([e,n])};QI.toString=function(e){const n=e?function(r){return e.call(this,r,$S)}:$S;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function nF(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function XI(t,e,n){if(!e)return t;const r=n&&n.encode||nF;ne.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let l;if(a?l=a(e,n):l=ne.isURLSearchParams(e)?e.toString():new i0(e,n).toString(r),l){const u=t.indexOf("#");u!==-1&&(t=t.slice(0,u)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class KS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ne.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JI={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rF=typeof URLSearchParams<"u"?URLSearchParams:i0,iF=typeof FormData<"u"?FormData:null,sF=typeof Blob<"u"?Blob:null,aF={isBrowser:!0,classes:{URLSearchParams:rF,FormData:iF,Blob:sF},protocols:["http","https","file","blob","url","data"]},s0=typeof window<"u"&&typeof document<"u",uv=typeof navigator=="object"&&navigator||void 0,oF=s0&&(!uv||["ReactNative","NativeScript","NS"].indexOf(uv.product)<0),lF=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",uF=s0&&window.location.href||"http://localhost",cF=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:s0,hasStandardBrowserEnv:oF,hasStandardBrowserWebWorkerEnv:lF,navigator:uv,origin:uF},Symbol.toStringTag,{value:"Module"})),bn={...cF,...aF};function hF(t,e){return hm(t,new bn.classes.URLSearchParams,Object.assign({visitor:function(n,r,a,l){return bn.isNode&&ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},e))}function dF(t){return ne.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function fF(t){const e={},n=Object.keys(t);let r;const a=n.length;let l;for(r=0;r<a;r++)l=n[r],e[l]=t[l];return e}function ZI(t){function e(n,r,a,l){let u=n[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=l>=n.length;return u=!u&&ne.isArray(a)?a.length:u,d?(ne.hasOwnProp(a,u)?a[u]=[a[u],r]:a[u]=r,!h):((!a[u]||!ne.isObject(a[u]))&&(a[u]=[]),e(n,r,a[u],l)&&ne.isArray(a[u])&&(a[u]=fF(a[u])),!h)}if(ne.isFormData(t)&&ne.isFunction(t.entries)){const n={};return ne.forEachEntry(t,(r,a)=>{e(dF(r),a,n,0)}),n}return null}function mF(t,e,n){if(ne.isString(t))try{return(e||JSON.parse)(t),ne.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Wc={transitional:JI,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,l=ne.isObject(e);if(l&&ne.isHTMLForm(e)&&(e=new FormData(e)),ne.isFormData(e))return a?JSON.stringify(ZI(e)):e;if(ne.isArrayBuffer(e)||ne.isBuffer(e)||ne.isStream(e)||ne.isFile(e)||ne.isBlob(e)||ne.isReadableStream(e))return e;if(ne.isArrayBufferView(e))return e.buffer;if(ne.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hF(e,this.formSerializer).toString();if((h=ne.isFileList(e))||r.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return hm(h?{"files[]":e}:e,d&&new d,this.formSerializer)}}return l||a?(n.setContentType("application/json",!1),mF(e)):e}],transformResponse:[function(e){const n=this.transitional||Wc.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(ne.isResponse(e)||ne.isReadableStream(e))return e;if(e&&ne.isString(e)&&(r&&!this.responseType||a)){const u=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(e)}catch(h){if(u)throw h.name==="SyntaxError"?Le.from(h,Le.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bn.classes.FormData,Blob:bn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ne.forEach(["delete","get","head","post","put","patch"],t=>{Wc.headers[t]={}});const pF=ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),gF=t=>{const e={};let n,r,a;return t&&t.split(`
`).forEach(function(u){a=u.indexOf(":"),n=u.substring(0,a).trim().toLowerCase(),r=u.substring(a+1).trim(),!(!n||e[n]&&pF[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},YS=Symbol("internals");function Gu(t){return t&&String(t).trim().toLowerCase()}function Kd(t){return t===!1||t==null?t:ne.isArray(t)?t.map(Kd):String(t)}function yF(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const vF=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function ly(t,e,n,r,a){if(ne.isFunction(r))return r.call(this,e,n);if(a&&(e=n),!!ne.isString(e)){if(ne.isString(r))return e.indexOf(r)!==-1;if(ne.isRegExp(r))return r.test(e)}}function _F(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function bF(t,e){const n=ne.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(a,l,u){return this[r].call(this,e,a,l,u)},configurable:!0})})}let Bn=class{constructor(e){e&&this.set(e)}set(e,n,r){const a=this;function l(h,d,m){const g=Gu(d);if(!g)throw new Error("header name must be a non-empty string");const v=ne.findKey(a,g);(!v||a[v]===void 0||m===!0||m===void 0&&a[v]!==!1)&&(a[v||d]=Kd(h))}const u=(h,d)=>ne.forEach(h,(m,g)=>l(m,g,d));if(ne.isPlainObject(e)||e instanceof this.constructor)u(e,n);else if(ne.isString(e)&&(e=e.trim())&&!vF(e))u(gF(e),n);else if(ne.isObject(e)&&ne.isIterable(e)){let h={},d,m;for(const g of e){if(!ne.isArray(g))throw TypeError("Object iterator must return a key-value pair");h[m=g[0]]=(d=h[m])?ne.isArray(d)?[...d,g[1]]:[d,g[1]]:g[1]}u(h,n)}else e!=null&&l(n,e,r);return this}get(e,n){if(e=Gu(e),e){const r=ne.findKey(this,e);if(r){const a=this[r];if(!n)return a;if(n===!0)return yF(a);if(ne.isFunction(n))return n.call(this,a,r);if(ne.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Gu(e),e){const r=ne.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||ly(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let a=!1;function l(u){if(u=Gu(u),u){const h=ne.findKey(r,u);h&&(!n||ly(r,r[h],h,n))&&(delete r[h],a=!0)}}return ne.isArray(e)?e.forEach(l):l(e),a}clear(e){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const l=n[r];(!e||ly(this,this[l],l,e,!0))&&(delete this[l],a=!0)}return a}normalize(e){const n=this,r={};return ne.forEach(this,(a,l)=>{const u=ne.findKey(r,l);if(u){n[u]=Kd(a),delete n[l];return}const h=e?_F(l):String(l).trim();h!==l&&delete n[l],n[h]=Kd(a),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return ne.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=e&&ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(a=>r.set(a)),r}static accessor(e){const r=(this[YS]=this[YS]={accessors:{}}).accessors,a=this.prototype;function l(u){const h=Gu(u);r[h]||(bF(a,u),r[h]=!0)}return ne.isArray(e)?e.forEach(l):l(e),this}};Bn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ne.reduceDescriptors(Bn.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});ne.freezeMethods(Bn);function uy(t,e){const n=this||Wc,r=e||n,a=Bn.from(r.headers);let l=r.data;return ne.forEach(t,function(h){l=h.call(n,l,a.normalize(),e?e.status:void 0)}),a.normalize(),l}function eN(t){return!!(t&&t.__CANCEL__)}function Ol(t,e,n){Le.call(this,t??"canceled",Le.ERR_CANCELED,e,n),this.name="CanceledError"}ne.inherits(Ol,Le,{__CANCEL__:!0});function tN(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Le("Request failed with status code "+n.status,[Le.ERR_BAD_REQUEST,Le.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function wF(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function TF(t,e){t=t||10;const n=new Array(t),r=new Array(t);let a=0,l=0,u;return e=e!==void 0?e:1e3,function(d){const m=Date.now(),g=r[l];u||(u=m),n[a]=d,r[a]=m;let v=l,w=0;for(;v!==a;)w+=n[v++],v=v%t;if(a=(a+1)%t,a===l&&(l=(l+1)%t),m-u<e)return;const x=g&&m-g;return x?Math.round(w*1e3/x):void 0}}function EF(t,e){let n=0,r=1e3/e,a,l;const u=(m,g=Date.now())=>{n=g,a=null,l&&(clearTimeout(l),l=null),t.apply(null,m)};return[(...m)=>{const g=Date.now(),v=g-n;v>=r?u(m,g):(a=m,l||(l=setTimeout(()=>{l=null,u(a)},r-v)))},()=>a&&u(a)]}const Af=(t,e,n=3)=>{let r=0;const a=TF(50,250);return EF(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,d=u-r,m=a(d),g=u<=h;r=u;const v={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&g?(h-u)/m:void 0,event:l,lengthComputable:h!=null,[e?"download":"upload"]:!0};t(v)},n)},WS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},QS=t=>(...e)=>ne.asap(()=>t(...e)),xF=bn.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,bn.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(bn.origin),bn.navigator&&/(msie|trident)/i.test(bn.navigator.userAgent)):()=>!0,SF=bn.hasStandardBrowserEnv?{write(t,e,n,r,a,l){const u=[t+"="+encodeURIComponent(e)];ne.isNumber(n)&&u.push("expires="+new Date(n).toGMTString()),ne.isString(r)&&u.push("path="+r),ne.isString(a)&&u.push("domain="+a),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function AF(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function RF(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function nN(t,e,n){let r=!AF(e);return t&&(r||n==!1)?RF(t,e):e}const XS=t=>t instanceof Bn?{...t}:t;function to(t,e){e=e||{};const n={};function r(m,g,v,w){return ne.isPlainObject(m)&&ne.isPlainObject(g)?ne.merge.call({caseless:w},m,g):ne.isPlainObject(g)?ne.merge({},g):ne.isArray(g)?g.slice():g}function a(m,g,v,w){if(ne.isUndefined(g)){if(!ne.isUndefined(m))return r(void 0,m,v,w)}else return r(m,g,v,w)}function l(m,g){if(!ne.isUndefined(g))return r(void 0,g)}function u(m,g){if(ne.isUndefined(g)){if(!ne.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function h(m,g,v){if(v in e)return r(m,g);if(v in t)return r(void 0,m)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,g,v)=>a(XS(m),XS(g),v,!0)};return ne.forEach(Object.keys(Object.assign({},t,e)),function(g){const v=d[g]||a,w=v(t[g],e[g],g);ne.isUndefined(w)&&v!==h||(n[g]=w)}),n}const rN=t=>{const e=to({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:l,headers:u,auth:h}=e;e.headers=u=Bn.from(u),e.url=XI(nN(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let d;if(ne.isFormData(n)){if(bn.hasStandardBrowserEnv||bn.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if((d=u.getContentType())!==!1){const[m,...g]=d?d.split(";").map(v=>v.trim()).filter(Boolean):[];u.setContentType([m||"multipart/form-data",...g].join("; "))}}if(bn.hasStandardBrowserEnv&&(r&&ne.isFunction(r)&&(r=r(e)),r||r!==!1&&xF(e.url))){const m=a&&l&&SF.read(l);m&&u.set(a,m)}return e},CF=typeof XMLHttpRequest<"u",IF=CF&&function(t){return new Promise(function(n,r){const a=rN(t);let l=a.data;const u=Bn.from(a.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:m}=a,g,v,w,x,S;function k(){x&&x(),S&&S(),a.cancelToken&&a.cancelToken.unsubscribe(g),a.signal&&a.signal.removeEventListener("abort",g)}let R=new XMLHttpRequest;R.open(a.method.toUpperCase(),a.url,!0),R.timeout=a.timeout;function N(){if(!R)return;const O=Bn.from("getAllResponseHeaders"in R&&R.getAllResponseHeaders()),H={data:!h||h==="text"||h==="json"?R.responseText:R.response,status:R.status,statusText:R.statusText,headers:O,config:t,request:R};tN(function(D){n(D),k()},function(D){r(D),k()},H),R=null}"onloadend"in R?R.onloadend=N:R.onreadystatechange=function(){!R||R.readyState!==4||R.status===0&&!(R.responseURL&&R.responseURL.indexOf("file:")===0)||setTimeout(N)},R.onabort=function(){R&&(r(new Le("Request aborted",Le.ECONNABORTED,t,R)),R=null)},R.onerror=function(){r(new Le("Network Error",Le.ERR_NETWORK,t,R)),R=null},R.ontimeout=function(){let G=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const H=a.transitional||JI;a.timeoutErrorMessage&&(G=a.timeoutErrorMessage),r(new Le(G,H.clarifyTimeoutError?Le.ETIMEDOUT:Le.ECONNABORTED,t,R)),R=null},l===void 0&&u.setContentType(null),"setRequestHeader"in R&&ne.forEach(u.toJSON(),function(G,H){R.setRequestHeader(H,G)}),ne.isUndefined(a.withCredentials)||(R.withCredentials=!!a.withCredentials),h&&h!=="json"&&(R.responseType=a.responseType),m&&([w,S]=Af(m,!0),R.addEventListener("progress",w)),d&&R.upload&&([v,x]=Af(d),R.upload.addEventListener("progress",v),R.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(g=O=>{R&&(r(!O||O.type?new Ol(null,t,R):O),R.abort(),R=null)},a.cancelToken&&a.cancelToken.subscribe(g),a.signal&&(a.signal.aborted?g():a.signal.addEventListener("abort",g)));const B=wF(a.url);if(B&&bn.protocols.indexOf(B)===-1){r(new Le("Unsupported protocol "+B+":",Le.ERR_BAD_REQUEST,t));return}R.send(l||null)})},NF=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,a;const l=function(m){if(!a){a=!0,h();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Le?g:new Ol(g instanceof Error?g.message:g))}};let u=e&&setTimeout(()=>{u=null,l(new Le(`timeout ${e} of ms exceeded`,Le.ETIMEDOUT))},e);const h=()=>{t&&(u&&clearTimeout(u),u=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:d}=r;return d.unsubscribe=()=>ne.asap(h),d}},kF=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,a;for(;r<n;)a=r+e,yield t.slice(r,a),r=a},PF=async function*(t,e){for await(const n of DF(t))yield*kF(n,e)},DF=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},JS=(t,e,n,r)=>{const a=PF(t,e);let l=0,u,h=d=>{u||(u=!0,r&&r(d))};return new ReadableStream({async pull(d){try{const{done:m,value:g}=await a.next();if(m){h(),d.close();return}let v=g.byteLength;if(n){let w=l+=v;n(w)}d.enqueue(new Uint8Array(g))}catch(m){throw h(m),m}},cancel(d){return h(d),a.return()}},{highWaterMark:2})},dm=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",iN=dm&&typeof ReadableStream=="function",OF=dm&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),sN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},MF=iN&&sN(()=>{let t=!1;const e=new Request(bn.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),ZS=64*1024,cv=iN&&sN(()=>ne.isReadableStream(new Response("").body)),Rf={stream:cv&&(t=>t.body)};dm&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Rf[e]&&(Rf[e]=ne.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new Le(`Response type '${e}' is not supported`,Le.ERR_NOT_SUPPORT,r)})})})(new Response);const VF=async t=>{if(t==null)return 0;if(ne.isBlob(t))return t.size;if(ne.isSpecCompliantForm(t))return(await new Request(bn.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(ne.isArrayBufferView(t)||ne.isArrayBuffer(t))return t.byteLength;if(ne.isURLSearchParams(t)&&(t=t+""),ne.isString(t))return(await OF(t)).byteLength},jF=async(t,e)=>{const n=ne.toFiniteNumber(t.getContentLength());return n??VF(e)},LF=dm&&(async t=>{let{url:e,method:n,data:r,signal:a,cancelToken:l,timeout:u,onDownloadProgress:h,onUploadProgress:d,responseType:m,headers:g,withCredentials:v="same-origin",fetchOptions:w}=rN(t);m=m?(m+"").toLowerCase():"text";let x=NF([a,l&&l.toAbortSignal()],u),S;const k=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let R;try{if(d&&MF&&n!=="get"&&n!=="head"&&(R=await jF(g,r))!==0){let H=new Request(e,{method:"POST",body:r,duplex:"half"}),M;if(ne.isFormData(r)&&(M=H.headers.get("content-type"))&&g.setContentType(M),H.body){const[D,A]=WS(R,Af(QS(d)));r=JS(H.body,ZS,D,A)}}ne.isString(v)||(v=v?"include":"omit");const N="credentials"in Request.prototype;S=new Request(e,{...w,signal:x,method:n.toUpperCase(),headers:g.normalize().toJSON(),body:r,duplex:"half",credentials:N?v:void 0});let B=await fetch(S);const O=cv&&(m==="stream"||m==="response");if(cv&&(h||O&&k)){const H={};["status","statusText","headers"].forEach(I=>{H[I]=B[I]});const M=ne.toFiniteNumber(B.headers.get("content-length")),[D,A]=h&&WS(M,Af(QS(h),!0))||[];B=new Response(JS(B.body,ZS,D,()=>{A&&A(),k&&k()}),H)}m=m||"text";let G=await Rf[ne.findKey(Rf,m)||"text"](B,t);return!O&&k&&k(),await new Promise((H,M)=>{tN(H,M,{data:G,headers:Bn.from(B.headers),status:B.status,statusText:B.statusText,config:t,request:S})})}catch(N){throw k&&k(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Le("Network Error",Le.ERR_NETWORK,t,S),{cause:N.cause||N}):Le.from(N,N&&N.code,t,S)}}),hv={http:ZB,xhr:IF,fetch:LF};ne.forEach(hv,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const eA=t=>`- ${t}`,UF=t=>ne.isFunction(t)||t===null||t===!1,aN={getAdapter:t=>{t=ne.isArray(t)?t:[t];const{length:e}=t;let n,r;const a={};for(let l=0;l<e;l++){n=t[l];let u;if(r=n,!UF(n)&&(r=hv[(u=String(n)).toLowerCase()],r===void 0))throw new Le(`Unknown adapter '${u}'`);if(r)break;a[u||"#"+l]=r}if(!r){const l=Object.entries(a).map(([h,d])=>`adapter ${h} `+(d===!1?"is not supported by the environment":"is not available in the build"));let u=e?l.length>1?`since :
`+l.map(eA).join(`
`):" "+eA(l[0]):"as no adapter specified";throw new Le("There is no suitable adapter to dispatch the request "+u,"ERR_NOT_SUPPORT")}return r},adapters:hv};function cy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Ol(null,t)}function tA(t){return cy(t),t.headers=Bn.from(t.headers),t.data=uy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),aN.getAdapter(t.adapter||Wc.adapter)(t).then(function(r){return cy(t),r.data=uy.call(t,t.transformResponse,r),r.headers=Bn.from(r.headers),r},function(r){return eN(r)||(cy(t),r&&r.response&&(r.response.data=uy.call(t,t.transformResponse,r.response),r.response.headers=Bn.from(r.response.headers))),Promise.reject(r)})}const oN="1.9.0",fm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{fm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const nA={};fm.transitional=function(e,n,r){function a(l,u){return"[Axios v"+oN+"] Transitional option '"+l+"'"+u+(r?". "+r:"")}return(l,u,h)=>{if(e===!1)throw new Le(a(u," has been removed"+(n?" in "+n:"")),Le.ERR_DEPRECATED);return n&&!nA[u]&&(nA[u]=!0,console.warn(a(u," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(l,u,h):!0}};fm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function BF(t,e,n){if(typeof t!="object")throw new Le("options must be an object",Le.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let a=r.length;for(;a-- >0;){const l=r[a],u=e[l];if(u){const h=t[l],d=h===void 0||u(h,l,t);if(d!==!0)throw new Le("option "+l+" must be "+d,Le.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Le("Unknown option "+l,Le.ERR_BAD_OPTION)}}const Yd={assertOptions:BF,validators:fm},Qr=Yd.validators;let Ka=class{constructor(e){this.defaults=e||{},this.interceptors={request:new KS,response:new KS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=to(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:l}=n;r!==void 0&&Yd.assertOptions(r,{silentJSONParsing:Qr.transitional(Qr.boolean),forcedJSONParsing:Qr.transitional(Qr.boolean),clarifyTimeoutError:Qr.transitional(Qr.boolean)},!1),a!=null&&(ne.isFunction(a)?n.paramsSerializer={serialize:a}:Yd.assertOptions(a,{encode:Qr.function,serialize:Qr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Yd.assertOptions(n,{baseUrl:Qr.spelling("baseURL"),withXsrfToken:Qr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let u=l&&ne.merge(l.common,l[n.method]);l&&ne.forEach(["delete","get","head","post","put","patch","common"],S=>{delete l[S]}),n.headers=Bn.concat(u,l);const h=[];let d=!0;this.interceptors.request.forEach(function(k){typeof k.runWhen=="function"&&k.runWhen(n)===!1||(d=d&&k.synchronous,h.unshift(k.fulfilled,k.rejected))});const m=[];this.interceptors.response.forEach(function(k){m.push(k.fulfilled,k.rejected)});let g,v=0,w;if(!d){const S=[tA.bind(this),void 0];for(S.unshift.apply(S,h),S.push.apply(S,m),w=S.length,g=Promise.resolve(n);v<w;)g=g.then(S[v++],S[v++]);return g}w=h.length;let x=n;for(v=0;v<w;){const S=h[v++],k=h[v++];try{x=S(x)}catch(R){k.call(this,R);break}}try{g=tA.call(this,x)}catch(S){return Promise.reject(S)}for(v=0,w=m.length;v<w;)g=g.then(m[v++],m[v++]);return g}getUri(e){e=to(this.defaults,e);const n=nN(e.baseURL,e.url,e.allowAbsoluteUrls);return XI(n,e.params,e.paramsSerializer)}};ne.forEach(["delete","get","head","options"],function(e){Ka.prototype[e]=function(n,r){return this.request(to(r||{},{method:e,url:n,data:(r||{}).data}))}});ne.forEach(["post","put","patch"],function(e){function n(r){return function(l,u,h){return this.request(to(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}Ka.prototype[e]=n(),Ka.prototype[e+"Form"]=n(!0)});let FF=class lN{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(l){n=l});const r=this;this.promise.then(a=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](a);r._listeners=null}),this.promise.then=a=>{let l;const u=new Promise(h=>{r.subscribe(h),l=h}).then(a);return u.cancel=function(){r.unsubscribe(l)},u},e(function(l,u,h){r.reason||(r.reason=new Ol(l,u,h),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lN(function(a){e=a}),cancel:e}}};function zF(t){return function(n){return t.apply(null,n)}}function qF(t){return ne.isObject(t)&&t.isAxiosError===!0}const dv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(dv).forEach(([t,e])=>{dv[e]=t});function uN(t){const e=new Ka(t),n=UI(Ka.prototype.request,e);return ne.extend(n,Ka.prototype,e,{allOwnKeys:!0}),ne.extend(n,e,null,{allOwnKeys:!0}),n.create=function(a){return uN(to(t,a))},n}const Vt=uN(Wc);Vt.Axios=Ka;Vt.CanceledError=Ol;Vt.CancelToken=FF;Vt.isCancel=eN;Vt.VERSION=oN;Vt.toFormData=hm;Vt.AxiosError=Le;Vt.Cancel=Vt.CanceledError;Vt.all=function(e){return Promise.all(e)};Vt.spread=zF;Vt.isAxiosError=qF;Vt.mergeConfig=to;Vt.AxiosHeaders=Bn;Vt.formToJSON=t=>ZI(ne.isHTMLForm(t)?new FormData(t):t);Vt.getAdapter=aN.getAdapter;Vt.HttpStatusCode=dv;Vt.default=Vt;const{Axios:Pz,AxiosError:Dz,CanceledError:Oz,isCancel:Mz,CancelToken:Vz,VERSION:jz,all:Lz,Cancel:Uz,isAxiosError:Bz,spread:Fz,toFormData:zz,AxiosHeaders:qz,HttpStatusCode:Hz,formToJSON:Gz,getAdapter:$z,mergeConfig:Kz}=Vt,HF="https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5/pose.js",GF="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils@0.3/camera_utils.js",$F="FitnGroDB",Ha="workoutProgress";let Fi;async function a0(){return new Promise((t,e)=>{const n=indexedDB.open($F,1);n.onupgradeneeded=r=>{r.target.result.createObjectStore(Ha,{keyPath:"id",autoIncrement:!0})},n.onsuccess=()=>{Fi=n.result,t(Fi)},n.onerror=()=>e(n.error)})}async function KF(t){try{Fi||(Fi=await a0()),await Fi.transaction(Ha,"readwrite").objectStore(Ha).add(t)}catch(e){console.error("Error storing progress:",e)}}async function YF(t){if(navigator.onLine)try{Fi||(Fi=await a0());const r=Fi.transaction(Ha,"readwrite").objectStore(Ha).getAll();r.onsuccess=async()=>{const a=r.result;for(const l of a)try{(await fetch("/track-exercise",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userEmail:l.userEmail,exerciseName:l.exerciseName,currentSet:l.currentSet,totalSets:l.totalSets,targetReps:l.targetReps,currentReps:l.repsCompleted})})).ok&&Fi.transaction(Ha,"readwrite").objectStore(Ha).delete(l.id)}catch(u){console.error("Error syncing record:",u)}}}catch(e){console.error("Error syncing progress:",e)}}async function WF(){var t,e;try{const n=await navigator.mediaDevices.getUserMedia({video:!0}),r=n.getVideoTracks()[0].getCapabilities();n.getTracks().forEach(u=>u.stop());const a=Math.min(((t=r.width)==null?void 0:t.max)||640,640),l=Math.min(((e=r.height)==null?void 0:e.max)||480,a*(480/640));return{width:a,height:l}}catch(n){return console.error("Resolution detection error:",n),{width:640,height:480}}}async function o0(){return new Promise((t,e)=>{if(window.Pose&&window.Camera){t();return}let n=0;const r=2;function a(){n++,n===r&&t()}const l=document.createElement("script");l.src=HF,l.onload=a,l.onerror=()=>e(new Error("Failed to load MediaPipe Pose")),document.head.appendChild(l);const u=document.createElement("script");u.src=GF,u.onload=a,u.onerror=()=>e(new Error("Failed to load MediaPipe Camera Utils")),document.head.appendChild(u)})}async function QF(t=1){try{await o0();const e=new window.Pose({locateFile:n=>`https://cdn.jsdelivr.net/npm/@mediapipe/pose@0.5/${n}`});return e.setOptions({modelComplexity:t,smoothLandmarks:!0,enableSegmentation:!1,minDetectionConfidence:.5,minTrackingConfidence:.5,selfieMode:!0,upperBodyOnly:!0}),await e.initialize(),console.log("MediaPipe Pose initialized"),e}catch(e){throw console.error("Error initializing MediaPipe Pose:",e),e}}async function XF(t,e){try{return await o0(),new window.Camera(t,{onFrame:async()=>{await pose.send({image:t})},width:640,height:480})}catch(n){throw console.error("Error initializing MediaPipe Camera:",n),n}}const rA={"push-ups":()=>Nn(()=>import("./pushUps-S1lhl-aB.js"),[]).then(t=>t.monitorPushUps)},Yz={openDB:a0,storeProgress:KF,syncProgress:YF,getOptimalResolution:WF,initPose:QF,initCamera:XF,loadMediaPipeScripts:o0};var JF={};const ZF=t=>t.replace(/[\u{1F600}-\u{1F6FF}]/gu,"").replace(/[\u{1F300}-\u{1F5FF}]/gu,"").replace(/[\u{1F900}-\u{1F9FF}]/gu,"").replace(/[\u{2600}-\u{26FF}]/gu,"").replace(/[\u{2700}-\u{27BF}]/gu,"").replace(/[\u{2300}-\u{23FF}]/gu,"").replace(/\s+/g," ").trim(),ez=()=>{const{userEmail:t,workoutName:e}=yv(),n=Zn(),r=Ji(),a=L.useRef(null),[l,u]=L.useState(null),[h,d]=L.useState(3),[m,g]=L.useState(20),[v,w]=L.useState(0),[x,S]=L.useState(!0),[k,R]=L.useState(null),[N,B]=L.useState(1),[O,G]=L.useState([]),[H,M]=L.useState(0),[D,A]=L.useState(0),[I,j]=L.useState(0),[F,q]=L.useState("Starting workout..."),[V,re]=L.useState(!1),[pe,K]=L.useState(0),[ie,fe]=L.useState(!1),[le,U]=L.useState("user"),[X,oe]=L.useState(!1),se=30,ye={"Burpees (No Push-up)":{description:"Start in a standing position, drop to push-up position, push back up and jump.",videoUrl:"https://www.youtube.com/watch?v=TU8QYVW0gDU"},"Squats (Holding Chair for Balance)":{description:"Stand with feet shoulder-width apart, lower hips until knees bend at 90.",videoUrl:"https://www.youtube.com/watch?v=aclHkVaku9U"},"Push-ups":{description:"Lie face down, place hands shoulder-width apart, push body up until arms are extended, then lower back down.",videoUrl:"https://www.youtube.com/watch?v=IODxDxX7oi4"}},Te=ZF(e);L.useEffect(()=>{(async()=>{var We,ze,et,me;try{if(S(!0),n.state){const at=((We=n.state)==null?void 0:We.sets)||3,Dr=((ze=n.state)==null?void 0:ze.reps)||20;d(at),g(Dr),w(at*Dr),G(n.state.workoutList||[]),M(n.state.currentIndex||0),u({name:e,description:((et=ye[e])==null?void 0:et.description)||`No description for ${e}`,videoUrl:((me=ye[e])==null?void 0:me.videoUrl)||null,muscle:n.state.muscle||"General Fitness",instructions:n.state.instructions||"Follow the video and form."})}const be=ye[e]||{description:`No description available for ${e}`,videoUrl:null};u(at=>({...at,...be}));const Ve=oi(Jn,"exercises",e),rt=await eo(Ve);if(rt.exists()){const at=rt.data();u(Dr=>({...Dr,muscle:at.muscle,instructions:at.instructions}))}}catch(be){console.error(be),R("Failed to load exercise details.")}finally{S(!1)}})()},[e,n.state]),L.useEffect(()=>{if(x||!X)return;let Se=null;return(async()=>{const ze=e.toLowerCase().replace(/\s+/g,"-");if(rA[ze])try{Se=await(await rA[ze]())({targetReps:m,totalSets:h,currentSet:N,userEmail:t,cameraFacing:le,videoRef:a,onFeedback:me=>{q(me),console.log(`[ExerciseDetailPage] Feedback: ${me}`)},onComplete:async({completed:me,reps:be,feedback:Ve,currentSet:rt})=>{if(me){A(at=>at+be),j(be),q(Ve);try{await Vt.post(`${JF.REACT_APP_API_URL}/track-exercise`,{userEmail:t,exerciseName:e,currentSet:rt,totalSets:h,targetReps:m,currentReps:be}),console.log("[ExerciseDetailPage] Workout progress logged to backend")}catch(at){console.error("[ExerciseDetailPage] Failed to log workout progress:",at)}rt<h?(re(!0),K(se),B(rt+1),j(0)):Ee()}}})}catch(et){console.error("[ExerciseDetailPage] Error starting workout:",et),R("Failed to start workout tracking. Please try again."),oe(!1)}else R("Workout tracking not available for this exercise."),oe(!1)})(),()=>{Se!=null&&Se.stop&&(Se.stop(),console.log("[ExerciseDetailPage] Workout monitoring stopped"))}},[x,e,t,m,h,N,X,le]),L.useEffect(()=>{if(V){const Se=setInterval(()=>{K(We=>{const ze=We-1;return ze<=0?(re(!1),q(`Rest completed! Start Set ${N} of ${h}.`),console.log(`[ExerciseDetailPage] Rest completed for Set ${N}.`),0):ze})},1e3);return()=>clearInterval(Se)}},[V,N,h]);const Ee=()=>{setTimeout(()=>{H<O.length-1?r(`/exercise/${t}/${O[H+1].name}`,{state:{...O[H+1],workoutList:O,currentIndex:H+1}}):r("/dashboard",{state:{workoutCompleted:!0}})},1e3)},ct=()=>{oe(!0),q("Workout started! Position yourself in frame.")},$e=()=>{oe(!1),q("Workout stopped.")},je=()=>{U(Se=>Se==="user"?"environment":"user")},Qt=I/m*100,xn=D/v*100,Sn=()=>{r(-1)};return x?_.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:_.jsxs("div",{className:"text-center",children:[_.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Loading exercise details..."})]})}):k?_.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-lg text-center max-w-sm",children:[_.jsx("h3",{className:"text-xl font-semibold text-red-600",children:"Error"}),_.jsx("p",{className:"mt-2 text-gray-600",children:k}),_.jsx("button",{onClick:Sn,className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700",children:"Go Back"})]})}):_.jsx("div",{className:"min-h-screen bg-gray-100",children:_.jsxs("div",{className:"container mx-auto p-4 sm:p-6",children:[_.jsxs("div",{className:"flex items-center justify-between mb-6",children:[_.jsxs("button",{onClick:Sn,className:"flex items-center text-indigo-600 hover:text-indigo-800",children:[_.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:_.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"Back"]}),_.jsx("h1",{className:"text-xl font-bold text-gray-800 truncate",children:Te}),_.jsx("div",{className:"w-16"})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:Te}),_.jsx("p",{className:"text-gray-600 text-sm",children:l==null?void 0:l.description}),_.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[_.jsx("strong",{children:"Target Muscle:"})," ",(l==null?void 0:l.muscle)||"General Fitness"]}),_.jsxs("p",{className:"text-gray-600 text-sm mt-2",children:[_.jsx("strong",{children:"Instructions:"})," ",(l==null?void 0:l.instructions)||"Follow the video and form."]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("button",{onClick:()=>fe(!ie),className:"w-full bg-indigo-600 text-white py-2 rounded-lg hover:bg-indigo-700",children:ie?"Hide Demo Video":"Show Demo Video"}),ie&&_.jsx("div",{className:"mt-4",children:l!=null&&l.videoUrl?_.jsx(fB,{url:l.videoUrl,controls:!0,width:"100%",height:"auto",className:"rounded-lg"}):_.jsx("div",{className:"text-center text-gray-500",children:"Video demonstration coming soon!"})})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Camera Controls"}),_.jsx("div",{className:"relative mb-4",children:_.jsxs("button",{onClick:ct,disabled:X,className:"relative w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 disabled:bg-gray-400",children:[_.jsx("video",{ref:a,autoPlay:!0,playsInline:!0,className:"absolute top-1 right-1 w-16 h-12 rounded-lg object-cover",style:{transform:le==="user"?"scaleX(-1)":"none"}}),"Start Workout"]})}),_.jsxs("div",{className:"flex space-x-2",children:[_.jsx("button",{onClick:$e,disabled:!X,className:"flex-1 bg-red-500 text-white py-2 rounded-lg hover:bg-red-600 disabled:bg-gray-400",children:"Stop Workout"}),_.jsxs("button",{onClick:je,className:"flex-1 bg-gray-600 text-white py-2 rounded-lg hover:bg-gray-700",children:["Switch to ",le==="user"?"Back":"Front"," Camera"]})]})]})]}),_.jsxs("div",{className:"md:col-span-2 space-y-6",children:[_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Workout Progress"}),_.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[N,"/",h]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Sets"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[I,"/",m]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Set Reps"})]}),_.jsxs("div",{className:"text-center",children:[_.jsxs("div",{className:"text-2xl font-bold text-indigo-600",children:[D,"/",v]}),_.jsx("div",{className:"text-sm text-gray-600",children:"Total Reps"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[_.jsx("span",{children:"Current Set"}),_.jsxs("span",{children:[I,"/",m]})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${Qt}%`}})})]}),_.jsxs("div",{children:[_.jsxs("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[_.jsx("span",{children:"Total Progress"}),_.jsxs("span",{children:[D,"/",v]})]}),_.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:_.jsx("div",{className:"bg-indigo-600 h-2 rounded-full",style:{width:`${xn}%`}})})]})]})]}),_.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Live Feedback"}),_.jsx("div",{className:"bg-indigo-50 p-4 rounded-lg",children:_.jsx("p",{className:"text-gray-800",children:F})}),V&&_.jsxs("div",{className:"mt-4 bg-orange-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex justify-between mb-2",children:[_.jsx("span",{className:"text-gray-800",children:"Rest Time"}),_.jsxs("span",{className:"text-lg font-bold text-orange-600",children:[Math.ceil(pe),"s"]})]}),_.jsx("div",{className:"w-full bg-orange-200 rounded-full h-2",children:_.jsx("div",{className:"bg-orange-600 h-2 rounded-full",style:{width:`${(se-pe)/se*100}%`}})})]})]})]})]})]})})},tz=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(null),a=_1();L.useEffect(()=>{(async()=>{try{const d=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts");if(!d.ok)throw new Error("Failed to fetch experts");const m=await d.json();e(m.filter(g=>!g.approved))}catch(d){r("Failed to fetch experts: "+d.message)}})()},[]);const l=async h=>{try{const d=await a.currentUser.getIdToken();if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approve-expert",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Authorization:`Bearer ${d}`},body:`user_email=${encodeURIComponent(h)}`})).ok)throw new Error("Failed to approve expert");e(t.filter(g=>g.user_email!==h)),alert("Expert approved successfully")}catch(d){r("Error approving expert: "+d.message)}},u={container:{padding:"20px",maxWidth:"800px",margin:"0 auto",fontFamily:"Arial, sans-serif"},heading:{fontSize:"24px",marginBottom:"20px",color:"#333"},error:{color:"red",marginBottom:"10px"},list:{listStyle:"none",padding:0},item:{background:"#f9f9f9",padding:"15px",marginBottom:"10px",borderRadius:"5px",border:"1px solid #ddd"},button:{background:"#28a745",color:"white",border:"none",padding:"8px 16px",borderRadius:"4px",cursor:"pointer",marginTop:"10px"},link:{color:"#007bff",textDecoration:"none",marginRight:"10px"}};return _.jsxs("div",{style:u.container,children:[_.jsx("h2",{style:u.heading,children:"Pending Expert Approvals"}),n&&_.jsx("p",{style:u.error,children:n}),t.length===0&&_.jsx("p",{children:"No pending approvals"}),_.jsx("ul",{style:u.list,children:t.map(h=>_.jsxs("li",{style:u.item,children:[_.jsx("strong",{children:h.name})," (",h.user_email,")",_.jsx("br",{}),"Specialist: ",h.specialist," | Expertise: ",h.expertise,_.jsx("br",{}),"Age: ",h.age," | Fee: $",h.client_fee,_.jsx("br",{}),"Bio: ",h.bio,_.jsx("br",{}),_.jsx("a",{href:h.certification_url,target:"_blank",rel:"noopener noreferrer",style:u.link,children:"View Certificate"}),_.jsx("br",{}),_.jsx("button",{onClick:()=>l(h.user_email),style:u.button,children:"Approve"})]},h.user_email))})]})},nz=()=>{const t=Zn(),{expertData:e}=t.state||{};if(!e)return _.jsx("p",{style:{color:"red",textAlign:"center"},children:"Error: No expert data provided."});const n={backgroundColor:"#1e1e1e",color:"#f0f0f0",padding:"20px",borderRadius:"8px",maxWidth:"1000px",margin:"30px auto",fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",boxShadow:"0 4px 8px rgba(0,0,0,0.3)"},r={color:"#ffd700",marginBottom:"15px"},a={fontSize:"16px",lineHeight:"1.5",margin:"8px 0"},l={display:"inline-block",marginTop:"15px",color:"#1e90ff",textDecoration:"none",fontWeight:"600",cursor:"pointer"};return _.jsx("div",{children:_.jsxs("div",{style:n,children:[_.jsxs("h2",{style:r,children:["Welcome, ",e.name]}),_.jsxs("p",{style:a,children:["Email: ",e.email]}),_.jsxs("p",{style:a,children:["Specialist: ",e.specialist]}),_.jsxs("p",{style:a,children:["Expertise: ",e.expertise]}),_.jsxs("p",{style:a,children:["Client Fee: ",e.clientFee]}),_.jsxs("p",{style:a,children:["Bio: ",e.bio]}),_.jsx("a",{href:e.certificationUrl,target:"_blank",rel:"noopener noreferrer",style:l,onMouseOver:u=>u.currentTarget.style.textDecoration="underline",onMouseOut:u=>u.currentTarget.style.textDecoration="none",children:"View Certificate"})]})})},rz={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2}}},iz={hidden:{opacity:0,x:-20},visible:{opacity:1,x:0}},sz=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(""),[a,l]=L.useState(!1),u=Ji(),h=Zn(),d=Ct.currentUser,m=L.useRef(null),{clientEmail:g,expertEmail:v}=h.state||{},w=d==null?void 0:d.email.trim().toLowerCase(),x=w===v,S=(g||w).trim().toLowerCase(),k=x?S:v,R=S&&v?`chat_${S.replace(".","_")}_${v.replace(".","_")}`:null,N=()=>{var G;(G=m.current)==null||G.scrollIntoView({behavior:"smooth"})};L.useEffect(()=>{(!d||!S||!v)&&(console.error("Missing auth or chat room details",{currentUser:d,clientEmail:S,expertEmail:v}),u("/?showAuth=true"))},[d,S,v,u]),L.useEffect(()=>{if(!R)return;const G=gf(Jn,"chats",R,"messages"),H=vf(G,bL("timestamp","asc")),M=By(H,async D=>{const A=D.docs.map(F=>({id:F.id,...F.data()}));e(A),N();const I=vf(G,sc("sender","==",x?S:v),sc("read","==",!1));(await EL(I)).forEach(async F=>{await xL(F.ref,{read:!0})})},D=>{console.error("Error fetching messages:",D),alert(`Failed to load messages: ${D.message}`)});return()=>M()},[R,x,S,v]);const B=async G=>{if(G.preventDefault(),!(!n.trim()||!R))try{const H=gf(Jn,"chats",R,"messages");await SL(H,{sender:w,text:n,timestamp:tC(),senderType:x?"expert":"client",read:!1}),r("")}catch(H){console.error("Error sending message:",H),alert("Failed to send message. Please try again.")}},O=({clientEmail:G,onClose:H})=>{const[M,D]=L.useState([]),[A,I]=L.useState({}),[j,F]=L.useState("day1"),[q,V]=L.useState([]);L.useEffect(()=>{const K=async()=>{try{const fe=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/get-all-workouts",{headers:{Authorization:`Bearer ${await Ct.currentUser.getIdToken()}`}});if(!fe.ok)throw new Error("Failed to fetch workouts");const le=await fe.json();D(le.workouts)}catch(fe){console.error("Error fetching workouts:",fe),alert("Failed to fetch workouts")}},ie=()=>{const fe=new Date,le=fe.getFullYear(),U=fe.getMonth(),X=new Date(le,U+1,0).getDate(),oe=[2,6],se=[];for(let Te=1;Te<=X;Te++){const Ee=new Date(le,U,Te);se.push({day:Te,isRest:oe.includes(Ee.getDay()),isToday:Te===fe.getDate()&&U===fe.getMonth()&&le===fe.getFullYear()})}V(se);const ye={};for(let Te=1;Te<=X;Te++)ye[`day${Te}`]=[];I(ye)};K(),ie()},[]);const re=(K,ie,fe,le)=>{I(U=>{const X=U[j]||[],oe=X.find(ye=>ye.name===K.name);let se;if(oe)se=X.filter(ye=>ye.name!==K.name);else{const ye={name:K.name};K.category==="main"?(ye.sets=parseInt(ie)||3,ye.reps=parseInt(fe)||10):ye.duration=le||30,se=[...X,ye]}return{...U,[j]:se}})},pe=async()=>{try{if(!(await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/create-workout-plan",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${await Ct.currentUser.getIdToken()}`},body:JSON.stringify({user_email:G,selected_workouts:A})})).ok)throw new Error("Failed to create plan");alert("Workout plan created successfully!"),H()}catch(K){console.error("Error creating plan:",K),alert("Failed to create workout plan")}};return _.jsx("div",{className:"modal-overlay",children:_.jsxs("div",{className:"modal-content",children:[_.jsxs("h3",{children:["Create Workout Plan for ",G]}),_.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"5px",marginBottom:"20px"},children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(K=>_.jsx("div",{style:{textAlign:"center",fontWeight:"bold"},children:K},K)),q.map(K=>_.jsx("div",{style:{textAlign:"center",padding:"10px",backgroundColor:K.isRest?"#ffcccc":K.isToday?"#ccffcc":j===`day${K.day}`?"#e0e0e0":"#fff",border:"1px solid #ddd",cursor:K.isRest?"default":"pointer",opacity:K.isRest?.6:1},onClick:()=>!K.isRest&&F(`day${K.day}`),children:K.day},K.day))]}),_.jsxs("h4",{children:["Workouts for Day ",j.replace("day","")]}),_.jsx("div",{style:{maxHeight:"200px",overflowY:"scroll",marginBottom:"10px"},children:M.map(K=>_.jsxs("div",{style:{marginBottom:"10px"},children:[_.jsxs("label",{children:[_.jsx("input",{type:"checkbox",checked:(A[j]||[]).some(ie=>ie.name===K.name),onChange:()=>re(K,3,10,30)}),K.name," (",K.category,")"]}),K.category==="main"&&(A[j]||[]).some(ie=>ie.name===K.name)&&_.jsxs("div",{style:{marginLeft:"20px"},children:[_.jsxs("label",{children:["Sets: ",_.jsx("input",{type:"number",min:"1",defaultValue:"3",onChange:ie=>re(K,ie.target.value,null,null)})]}),_.jsxs("label",{style:{marginLeft:"10px"},children:["Reps: ",_.jsx("input",{type:"number",min:"1",defaultValue:"10",onChange:ie=>re(K,null,ie.target.value,null)})]})]}),(K.category==="warmup"||K.category==="cooldown")&&(A[j]||[]).some(ie=>ie.name===K.name)&&_.jsx("div",{style:{marginLeft:"20px"},children:"Duration: 30 seconds"})]},K.id))}),_.jsx("button",{onClick:pe,children:"Save Plan"}),_.jsx("button",{onClick:H,style:{marginLeft:"10px"},children:"Cancel"})]})})};return _.jsxs(De.div,{className:"chat-page",variants:rz,initial:"hidden",animate:"visible",children:[_.jsx("button",{onClick:()=>u(x?"/expert-dashboard":"/dashboard"),className:"back-button",children:"Back"}),_.jsxs("h2",{children:["Chat with ",k]}),_.jsxs("div",{className:"chat-container",children:[_.jsxs("div",{className:"messages-container",children:[t.map(G=>{var H;return _.jsxs(De.div,{className:`message ${G.sender===w?"sent":"received"}`,variants:iz,children:[_.jsxs("p",{children:[_.jsxs("strong",{children:[G.senderType,":"]})," ",G.text]}),_.jsx("span",{className:"timestamp",children:(H=G.timestamp)==null?void 0:H.toDate().toLocaleTimeString()})]},G.id)}),_.jsx("div",{ref:m})]}),_.jsxs("form",{onSubmit:B,className:"message-form",children:[_.jsx("input",{type:"text",value:n,onChange:G=>r(G.target.value),placeholder:"Type a message...",className:"message-input"}),_.jsx("button",{type:"submit",className:"send-button",children:"Send"})]})]}),x&&_.jsx("button",{onClick:()=>l(!0),className:"change-plan-button",style:{marginTop:"10px"},children:"Create Workout Plan"}),a&&_.jsx(O,{clientEmail:S,onClose:()=>l(!1)})]})};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const az=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),oz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),iA=t=>{const e=oz(t);return e.charAt(0).toUpperCase()+e.slice(1)},cN=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),lz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cz=L.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:l,iconNode:u,...h},d)=>L.createElement("svg",{ref:d,...uz,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:cN("lucide",a),...!l&&!lz(h)&&{"aria-hidden":"true"},...h},[...u.map(([m,g])=>L.createElement(m,g)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=(t,e)=>{const n=L.forwardRef(({className:r,...a},l)=>L.createElement(cz,{ref:l,iconNode:e,className:cN(`lucide-${az(iA(t))}`,`lucide-${t}`,r),...a}));return n.displayName=iA(t),n};/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hz=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],sA=ao("award",hz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dz=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],fz=ao("briefcase",dz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mz=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],pz=ao("indian-rupee",mz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gz=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],yz=ao("mail",gz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vz=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],_z=ao("message-circle",vz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bz=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wz=ao("star",bz);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],aA=ao("user",Tz),hy={hidden:{opacity:0,y:-20},visible:{opacity:1,y:0,transition:{staggerChildren:.2,delayChildren:.3}}},Xr={hidden:{opacity:0,y:-10},visible:{opacity:1,y:0}},Ez={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.5}},hover:{scale:1.02,y:-5,boxShadow:"0 20px 40px rgba(0,0,0,0.15)",transition:{duration:.3}}},xz=()=>{const[t,e]=L.useState([]),[n,r]=L.useState(null),[a,l]=L.useState(null),[u,h]=L.useState(!1),[d,m]=L.useState(!0),g=Ji();L.useEffect(()=>{(async()=>{try{m(!0);const R=await fetch("https://fitngro-backend-bthfa8hrg7h3etd5.centralindia-01.azurewebsites.net/approved-experts",{method:"GET",headers:{"Content-Type":"application/json"}});if(!R.ok)throw new Error("Failed to fetch experts");const N=await R.json();e(N)}catch(R){console.error("Error fetching experts:",R),alert(`Failed to load experts: ${R.message}`)}finally{m(!1)}})();const k=s1(Ct,async R=>{if(r((R==null?void 0:R.email)||null),R)try{const N=oi(Jn,"experts",R.email),B=await eo(N);l(B.exists()?"expert":"normal")}catch(N){console.error("Error checking expert status:",N),l("normal")}else l(null)});return()=>k()},[]);const v=async()=>{try{await a1(Ct),r(null),g("/")}catch(S){console.error("Sign-Out Error:",S)}},w=()=>{h(!u)},x=async S=>{if(!n){g("/?showAuth=true");return}const k=n,R=S.user_email,N=`chat_${k.replace(".","_")}_${R.replace(".","_")}`;try{await ZR(oi(Jn,"chats",N),{clientEmail:k,expertEmail:R,createdAt:tC()},{merge:!0}),g("/chat",{state:{clientEmail:k,expertEmail:R}})}catch(B){console.error("Error initializing chat:",B.message,B),alert("Failed to start chat. Please try again.")}};return _.jsxs("div",{className:"min-h-screen bg-black from-gray-50 via-white to-blue-50",children:[_.jsxs(De.div,{className:"navbar bg-white shadow-lg border-b border-gray-100",variants:hy,initial:"hidden",animate:"visible",children:[_.jsx(De.div,{className:"navbar-child",variants:Xr}),_.jsx(De.div,{className:"fitness text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:Xr,onClick:()=>g("/fitness"),children:"Fitness"}),_.jsx(De.div,{className:"about text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:Xr,onClick:()=>g("/about"),children:"About"}),_.jsx(De.div,{className:"experts text-blue-600 cursor-pointer font-semibold border-b-2 border-blue-600",variants:Xr,onClick:()=>g("/experts"),children:"Experts"}),a==="expert"&&_.jsx(De.div,{className:"profile text-gray-700 hover:text-blue-600 cursor-pointer font-medium transition-colors duration-200",variants:Xr,onClick:()=>g("/expert-dashboard"),children:"Profile"}),_.jsxs(De.div,{className:"login-button-navbar",variants:Xr,children:[_.jsx(De.div,{className:"login-button-navbar-child",variants:Xr}),n?_.jsx(De.button,{className:"logout-button-navbar bg-red-500 hover:bg-red-600 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:Xr,onClick:v,whileHover:{scale:1.05},whileTap:{scale:.95},children:"Logout"}):_.jsx(De.button,{className:"login-button-navbar1 bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-full font-medium transition-all duration-200 shadow-md hover:shadow-lg",variants:Xr,onClick:()=>g("/?showAuth=true"),whileHover:{scale:1.05},whileTap:{scale:.95},children:"Login"})]})]}),_.jsxs(De.div,{className:"right-navbar",variants:hy,children:[_.jsxs(De.button,{className:"hamburger-button bg-white shadow-lg rounded-full p-3 hover:shadow-xl transition-shadow duration-200",variants:Xr,onClick:w,"aria-label":"Menu",whileHover:{scale:1.1},whileTap:{scale:.9},children:[_.jsx("div",{className:"hamburger-line bg-gray-700"}),_.jsx("div",{className:"hamburger-line bg-gray-700"}),_.jsx("div",{className:"hamburger-line bg-gray-700"})]}),u&&_.jsx(De.div,{className:"hamburger-menu bg-white shadow-2xl rounded-xl border border-gray-100",initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.2},children:_.jsxs(De.ul,{className:"hamburger-menu-list p-2",children:[_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{g("/settings"),h(!1)},children:"Settings"})}),n&&_.jsx(De.li,{className:"hamburger-menu-item",children:_.jsx("button",{className:"hamburger-menu-button w-full text-left px-4 py-3 rounded-lg hover:bg-gray-50 text-gray-700 font-medium transition-colors duration-200",onClick:()=>{g("/dashboard"),h(!1)},children:"Dashboard"})})]})})]}),_.jsxs("div",{className:"container mx-auto px-6 py-12 max-w-7xl",children:[_.jsxs(De.div,{className:"text-center mb-16",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[_.jsx("h1",{className:"text-5xl font-bold text-gray-100 mb-4 bg-orange-600 bg-clip-text text-transparent",children:"Meet Our Experts"}),_.jsx("p",{className:"text-xl text-white max-w-2xl mx-auto leading-relaxed",children:"Connect with certified fitness professionals who will guide you on your wellness journey"}),_.jsx("div",{className:"w-24 h-1 bg-orange-600 mx-auto mt-6 rounded-full"})]}),d&&_.jsx("div",{className:"flex justify-center items-center py-20",children:_.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-orange-600"})}),!d&&t.length===0&&_.jsxs(De.div,{className:"text-center py-20",initial:{opacity:0},animate:{opacity:1},children:[_.jsx(aA,{className:"mx-auto h-16 w-16 text-gray-400 mb-4"}),_.jsx("p",{className:"text-xl text-gray-500",children:"No approved experts available at the moment."}),_.jsx("p",{className:"text-gray-400 mt-2",children:"Check back soon for new fitness professionals!"})]}),!d&&t.length>0&&_.jsx(De.div,{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",variants:hy,initial:"hidden",animate:"visible",children:t.map((S,k)=>_.jsxs(De.div,{className:"bg-black rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden border border-gray-100",variants:Ez,whileHover:"hover",children:[_.jsxs("div",{className:"relative bg-orange-600 h-32 flex items-center justify-center",children:[_.jsx("div",{className:"w-20 h-20 bg-white rounded-full flex items-center justify-center shadow-lg",children:_.jsx(aA,{className:"h-10 w-10 text-black"})}),_.jsx("div",{className:"absolute top-4 right-4 bg-white/20 backdrop-blur-sm rounded-full px-3 py-1",children:_.jsxs("div",{className:"flex items-center text-white text-sm font-medium",children:[_.jsx(wz,{className:"h-4 w-4 mr-1 fill-current"}),"Expert"]})})]}),_.jsxs("div",{className:"p-6",children:[_.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:S.name}),_.jsxs("div",{className:"space-y-3 mb-6",children:[_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(yz,{className:"h-4 w-4 mr-2 text-blue-500"}),_.jsx("span",{className:"text-sm",children:S.user_email})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(fz,{className:"h-4 w-4 mr-2 text-green-500"}),_.jsx("span",{className:"text-sm font-medium",children:S.specialist})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(sA,{className:"h-4 w-4 mr-2 text-purple-500"}),_.jsx("span",{className:"text-sm",children:S.expertise})]}),_.jsxs("div",{className:"flex items-center text-gray-300",children:[_.jsx(pz,{className:"h-4 w-4 mr-2 text-yellow-500"}),_.jsxs("span",{className:"text-sm font-semibold",children:[S.client_fee," per session"]})]})]}),_.jsx("div",{className:"mb-6",children:_.jsx("p",{className:"text-white text-sm leading-relaxed line-clamp-3",children:S.bio})}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs(De.button,{className:"w-full bg-orange-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 px-6 rounded-xl font-semibold transition-all duration-200 shadow-md hover:shadow-lg flex items-center justify-center",onClick:()=>x(S),whileHover:{scale:1.02},whileTap:{scale:.98},children:[_.jsx(_z,{className:"h-5 w-5 mr-2"}),"Chat with Expert"]}),_.jsxs(De.a,{href:S.certification_url,target:"_blank",rel:"noopener noreferrer",className:"w-full bg-white hover:bg-gray-200 text-gray-700 py-3 px-6 rounded-xl font-medium transition-all duration-200 flex items-center justify-center text-sm",whileHover:{scale:1.02},whileTap:{scale:.98},children:[_.jsx(sA,{className:"h-4 w-4 mr-2"}),"View Certificate"]})]})]})]},k))})]})]})},Sz=({user:t,loading:e})=>{const n=Zn();return e?_.jsx("div",{className:"loading-spinner",children:"Loading..."}):t&&t.email==="fitngro@gmail.com"&&n.pathname!=="/admin"?_.jsx(Vi,{to:"/admin",replace:!0}):_.jsxs(j2,{children:[_.jsx(Tr,{path:"/",element:_.jsx(K5,{userEmail:t==null?void 0:t.email})}),_.jsx(Tr,{path:"/dashboard",element:t?_.jsx(Y5,{userEmail:t.email}):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/expert-dashboard",element:t?_.jsx(G5,{userEmail:t.email}):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/experts",element:_.jsx(xz,{})}),_.jsx(Tr,{path:"/expert-info",element:t?_.jsx(nz,{}):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/chat",element:t?_.jsx(sz,{}):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/workout/:day",element:t?_.jsx(W5,{userEmail:t.email}):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/exercise/:userEmail/:workoutName",element:t?_.jsx(ez,{userEmail:t.email},n.pathname):_.jsx(Vi,{to:"/?showAuth=true",replace:!0,state:{from:n}})}),_.jsx(Tr,{path:"/admin",element:t&&t.email==="fitngro@gmail.com"?_.jsx(tz,{}):_.jsx(Vi,{to:"/",replace:!0})}),_.jsx(Tr,{path:"*",element:_.jsx(Vi,{to:"/",replace:!0})})]})},Az=()=>{const[t,e]=L.useState({user:null,loading:!0});return L.useEffect(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(r=>console.log("Service Worker registered:",r)).catch(r=>console.error("Service Worker registration failed:",r));const n=Ct.onAuthStateChanged(r=>{if(console.log("Auth state changed - User:",r==null?void 0:r.email),e({user:r,loading:!1}),r&&sessionStorage.getItem("redirectUrl")){const a=sessionStorage.getItem("redirectUrl");sessionStorage.removeItem("redirectUrl"),window.location.href=a}},r=>{console.error("Authentication error:",r),e({user:null,loading:!1})});return()=>n()},[]),_.jsx(_P,{clientId:"your-actual-client-id.apps.googleusercontent.com",children:_.jsx(oP,{children:_.jsx(Sz,{user:t.user,loading:t.loading})})})};$k.createRoot(document.getElementById("root")).render(_.jsx(oA.StrictMode,{children:_.jsx(Az,{})}));export{Yz as U,Nn as _,am as a,Z5 as b,fv as g,bl as r};
